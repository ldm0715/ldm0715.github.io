<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å‰ç«¯-è·¨åŸŸ&amp;è§£å†³æ–¹æ¡ˆ</title>
      <link href="/post/qian-duan-kua-yu-he-jie-jue-fang-an/"/>
      <url>/post/qian-duan-kua-yu-he-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åŒæºç­–ç•¥æ˜¯<strong>æµè§ˆå™¨</strong>ä¸ºäº†ç¡®ä¿èµ„æºè¯·æ±‚å®‰å…¨è€Œéµå¾ªçš„ä¸€ç§ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å¯¹è®¿é—®èµ„æºè¿›è¡Œäº†ä¸€äº›é™åˆ¶ã€‚æ¯”è¾ƒå¸¸è§çš„å°±æ˜¯è·¨åŸŸè¯·æ±‚èµ„æºçš„é—®é¢˜ï¼Œç”±äºå­˜åœ¨åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨ä¼šä¸å…è®¸æ¥æ”¶å¾—åˆ°çš„è¯·æ±‚æ•°æ®ï¼Œéœ€è¦é€šè¿‡ä¸€å®šçš„ç­–ç•¥è§£å†³è·¨åŸŸè¯·æ±‚çš„é—®é¢˜ã€‚</p><blockquote><p>è¯¦ç»†çš„å¯å‚è§<a href="https://www.w3.org/Security/wiki/Same_Origin_Policy">åŒæºç­–ç•¥ - ç½‘ç»œå®‰å…¨ (w3.org)</a></p></blockquote><h2 id="æº"><a href="#æº" class="headerlink" title="æº"></a>æº</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>æºçš„æ¦‚å¿µç”±åè®®ã€åŸŸåå’Œç«¯å£ä¸‰éƒ¨åˆ†ç»„æˆã€‚ä¸¥æ ¼æ¥è¯´åªè¦<strong>ä¸‰éƒ¨åˆ†å‡ºç°ä»»æ„ä¸€éƒ¨åˆ†çš„ä¸ç›¸ç­‰</strong>ï¼Œé‚£ä¹ˆå°±æ˜¯å‡ºç°äº†è·¨åŸŸï¼Œä¹Ÿç§°ä¸ºéåŒæºæˆ–å¼‚æºã€‚ç›¸åçš„ï¼Œå¦‚æœä¸‰éƒ¨åˆ†å‡ç›¸ç­‰ï¼Œé‚£ä¹ˆå°±ä¸ºåŒæºã€‚</p><h3 id="å¦‚ä½•ç®—è·¨åŸŸ"><a href="#å¦‚ä½•ç®—è·¨åŸŸ" class="headerlink" title="å¦‚ä½•ç®—è·¨åŸŸ"></a>å¦‚ä½•ç®—è·¨åŸŸ</h3><p>è·¨åŸŸå³å‘ç”Ÿäº†éåŒæºè¯·æ±‚ï¼Œè¯·çœ‹ä»¥ä¸‹ä¾‹å­</p><table><thead><tr><th align="left">Origin</th><th>Server</th><th>æ˜¯å¦åŒæº</th><th>ç†ç”±</th></tr></thead><tbody><tr><td align="left"><a href="http://www.xyz.com/home">http://www.xyz.com/home</a></td><td><a href="https://www.xyz.com/home">https://www.xyz.com/home</a></td><td>ğŸš«</td><td>åè®®ä¸ç›¸åŒ</td></tr><tr><td align="left"><a href="http://www.xyz.com/home">http://www.xyz.com/home</a></td><td><a href="http://mail.xyz.com/home">http://mail.xyz.com/home</a></td><td>ğŸš«</td><td>åŸŸåä¸åŒ</td></tr><tr><td align="left"><a href="http://www.xyz.com:8080/home">http://www.xyz.com:8080/home</a></td><td><a href="http://www.xyz.com:8090/home">http://www.xyz.com:8090/home</a></td><td>ğŸš«</td><td>ç«¯å£ä¸åŒ</td></tr><tr><td align="left"><a href="http://www.xyz.com:8080/home">http://www.xyz.com:8080/home</a></td><td><a href="http://www.xyz.com:8080/search">http://www.xyz.com:8080/search</a></td><td>âœ”</td><td>ä¸‰éƒ¨åˆ†éƒ½ç›¸åŒ</td></tr></tbody></table><p>ä¸‹å›¾æ¸…æ™°å±•ç¤ºäº†åŒæºä¸éåŒæºçš„åŒºåˆ«</p><img src="https://www.z4a.net/images/2024/08/16/_001.png" alt="img" style="zoom: 50%;" /><h2 id="è·¨åŸŸä¼šå—åˆ°å“ªäº›é™åˆ¶"><a href="#è·¨åŸŸä¼šå—åˆ°å“ªäº›é™åˆ¶" class="headerlink" title="è·¨åŸŸä¼šå—åˆ°å“ªäº›é™åˆ¶"></a>è·¨åŸŸä¼šå—åˆ°å“ªäº›é™åˆ¶</h2><p>ä¸€æ—¦å‡ºç°äº†è·¨åŸŸçš„è¯·æ±‚ï¼Œä¸€èˆ¬ä¼šå—åˆ°æµè§ˆå™¨çš„ä¸‰ç§é™åˆ¶ï¼š</p><ol><li>é™åˆ¶DOMè®¿é—®</li><li>é™åˆ¶cookieè®¿é—®</li><li>é™åˆ¶Ajaxçš„å“åº”ï¼ˆAjaxè¯·æ±‚æ˜¯å¯ä»¥å‘é€æˆåŠŸçš„ï¼‰</li></ol><h3 id="é™åˆ¶DOMè®¿é—®"><a href="#é™åˆ¶DOMè®¿é—®" class="headerlink" title="é™åˆ¶DOMè®¿é—®"></a>é™åˆ¶DOMè®¿é—®</h3><p>åˆ›å»º<code>index.html</code>,<code>index2.html</code>ä¸¤ä¸ªhtmlæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>é¡µé¢1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getDomObject()&quot;</span>&gt;</span>ç‚¹æˆ‘è·å–DOMå¯¹è±¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;iframePage&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./index2.html&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">getDomObject</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> iframePage = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;iframePage&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// è·å–domå¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(iframePage.<span class="property">contentWindow</span>.<span class="property">document</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>é¡µé¢2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>iframe</code>åµŒå…¥<code>index2.html</code>ï¼Œå°è¯•è·å–<code>page.html</code>çš„DOMå¯¹è±¡ï¼Œå¯ä»¥æˆåŠŸè·å–ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªé¡µé¢éƒ½å±äºåŒä¸€æº<code>http://127.0.0.1:5500</code>ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_006.png" alt="img" style="zoom: 67%;" /><p>å¦‚æœå°†<code>http://127.0.0.1:5500/index2.html</code>æ¢æˆ<code>https://www.baidu.com</code>,ç‚¹å‡»æŒ‰é’®è·å–DOMå¯¹è±¡å°±ä¼šå‘ç”ŸæŠ¥é”™ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_007.png" alt="img" style="zoom: 67%;" /><blockquote><p>æŠ¥é”™çš„è¯¦ç»†ä¿¡æ¯ä¸º:</p><p>index.html:17 Uncaught DOMException: Failed to read a named property â€˜documentâ€™ from â€˜Windowâ€™: Blocked a frame with origin â€œ<a href="http://127.0.0.1:5500/">http://127.0.0.1:5500</a>â€œ from accessing a cross-origin frame.</p><p>index.htmlï¼š17 æœªæ•è·çš„ DOMExceptionï¼šæ— æ³•ä»â€œWindowâ€è¯»å–å‘½åå±æ€§â€œdocumentâ€ï¼šé˜»æ­¢æºä¸ºâ€œ<a href="http://127.0.0.1:5500â€çš„å¸§è®¿é—®è·¨æºå¸§ã€‚">http://127.0.0.1:5500â€çš„å¸§è®¿é—®è·¨æºå¸§ã€‚</a></p></blockquote><h3 id="é™åˆ¶cookieè®¿é—®"><a href="#é™åˆ¶cookieè®¿é—®" class="headerlink" title="é™åˆ¶cookieè®¿é—®"></a>é™åˆ¶cookieè®¿é—®</h3><p>åŒç†ï¼Œå¦‚æœæ˜¯è·å–<code>http://127.0.0.1:5500/index2.html</code>çš„cookieï¼Œé‚£ä¹ˆä¼šè¯·æ±‚æˆåŠŸï¼Œä½†æ˜¯å¦‚æœè®¿é—®<code>https://www.baidu.com/</code>çš„cookieåˆ™ä¸€å®šä¼šå¤±è´¥ï¼ˆå› ä¸ºcookieæ˜¯åœ¨documentå¯¹è±¡ä¸­çš„ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>é¡µé¢1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getDomObject()&quot;</span>&gt;</span>ç‚¹æˆ‘è·å–cookie<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">id</span>=<span class="string">&quot;iframePage&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.baidu.com/&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">function</span> <span class="title function_">getDomObject</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> iframePage = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;iframePage&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// è·å–cookie</span></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(iframePage.<span class="property">contentWindow</span>.<span class="property">document</span>.<span class="property">cookie</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æŠ¥é”™åŸå› ä¹Ÿå®Œå…¨ç›¸åŒã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_008.png" alt="img" style="zoom: 80%;" /><h3 id="é™åˆ¶Ajaxè·å–æ•°æ®"><a href="#é™åˆ¶Ajaxè·å–æ•°æ®" class="headerlink" title="é™åˆ¶Ajaxè·å–æ•°æ®"></a>é™åˆ¶Ajaxè·å–æ•°æ®</h3><p>å°è¯•è·å–ä»Šæ—¥å¤´æ¡çš„æ•°æ®ï¼ˆæ˜æ˜¾è·¨åŸŸï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–æ–°é—»æ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getNews()&quot;</span>&gt;</span>è·å–å¤´æ¡æ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getNews</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> url =</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;https://www.toutiao.com/hot-event/hot-board/?origin=toutiao_pc&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æ§åˆ¶å°ä¸­å‡ºç°äº†æ–°çš„æŠ¥é”™</p><blockquote><p>index.html:1 Access to fetch at â€˜<a href="https://www.toutiao.com/hot-event/hot-board/?origin=toutiao_pc">https://www.toutiao.com/hot-event/hot-board/?origin=toutiao_pc</a>â€˜ from origin â€˜<a href="http://127.0.0.1:5500/">http://127.0.0.1:5500</a>â€˜ has been blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. If an opaque response serves your needs, set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled.</p><p>index.htmlï¼š1 CORS ç­–ç•¥å·²é˜»æ­¢ä»æºâ€œ<a href="http://127.0.0.1:5500â€åœ¨â€œhttps://www.toutiao.com/hot-event/hot-board/?origin=toutiao_pcâ€å¤„æå–ï¼šè¯·æ±‚çš„èµ„æºä¸Šä¸å­˜åœ¨â€œAccess-Control-Allow-Originâ€æ ‡å¤´ã€‚å¦‚æœä¸é€æ˜å“åº”æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œè¯·å°†è¯·æ±‚çš„æ¨¡å¼è®¾ç½®ä¸ºâ€œno-corsâ€ï¼Œä»¥åœ¨ç¦ç”¨">http://127.0.0.1:5500â€åœ¨â€œhttps://www.toutiao.com/hot-event/hot-board/?origin=toutiao_pcâ€å¤„æå–ï¼šè¯·æ±‚çš„èµ„æºä¸Šä¸å­˜åœ¨â€œAccess-Control-Allow-Originâ€æ ‡å¤´ã€‚å¦‚æœä¸é€æ˜å“åº”æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œè¯·å°†è¯·æ±‚çš„æ¨¡å¼è®¾ç½®ä¸ºâ€œno-corsâ€ï¼Œä»¥åœ¨ç¦ç”¨</a> CORS çš„æƒ…å†µä¸‹è·å–èµ„æºã€‚</p></blockquote><p>ä½†æ˜¯å®é™…ä¸Šå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨çš„å“åº”å®é™…ä¸Šæ˜¯æˆåŠŸçš„ï¼Œä½†æ˜¯è¢«æµè§ˆå™¨æ‹¦æˆªäº†ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_009.png" alt="img" style="zoom: 80%;" /><p>æµè§ˆå™¨æŠ›å‡ºçš„é”™è¯¯ä¸º<code> CORS é”™è¯¯</code>ï¼Œè¿™ä»£è¡¨è·¨åŸŸè¯·æ±‚å¤±è´¥ã€‚</p><blockquote><p>åœ¨ä¸Šè¿°é™åˆ¶ä¸­ï¼Œæµè§ˆå™¨å¯¹Ajaxè·å–æ•°æ®çš„é™åˆ¶æ˜¯å½±å“æœ€å¤§çš„ï¼Œä¸”å¼€å‘ä¸­ç»å¸¸é‡åˆ°ã€‚</p></blockquote><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ol><li><p>å®é™…ä¸Šè·¨åŸŸé—®é¢˜ä»…é™äºæµè§ˆå™¨ç«¯ï¼Œè€ŒæœåŠ¡ç«¯ä¸å­˜åœ¨è¿™æ ·çš„é—®é¢˜ã€‚</p></li><li><p>Ajaxçš„è¯·æ±‚æ˜¯å¯ä»¥å‘å‡ºçš„ï¼ˆå¦‚ä¸Šæ–‡ä¸­çš„æˆªå›¾æ‰€ç¤ºï¼‰ï¼Œä½†æ˜¯ç›¸åº”çš„æ•°æ®è·å–ä¸åˆ°ï¼ˆè¢«æµè§ˆå™¨æ‹¦æˆªï¼‰ï¼Œå…·ä½“æµç¨‹å¯å‚è€ƒä¸‹å›¾ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_002.png" alt="img" style="zoom: 43%;" /></li><li><p><code>&lt;script&gt;</code>ã€<code>&lt;img&gt;</code>ã€<code>&lt;link&gt;</code>ç­‰æ ‡ç­¾å‘å‡ºçš„è¯·æ±‚ä¹Ÿå¯èƒ½å‡ºç°è·¨åŸŸï¼ˆå¸¸è§äºä½¿ç”¨cdnå¯¼å…¥jsï¼‰ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸ä¼šå¯¹æ ‡ç­¾è·¨åŸŸå‡ºç°ä¸¥æ ¼çš„é™åˆ¶ï¼Œå¯¹å®é™…å¼€å‘æ— å½±å“ã€‚</p></li></ol><h2 id="CORSè§£å†³Ajaxè·¨åŸŸé—®é¢˜"><a href="#CORSè§£å†³Ajaxè·¨åŸŸé—®é¢˜" class="headerlink" title="CORSè§£å†³Ajaxè·¨åŸŸé—®é¢˜"></a>CORSè§£å†³Ajaxè·¨åŸŸé—®é¢˜</h2><h3 id="CORSæ¦‚è¿°"><a href="#CORSæ¦‚è¿°" class="headerlink" title="CORSæ¦‚è¿°"></a>CORSæ¦‚è¿°</h3><p>CORS å…¨ç§°ï¼šCross-Origin Resource Sharingï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ï¼Œæ˜¯ç”¨äºæ§åˆ¶æµè§ˆå™¨æ ¡éªŒè·¨åŸŸè¯·æ±‚çš„ä¸€å¥—è§„èŒƒï¼ŒæœåŠ¡å™¨ä¾ç…§ CORS è§„èŒƒï¼Œæ·»åŠ ç‰¹å®šå“åº”å¤´æ¥æ§åˆ¶æµè§ˆå™¨æ ¡éªŒã€‚æœ‰å¦‚ä¸‹è§„åˆ™</p><ul><li><p>æœåŠ¡å™¨æ˜ç¡®è¡¨ç¤ºæ‹’ç»è·¨åŸŸè¯·æ±‚ï¼Œæˆ–æ²¡æœ‰è¡¨ç¤ºï¼Œåˆ™æµè§ˆå™¨æ ¡éªŒä¸é€šè¿‡ã€‚</p></li><li><p>æœåŠ¡å™¨æ˜ç¡®è¡¨ç¤ºå…è®¸è·¨åŸŸè¯·æ±‚ï¼Œåˆ™æµè§ˆå™¨æ ¡éªŒé€šè¿‡ã€‚</p></li></ul><blockquote><p>ä½¿ç”¨ CORS è§£å†³è·¨åŸŸæ˜¯æœ€æ­£ç»Ÿçš„æ–¹å¼ï¼Œä¸”è¦æ±‚æœåŠ¡ç«¯è¿›è¡Œå¤„ç†ã€‚</p></blockquote><h3 id="CORSè§£å†³ç®€å•è·¨åŸŸ"><a href="#CORSè§£å†³ç®€å•è·¨åŸŸ" class="headerlink" title="CORSè§£å†³ç®€å•è·¨åŸŸ"></a>CORSè§£å†³ç®€å•è·¨åŸŸ</h3><p>ä½¿ç”¨koaåˆ›å»ºä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼Œå¯¹<code>http://127.0.0.1:8081/student</code>è¿›è¡Œç›‘å¬ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;æå››&quot;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;ç‹äº”&quot;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = student;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å·²å¯åŠ¨ï¼šhttp://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªé¡µé¢è¿›è¡Œæ¨¡æ‹Ÿè¯·æ±‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getNews()&quot;</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getNews</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> url =</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;http://127.0.0.1:8081/students&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“å¯¹æœåŠ¡å™¨è¿›è¡Œè¯·æ±‚çš„æ—¶å€™ï¼Œå‡ºç°äº†ä¸€æ ·çš„è·¨åŸŸè¯·æ±‚æŠ¥é”™</p><blockquote><p>Access to fetch at â€˜<a href="http://127.0.0.1:8081/student">http://127.0.0.1:8081/student</a>â€˜ from origin â€˜<a href="http://127.0.0.1:5500/">http://127.0.0.1:5500</a>â€˜ has been blocked by CORS policy: No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource. If an opaque response serves your needs, set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled.</p><p>CORS ç­–ç•¥å·²é˜»æ­¢ä»æºâ€œ<a href="http://127.0.0.1:5500â€åœ¨â€œhttp://127.0.0.1:8081/studentâ€å¤„æå–çš„è®¿é—®ï¼šè¯·æ±‚çš„èµ„æºä¸Šä¸å­˜åœ¨â€œAccess-Control-Allow-Originâ€æ ‡å¤´ã€‚å¦‚æœä¸é€æ˜å“åº”æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œè¯·å°†è¯·æ±‚çš„æ¨¡å¼è®¾ç½®ä¸ºâ€œno-corsâ€ï¼Œä»¥åœ¨ç¦ç”¨">http://127.0.0.1:5500â€åœ¨â€œhttp://127.0.0.1:8081/studentâ€å¤„æå–çš„è®¿é—®ï¼šè¯·æ±‚çš„èµ„æºä¸Šä¸å­˜åœ¨â€œAccess-Control-Allow-Originâ€æ ‡å¤´ã€‚å¦‚æœä¸é€æ˜å“åº”æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œè¯·å°†è¯·æ±‚çš„æ¨¡å¼è®¾ç½®ä¸ºâ€œno-corsâ€ï¼Œä»¥åœ¨ç¦ç”¨</a> CORS çš„æƒ…å†µä¸‹è·å–èµ„æºã€‚</p></blockquote><p>å…¶å®ä»æŠ¥é”™ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œæµè§ˆå™¨è¦æ±‚æˆ‘ä»¬æ·»åŠ <code>Access-Control-Allow-Origin</code>è¿™ä¸ªæ ‡å¤´ã€‚</p><p>å¯¹äºç®€å•è¯·æ±‚ï¼Œåªéœ€åœ¨è¯·æ±‚å¤´ä¸­å°†<code>Access-Control-Allow-Origin</code>çš„å€¼è®¾ç½®ä¸ºæºå³å¯è§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="string">&quot;http://127.0.0.1:5500&quot;</span>)</span><br><span class="line">    ctx.<span class="property">body</span> = student;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·å³å¯æ­£å¸¸å¾—åˆ°è¯·æ±‚çš„æ•°æ®</p><img src="https://www.z4a.net/images/2024/08/16/_010.png" alt="img" style="zoom: 100%;" /><p>å…·ä½“çš„åŸç†å›¾å¦‚ä¸‹æ‰€ç¤ºï¼Œå…³æ³¨è¯·æ±‚å¤´çš„<code>Origin</code>å’Œå“åº”å¤´çš„<code>Access-Control-Allow-Origin</code>ã€‚å½“å‘ç”Ÿè·¨åŸŸè¯·æ±‚æ—¶ï¼Œåªæœ‰æœåŠ¡ç«¯åœ¨å“åº”ä¸­è¯´æ˜å…è®¸<code>Origin</code>çš„è®¿é—®è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨æ‰ä¼šæ¥å—è¿™ä¸ªå“åº”ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨å“åº”å¤´ä¸­æ·»åŠ å±æ€§å€¼ä¸º<code>Origin</code>çš„<code>Access-Control-Allow-Origin</code></p><img src="https://www.z4a.net/images/2024/08/16/_003.png" alt="img" style="zoom: 50%;" /><blockquote><p>å¦å¤–è¦æ³¨æ„ï¼Œ<code>Access-Control-Allow-Origin</code>çš„å€¼è®¾ç½®è¦ä¸¥æ ¼æŒ‰ç…§<code>Origin</code>çš„å€¼æ¥è®¾ç½®ã€‚æ¯”å¦‚<code>127.0.0.1</code>å’Œ<code>localhost</code>åœ¨<code>Access-Control-Allow-Origine</code>çš„å«ä¹‰æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>å¦å¤–å¦‚æœæ˜¯å¤æ‚è¯·æ±‚ï¼Œé‚£ä¹ˆä»…ä»…è®¾ç½®<code>Access-Control-Allow-Origin</code>å°±æ— æ•ˆäº†ã€‚</p></blockquote><h3 id="ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚"></a>ç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚</h3><p>CORSä¼šæŠŠè¯·æ±‚åˆ†ä¸ºç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚ä¸¤ç±»ã€‚</p><table><thead><tr><th>ç®€å•è¯·æ±‚</th><th>å¤æ‚è¯·æ±‚</th></tr></thead><tbody><tr><td>è¯·æ±‚æ–¹æ³•ï¼ˆmethodï¼‰ä¸ºPOSTï¼ŒGETï¼ŒHEAD</td><td>ä¸æ˜¯ç®€å•è¯·æ±‚å°±æ˜¯å¤æ‚è¯·æ±‚</td></tr><tr><td>è¯·æ±‚å¤´å­—æ®µè¦ç¬¦åˆ<a href="https://fetch.spec.whatwg.org/#cors-safelisted-request-header">CORSå®‰å…¨è§„èŒƒ</a><br />ç®€è®°ï¼šåªè¦ä¸åŠ¨æ‰‹ä¿®æ”¹è¯·æ±‚å¤´ï¼Œä¸€èˆ¬éƒ½èƒ½ç¬¦åˆè¯¥è§„èŒƒ</td><td>å¤æ‚è¯·æ±‚ä¼šè‡ªåŠ¨å‘é€é¢„æ£€è¯·æ±‚ï¼ˆmethodä¸ºOPTIONSï¼‰</td></tr><tr><td>è¯·æ±‚å¤´çš„<code>Content-Type</code>åªèƒ½æ˜¯ä»¥ä¸‹çš„ä¸‰ç§ï¼š<br />1. text&#x2F;plain<br />2. multipart&#x2F;form-data<br />3. application&#x2F;x-www-form-urlencoded</td><td></td></tr></tbody></table><p>å¯ä»¥çœ‹å‡ºç®€å•è¯·æ±‚çš„è¦æ±‚å¾ˆä¸¥æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥å› æ­¤å¾—å‡ºä¸€äº›å¸¸è§çš„å¤æ‚è¯·æ±‚</p><ul><li><p>ä½¿ç”¨DELETEç­‰å…¶ä»–è¯·æ±‚æ–¹å¼</p></li><li><p>æ·»åŠ è‡ªå·±çš„è¯·æ±‚å¤´,å¦‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">headers<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;beijing&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;gcnanmu&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½®è¯·æ±‚å¤´<code>Content-Type</code>ä¸º<code>application/json</code>ä»¥æœŸæœ›æ”¶åˆ°jsonæ•°æ®</p></li></ul><p>å¦‚æœæ˜¯å¤æ‚è¯·æ±‚ï¼Œé‚£ä¹ˆéœ€è¦è€ƒè™‘çš„å› ç´ å°±ä¼šå˜å¤šã€‚ä¸”å¯¹äºå¤æ‚è¯·æ±‚ï¼Œæ¯æ¬¡å‘é€è¯·æ±‚ä¹‹å‰æµè§ˆå™¨éƒ½ä¼šå‘é€ä¸€ä¸ªé¢„æ£€è¯·æ±‚ï¼Œæ¥è·å¾—æœåŠ¡ç«¯çš„åŒæ„ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<strong>å¦‚æœé¢„æ£€è¯·æ±‚æ²¡é€šè¿‡ï¼Œé‚£ä¹ˆè·¨åŸŸè¯·æ±‚å°±ä¸ä¼šå‘é€ã€‚</strong></p><img src="https://www.z4a.net/images/2024/08/16/_011.png" alt="img" style="zoom: 100%;" /><p>å…³äºé¢„æ£€è¯·æ±‚ï¼š</p><ul><li><p>å‘é€çš„æ—¶æœºï¼šé¢„æ£€è¯·æ±‚ç”±æµè§ˆå™¨åœ¨è·¨åŸŸè¯·æ±‚ä¹‹å‰å‘å‡º</p></li><li><p>ä¸»è¦ä½œç”¨ï¼šç”¨äºå‘æœåŠ¡å™¨ç¡®å®æ˜¯å¦å…è®¸æ¥ä¸‹æ¥çš„è·¨åŸŸè¯·æ±‚</p></li><li><p>åŸºæœ¬æµç¨‹ï¼šå…ˆå‘èµ·OPTIONSè¯·æ±‚ï¼Œå¦‚æœé€šè¿‡é¢„æ£€ï¼Œç»§ç»­å‘èµ·å®é™…è·¨åŸŸè¯·æ±‚</p></li><li><p>è¯·æ±‚å¤´å†…å®¹ï¼šä¸€ä¸ªOPTIONSé¢„æ£€è¯·æ±‚ï¼Œé€šå¸¸ä¼šåŒ…å«å¦‚ä¸‹è¯·æ±‚å¤´</p><table><thead><tr><th>è¯·æ±‚å¤´</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>Origin</td><td>å‘èµ·è¯·æ±‚çš„æº</td></tr><tr><td>Access-Control-Request-Method</td><td>å®é™…è¯·æ±‚çš„ HTTP æ–¹æ³•</td></tr><tr><td>Access-Control-Request-Headers</td><td>å®é™…è¯·æ±‚ä¸­ä½¿ç”¨çš„è‡ªå®šä¹‰å¤´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</td></tr></tbody></table><p>ç»§ç»­ä¸Šè¿°è§£å†³ç®€å•è¯·æ±‚çš„æ¡ˆä¾‹ï¼Œå°†fetchè¯·æ±‚ä¿®æ”¹ä¸ºå¤æ‚è¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getNews</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="string">&quot;http://127.0.0.1:8081/student&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url, &#123;</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">        <span class="comment">// æ·»åŠ äº†ä¸ç¬¦åˆå®‰å…¨è§„èŒƒçš„è¯·æ±‚å¤´</span></span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">            <span class="string">&quot;city&quot;</span>:<span class="string">&quot;beijing&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>:<span class="string">&quot;gcnanmu&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å¼€è°ƒè¯•å·¥å…·æŸ¥çœ‹é¢„æ£€è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œå³å¯ä»¥çœ‹åˆ°<code>Origin</code>ã€<code>Access-Control-Request-Method</code>ã€<code>Access-Control-Request-Headers</code>ä¸‰ä¸ªå±æ€§ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_012.png" alt="img" style="zoom: 80%;" /></li></ul><h3 id="CORSè§£å†³å¤æ‚è·¨åŸŸé—®é¢˜"><a href="#CORSè§£å†³å¤æ‚è·¨åŸŸé—®é¢˜" class="headerlink" title="CORSè§£å†³å¤æ‚è·¨åŸŸé—®é¢˜"></a>CORSè§£å†³å¤æ‚è·¨åŸŸé—®é¢˜</h3><p>æ—¢ç„¶é¢„æ£€è¯·æ±‚çš„è¯·æ±‚å¤´ä¸­æœ‰ç€ä¸‰ä¸ªç‰¹æ®Šçš„å±æ€§ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å¿…ç„¶è¦å¯¹ä¸‰ä¸ªå±æ€§è¿›è¡Œä¸€å®šçš„å›åº”ã€‚å…·ä½“çš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆç¤ºä¾‹ï¼‰</p><img src="https://www.z4a.net/images/2024/08/16/_005.png" alt="img" style="zoom: 40%;" /><p>æœåŠ¡ç«¯æ ¹æ®é¢„æ£€è¯·æ±‚å‘é€çš„è¯·æ±‚å¤´ä¸­çš„<code>Origin</code>ã€<code>Access-Control-Request-Method</code>ã€<code>Access-Control-Request-Headers</code>ä¿¡æ¯ï¼Œè®¾ç½®å¯¹åº”çš„å“åº”å¤´å±æ€§è¡¨ç¤ºåŒæ„ã€‚</p><table><thead><tr><th>å“åº”å¤´</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>Access-Control-Allow-Origin</td><td>å…è®¸çš„æº</td></tr><tr><td>Access-Control-Allow-Methods</td><td>å…è®¸çš„æ–¹æ³•</td></tr><tr><td>Access-Control-Allow-Headers</td><td>å…è®¸çš„è‡ªå®šä¹‰å¤´</td></tr><tr><td>Access-Control-Max-Age</td><td>é¢„æ£€è¯·æ±‚çš„ç»“æœçš„ç¼“å­˜æ—¶é—´ï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table><p>å°†æœåŠ¡ç«¯çš„ä»£ç æŒ‰ç…§å›¾ç¤ºè¿›è¡Œä¿®æ”¹ã€‚ä¸ºäº†å’Œä¸€å¼€å§‹çš„ä¾‹å­åšåŒºåˆ†ï¼Œæ”¹ä¸ºåœ¨é¡µé¢ä¸­å‘é€postè¯·æ±‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">options</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://127.0.0.1:5500&quot;</span>);</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>, <span class="string">&quot;POST&quot;</span>);</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="string">&quot;city,name&quot;</span>);</span><br><span class="line">    <span class="comment">// ctx.set(&quot;Access-Control-Max-Age&quot;, 7200);</span></span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://127.0.0.1:5500&quot;</span>);</span><br><span class="line">    ctx.<span class="property">body</span> = student;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getNews()&quot;</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getNews</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> url = <span class="string">&quot;http://127.0.0.1:8081/student&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url, &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">headers</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&quot;city&quot;</span>:<span class="string">&quot;beijing&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&quot;name&quot;</span>:<span class="string">&quot;gcnanmu&quot;</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;);</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è®¾ç½®ä¹‹åèƒ½å¤Ÿé€šè¿‡é¢„æ£€ä¸”è·å¾—æ­£ç¡®çš„å“åº”æ•°æ®</p><img src="https://www.z4a.net/images/2024/08/16/_014.png" alt="img" style="zoom: 80%;" /><blockquote><p>ä¸€å®šä¸è¦å¿˜è®°<code>ctx.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://127.0.0.1:5500&quot;)</code>ï¼Œå¦åˆ™è·¨åŸŸè¿˜æ˜¯æ— æ³•æ­£å¸¸æ¥æ”¶å“åº”ã€‚</p><p>å¦‚æœè®¾ç½®äº†<code>Access-Control-Max-Age</code>ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€æ¬¡é¢„æ£€ååœæ­¢ä¸€æ®µæ—¶é—´çš„é¢„æ£€ï¼Œåœ¨æ­¤æœŸé—´é»˜è®¤é€šè¿‡é¢„æ£€ã€‚</p></blockquote><h3 id="å€ŸåŠ©CORSåº“å¿«é€Ÿå®Œæˆé…ç½®"><a href="#å€ŸåŠ©CORSåº“å¿«é€Ÿå®Œæˆé…ç½®" class="headerlink" title="å€ŸåŠ©CORSåº“å¿«é€Ÿå®Œæˆé…ç½®"></a>å€ŸåŠ©CORSåº“å¿«é€Ÿå®Œæˆé…ç½®</h3><p>ä¸ºäº†çœå»æ¯æ¬¡éƒ½è¦é…ç½®è¯·æ±‚å¤´çš„éº»çƒ¦ï¼Œå¯¹äºkoaï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>@koa/cors</code>åº“</p><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @koa/cors</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ç®€å•å…è®¸æ‰€æœ‰çš„è¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨<code>app.use(Cors())</code>çš„æ–¹å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cors</span> <span class="keyword">from</span> <span class="string">&quot;@koa/cors&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>());</span><br></pre></td></tr></table></figure><p>æ”¯æŒçš„å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼ˆæ¥è‡ªå®˜ç½‘ï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹å‡ ä¹æ˜¯å…¨å¼€æ”¾çš„ï¼Œæ²¡æœ‰åšä»»ä½•é™åˆ¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * CORS middleware</span><br><span class="line"> *</span><br><span class="line"> * @param &#123;Object&#125; [options]</span><br><span class="line"> *  - &#123;String|Function(ctx)&#125; origin `Access-Control-Allow-Origin`, default is &#x27;*&#x27;</span><br><span class="line"> *    If `credentials` set and return `true, the `origin` default value will set to the request `Origin` header</span><br><span class="line"> *  - &#123;String|Array&#125; allowMethods `Access-Control-Allow-Methods`, default is &#x27;GET,HEAD,PUT,POST,DELETE,PATCH&#x27;</span><br><span class="line"> *  - &#123;String|Array&#125; exposeHeaders `Access-Control-Expose-Headers`</span><br><span class="line"> *  - &#123;String|Array&#125; allowHeaders `Access-Control-Allow-Headers`</span><br><span class="line"> *  - &#123;String|Number&#125; maxAge `Access-Control-Max-Age` in seconds</span><br><span class="line"> *  - &#123;Boolean|Function(ctx)&#125; credentials `Access-Control-Allow-Credentials`, default is false.</span><br><span class="line"> *  - &#123;Boolean&#125; keepHeadersOnError Add set headers to `err.header` if an error is thrown</span><br><span class="line"> *  - &#123;Boolean&#125; secureContext `Cross-Origin-Opener-Policy` &amp; `Cross-Origin-Embedder-Policy` headers.&#x27;, default is false</span><br><span class="line"> *  - &#123;Boolean&#125; privateNetworkAccess handle `Access-Control-Request-Private-Network` request by return `Access-Control-Allow-Private-Network`, default to false</span><br><span class="line"> * @return &#123;Function&#125; cors middleware</span><br><span class="line"> * @api public</span><br><span class="line"> */</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦æ ¹æ®éœ€æ±‚è®¾ç½®ï¼Œå¯ä»¥è®¾å®š<code>Options</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> corsOptions = &#123;</span><br><span class="line">    <span class="attr">origin</span>: <span class="string">&quot;http://127.0.0.1:5500&quot;</span>, <span class="comment">// å…è®¸çš„æº</span></span><br><span class="line">    <span class="attr">allowMethods</span>: [<span class="string">&quot;GET&quot;</span>], <span class="comment">// å…è®¸çš„æ–¹æ³•</span></span><br><span class="line">    <span class="attr">allowHeaders</span>: [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;city&quot;</span>], <span class="comment">// å…è®¸çš„è‡ªå®šä¹‰å¤´</span></span><br><span class="line">    <span class="attr">exposeHeaders</span>: [<span class="string">&quot;abc&quot;</span>], <span class="comment">// è¦æš´éœ²çš„å“åº”å¤´</span></span><br><span class="line">    <span class="comment">// maxAge: 7200, // é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>(corsOptions));</span><br></pre></td></tr></table></figure><p>æš´éœ²çš„å±æ€§ç­‰åœ¨è°ƒè¯•å·¥å…·ä¸­å¯ä»¥çœ‹åˆ°</p><img src="https://www.z4a.net/images/2024/08/16/_015.png" alt="img" style="zoom: 80%;" /><img src="https://www.z4a.net/images/2024/08/16/_016.png" alt="img" style="zoom: 80%;" /><blockquote><p>å®æµ‹å‘ç°<code>cors</code>çš„<code>allowMethods</code>å‚æ•°ä¸èµ·ä½œç”¨</p></blockquote><p>åç«¯å®Œæ•´ä»£ç å¤‡ä»½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cors</span> <span class="keyword">from</span> <span class="string">&quot;@koa/cors&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> corsOptions = &#123;</span><br><span class="line">    <span class="attr">origin</span>: <span class="string">&quot;http://127.0.0.1:5500&quot;</span>,</span><br><span class="line">    <span class="attr">allowMethods</span>: [<span class="string">&quot;GET&quot;</span>],</span><br><span class="line">    <span class="attr">allowHeaders</span>: [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;city&quot;</span>],</span><br><span class="line">    <span class="attr">exposeHeaders</span>: [<span class="string">&quot;abc&quot;</span>],</span><br><span class="line">    <span class="comment">// maxAge: 2,</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>(corsOptions));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;æå››&quot;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;ç‹äº”&quot;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// router.options(&quot;/student&quot;, (ctx) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     ctx.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://127.0.0.1:5500&quot;);</span></span><br><span class="line"><span class="comment">//     ctx.set(&quot;Access-Control-Allow-Methods&quot;, &quot;POST&quot;);</span></span><br><span class="line"><span class="comment">//     ctx.set(&quot;Access-Control-Allow-Headers&quot;, &quot;city,name&quot;);</span></span><br><span class="line"><span class="comment">//     // ctx.set(&quot;Access-Control-Max-Age&quot;, 7200);</span></span><br><span class="line"><span class="comment">//     ctx.body = &quot;&quot;;</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://127.0.0.1:5500&quot;</span>);</span><br><span class="line">    ctx.<span class="property">body</span> = student;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">    ctx.<span class="title function_">set</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://127.0.0.1:5500&quot;</span>);</span><br><span class="line">    ctx.<span class="property">body</span> = student;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å·²å¯åŠ¨ï¼šhttp://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="JSONPè§£å†³è·¨åŸŸé—®é¢˜"><a href="#JSONPè§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="JSONPè§£å†³è·¨åŸŸé—®é¢˜"></a>JSONPè§£å†³è·¨åŸŸé—®é¢˜</h2><p>é™¤äº†ä½¿ç”¨CORSï¼Œæ—©æœŸä¸€äº›æµè§ˆå™¨ä¸æ”¯æŒ<code>CORS</code>ï¼Œäººä»¬è¿˜æƒ³åˆ°äº†ä¸€ä¸ªå·§å¦™çš„åŠæ³•ï¼Œå¯ä»¥é <code>JSONP</code>è§£å†³è·¨åŸŸã€‚</p><p>åœ¨å‰æ–‡çš„â€œè·¨åŸŸä¼šå—åˆ°å“ªäº›é™åˆ¶ä¸­â€çš„â€œæ³¨æ„äº‹é¡¹â€ä¸­æˆ‘ä»¬æåˆ°ï¼Œæµè§ˆå™¨æ˜¯ä¸ä¼šä¸¥æ ¼é™åˆ¶æ ‡ç­¾çš„è·¨åŸŸè¯·æ±‚çš„ï¼Œå› æ­¤å°±å¯ä»¥é€šè¿‡<code>script</code>è¿›è¡Œjsé¢„åŠ è½½å®Œæˆæ•°æ®çš„ä¼ é€’ï¼ŒJSONPçš„åŸºç¡€åŸç†å°±æ˜¯é€šè¿‡<code>script</code>æ ‡ç­¾å®Œæˆè·¨åŸŸè¯·æ±‚ã€‚</p><h3 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h3><ol><li><p>å®¢æˆ·ç«¯åˆ›å»ºä¸€ä¸ª<code>&lt;script&gt;</code>æ ‡ç­¾ï¼Œå¹¶å°†å…¶<code>src</code>å±æ€§è®¾ç½®ä¸ºåŒ…å«è·¨åŸŸè¯·æ±‚çš„ URLï¼ŒåŒæ—¶å‡†å¤‡ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°ç”¨äºå¤„ç†è¿”å›çš„æ•°æ®ã€‚</p></li><li><p>ç¬¬äºŒæ­¥ï¼šæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œå°†æ•°æ®å°è£…åœ¨å›è°ƒå‡½æ•°ä¸­å¹¶è¿”å›ã€‚</p></li><li><p>ç¬¬ä¸‰æ­¥ï¼šå®¢æˆ·ç«¯çš„å›è°ƒå‡½æ•°è¢«è°ƒç”¨ï¼Œæ•°æ®ä»¥å‚æ•°çš„å½¢åŠ¿ä¼ å…¥å›è°ƒå‡½æ•°ã€‚</p></li></ol><p>åŸç†å›¾å¦‚ä¸‹</p><img src="https://www.z4a.net/images/2024/08/16/_004.png" alt="img" style="zoom: 50%;" /><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼ŒæœåŠ¡å™¨è¿”å›äº†ä¸€ä¸ªjså‡½æ•°å…¶ä¸­æºå¸¦ç€æ•°æ®ï¼Œæµè§ˆå™¨ç«¯å…ˆå®šä¹‰å¥½å¯¹åº”çš„jså‡½æ•°ï¼Œå½“å“åº”å†…å®¹åˆ°æ¥æ—¶ï¼Œå°±ç›¸å½“äºè¿è¡Œè®¾å®šå¥½çš„<code>function</code>ï¼Œä»è€Œè·å¾—ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚</p><p>å…ˆåœ¨æœåŠ¡ç«¯åˆ›å»ºå“åº”é€»è¾‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = [</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&quot;æå››&quot;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&quot;ç‹äº”&quot;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// scriptå‘é€çš„éƒ½æ˜¯getè¯·æ±‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¿”å›æ•°æ®</span></span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`callback(<span class="subst">$&#123;student&#125;</span>)`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å·²å¯åŠ¨ï¼šhttp://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªé¡µé¢è·å–æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">callback</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://127.0.0.1:8081/student&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ä¸€å®šè¦æ³¨æ„scriptå®šä¹‰çš„å…ˆåé¡ºåº</strong>ã€‚å¦‚æœé¢ å€’ä¸Šæ–‡htmlä¸­<code>script</code>æ ‡ç­¾çš„é¡ºåºï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°<code>ReferenceError: callback is not defined</code>çš„æŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸º<code>script</code>çš„é»˜è®¤åŠ è½½é¡ºåºä¸ºä»ä¸Šè‡³ä¸‹ï¼Œå› æ­¤ä¸€å®šè¦å…ˆå®šä¹‰å¥½<code>callback</code>å‡½æ•°ï¼Œç„¶åå†å‘é€è¯·æ±‚ï¼Œå…·ä½“åˆ°ä»£ç æ¥è¯´å°±æ˜¯<code>script</code>æ ‡ç­¾çš„é¡ºåºé—®é¢˜ã€‚</p><p>æ‰“å¼€æœ¬åœ°æœåŠ¡å™¨ï¼Œå¾—åˆ°å¦‚ä¸‹çš„æŠ¥é”™<code>Uncaught SyntaxError: Unexpected identifier &#39;Object&#39;</code>ï¼Œæ„æ€æ˜¯<code>æœªæ•è·çš„ SyntaxErrorï¼šæ„å¤–çš„æ ‡è¯†ç¬¦â€œObjectâ€</code>,é€šè¿‡è§‚å¯Ÿå‘ç°è¿”å›çš„æ•°æ®å…¨å˜æˆäº†<code>[object,Object]</code></p><img src="https://www.z4a.net/images/2024/08/16/_017.png" alt="img" style="zoom: 80%;" /><p>ä¿®æ”¹åç«¯çš„ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// scriptå‘é€çš„éƒ½æ˜¯getè¯·æ±‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`callback(<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(student)&#125;</span>)`</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¹‹åå³å¯æ­£ç¡®è·å–æ•°æ®</p><img src="https://www.z4a.net/images/2024/08/16/_018.png" alt="img"  /><p>å®Œå–„æ¡ˆä¾‹ï¼Œå¸Œæœ›é€šè¿‡ç‚¹å‡»æŒ‰é’®æ¥è·å–æ•°æ®ï¼Œä¸”ä¸æƒ³è®©åç«¯é¢‘ç¹æ ¹æ®äº‹å…ˆå®šä¹‰çš„å‡½æ•°åç§°ä¿®æ”¹è¿”å›å­—ç¬¦ä¸²ä¸­çš„å‡½æ•°åã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;showData()&quot;</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">showData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è®¾å®šå…¶ä¸­çš„srcå±æ€§ä¸ºè¦è¯·æ±‚çš„å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">            script.<span class="property">src</span> = <span class="string">&quot;http://localhost:8081/student?callback=getData&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å°†æ ‡ç­¾æ·»åŠ åˆ°é¡µé¢</span></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span></span><br><span class="line"><span class="language-javascript">            </span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å¦‚æœscriptæ ‡ç­¾åŠ è½½å®Œæˆå°±åˆ é™¤</span></span></span><br><span class="line"><span class="language-javascript">            script.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(script);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/student&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; callback &#125; = ctx.<span class="property">query</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`<span class="subst">$&#123;callback&#125;</span>(<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(student)&#125;</span>)`</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨é¡µé¢éƒ¨åˆ†ï¼Œè·Ÿä¹‹å‰ä¸€æ ·ï¼Œè¦å…ˆå®šä¹‰è¯·æ±‚å‡½æ•°<code>getData</code>ï¼Œä¸ºäº†åç«¯çš„å‡½æ•°åå¯ä»¥åŒæ­¥ï¼Œé€šè¿‡æŸ¥è¯¢å­—ç¬¦ä¸²çš„æ–¹å¼ä¼ é€’å½“å‰å®šä¹‰å¥½çš„è¯·æ±‚å‡½æ•°åï¼ˆ<code>callback=getData</code>ï¼‰ï¼Œåç«¯å¯ä»¥é€šè¿‡è·å–callbackä¸­çš„å‚æ•°æ¥è°ƒæ•´è¿”å›å­—ç¬¦ä¸²ä¸­çš„å‡½æ•°åã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_019.png" alt="img"  /><blockquote><p>æ³¨æ„ç‚¹ï¼šç”±äºæ˜¯ä½¿ç”¨jsæ·»åŠ <code>script</code>åˆ°é¡µé¢ï¼ŒåŠ è½½å®Œæˆåä¸€å®šè¦è®°å¾—åˆ é™¤<code>script</code>æ ‡ç­¾ï¼Œä¸ç„¶æ¯ç‚¹å‡»ä¸€æ¬¡å°±ä¼šç”Ÿæˆä¸€ä¸ª<code>script</code>ã€‚</p></blockquote><h3 id="ä½¿ç”¨jQuery"><a href="#ä½¿ç”¨jQuery" class="headerlink" title="ä½¿ç”¨jQuery"></a>ä½¿ç”¨jQuery</h3><p>jQueryæœ‰å°è£…å¥½çš„JSONPè¯·æ±‚å‡½æ•°ï¼Œå¯ä»¥æ›´ç®€å•å®ç°JSONPè¯·æ±‚ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;showData()&quot;</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">showData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">getJSON</span>(<span class="string">&#x27;http://localhost:8081/student?callback=?&#x27;</span>,<span class="function">(<span class="params">data</span>)=&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"><a href="#é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜" class="headerlink" title="é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜"></a>é…ç½®ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜</h2><p>ä¸Šæ–‡ä¸­æåˆ°ï¼ŒæœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´æ˜¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜çš„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±çš„æœåŠ¡å™¨é—´æ¥è§£å†³è·¨åŸŸè¯·æ±‚çš„é—®é¢˜ã€‚</p><p>åˆ›å»ºä»£ç†éœ€è¦ä½¿ç”¨åˆ°<code>koa-server-http-proxy</code>ã€‚ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨<code>koa-server-http-proxy</code>è¿›è¡Œå±•ç¤ºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; readFile &#125; <span class="keyword">from</span> <span class="string">&quot;fs/promises&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> koaServerHttpProxy <span class="keyword">from</span> <span class="string">&quot;koa-server-http-proxy&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ è½½é™æ€èµ„æºindex.html ç›®çš„æ˜¯ä¿è¯ä¸ä»£ç†æœåŠ¡å™¨åŒæº</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">type</span> = <span class="string">&quot;html&quot;</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="keyword">await</span> <span class="title function_">readFile</span>(<span class="string">&quot;./index.html&quot;</span>, <span class="string">&quot;utf8&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç†</span></span><br><span class="line">app.<span class="title function_">use</span>(</span><br><span class="line">    <span class="title function_">koaServerHttpProxy</span>(<span class="string">&quot;/api/&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&quot;^/api&quot;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å·²å¯åŠ¨ï¼šhttp://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;showData()&quot;</span>&gt;</span>è·å–å­¦ç”Ÿæ•°æ®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">showData</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> url = <span class="string">&#x27;http://127.0.0.1:8081/api/hot-event/hot-board/?origin=toutiao_pc&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">fetch</span>(url);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="keyword">await</span> res.<span class="title function_">json</span>();</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å°è¯•å¯¹å¤´æ¡æ•°æ®è¿›è¡Œè¯·æ±‚ã€‚è¦ç†è§£è¿™ä¸ªè¿‡ç¨‹ï¼Œé¦–å…ˆè¦ç†è§£è¿™ä¸ªä»£ç†éƒ¨åˆ†åšäº†ä»€ä¹ˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»£ç†</span></span><br><span class="line">app.<span class="title function_">use</span>(</span><br><span class="line">    <span class="title function_">koaServerHttpProxy</span>(<span class="string">&quot;/api/&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123; <span class="string">&quot;^/api&quot;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/16/_020.png" alt="img" style="zoom: 50%;" /><p>æ ¹æ®ä¸Šå›¾æ‰€ç¤ºï¼Œæµè§ˆå™¨é¦–å…ˆå‘ä»£ç†æœåŠ¡å™¨å‘å‡ºåŒæºè¯·æ±‚ï¼Œæ­¤è¯·æ±‚çš„åè®®åŸŸåéƒ¨åˆ†ä¸ä»£ç†æœåŠ¡å™¨ä¿æŒä¸€è‡´ï¼Œå½“ä»£ç†æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå°†è¯·æ±‚åœ°å€è½¬åŒ–ä¸ºå‘é€ç»™ä»Šæ—¥å¤´æ¡çš„è¯·æ±‚åœ°å€ï¼Œç”±äºæœåŠ¡å™¨ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œä»£ç†æœåŠ¡å™¨å¯ä»¥è·å¾—å¤´æ¡æœåŠ¡å™¨æ‰€å‘å›çš„æ•°æ®ï¼Œå†å°†å‘å›çš„æ•°æ®å‘é€å›åˆ°åŒæºçš„æµè§ˆå™¨ã€‚è¿™æ ·å°±ç»•å¼€äº†è·¨åŸŸçš„é™åˆ¶ã€‚</p><img src="https://www.z4a.net/images/2024/08/16/_021.png" alt="img"  /><blockquote><p>ä½¿ç”¨<code>koa2-proxy-middleware</code>ä¹Ÿæ˜¯å¯ä»¥ï¼Œä½†æ˜¯<code>koa2-proxy-middleware</code>ä¸æ”¯æŒES6æ¨¡å—åŒ–è¯­æ³•ï¼Œéœ€è¦ä½¿ç”¨<code>commonjs</code>çš„å¯¼å…¥è§„åˆ™ã€‚<code>koa2-proxy-middleware</code>çš„ä»£ç å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Koa</span> = <span class="built_in">require</span>(<span class="string">&quot;koa&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="built_in">require</span>(<span class="string">&quot;koa2-proxy-middleware&quot;</span>); <span class="comment">//å¼•å…¥ä»£ç†æ¨¡å—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8081</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">    <span class="attr">targets</span>: &#123;</span><br><span class="line">        <span class="comment">// (.*) means anything</span></span><br><span class="line">        <span class="string">&quot;/api/(.*)&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">target</span>: <span class="string">&quot;https://www.toutiao.com&quot;</span>,</span><br><span class="line">            <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">proxy</span>(options));</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Process <span class="subst">$&#123;ctx.request.method&#125;</span> <span class="subst">$&#123;ctx.request.url&#125;</span>...`</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å·²å¯åŠ¨ï¼šhttp://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Cros </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScriptæ¨¡å—åŒ–-å¿«é€Ÿå…¥é—¨</title>
      <link href="/post/javascript-mo-kuai-hua-kuai-su-ru-men/"/>
      <url>/post/javascript-mo-kuai-hua-kuai-su-ru-men/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æ¨¡å—åŒ–æ˜¯æŒ‡æ ¹æ®ç”¨é€”æˆ–è€…é€»è¾‘å°†jsä»£ç åˆ†ä¸ºå¤šä¸ªjsæ–‡ä»¶ï¼Œä¸”å„ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ•°æ®ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚æ¨¡å—ä¸æ¨¡å—ä¹‹é—´å¯ä»¥é€šè¿‡å¯¼å‡ºå’Œå¯¼å…¥æ“ä½œæ¥å…±äº«æˆ–è·å–æ¨¡å—ä¸­æƒ³è¦çš„æ•°æ®å’ŒåŠŸèƒ½ã€‚</p><ul><li>å¯¼å‡ºï¼ˆæš´éœ²ï¼‰ï¼šæ¨¡å—å…¬å¼€å…¶å†…éƒ¨çš„å˜é‡å’Œå‡½æ•°ï¼Œé€šè¿‡å¯¼å…¥å’Œå¯¼å‡ºè¿›è¡Œæ•°æ®å’ŒåŠŸèƒ½çš„å…±äº«ã€‚</li><li>å¯¼å…¥ï¼ˆå¼•å…¥ï¼‰ï¼šæ¨¡å—å¼•ç”¨å’Œä½¿ç”¨å…¶ä»–æ¨¡å—å¯¼å‡ºçš„å†…å®¹ï¼Œä»¥é‡ç”¨ä»£ç å’ŒåŠŸèƒ½ã€‚</li></ul><img src="https://www.z4a.net/images/2024/08/15/js_001.png" alt="image-20240815120643834" style="zoom:50%;" /><p>ä¸ºä»€ä¹ˆéœ€è¦æ¨¡å—åŒ–å¼€å‘å‘¢ï¼Ÿå› ä¸ºjsæ—©æœŸæ˜¯ä¸å­˜åœ¨æ¨¡å—åŒ–è¿™ä¸ªæ¦‚å¿µçš„ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å‡ºç°è¿‡å¦‚ä¸‹é—®é¢˜ï¼š</p><ol><li>å…¨å±€ç±»å‹æ±¡æŸ“ï¼ˆç›¸åŒçš„å˜é‡åä¼šç›¸äº’è¦†ç›–ï¼‰</li><li>ä¾èµ–æ··ä¹±ï¼ˆå…¸å‹çš„jQueryå’ŒBootStrapçš„å¼•å…¥é¡ºåºé—®é¢˜ï¼‰</li><li>æ•°æ®å®‰å…¨é—®é¢˜ï¼ˆå®Œæ•´çš„æ•°æ®è¢«å¯¼å‡ºï¼‰</li></ol><p>å› æ­¤è¿«åˆ‡éœ€è¦ä½¿ç”¨æ¨¡å—åŒ–æŠ€æœ¯æ¥è§£å†³ä¸Šè¿°é—®é¢˜ã€‚</p><h2 id="æ¨¡å—åŒ–è§„èŒƒ"><a href="#æ¨¡å—åŒ–è§„èŒƒ" class="headerlink" title="æ¨¡å—åŒ–è§„èŒƒ"></a>æ¨¡å—åŒ–è§„èŒƒ</h2><p>å‡ºç°è¿‡çš„æ¨¡å—åŒ–è§„èŒƒ</p><ul><li>CommonJsï¼ˆå¸¸ç”¨ï¼‰</li><li>AMD</li><li>CMD</li><li>ES6ï¼ˆå¸¸ç”¨ï¼‰</li></ul><p>éšç€ Node.js çš„å‡ºç°ï¼ŒJavaScript ä¸å†å±€é™äºæµè§ˆå™¨ç¯å¢ƒï¼Œè€Œæ˜¯å¼€å§‹è¿›å…¥æœåŠ¡å™¨ç«¯ç¼–ç¨‹é¢†åŸŸã€‚å¼€å‘è€…ä»¬å¼€å§‹éœ€è¦ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼æ¥ç»„ç»‡å’Œé‡ç”¨ä»£ç ã€‚åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œé€šå¸¸ä½¿ç”¨ <code>&lt;script&gt;</code> æ ‡ç­¾æ¥åŠ è½½è„šæœ¬æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼å¯¹äºæœåŠ¡å™¨ç«¯ç¯å¢ƒæ¥è¯´å¹¶ä¸é€‚ç”¨ï¼ŒæœåŠ¡å™¨ç«¯ç¯å¢ƒéœ€è¦æ›´çµæ´»å’Œå¼ºå¤§çš„æ¨¡å—åŒ–æ”¯æŒã€‚ä¸ºäº†æ»¡è¶³è¿™ä¸€éœ€æ±‚ï¼Œç”±Mozillaå·¥ç¨‹å¸ˆæå‡ºServerJsï¼Œå› æ­¤Nodejsç¤¾åŒºåˆ¶å®šäº† CommonJS è§„èŒƒã€‚è¿™ä¸ªè§„èŒƒå®šä¹‰äº†ä¸€ç§æ ‡å‡†çš„æ¨¡å—ç³»ç»Ÿï¼Œå…è®¸å¼€å‘è€…ä»¥æ–‡ä»¶çš„å½¢å¼ç»„ç»‡ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿™äº›æ–‡ä»¶ä¹‹é—´å…±äº«ä»£ç ã€‚å› æ­¤CommonJså¹¿æ³›ç”¨äºæœåŠ¡ç«¯ï¼Œä¹Ÿå°±æ˜¯Nodejsç¯å¢ƒï¼ˆ<strong>æµè§ˆå™¨ä¸ç›´æ¥æ”¯æŒè¿™ä¸€è§„èŒƒ</strong>ï¼‰</p><p>åæ¥ECMAå®˜æ–¹æ¨å‡ºäº†ES6æ¨¡å—åŒ–è§„èŒƒï¼Œ<strong>åŒæ—¶å¯ä»¥å…¼å®¹æœåŠ¡ç«¯å’Œæµè§ˆå™¨ã€‚</strong></p><h2 id="CommonJsè§„èŒƒ"><a href="#CommonJsè§„èŒƒ" class="headerlink" title="CommonJsè§„èŒƒ"></a>CommonJsè§„èŒƒ</h2><h3 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h3><p>æ–°å»º<code>student.js</code>ã€<code>teacher.js</code>å’Œ<code>index.js</code>ä¸‰ä¸ªjsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> student = <span class="built_in">require</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> teacher = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student.<span class="property">name</span>, student.<span class="title function_">getEmail</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">name</span>, teacher.<span class="title function_">getEmail</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// John 123456789@gmail.com</span></span><br><span class="line"><span class="comment">// Tom 79898989898@gmail.com</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¼å‡ºä½¿ç”¨çš„æ˜¯<code>exports</code>ï¼Œå¯¼å…¥ä½¿ç”¨çš„æ˜¯<code>require</code></p><h3 id="å¯¼å‡ºæ•°æ®"><a href="#å¯¼å‡ºæ•°æ®" class="headerlink" title="å¯¼å‡ºæ•°æ®"></a>å¯¼å‡ºæ•°æ®</h3><p>å¯¼å‡ºçš„æ–¹å¼æœ‰ä¸¤ç§</p><ol><li>ä½¿ç”¨<code>exports.name = value</code></li><li>ä½¿ç”¨<code>module.exports = value</code></li></ol><p>æ³¨æ„ç‚¹ï¼š</p><ol><li><p>åªè¦å…¶ä»–åœ°æ–¹å¯¼å…¥äº†å½“å‰çš„jsæ–‡ä»¶ï¼Œå³ä½¿jså†…éƒ¨æ²¡æœ‰å¯¼å‡ºï¼Œä¹Ÿä¼šé»˜è®¤å¯¼å‡º<code>&#123;&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾student.jsæ²¡æœ‰å¯¼å‡ºæ•°æ®</span></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> student = <span class="built_in">require</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> teacher = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student) <span class="comment">// æ‰“å°å®é™…ä¸º&#123;&#125;</span></span><br></pre></td></tr></table></figure></li><li><p><code>module.exports</code>ã€<code>this</code>ã€<code>exports</code>éƒ½æŒ‡å‘åŒä¸€ä¸ª<code>&#123;&#125;</code>ï¼Œæœ€ç»ˆå¯¼å‡ºä»¥<code>module.exports</code>ä¸ºå‡†</p><img src="https://www.z4a.net/images/2024/08/15/js_002.png" alt="image-20240815124326614" style="zoom:50%;" /><p>å¯¼å‡ºçš„ä¾‹å­ä»¥å¦‚ä¸‹ä»£ç ä¸ºä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span> = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">b</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">a</span> = <span class="number">3</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; name, getEmail &#125;;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">getSkills</span> = getSkills;</span><br></pre></td></tr></table></figure><p>åœ¨index.jså¯¼å…¥å¹¶æ‰“å°<code>student</code>ï¼Œå¾—åˆ°çš„ç»“æœä¸º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span> name<span class="punctuation">:</span> &#x27;John&#x27;<span class="punctuation">,</span> getEmail<span class="punctuation">:</span> <span class="punctuation">[</span>Function<span class="punctuation">:</span> getEmail<span class="punctuation">]</span> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p><code>exports</code>æ˜¯<code>module.exports</code>çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä¸»è¦ç”¨äºç»™å¯¼å‡ºå¯¹è±¡æ·»åŠ å±æ€§å€¼<code>exports.name = value</code></p></li></ol><h3 id="å¯¼å…¥æ•°æ®"><a href="#å¯¼å…¥æ•°æ®" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h3><p>å¯¼å…¥æ•°æ®ä½¿ç”¨<code>require</code>ï¼Œå¯ä»¥å°†å…¶ä½œä¸ºä¸€ä¸ªå¯¹è±¡æ¥æ”¶ï¼ˆè§å¿«é€Ÿä¸Šæ‰‹ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§£æ„çš„æ–¹å¼æ¥æ”¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; name, getEmail, getSkills &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; name, getEmail, getSubjects &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;name,getEmail,getSkills&#125; = <span class="built_in">require</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;name,getEmail,getSubjects&#125; = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"><span class="comment">/* const &#123;name,getEmail,getSubjects&#125; = require(&quot;./teacher.js&quot;);</span></span><br><span class="line"><span class="comment">    ^</span></span><br><span class="line"><span class="comment">    SyntaxError: Identifier &#x27;name&#x27; has already been declared */</span> </span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç å±•ç¤ºäº†è§£æ„å¯¼å…¥çš„å‘½åå†²çªé—®é¢˜ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ³•ï¼š</p><ol><li><p>ç¬¬äºŒä¸ªå¯¹è±¡ä¸ä½¿ç”¨ç»“æ„çš„æ–¹æ³•ï¼Œä½¿ç”¨<code>const teacher = require(&quot;./teacher.js&quot;);</code>è¿›è¡Œå¯¼å…¥</p></li><li><p>ä½¿ç”¨é‡å‘½åçš„è¯­æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="attr">name</span>:stuName,<span class="attr">getEmail</span>:stuEmail,getSkills&#125; = <span class="built_in">require</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">name</span>:teaName,<span class="attr">getEmail</span>:teaEmail,getSubjects&#125; = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuName);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">stuEmail</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSkills</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teaName);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">teaEmail</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSubjects</span>());</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ‰©å±•ç†è§£"><a href="#æ‰©å±•ç†è§£" class="headerlink" title="æ‰©å±•ç†è§£"></a>æ‰©å±•ç†è§£</h3><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬èƒ½åœ¨jsä¸­ç›´æ¥ä½¿ç”¨éå…³é”®å­—<code>module</code>ã€<code>exports</code>ï¼Ÿ</p><p>å› ä¸ºåœ¨æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå½“å‰jsæ–‡ä»¶æ˜¯è¢«åŒ…è£¹åœ¨å¦ä¸€ä¸ª<code>function</code>å‡½æ•°ä¸­çš„ï¼Œç¤ºæ„å¦‚ä¸‹å›¾ã€‚</p><img src="https://www.z4a.net/images/2024/08/15/js_005.png" alt="image-20240815132804344" style="zoom:50%;" /><p>å¯ä»¥æ‰“å°çœ‹åˆ°å‡½æ•°çš„å…¨è²Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>.<span class="property">callee</span>.<span class="title function_">toString</span>());</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æ‰“å°ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function (exports, require, module, __filename, __dirname) &#123;</span><br><span class="line">const name = &quot;Tom&quot;;</span><br><span class="line">const age = 35;</span><br><span class="line"></span><br><span class="line">function getEmail() &#123;</span><br><span class="line">        return &quot;79898989898@gmail.com&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getSubjects() &#123;</span><br><span class="line">        return [&quot;Math&quot;, &quot;Science&quot;, &quot;English&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(arguments.callee.toString());</span><br><span class="line"></span><br><span class="line">// module.exports = &#123; name, getEmail, getSubjects &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æµè§ˆå™¨è¿è¡Œ"><a href="#æµè§ˆå™¨è¿è¡Œ" class="headerlink" title="æµè§ˆå™¨è¿è¡Œ"></a>æµè§ˆå™¨è¿è¡Œ</h3><h4 id="é—®é¢˜å±•ç¤º"><a href="#é—®é¢˜å±•ç¤º" class="headerlink" title="é—®é¢˜å±•ç¤º"></a>é—®é¢˜å±•ç¤º</h4><p>å› ä¸ºåœ¨è¯ç”Ÿä¹‹åˆï¼ŒCommonJså°±æ˜¯ä¸ºæœåŠ¡ç«¯è¿›è¡Œåˆ¶å®šçš„ï¼ˆå› æ­¤è¿˜æœ‰å¦ä¸€ä¸ªç§°å‘¼å«åšServerJsï¼‰ï¼Œæ‰€ä»¥æµè§ˆå™¨å¹¶ä¸æ”¯æŒè¿™ä¸ªè§„èŒƒï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª<code>index.html</code>ï¼Œå°è¯•å¯¼å…¥<code>index.js</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨å¾—åˆ°çš„æŠ¥é”™æç¤ºå¦‚ä¸‹</p><img src="https://www.z4a.net/images/2024/08/15/js_003.png" alt="image-20240815131531856"  /><p>è¿™ä¹Ÿè¯´æ˜äº†æµè§ˆå™¨å¹¶ä¸æ”¯æŒCommonJsè§„èŒƒï¼Œéœ€è¦ä½¿ç”¨é¢å¤–çš„å·¥å…·è¿›è¡Œè½¬åŒ–</p><h4 id="è½¬åŒ–å·¥å…·"><a href="#è½¬åŒ–å·¥å…·" class="headerlink" title="è½¬åŒ–å·¥å…·"></a>è½¬åŒ–å·¥å…·</h4><p>å¯ä»¥ä½¿ç”¨<a href="https://browserify.org/">Browserify</a>è¿›è¡Œè½¬åŒ–ï¼Œå°†CommonJsçš„éƒ¨åˆ†è½¬åŒ–ä¸ºæµè§ˆå™¨æ”¯æŒçš„å…¶ä»–ä»£ç </p><p>å®‰è£…Browerify</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i browserify -g</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browserify index.js -o build.js</span><br></pre></td></tr></table></figure><blockquote><p>index.jsæ˜¯è¾“å…¥æ–‡ä»¶ï¼Œbuild.jsæ˜¯è¾“å‡ºæ–‡ä»¶</p></blockquote><p>ç¼–è¯‘å¾—åˆ°çš„ç»“æœä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// build.js</span></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">function</span> <span class="title function_">r</span>(<span class="params">e,n,t</span>)&#123;<span class="keyword">function</span> <span class="title function_">o</span>(<span class="params">i,f</span>)&#123;<span class="keyword">if</span>(!n[i])&#123;<span class="keyword">if</span>(!e[i])&#123;<span class="keyword">var</span> c=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;<span class="built_in">require</span>;<span class="keyword">if</span>(!f&amp;&amp;c)<span class="keyword">return</span> <span class="title function_">c</span>(i,!<span class="number">0</span>);<span class="keyword">if</span>(u)<span class="keyword">return</span> <span class="title function_">u</span>(i,!<span class="number">0</span>);<span class="keyword">var</span> a=<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Cannot find module &#x27;&quot;</span>+i+<span class="string">&quot;&#x27;&quot;</span>);<span class="keyword">throw</span> a.<span class="property">code</span>=<span class="string">&quot;MODULE_NOT_FOUND&quot;</span>,a&#125;<span class="keyword">var</span> p=n[i]=&#123;<span class="attr">exports</span>:&#123;&#125;&#125;;e[i][<span class="number">0</span>].<span class="title function_">call</span>(p.<span class="property">exports</span>,<span class="keyword">function</span>(<span class="params">r</span>)&#123;<span class="keyword">var</span> n=e[i][<span class="number">1</span>][r];<span class="keyword">return</span> <span class="title function_">o</span>(n||r)&#125;,p,p.<span class="property">exports</span>,r,e,n,t)&#125;<span class="keyword">return</span> n[i].<span class="property">exports</span>&#125;<span class="keyword">for</span>(<span class="keyword">var</span> u=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> <span class="built_in">require</span>&amp;&amp;<span class="built_in">require</span>,i=<span class="number">0</span>;i&lt;t.<span class="property">length</span>;i++)<span class="title function_">o</span>(t[i]);<span class="keyword">return</span> o&#125;<span class="keyword">return</span> r&#125;)()(&#123;<span class="number">1</span>:[<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>,<span class="variable language_">module</span>,<span class="built_in">exports</span></span>)&#123;</span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">name</span>:stuName,<span class="attr">getEmail</span>:stuEmail,getSkills&#125; = <span class="built_in">require</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">name</span>:teaName,<span class="attr">getEmail</span>:teaEmail,getSubjects&#125; = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuName);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">stuEmail</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSkills</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teaName);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">teaEmail</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSubjects</span>());</span><br><span class="line"></span><br><span class="line">&#125;,&#123;<span class="string">&quot;./student.js&quot;</span>:<span class="number">2</span>,<span class="string">&quot;./teacher.js&quot;</span>:<span class="number">3</span>&#125;],<span class="number">2</span>:[<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>,<span class="variable language_">module</span>,<span class="built_in">exports</span></span>)&#123;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; name, getEmail, getSkills &#125;;</span><br><span class="line"></span><br><span class="line">&#125;,&#123;&#125;],<span class="number">3</span>:[<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>,<span class="variable language_">module</span>,<span class="built_in">exports</span></span>)&#123;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(arguments.callee.toString());</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123; name, getEmail, getSubjects &#125;;</span><br><span class="line"></span><br><span class="line">&#125;,&#123;&#125;]&#125;,&#123;&#125;,[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure><p>åœ¨htmlä¸­å¼•å…¥<code>build.js</code>ï¼Œä¹‹åæ‰“å¼€æµè§ˆå™¨å³å¯æ­£å¸¸æ‰“å°</p><img src="https://www.z4a.net/images/2024/08/15/js_004.png" alt="image-20240815132544123"  /><h2 id="ES6è§„èŒƒ"><a href="#ES6è§„èŒƒ" class="headerlink" title="ES6è§„èŒƒ"></a>ES6è§„èŒƒ</h2><p>è¿™æ˜¯ECMAScriptå®˜æ–¹åˆ¶å®šçš„JavaScriptæ¨¡å—åŒ–è§„èŒƒ</p><h3 id="å¿«é€Ÿä¸Šæ‰‹-1"><a href="#å¿«é€Ÿä¸Šæ‰‹-1" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h3><p>å’Œä¹‹å‰ä¸€æ ·åˆ›å»º<code>index.js</code>ã€<code>student.js</code>ã€<code>teacher.js</code>ä¸‰ä¸ªjsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> student <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> teacher <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher);</span><br></pre></td></tr></table></figure><p>æ‰“å°å¾—åˆ°çš„ç»“æœä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[Module: null prototype] &#123;       </span><br><span class="line">  age: 25,</span><br><span class="line">  getEmail: [Function: getEmail],</span><br><span class="line">  name: &#x27;John&#x27;</span><br><span class="line">&#125;</span><br><span class="line">[Module: null prototype] &#123;       </span><br><span class="line">  age: 35,</span><br><span class="line">  getEmail: [Function: getEmail],</span><br><span class="line">  name: &#x27;Tom&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Nodeä¸­è¿è¡ŒES6æ¨¡å—"><a href="#Nodeä¸­è¿è¡ŒES6æ¨¡å—" class="headerlink" title="Nodeä¸­è¿è¡ŒES6æ¨¡å—"></a>Nodeä¸­è¿è¡ŒES6æ¨¡å—</h3><p><strong>Nodejsæ˜¯æ— æ³•ç›´æ¥è¿è¡ŒES6çš„æ¨¡å—åŒ–æ–‡ä»¶çš„ï¼Œå¦‚æœç›´æ¥è¿è¡Œä¼šå‡ºç°æŠ¥é”™ã€‚</strong></p><blockquote><p>d:\Web\module_test\index.js:1<br>import * as student from â€œ.&#x2F;student.jsâ€;<br>^^^^^^</p><p>SyntaxError: Cannot use import statement outside a module</p></blockquote><p>è¿™æ—¶å€™æœ‰ä¸‰ç§åŠæ³•ï¼š</p><ol><li><p>åœ¨<code>index.html</code>ä¸­å¼•å…¥ï¼Œå°†<code>script</code>æ ‡ç­¾çš„<code>type</code>å±æ€§è®¾ç½®ä¸º<code>module</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>live Server</code>åˆ›å»ºæœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰“å¼€æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡º</p><img src="https://www.z4a.net/images/2024/08/15/js_006.png" alt="image-20240815153307030" style="zoom: 80%;" /></li><li><p>å°†æ‰€æœ‰æ–‡ä»¶çš„åç¼€åæ”¹ä¸º<code>.mjs</code>ï¼Œä¹‹åå¯ç›´æ¥åœ¨Nodejsä¸­è¿è¡Œ</p></li><li><p>åˆ›å»º<code>package.json</code>æ–‡ä»¶ï¼ŒåŠ ä¸Š<code>&quot;type&quot;:&quot;module&quot;</code>ï¼Œä¹‹åå¯ç›´æ¥åœ¨Nodejsä¸­è¿è¡Œ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="å¯¼å‡ºæ•°æ®-1"><a href="#å¯¼å‡ºæ•°æ®-1" class="headerlink" title="å¯¼å‡ºæ•°æ®"></a>å¯¼å‡ºæ•°æ®</h3><p>ES6æ¨¡å—å¯¼å‡ºæœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li>åˆ†åˆ«å¯¼å‡º</li><li>ç»Ÿä¸€å¯¼å‡º</li><li>é»˜è®¤å¯¼å‡º</li></ol><blockquote><p>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œå¯¼å…¥æ¨¡å—ä½¿ç”¨çš„æ˜¯ä¸‡èƒ½å†™æ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> student <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> teacher <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher);</span><br></pre></td></tr></table></figure></blockquote><h4 id="åˆ†åˆ«å¯¼å‡º"><a href="#åˆ†åˆ«å¯¼å‡º" class="headerlink" title="åˆ†åˆ«å¯¼å‡º"></a>åˆ†åˆ«å¯¼å‡º</h4><p>åœ¨æ¯ä¸ªæƒ³è¦å¯¼å‡ºçš„å˜é‡å‰ä½¿ç”¨exportå…³é”®å­—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«å¯¼å‡ºä»…ä»…é€‚ç”¨äºè¦å¯¼å‡ºçš„æ•°æ®ç›¸å¯¹è¾ƒå°‘çš„æƒ…å†µï¼Œè€Œä¸”åˆ†åˆ«å¯¼å‡ºä¹Ÿä¸èƒ½ç›´è§‚å±•ç¤ºå¯¼å‡ºçš„æ‰€æœ‰æ•°æ®å’Œæ–¹æ³•ã€‚</p><h4 id="ç»Ÿä¸€å¯¼å‡º"><a href="#ç»Ÿä¸€å¯¼å‡º" class="headerlink" title="ç»Ÿä¸€å¯¼å‡º"></a>ç»Ÿä¸€å¯¼å‡º</h4><p>ç»Ÿä¸€å¯¼å‡ºèƒ½å¤Ÿä¸€æ¬¡æ€§å¯¼å‡ºå¤šä¸ªæ•°æ®ï¼Œå’Œåˆ†åˆ«å¯¼å‡ºæ²¡æœ‰æœ¬è´¨ä¸Šçš„å·®åˆ«</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; name, age, getEmail &#125;;</span><br></pre></td></tr></table></figure><p>å¯¼å‡ºæ‰“å°çš„ç»“æœä¸º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[<span class="title class_">Module</span>: <span class="literal">null</span> prototype] &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">getEmail</span>: [<span class="title class_">Function</span>: getEmail],</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;John&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">[<span class="title class_">Module</span>: <span class="literal">null</span> prototype] &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">35</span>,</span><br><span class="line">  <span class="attr">getEmail</span>: [<span class="title class_">Function</span>: getEmail],</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>exportåè·Ÿ{}ï¼Œå¹¶ä¸æ˜¯è¯´æ˜å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä»ä¸Šè¿°çš„æ‰“å°ç»“æœä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå¯¼å‡ºçš„æ•°æ®å’Œæ–¹æ³•è¢«åŒ…è£¹åœ¨é»˜è®¤çš„å¯¼å‡ºå¯¹è±¡ä¸­ã€‚</p></blockquote><h4 id="é»˜è®¤å¯¼å‡º"><a href="#é»˜è®¤å¯¼å‡º" class="headerlink" title="é»˜è®¤å¯¼å‡º"></a>é»˜è®¤å¯¼å‡º</h4><p>ä»åˆ†åˆ«å¯¼å‡ºå’Œç»Ÿä¸€å¯¼å‡ºçš„æ‰“å°ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå¯¼å‡ºçš„æ•°æ®éƒ½æ˜¯ç»Ÿä¸€æ”¾åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>é»˜è®¤å¯¼å‡ºç›¸æ¯”ä¹‹å‰çš„ä¸¤ç§å¯¼å‡ºæ–¹æ³•å¾—åˆ°çš„è¾“å‡ºæœ‰æ‰€ä¸åŒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; name, age, getEmail &#125;;</span><br></pre></td></tr></table></figure><p>æ‰“å°çš„è¾“å‡ºä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Module: null prototype] &#123;</span><br><span class="line">  default: &#123; name: &#x27;John&#x27;, age: 25, getEmail: [Function: getEmail] &#125;</span><br><span class="line">&#125;</span><br><span class="line">[Module: null prototype] &#123;</span><br><span class="line">  age: 35,</span><br><span class="line">  getEmail: [Function: getEmail],</span><br><span class="line">  name: &#x27;Tom&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿè¾“å‡ºå¯ä»¥å‘ç°ï¼Œä½¿ç”¨<code>export default</code>å¯¼å‡ºåå¾—åˆ°çš„æ•°æ®è¢«åŒ…è£¹åœ¨è¾“å‡ºå¯¹è±¡çš„<code>default</code>å¯¹è±¡ä¸­ï¼Œå¦‚æœè¦è¿›ä¸€æ­¥è®¿é—®ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>student.default.å±æ€§å</code>è¿›è¡Œè·å–</p><h4 id="æ··åˆä½¿ç”¨"><a href="#æ··åˆä½¿ç”¨" class="headerlink" title="æ··åˆä½¿ç”¨"></a>æ··åˆä½¿ç”¨</h4><p>ä¸Šè¿°çš„ä¸‰ç§æ–¹æ³•å¯ä»¥æ··åˆä½¿ç”¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>; <span class="comment">// åˆ†åˆ«å¯¼å‡º</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; getEmail &#125;; <span class="comment">// ç»Ÿä¸€å¯¼å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; age &#125;; <span class="comment">// é»˜è®¤å¯¼å‡º</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æ‰“å°ç»“æœä¸º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Module: null prototype] &#123;</span><br><span class="line">  default: &#123; age: 35 &#125;,</span><br><span class="line">  getEmail: [Function: getEmail],</span><br><span class="line">  name: &#x27;Tom&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»æ‰“å°çš„ç»“æœæ¥çœ‹ï¼Œå®Œå…¨ç¬¦åˆä¸Šè¿°ä¸åŒå¯¼å‡ºæ–¹æ³•å¯¹åº”çš„è§„åˆ™ã€‚</p><h3 id="å¯¼å…¥æ•°æ®-1"><a href="#å¯¼å…¥æ•°æ®-1" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h3><p>å¯¼å…¥æœ‰å¾ˆå¤šä¸­æ–¹æ³•ï¼Œä½†æ˜¯æ¯ç§æ–¹æ³•éƒ½æœ‰å¯¹åº”çš„å¯¼å‡ºæ–¹å¼ï¼Œè¦æ³¨æ„ç›¸äº’çš„é…å¯¹ã€‚</p><h4 id="å¯¼å…¥å…¨éƒ¨"><a href="#å¯¼å…¥å…¨éƒ¨" class="headerlink" title="å¯¼å…¥å…¨éƒ¨"></a>å¯¼å…¥å…¨éƒ¨</h4><p>å³ä¸‡èƒ½å¯¼å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> student <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> teacher <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher);</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•æ˜¯é€šç”¨çš„ï¼Œä½†æ˜¯å¦‚æœæœ‰æ¨¡å—ä½¿ç”¨çš„æ˜¯é»˜è®¤å¯¼å‡ºï¼Œé‚£ä¹ˆå¾—åˆ°å¯¼å‡ºæ•°æ®çš„è·¯å¾„ä¼šå˜é•¿ï¼ˆæ¯”å¦‚<code>student.default.name</code>ï¼‰</p><h4 id="å‘½åå¯¼å…¥"><a href="#å‘½åå¯¼å…¥" class="headerlink" title="å‘½åå¯¼å…¥"></a>å‘½åå¯¼å…¥</h4><p>å¦‚æœå¯¼å‡ºæ¨¡å—ä½¿ç”¨çš„æ˜¯åˆ†åˆ«å¯¼å‡ºæˆ–ç»Ÿä¸€å¯¼å‡ºï¼ˆä¹Ÿå¯ä»¥ä¸¤è€…æ··ç”¨ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å‘½åå¯¼å…¥çš„æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age, getEmail &#125; <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="comment">// import * as teacher from &quot;./teacher.js&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// John</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getEmail</span>()); <span class="comment">// 123456789@gmail.com</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦æ›´æ¢å˜é‡å‘½åï¼Œä½¿ç”¨<code>name as newName</code>çš„æ–¹å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; name <span class="keyword">as</span> stuName, age <span class="keyword">as</span> stuAge, getEmail <span class="keyword">as</span> stuGetEmail &#125; <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="comment">// import * as teacher from &quot;./teacher.js&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuName); <span class="comment">// John</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuAge); <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">stuGetEmail</span>()); <span class="comment">// 123456789@gmail.com</span></span><br></pre></td></tr></table></figure><h4 id="é»˜è®¤å¯¼å…¥"><a href="#é»˜è®¤å¯¼å…¥" class="headerlink" title="é»˜è®¤å¯¼å…¥"></a>é»˜è®¤å¯¼å…¥</h4><p>å¦‚æœå¯¼å‡ºæ¨¡å—ä½¿ç”¨çš„æ˜¯é»˜è®¤å¯¼å‡ºï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨é»˜è®¤å¯¼å…¥çš„å½¢å¼ï¼Œç›´æ¥ç»™å¯¼å…¥çš„æ¨¡å—å‘½ä¸€ä¸ªæ¨¡å—åå³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; age, name, getEmail &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="comment">// import &#123; name as stuName, age as stuAge, getEmail as stuGetEmail &#125; from &quot;./student.js&quot;;</span></span><br><span class="line"><span class="keyword">import</span> teacher <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">name</span>); <span class="comment">// Tom</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">age</span>); <span class="comment">// 35</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="title function_">getEmail</span>()); <span class="comment">// 79898989898@gmail.com</span></span><br></pre></td></tr></table></figure><h4 id="å‘½åå’Œé»˜è®¤æ··ç”¨"><a href="#å‘½åå’Œé»˜è®¤æ··ç”¨" class="headerlink" title="å‘½åå’Œé»˜è®¤æ··ç”¨"></a>å‘½åå’Œé»˜è®¤æ··ç”¨</h4><p>å¦‚æœå‡ºç°å¯¼å‡ºæ–¹å¼æ··ç”¨ï¼Œå¯ä»¥ä½¿ç”¨å¯¹åº”çš„å¯¼å…¥æ–¹æ³•è¿›è¡Œä¸€æ¬¡æ€§çš„å¯¼å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">35</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;79898989898@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSubjects</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Math&quot;</span>, <span class="string">&quot;Science&quot;</span>, <span class="string">&quot;English&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; age, name &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="comment">// import &#123; name as stuName, age as stuAge, getEmail as stuGetEmail &#125; from &quot;./student.js&quot;;</span></span><br><span class="line"><span class="keyword">import</span> teacher, &#123; getEmail &#125; <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">name</span>); <span class="comment">// Tom</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">age</span>); <span class="comment">// 35</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getEmail</span>()); <span class="comment">// 79898989898@gmail.com</span></span><br></pre></td></tr></table></figure><h4 id="åŠ¨æ€å¯¼å…¥"><a href="#åŠ¨æ€å¯¼å…¥" class="headerlink" title="åŠ¨æ€å¯¼å…¥"></a>åŠ¨æ€å¯¼å…¥</h4><p>åŠ¨æ€å¯¼å…¥å³åœ¨éœ€è¦çš„æƒ…å†µä¸‹æ‰å¯¼å…¥æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fetchData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (count === <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&quot;./student.js&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">increment</span>();</span><br><span class="line"><span class="title function_">fetchData</span>();</span><br></pre></td></tr></table></figure><p>å½“countè¾¾åˆ°è¦æ±‚åï¼Œå¯¼å…¥student.jsæ¨¡å—å¹¶æ‰“å°ï¼Œæ‰“å°çš„ç»“æœå¦‚ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Module: null prototype] &#123;       </span><br><span class="line">  age: 25,</span><br><span class="line">  getEmail: [Function: getEmail],</span><br><span class="line">  name: &#x27;John&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯¼å…¥ä¸æ¥æ”¶ä»»ä½•æ•°æ®"><a href="#å¯¼å…¥ä¸æ¥æ”¶ä»»ä½•æ•°æ®" class="headerlink" title="å¯¼å…¥ä¸æ¥æ”¶ä»»ä½•æ•°æ®"></a>å¯¼å…¥ä¸æ¥æ”¶ä»»ä½•æ•°æ®</h4><p>å¦‚æœä¸éœ€è¦æ¥æ”¶ä»»ä½•æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å¯¼å…¥æ¨¡å—åœ°å€ï¼Œå½¢å¦‚<code>import &quot;æ¨¡å—åœ°å€&quot;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>());</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ï¼Œæ¯æ¬¡è¿è¡Œindex.jséƒ½ä¼šæ‰“å°å‡ºä¸€ä¸ªéšæœºæ•°</p><h2 id="å…³äºé—®é¢˜è§£å†³çš„ç†è§£"><a href="#å…³äºé—®é¢˜è§£å†³çš„ç†è§£" class="headerlink" title="å…³äºé—®é¢˜è§£å†³çš„ç†è§£"></a>å…³äºé—®é¢˜è§£å†³çš„ç†è§£</h2><p>é‚£ä¹ˆé€šè¿‡æ¨¡å—åŒ–æ˜¯å¦è§£å†³äº†å¼€å¤´æå‡ºçš„ä¸‰ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p><ol><li>å…¨å±€ç±»å‹æ±¡æŸ“ï¼ˆç›¸åŒçš„å˜é‡åä¼šç›¸äº’è¦†ç›–ï¼‰</li><li>ä¾èµ–æ··ä¹±ï¼ˆå…¸å‹çš„jQueryå’ŒBootStrapçš„å¼•å…¥é¡ºåºé—®é¢˜ï¼‰</li><li>æ•°æ®å®‰å…¨é—®é¢˜ï¼ˆå®Œæ•´çš„æ•°æ®è¢«å¯¼å‡ºï¼‰</li></ol><p>ä¸ªäººçš„ç†è§£å¦‚ä¸‹ï¼š</p><ol><li><p>å…¨å±€æ±¡æŸ“çš„é—®é¢˜å·²ç»å¯ä»¥é€šè¿‡åœ¨å¯¼å…¥æ—¶é‡å‘½åçš„æ–¹æ³•é˜²æ­¢åŒåå˜é‡çš„è¦†ç›–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; name <span class="keyword">as</span> stuName, age <span class="keyword">as</span> stuAge, getEmail <span class="keyword">as</span> stuGetEmail &#125; <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;name <span class="keyword">as</span> teaName,age <span class="keyword">as</span> teaAge,getEmail <span class="keyword">as</span> teaGetEmail&#125; <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuName); <span class="comment">// John</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stuAge); <span class="comment">// 25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">stuGetEmail</span>()); <span class="comment">// 123456789@gmail.com</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teaName); <span class="comment">// Tom</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teaAge); <span class="comment">// 35</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">teaGetEmail</span>()); <span class="comment">// 79898989898@gmail.com</span></span><br></pre></td></tr></table></figure></li><li><p>ä¾èµ–æ··ä¹±é—®é¢˜çš„è§£å†³å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥è®ºè¯ï¼ˆå‡è®¾å­˜åœ¨å¦‚ä¸‹å›¾çš„ç›¸äº’ä¾èµ–å…³ç³»ï¼‰</p><img src="https://www.z4a.net/images/2024/08/15/js_007.png" alt="image-20240815163315119" style="zoom: 33%;" /><p>å¯ä»¥çœ‹åˆ°ï¼Œå„ä¸ªæ¨¡å—ä¸å†éœ€è¦è€ƒè™‘æœ‰å…³å¯¼å…¥é¡ºåºçš„é—®é¢˜ï¼Œå½“æ¨¡å—éœ€è¦å…¶ä»–æ¨¡å—ä½œä¸ºä¾èµ–æ—¶ï¼Œåªéœ€å…³æ³¨å¦‚ä½•å¯¼å…¥è¯¥ä¾èµ–æ¨¡å—ï¼Œè€Œä¸éœ€è¦æ³¨æ„å¯¼å…¥çš„é¡ºåºã€‚</p></li><li><p>æ•°æ®å®‰å…¨é—®é¢˜</p><p>ä»¥<code>student.js</code>ã€<code>index.js</code>ä¸ºä¾‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// student.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;John&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getEmail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;123456789@gmail.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSkills</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;Python&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>, <span class="string">&quot;Golang&quot;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age, getEmail &#125; <span class="keyword">from</span> <span class="string">&quot;./student.js&quot;</span>;</span><br><span class="line"><span class="comment">// import teacher, &#123; getEmail &#125; from &quot;./teacher.js&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getEmail</span>());</span><br></pre></td></tr></table></figure><p>åœ¨index.htmlä¸­å¼•å…¥index.js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€æµè§ˆå™¨ï¼Œå°è¯•è·å–<code>name</code>ã€<code>age</code>ã€<code>getEmail</code>ï¼Œé™¤äº†<code>name</code>ï¼Œå‘ç°è¿”å›çš„éƒ½æ˜¯<code>xxx is not defined</code>ï¼Œè¿™å·²ç»è¯´æ˜è§£å†³äº†æ•°æ®å®‰å…¨é—®é¢˜ï¼Œåœ¨æ²¡æœ‰å¯¼å‡ºæ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ˜¯æ— æ³•è·å–åˆ°æ•°æ®çš„ã€‚ï¼ˆå®é™…ä¸Šï¼Œè¿™å°±æ˜¯moduleæ–¹å¼å¸¦æ¥çš„ä¾¿åˆ©ä¹‹å¤„ï¼‰</p><img src="https://www.z4a.net/images/2024/08/15/js_008.png" alt="image-20240815163935566" style="zoom: 80%;" /><blockquote><p>nameå¯ä»¥è¿”å›ä¸€ä¸ªâ€â€œçš„åŸå› æ˜¯windowé»˜è®¤è‡ªå¸¦nameå±æ€§ï¼Œä¸”é»˜è®¤å€¼å°±ä¸ºâ€â€œ</p></blockquote></li></ol><h2 id="æ•°æ®å¼•ç”¨é—®é¢˜"><a href="#æ•°æ®å¼•ç”¨é—®é¢˜" class="headerlink" title="æ•°æ®å¼•ç”¨é—®é¢˜"></a>æ•°æ®å¼•ç”¨é—®é¢˜</h2><p>commonjså’Œes6å¤„ç†å¯¼å‡ºæ•°æ®çš„éš”ç¦»æ–¹å¼æœ‰æ‰€ä¸åŒï¼Œè¿˜è¦ä»ä¸‹é¢çš„ä¾‹å­è¯´èµ·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">count</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">        sum += <span class="number">1</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123; sum, increment &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123; sum, increment &#125; = <span class="title function_">count</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 2</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p><strong>å¯ä»¥çœ‹å‡ºè§£æ„å‡ºçš„sumå’Œå‡½æ•°å†…çš„sumå€¼åœ°å€å·²ç»å®Œå…¨ä¸åŒï¼Œç›¸å½“äºå°†å‡½æ•°å†…çš„sumå¤åˆ¶äº†ä¸€ä»½ç»™è§£æ„çš„sum</strong></p><p>CommonJsä¹Ÿç¬¦åˆä¸Šè¿°çš„è§„åˆ™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    sum += <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;sum, increment&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; sum, increment &#125; = <span class="built_in">require</span>(<span class="string">&quot;./teacher.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 2</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p><strong>ä½†æ˜¯ES6çš„æ¨¡å—åŒ–è§„èŒƒå´æˆªç„¶ç›¸å</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// teacher.js</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    sum += <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;sum, increment&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; sum, increment &#125; <span class="keyword">from</span> <span class="string">&quot;./teacher.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 2</span></span><br><span class="line"><span class="title function_">increment</span>(); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ‰“å°å¾—åˆ°çš„<code>sum</code>å€¼ä¸º3ï¼Œè¿™è¯´æ˜å¯¼å‡ºæ¨¡å—ä¸å€’å…¥æ¨¡å—ä½¿ç”¨çš„<code>sum</code>æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œä¿®æ”¹ä¸€æ¬¡åˆ™å¤„å¤„å˜åŒ–ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚</p><p><strong>å› æ­¤åœ¨ä½¿ç”¨ES6çš„æ¨¡å—åŒ–è§„èŒƒä¸‹ï¼Œæœ€å¥½æ˜¯å°†å¯¼å‡ºçš„æ•°æ®è®¾ç½®ä¸ºå¸¸é‡ï¼ˆ<code>const</code>ï¼‰</strong></p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CommonJs </tag>
            
            <tag> ECMA6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript-å¿«é€Ÿä¸Šæ‰‹</title>
      <link href="/post/typescript-kuai-su-ru-men/"/>
      <url>/post/typescript-kuai-su-ru-men/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>TypeScriptæ˜¯å¾®è½¯å¼€å‘çš„åŸºäºJavaScriptï¼ˆJSï¼‰çš„ä¸€ä¸ªæ‰©å±•è¯­è¨€ï¼ŒåŒ…å«JSæ‰€æœ‰å†…å®¹ï¼Œå¹¶å¢åŠ äº†é™æ€ç±»å‹æ£€æŸ¥ã€æ¥å£ã€æ³›å‹ç­‰ç‰¹æ€§ï¼Œé€‚åˆå¤§å‹é¡¹ç›®å¼€å‘ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦TypeScriptï¼Ÿä¸»è¦æ˜¯å› ä¸ºJavaScriptæœ‰å¦‚ä¸‹å›°æ‰°ï¼š</p><ul><li>æœ¬èº«æ˜¯åŠ¨æ€æ•°æ®ç±»å‹ï¼Œå¯¼è‡´æ•°æ®ç±»å‹ä¸æ¸…æ™°</li><li>æ— æ³•åˆ¤æ–­æ˜¯å¦æœ‰é€»è¾‘æ¼æ´</li><li>å¯ä»¥è®¿é—®ä¸å­˜åœ¨çš„å±æ€§</li><li>æ— æ³•å‘ç°ä½çº§çš„æ‹¼å†™é”™è¯¯</li></ul><p>TypeScriptæ˜¯JavaScriptçš„ä¸€ä¸ªè¶…é›†ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œä»£ç çš„é™æ€ç±»å‹æ£€æŸ¥ï¼ˆåœ¨è¿è¡Œæˆ–ç¼–è¯‘å‰å°±å‘ç°å¹¶æå‡ºé”™è¯¯ï¼‰ï¼Œè¿™åœ¨å¤§å‹é¡¹ç›®ä¸­ä¼šå¾ˆæœ‰ç”¨ã€‚</p><blockquote><p>Pythonçš„TypingHitçš„çµæ„Ÿæˆ–è®¸æ¥è‡ªè¿™é‡Œ</p></blockquote><h2 id="ç¼–è¯‘TS"><a href="#ç¼–è¯‘TS" class="headerlink" title="ç¼–è¯‘TS"></a>ç¼–è¯‘TS</h2><h3 id="æ‰‹åŠ¨ç¼–è¯‘"><a href="#æ‰‹åŠ¨ç¼–è¯‘" class="headerlink" title="æ‰‹åŠ¨ç¼–è¯‘"></a>æ‰‹åŠ¨ç¼–è¯‘</h3><p>æµè§ˆå™¨ç­‰è¿è¡Œç¯å¢ƒæ— æ³•ç›´æ¥è¿è¡ŒTypeScriptï¼Œéœ€è¦å…ˆå°†Tsè½¬åŒ–ä¸ºJs</p><p>å®‰è£…TypeScript</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i typescript -g </span><br></pre></td></tr></table></figure><p>æ–°å»ºindex.tsæ–‡ä»¶</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">str</span>: <span class="built_in">string</span> = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br></pre></td></tr></table></figure><p>åœ¨ç»ˆç«¯è¿è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc index.ts</span><br></pre></td></tr></table></figure><blockquote><p>tscä¸ºTypeScript Compilerï¼ˆtsç¼–è¯‘å™¨ï¼‰çš„ç¼©å†™</p></blockquote><p>åœ¨æ–‡ä»¶å¤¹ä¼šç”Ÿæˆä¸€ä¸ªåŒåçš„index.jsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br></pre></td></tr></table></figure><h3 id="è‡ªåŠ¨ç¼–è¯‘"><a href="#è‡ªåŠ¨ç¼–è¯‘" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘"></a>è‡ªåŠ¨ç¼–è¯‘</h3><p>å¯ä»¥å¯ç”¨è‡ªåŠ¨ç›‘å¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br><span class="line">tsc --watch [è·¯å¾„å/æ–‡ä»¶å]</span><br></pre></td></tr></table></figure><p><code>tsc --init</code>ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª<code>tsconfig.json</code>æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­çš„é€‰é¡¹éƒ½æ˜¯tsè½¬åŒ–jsçš„é…ç½®é¡¹ã€‚<code>tsc --watch</code>çš„ä½œç”¨æ˜¯ç›‘å¬æ‰€åœ¨çš„è·¯å¾„æ˜¯å¦æœ‰tsæ–‡ä»¶ï¼Œå¦‚æœ‰åˆ™è‡ªåŠ¨ç¼–è¯‘ä¸ºjs</p><p>å¸¸ç”¨çš„ä¸ºä¸‹é¢ä¸‰ä¸ªå±æ€§</p><ul><li>â€œstrictâ€: true æ˜¯å¦å¼€å¯ä¸¥æ ¼æ¨¡å¼</li><li>â€œtargetâ€: â€œes2016â€ ä½¿ç”¨é‚£ç§è§„èŒƒè¿›è¡Œè½¬åŒ– es2016æ˜¯æŒ‡es7 ä¹Ÿå¯ä»¥ç›´æ¥å†™ES7</li><li>â€œnoEmitOnErrorâ€: true å½“tsæ–‡ä»¶æœ‰è¯­æ³•é”™è¯¯çš„æ˜¯å¦æ˜¯å¦ç¼–è¯‘</li><li>â€œmoduleâ€: â€œES6â€ æŒ‡å®štsä½¿ç”¨çš„æ¨¡å—åŒ–è§„èŒƒ å¦‚â€commonjsâ€ï¼Œâ€ES6â€ç­‰</li></ul><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>tsçš„åŸºæœ¬ç”¨æ³•å³ä¸ºä¸ºå˜é‡æ·»åŠ ç±»å‹ç”³æ˜ã€‚</p><p>ç¼–å†™å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">userName</span>: <span class="built_in">string</span> = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">age</span>: <span class="built_in">number</span> = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">isMan</span>: <span class="built_in">boolean</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b; <span class="comment">// è¿”å›ç±»å‹è¦ä¸è§„å®šçš„ç±»å‹ä¸€è‡´</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">result</span>: <span class="built_in">number</span> = <span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// æ­¤å¤„å‚æ•°ä¸èƒ½å¤šä¹Ÿä¸èƒ½å°‘ å¦‚æœåªå†™ä¸€ä¸ªï¼Œjsä¼šå®šä¹‰å¦ä¸€ä¸ªä¸ºundefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å¾—åˆ°çš„jså¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> userName = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> isMan = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><blockquote><p>tså­˜åœ¨é»˜è®¤çš„ç±»å‹æ¨æ–­</p><p>å¦‚ï¼š</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">num = <span class="string">&quot;hello&quot;</span> <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><p>tsè¯­æ³•æ£€æŸ¥å™¨é»˜è®¤å°†numæŒ‡å®šä¸ºnumberç±»å‹ï¼Œå› æ­¤ä¸Šè¿°ä»£ç ä¼šå‡ºç°â€œä¸èƒ½å°†ç±»å‹â€œstringâ€åˆ†é…ç»™ç±»å‹â€œnumberâ€çš„æŠ¥é”™</p></blockquote><h2 id="ç±»å‹æ€»è§ˆ"><a href="#ç±»å‹æ€»è§ˆ" class="headerlink" title="ç±»å‹æ€»è§ˆ"></a>ç±»å‹æ€»è§ˆ</h2><h3 id="æ”¯æŒçš„ç±»å‹"><a href="#æ”¯æŒçš„ç±»å‹" class="headerlink" title="æ”¯æŒçš„ç±»å‹"></a>æ”¯æŒçš„ç±»å‹</h3><p>JavaScriptæœ‰å¦‚ä¸‹æ•°æ®ç±»å‹</p><ul><li>string</li><li>number</li><li>boolean</li><li>null</li><li>undefined</li><li>bigint</li><li>symbol</li><li>object ï¼ˆåŒ…å« Array Function  Date Errorç­‰ï¼‰</li></ul><p>TypeScriptæœ‰å¦‚ä¸‹æ•°æ®ç±»å‹ï¼š</p><ul><li>æ”¯æŒæ‰€æœ‰JavaScriptç±»å‹</li><li>å…­ä¸ªç‹¬æœ‰ç±»å‹<ul><li>any</li><li>unkown</li><li>never</li><li>void</li><li>tuple</li><li>enum</li></ul></li><li>ä¸¤ä¸ªç”¨äºè‡ªå®šä¹‰ç±»å‹çš„æ–¹å¼<ul><li>type</li><li>interface</li></ul></li></ul><h3 id="å¤§å°å†™çš„åŒºåˆ«"><a href="#å¤§å°å†™çš„åŒºåˆ«" class="headerlink" title="å¤§å°å†™çš„åŒºåˆ«"></a>å¤§å°å†™çš„åŒºåˆ«</h3><p>éœ€è¦æ³¨æ„åŸºæœ¬å…ƒç´ ç±»å‹ï¼ˆå°å†™ï¼‰å’ŒåŒ…è£…å™¨å¯¹è±¡ï¼ˆå¤§å†™ï¼‰çš„åŒºåˆ«ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">str1</span>: <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">str2</span>: <span class="title class_">String</span>;</span><br><span class="line"></span><br><span class="line">str1 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="comment">// str1 = new String(&quot;World&quot;); // Error - Type &#x27;String&#x27; is not assignable to type &#x27;string&#x27;</span></span><br><span class="line"></span><br><span class="line">str2 = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">str2 = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;World&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str1); <span class="comment">// string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str2); <span class="comment">// object</span></span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¸º<code>ä¸èƒ½å°†ç±»å‹â€œStringâ€åˆ†é…ç»™ç±»å‹â€œstringâ€ã€‚â€œstringâ€æ˜¯åŸºå…ƒï¼Œä½†â€œStringâ€æ˜¯åŒ…è£…å™¨å¯¹è±¡ã€‚å¦‚å¯èƒ½é¦–é€‰ä½¿ç”¨â€œstringâ€</code>ã€‚</p><p>æŠ¥é”™æ˜¾ç¤º<code>String</code>è¡¨ç¤ºçš„æ˜¯åŒ…è£…å™¨å¯¹è±¡ï¼Œè€Œ<code>string</code>ä»£è¡¨çš„æ˜¯åŸºå…ƒï¼Œå› æ­¤å‡ºç°äº†è¯­æ³•é”™è¯¯ã€‚<strong>tså®˜æ–¹æ¨èä½¿ç”¨å°å†™çš„ç±»å‹ç”³æ˜</strong></p><blockquote><p>åŸå§‹ç±»å‹ï¼šå®ƒä»¬å†…å­˜å ç”¨å°‘ï¼Œå¤„ç†é€Ÿåº¦å¿«</p><p>åŒ…è£…å¯¹è±¡ï¼šå¤æ‚ç±»å‹ï¼Œå†…å­˜å ç”¨æ›´å¤šï¼Œåœ¨å®é™…ä»£ç ä¸­å¾ˆå°‘ä½¿ç”¨</p><p>è‡ªåŠ¨è£…ç®±ï¼šJavaScriptåœ¨å¿…è¦æ—¶ä¼šè®²åŸå§‹ç±»å‹è½¬åŒ–ä¸ºåŒ…è£…å¯¹è±¡ï¼Œæ–¹ä¾¿è°ƒç”¨æ–¹æ³•å’Œå±æ€§ï¼ˆè§£é‡Šå™¨è‡ªåŠ¨å®Œæˆçš„ï¼‰</p></blockquote><p>ä¸€ä¸ªè‡ªåŠ¨è£…ç®±çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> size = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„å­—ç¬¦ä¸²å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">let</span> tempStringObject = <span class="keyword">new</span> <span class="title class_">String</span>(str);</span><br><span class="line">    <span class="comment">// è®¿é—®å­—ç¬¦ä¸²å¯¹è±¡çš„ length å±æ€§</span></span><br><span class="line">    <span class="keyword">let</span> lengthValue = tempStringObject.<span class="property">length</span>;</span><br><span class="line">    <span class="comment">// é‡Šæ”¾ä¸´æ—¶å­—ç¬¦ä¸²å¯¹è±¡ è¿”å›å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="keyword">return</span> lengthValue;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(size); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨ç±»å‹"><a href="#å¸¸ç”¨ç±»å‹" class="headerlink" title="å¸¸ç”¨ç±»å‹"></a>å¸¸ç”¨ç±»å‹</h2><h3 id="any"><a href="#any" class="headerlink" title="any"></a>any</h3><p><code>any</code>è¡¨ç¤ºå½“å‰çš„å˜é‡å¯ä»¥æ˜¯ä»»æ„çš„æ•°æ®ç±»å‹ï¼Œä¸€æ—¦èµ‹äºˆ<code>any</code>å±æ€§ï¼Œå°±ä»£è¡¨å®Œå…¨æ”¾å¼ƒäº†ç±»å‹æ£€æŸ¥</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¾å¼any</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšå¼any æ‚¬åœå¯è§‚å¯Ÿ</span></span><br><span class="line"><span class="keyword">let</span> b;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š<code>any</code>ç±»å‹å¯ä»¥è¦†ç›–ä»»ä½•æ•°æ®ç±»å‹ï¼Œè¿™ä¼šå¯¼è‡´ç±»å‹åŸæœ¬è§„å®šçš„ç±»å‹æ”¹å˜</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">b = a;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> b); <span class="comment">// boolean</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œ<code>any</code>ç±»å‹å¯ä»¥è°ƒç”¨ä»»ä½•å±æ€§ä¸æ–¹æ³•ï¼ˆå³ä¾¿æœ¬èº«ç±»å‹ä¸å­˜åœ¨ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">any</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹éƒ½ä¸ä¼šæŠ¥é”™</span></span><br><span class="line">a.<span class="title function_">toUpperCase</span>(); </span><br><span class="line">a.<span class="title function_">length</span>();</span><br><span class="line">a.<span class="title function_">eee</span>();</span><br><span class="line">a.<span class="title function_">ppp</span>();</span><br></pre></td></tr></table></figure><blockquote><p>éè¿«ä¸å¾—å·²ï¼Œä¸è¦ä½¿ç”¨<code>any</code>ç±»å‹</p></blockquote><h3 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h3><p><code>unkown</code>æ˜¯ä¸€ä¸ªç±»å‹æ›´åŠ å®‰å…¨çš„<code>any</code>ï¼Œä¹Ÿè¡¨ç¤ºå½“å‰æ•°æ®ç±»å‹å¯ä»¥æ˜¯ä»»æ„çš„å€¼</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">unknown</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line">b = a; <span class="comment">// ä¸èƒ½å°†ç±»å‹â€œunknownâ€åˆ†é…ç»™ç±»å‹â€œstringâ€</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šé¢çš„å®ä¾‹å¯ä»¥çœ‹å‡º<code>unkown</code>ä¸ä¼šå‡ºç°æŠŠåŸæœ¬å˜é‡ç±»å‹è¦†ç›–çš„æƒ…å†µï¼ˆç›´æ¥æŠ¥é”™ï¼‰ã€‚ä½†æ˜¯ä¹Ÿä¼šå› æ­¤å‡ºç°ç±»å‹ç›¸åŒä½†æ˜¯æ— æ³•èµ‹å€¼çš„æƒ…å†µï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">unknown</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="number">9</span>;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// hello</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">string</span> = a; <span class="comment">// ä¸èƒ½å°†ç±»å‹â€œunknownâ€åˆ†é…ç»™ç±»å‹â€œstringâ€ã€‚</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥æœ‰ä¸‰ç§æ–¹æ³•è§£å†³è¿™ç§é—®é¢˜</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">unknown</span>;</span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹æ³•</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> a === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">    b = a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æ–¹æ³• æ–­è¨€</span></span><br><span class="line">b = a <span class="keyword">as</span> <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§æ–¹æ³• æ–­è¨€</span></span><br><span class="line">b = &lt;<span class="built_in">string</span>&gt;a;</span><br></pre></td></tr></table></figure><p>åœ¨<code>unkown</code>ä¸­ï¼Œä¸èƒ½è°ƒç”¨ä»»ä½•å±æ€§å’Œæ–¹æ³•</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">unknown</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">toUpperCase</span>(); <span class="comment">// æŠ¥é”™ aæ˜¯unknownç±»å‹</span></span><br><span class="line">a.<span class="title function_">trim</span>(); <span class="comment">// æŠ¥é”™ aæ˜¯unknownç±»å‹</span></span><br><span class="line">a.<span class="property">length</span>; <span class="comment">// æŠ¥é”™ aæ˜¯unknownç±»å‹</span></span><br></pre></td></tr></table></figure><p>åŒç†å¯ä»¥ä½¿ç”¨æ–­è¨€æ¥å‘Šè¯‰ç¼–è¯‘å™¨å˜é‡çš„ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">unknown</span>;</span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// hello</span></span><br><span class="line">(&lt;<span class="built_in">string</span>&gt;a).<span class="title function_">toUpperCase</span>();</span><br><span class="line">(a <span class="keyword">as</span> <span class="built_in">string</span>).<span class="title function_">toUpperCase</span>();</span><br></pre></td></tr></table></figure><h3 id="never"><a href="#never" class="headerlink" title="never"></a>never</h3><p><code>never</code>è¡¨ç¤ºæ°¸è¿œä¸ä¼šè¿”å›ç»“æœ</p><p>ä¸è¦å°†å˜é‡å®šä¹‰ä¸º<code>never</code>ï¼Œè¿™å°†å¯¼è‡´å¯¹è±¡æ— æ³•è¢«èµ‹äºˆä»»ä½•å€¼ï¼Œ<strong>è€Œä¸”è¿™ä¹Ÿæ²¡æœ‰æ„ä¹‰</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>:<span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line">a = <span class="number">99</span>; <span class="comment">// æŠ¥é”™ ä¸èƒ½å°†numberç±»å‹èµ‹å€¼ç»™neverç±»å‹</span></span><br><span class="line">a = <span class="string">&quot;hello&quot;</span>; <span class="comment">// æŠ¥é”™ ä¸èƒ½å°†stringç±»å‹èµ‹å€¼ç»™neverç±»å‹</span></span><br><span class="line">a = <span class="literal">true</span>; <span class="comment">// æŠ¥é”™ ä¸èƒ½å°†booleanç±»å‹èµ‹å€¼ç»™neverç±»å‹</span></span><br></pre></td></tr></table></figure><p><code>never</code>ä¸€èˆ¬ç”¨äºè¡¨ç¤ºå‡½æ•°æ°¸è¿œä¸ä¼šæ­£å¸¸ç»“æŸï¼Œå¦‚ä¸‹ä¸‰ç§ä¾‹å­ï¼šæŠ›å‡ºå¼‚å¸¸ã€æ— é™å¾ªç¯ï¼ˆæ— æ³•ç»“æŸï¼‰ã€è‡ªæˆ‘æ— é™è°ƒç”¨</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Error&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo2</span>(<span class="params"></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo3</span>(<span class="params"></span>): <span class="built_in">never</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">demo3</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>never</code>ä¸€èˆ¬æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­å‡ºæ¥çš„</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str :<span class="built_in">string</span> = <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> str === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">toUpperCase</span>())</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(str); <span class="comment">// let str: never</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ï¼Œ<code>else</code>çš„éƒ¨åˆ†æ°¸è¿œæ— æ³•åˆ°è¾¾ï¼Œæ‰€ä»¥ä¼šè¢«è‡ªåŠ¨æ¨æ–­ä¸º<code>never</code>ç±»å‹</p><h3 id="void"><a href="#void" class="headerlink" title="void"></a>void</h3><p><code>void</code>è¡¨ç¤ºå€¼ä¸ºç©ºï¼Œå‡½æ•°è°ƒç”¨è€…ä¸éœ€è¦å…³å¿ƒè¿”å›å€¼ï¼Œæ— æ³•ä½¿ç”¨è¿”å›å€¼åšä»»ä½•æ“ä½œ</p><p>å¸¸ç”¨äºè¡¨ç¤ºå‡½æ•°å¹¶æ²¡æœ‰è¿”å›å€¼ï¼Œä¸”åœ¨å½¢å¼ä¸Šåªæ¥å—<code>undefined</code>ä½œä¸ºè¿”å›å€¼</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>) :<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="comment">// è¯­æ³•ä¸Šéšå¼è¿”å›undefined</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo2</span>(<span class="params"></span>) :<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">demo3</span>(<span class="params"></span>) :<span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–è°ƒç”¨è€…ä¸èƒ½æ ¹æ®å…¶è¿”å›å€¼åšä»»ä½•æ“ä½œ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">demo</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(result)&#123; <span class="comment">// Error:æ— æ³•æµ‹è¯•&quot;void&quot;ç±»å‹è¡¨è¾¾å¼çš„çœŸå®æ€§</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç‚¹å’Œå°†è¿”å›å€¼å®šä¹‰ä¸º<code>undefined</code>æ˜¯æœ‰æ˜æ˜¾çš„ä¸åŒçš„</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">demo</span>(<span class="params"></span>): <span class="literal">undefined</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">result</span>: <span class="literal">undefined</span> = <span class="title function_">demo</span>();</span><br><span class="line"><span class="comment">// ä¸ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">if</span> (result) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result is not undefined&quot;</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå°†å‡½æ•°è¿”å›å€¼å®šä¹‰ä¸º<code>void</code>ï¼Œé‚£ä¹ˆï¼š</p><p>è¯­æ³•ä¸Šï¼šå‡½æ•°å¯ä»¥è¿”å›<code>undefined</code>ï¼Œæ— è®ºæ˜¯æ˜¾ç¤ºè¿”å›ï¼Œè¿˜æ˜¯éšå¼è¿”å›</p><p>è¯­ä¹‰ä¸Šï¼šå‡½æ•°è°ƒç”¨è€…æ— éœ€å…³å¿ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œä¹Ÿä¸åº”ä¾èµ–è¿”å›å€¼è¿›è¡Œä»»ä½•æ“ä½œ</p></blockquote><h3 id="object"><a href="#object" class="headerlink" title="object"></a>object</h3><h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><p>object è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ï¼Œä»–å¯ä»¥æ˜¯åŸºå…ƒä¹‹å¤–çš„ä»»æ„æ•°æ®ç±»å‹ã€‚</p><p>Object åœ¨objectçš„åŸºç¡€ä¸Šå¯ä»¥è¡¨ç¤ºåŸºå…ƒï¼Œå®ƒä»¬éƒ½ä¸èƒ½è¡¨ç¤º<code>null</code>æˆ–è€…<code>undefined</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: <span class="built_in">object</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = &#123; <span class="attr">name</span>: <span class="string">&quot;Max&quot;</span> &#125;;</span><br><span class="line">a = &#123;&#125;;</span><br><span class="line">a = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line">a = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// a = 1 // Error ä¸èƒ½å°†numberèµ‹å€¼ç»™object</span></span><br><span class="line"><span class="comment">// a = true // Error ä¸èƒ½å°†booleanèµ‹å€¼ç»™object</span></span><br><span class="line"><span class="comment">// a = &#x27;string&#x27; // Error ä¸èƒ½å°†stringèµ‹å€¼ç»™object</span></span><br><span class="line"><span class="comment">// a = null; // Error ä¸èƒ½å°†nullèµ‹å€¼ç»™object</span></span><br><span class="line"><span class="comment">// a = undefined; // Error ä¸èƒ½å°†undefinedèµ‹å€¼ç»™object</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>: <span class="title class_">Object</span>;</span><br><span class="line">b = &#123; <span class="attr">name</span>: <span class="string">&quot;Max&quot;</span> &#125;;</span><br><span class="line">b = &#123;&#125;;</span><br><span class="line">b = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;;</span><br><span class="line">b = [];</span><br><span class="line"></span><br><span class="line">b = <span class="number">1</span>;</span><br><span class="line">b = <span class="literal">true</span>;</span><br><span class="line">b = <span class="string">&quot;string&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b = null; // Error ä¸èƒ½å°†nullèµ‹å€¼ç»™Object</span></span><br><span class="line"><span class="comment">// b = undefined; // Error ä¸èƒ½å°†undefinedèµ‹å€¼ç»™Object</span></span><br></pre></td></tr></table></figure><blockquote><p>ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡ºï¼Œobjectè¡¨ç¤ºçš„èŒƒå›´è¿‡äºå®½æ³›ï¼Œå› æ­¤åœ¨å®é™…ä¸­å¹¶ä¸ä½¿ç”¨</p></blockquote><h4 id="æ›¿ä»£ç”¨æ³•"><a href="#æ›¿ä»£ç”¨æ³•" class="headerlink" title="æ›¿ä»£ç”¨æ³•"></a>æ›¿ä»£ç”¨æ³•</h4><p>å¼€å‘ä¸­objectå¹¶ä¸å¸¸ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å®šä¹‰å‡½æ•°ã€å¯¹è±¡ã€æ•°ç»„çš„ç±»å‹å‘¢ï¼Ÿ</p><ol><li><p>å‡½æ•°</p><p>åŸºç¡€çš„ç”¨æ³•å¦‚ä¸‹æ‰€ç¤º</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">add</span>: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">add = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br></pre></td></tr></table></figure><p>å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨æ¥å£ï¼Œè‡ªå®šä¹‰ç±»å‹ç­‰æ–¹å¼è¿›è¡Œå®šä¹‰</p></li><li><p>å¯¹è±¡</p><p>åŸºç¡€çš„ç”¨æ³•å¦‚ä¸‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">person</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    [<span class="attr">key</span>: <span class="built_in">string</span>]: <span class="built_in">any</span>; <span class="comment">// è¡¨ç¤ºå¯ä»¥æœ‰ä»»æ„æ•°é‡çš„å…¶ä»–å±æ€§ï¼Œä½†æ˜¯keyå¿…é¡»æ˜¯stringç±»å‹</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­çš„<code>key</code>å…¶å®åªæ˜¯ä¸ªæ ‡è¯†ç¬¦ï¼Œæ¢ä»€ä¹ˆéƒ½å¯ä»¥</p></blockquote></li><li><p>æ•°ç»„</p><p>åŸºç¡€ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">arr</span>: <span class="built_in">string</span>[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">arr2</span>: <span class="title class_">Array</span>&lt;<span class="built_in">string</span>&gt;;</span><br><span class="line"></span><br><span class="line">arr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line"><span class="comment">// arr = [1, 2, 3]; // Error: Type &#x27;number&#x27; is not assignable to type &#x27;string&#x27;.</span></span><br><span class="line"></span><br><span class="line">arr2 = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line"><span class="comment">// arr2 = [1, 2, 3]; // Error: Type &#x27;number&#x27; is not assignable to type &#x27;string&#x27;.</span></span><br></pre></td></tr></table></figure><blockquote><p><code>Array&lt;string&gt;</code>å±äºæ³›å‹</p></blockquote></li></ol><h3 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h3><p><strong>tupleç±»å‹å¹¶éä¸€ä¸ªå…³é”®å­—ï¼Œå®ƒåªæ˜¯ä¸€ç§å½¢å¼</strong>ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ç§ç‰¹æ®Šçš„æ•°ç»„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> tuple;</span><br><span class="line"><span class="keyword">let</span> tuple2;</span><br><span class="line"><span class="keyword">let</span> tuple3; <span class="comment">// è¡¨ç¤ºå¯ä»¥é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ å¤–ï¼Œè¿˜å¯ä»¥æœ‰ä»»æ„å¤šä¸ªstringç±»å‹çš„å…ƒç´ </span></span><br><span class="line">tuple = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>];</span><br><span class="line"><span class="comment">// tuple = [1, &#x27;hello&#x27;, 2]; // Error ä¸èƒ½å°†ç±»å‹â€œ[number, string, number]â€åˆ†é…ç»™ç±»å‹â€œ[number, string]â€</span></span><br><span class="line"><span class="comment">// tuple = [&#x27;hello&#x27;, 1]; // Error ä¸èƒ½å°†ç±»å‹â€œ[string, number]â€åˆ†é…ç»™ç±»å‹â€œ[number, string]â€</span></span><br><span class="line">tuple2 = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>];</span><br><span class="line">tuple2 = [<span class="number">1</span>];</span><br><span class="line"><span class="comment">// tuple2 = [&quot;hello&quot;]; // Error ä¸èƒ½å°†ç±»å‹â€œ[string]â€åˆ†é…ç»™ç±»å‹â€œ[number, string?]â€</span></span><br><span class="line">tuple3 = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>];</span><br><span class="line">tuple3 = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>];</span><br><span class="line">tuple3 = [<span class="number">1</span>];</span><br><span class="line">tuple3 = [<span class="number">1</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;foo&quot;</span>];</span><br><span class="line"><span class="comment">// tuple3 = [&quot;hello&quot;]; // Error ä¸èƒ½å°†ç±»å‹â€œ[string]â€åˆ†é…ç»™ç±»å‹â€œ[number, ...string[]]â€</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> tuple, <span class="keyword">typeof</span> tuple2, <span class="keyword">typeof</span> tuple3); <span class="comment">// object object object</span></span><br></pre></td></tr></table></figure><h3 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h3><h4 id="å›°å¢ƒ"><a href="#å›°å¢ƒ" class="headerlink" title="å›°å¢ƒ"></a>å›°å¢ƒ</h4><p>enumè¡¨ç¤ºæšä¸¾ç±»å‹ï¼Œç”¨äºå®šä¹‰<strong>ä¸€ç»„å‘½åçš„å¸¸é‡</strong>ï¼Œèƒ½å¢å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œè®©ä»£ç æ›´å¥½ç»´æŠ¤ã€‚</p><p>å¸¸è§çš„å›°å¢ƒå¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getDirection</span>(<span class="params">direction: <span class="built_in">string</span></span>): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Up&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘ä¸Š&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Down&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘ä¸‹&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Left&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘å·¦&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;Right&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘å³&quot;</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å…¶ä»–æ–¹å‘&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç è™½ç„¶é€»è¾‘ä¸Šæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æ— æ³•é˜²æ­¢å‡ºç°å†™é”™çš„éšæ‚£ï¼Œä¸”ä»£ç çš„å¯è¯»æ€§ä¹Ÿæ¯”è¾ƒå·®ã€‚å¯ä»¥é€šè¿‡æšä¸¾ç±»å‹å°†æ‰€æœ‰æ–¹å‘ä¿¡æ¯è£…å…¥ä¸€ä¸ªç±»å‹ä¸­ã€‚</p><h4 id="æ•°å­—æšä¸¾"><a href="#æ•°å­—æšä¸¾" class="headerlink" title="æ•°å­—æšä¸¾"></a>æ•°å­—æšä¸¾</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span>,</span><br><span class="line">    <span class="title class_">Down</span>,</span><br><span class="line">    <span class="title class_">Left</span>,</span><br><span class="line">    <span class="title class_">Right</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>);</span><br></pre></td></tr></table></figure><p>æ‰“å°å¾—åˆ°çš„ç»“æœä¸ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  &#x27;<span class="number">0</span>&#x27;<span class="punctuation">:</span> &#x27;Up&#x27;<span class="punctuation">,</span>   </span><br><span class="line">  &#x27;<span class="number">1</span>&#x27;<span class="punctuation">:</span> &#x27;Down&#x27;<span class="punctuation">,</span> </span><br><span class="line">  &#x27;<span class="number">2</span>&#x27;<span class="punctuation">:</span> &#x27;Left&#x27;<span class="punctuation">,</span> </span><br><span class="line">  &#x27;<span class="number">3</span>&#x27;<span class="punctuation">:</span> &#x27;Right&#x27;<span class="punctuation">,</span></span><br><span class="line">  Up<span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span>       </span><br><span class="line">  Down<span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span>     </span><br><span class="line">  Left<span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span>     </span><br><span class="line">  Right<span class="punctuation">:</span> <span class="number">3</span>     </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°è¾“å‡ºå¯ä»¥çœ‹å‡ºDirectionæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”æ ‡å·ä»0å¼€å§‹é€’å¢ï¼Œä¸”å…·æœ‰åèº«æ€§ã€‚</p><p>å®šä¹‰å¥½Directionåï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span>,</span><br><span class="line">    <span class="title class_">Down</span>,</span><br><span class="line">    <span class="title class_">Left</span>,</span><br><span class="line">    <span class="title class_">Right</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getDirection</span>(<span class="params">direction: Direction</span>): <span class="built_in">string</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> (direction) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Up</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘ä¸Š&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Down</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘ä¸‹&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Left</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘å·¦&quot;</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="title class_">Direction</span>.<span class="property">Right</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å‘å³&quot;</span>;</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å…¶ä»–æ–¹å‘&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ”¹å†™åçš„å¥½å¤„åœ¨äºä»£ç çš„å¯è¯»æ€§å˜é«˜ï¼Œä¸”å†™ä»£ç çš„æ—¶å€™ä¼šå‡ºç°é€‰æ‹©é¡¹ï¼ˆåªèƒ½ä»å®šä¹‰çš„ç±»å‹ä¸­é€‰æ‹©ï¼Œæ— å…¶ä»–é€‰é¡¹ï¼‰ï¼Œå¯ä»¥æœç»å†™é”™çš„æƒ…å†µã€‚</p><p>å¦‚æœè¦æ›´æ”¹é€’å¢çš„å¼€å§‹æ•°å­—ï¼Œå¯ä»¥ä¿®æ”¹ç¬¬ä¸€ä¸ªå˜é‡çš„èµ‹å€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span> = <span class="number">10</span>,</span><br><span class="line">    <span class="title class_">Down</span>,</span><br><span class="line">    <span class="title class_">Left</span>,</span><br><span class="line">    <span class="title class_">Right</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>)</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„æ‰“å°ç»“æœä¸º</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  &#x27;<span class="number">10</span>&#x27;<span class="punctuation">:</span> &#x27;Up&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;<span class="number">11</span>&#x27;<span class="punctuation">:</span> &#x27;Down&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;<span class="number">12</span>&#x27;<span class="punctuation">:</span> &#x27;Left&#x27;<span class="punctuation">,</span></span><br><span class="line">  &#x27;<span class="number">13</span>&#x27;<span class="punctuation">:</span> &#x27;Right&#x27;<span class="punctuation">,</span></span><br><span class="line">  Up<span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span></span><br><span class="line">  Down<span class="punctuation">:</span> <span class="number">11</span><span class="punctuation">,</span></span><br><span class="line">  Left<span class="punctuation">:</span> <span class="number">12</span><span class="punctuation">,</span></span><br><span class="line">  Right<span class="punctuation">:</span> <span class="number">13</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬æ— éœ€å…³å¿ƒå®ƒå®é™…ä»£è¡¨çš„å–å€¼</p></blockquote><h4 id="å­—ç¬¦ä¸²æšä¸¾"><a href="#å­—ç¬¦ä¸²æšä¸¾" class="headerlink" title="å­—ç¬¦ä¸²æšä¸¾"></a>å­—ç¬¦ä¸²æšä¸¾</h4><p>enumä¸­çš„å˜é‡å€¼å¯ä»¥ä¸ç”¨numberï¼Œä½¿ç”¨string</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span> = <span class="string">&quot;Up&quot;</span>,</span><br><span class="line">    <span class="title class_">Down</span> = <span class="string">&quot;Down&quot;</span>,</span><br><span class="line">    <span class="title class_">Left</span> = <span class="string">&quot;Left&quot;</span>,</span><br><span class="line">    <span class="title class_">Right</span> = <span class="string">&quot;Right&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>)</span><br></pre></td></tr></table></figure><p>æ‰“å°å¾—åˆ°çš„ç»“æœå¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">enum Direction <span class="punctuation">&#123;</span></span><br><span class="line">    Up = <span class="string">&quot;Up&quot;</span><span class="punctuation">,</span></span><br><span class="line">    Down = <span class="string">&quot;Down&quot;</span><span class="punctuation">,</span></span><br><span class="line">    Left = <span class="string">&quot;Left&quot;</span><span class="punctuation">,</span></span><br><span class="line">    Right = <span class="string">&quot;Right&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä»è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼Œè¿™æ ·åšä¹‹åå°±ä¸å†å…·æœ‰åèº«æ€§</p><h4 id="å¸¸é‡æšä¸¾"><a href="#å¸¸é‡æšä¸¾" class="headerlink" title="å¸¸é‡æšä¸¾"></a>å¸¸é‡æšä¸¾</h4><p>å¦‚æœåŸºæœ¬çš„ç”¨æ³•æ¥è¯´ï¼Œç¼–è¯‘å¾—åˆ°çš„jså¯èƒ½ä¼šå‡ºç°å¾ˆå¤šå†—ä½™çš„ä»£ç </p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span> = <span class="string">&quot;Up&quot;</span>,</span><br><span class="line">    <span class="title class_">Down</span> = <span class="string">&quot;Down&quot;</span>,</span><br><span class="line">    <span class="title class_">Left</span> = <span class="string">&quot;Left&quot;</span>,</span><br><span class="line">    <span class="title class_">Right</span> = <span class="string">&quot;Right&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>.<span class="property">Up</span>);</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„jså¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Direction</span>;</span><br><span class="line">(<span class="keyword">function</span> (<span class="params">Direction</span>) &#123;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="string">&quot;Up&quot;</span>] = <span class="string">&quot;Up&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="string">&quot;Down&quot;</span>] = <span class="string">&quot;Down&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="string">&quot;Left&quot;</span>] = <span class="string">&quot;Left&quot;</span>;</span><br><span class="line">    <span class="title class_">Direction</span>[<span class="string">&quot;Right&quot;</span>] = <span class="string">&quot;Right&quot;</span>;</span><br><span class="line">&#125;)(<span class="title class_">Direction</span> || (<span class="title class_">Direction</span> = &#123;&#125;));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>.<span class="property">Up</span>);</span><br></pre></td></tr></table></figure><p>åœ¨jsä¸­æˆ‘ä»¬å¾—åˆ°äº†æ•´ä¸ªæšä¸¾ç±»å‹çš„è½¬æ„ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œæˆ‘ä»¬åªä½¿ç”¨äº†<code>Direction.Up</code>è¿™ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå…¶ä»–ä¿¡æ¯å°±æ˜¯å†—ä½™çš„ã€‚</p><p>æ”¹è¿›çš„æ–¹æ³•å°±æ˜¯åœ¨enumå‰é¢æ·»åŠ ä¸€ä¸ªconstå…³é”®å­—</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="title class_">Up</span> = <span class="string">&quot;Up&quot;</span>,</span><br><span class="line">    <span class="title class_">Down</span> = <span class="string">&quot;Down&quot;</span>,</span><br><span class="line">    <span class="title class_">Left</span> = <span class="string">&quot;Left&quot;</span>,</span><br><span class="line">    <span class="title class_">Right</span> = <span class="string">&quot;Right&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Direction</span>.<span class="property">Up</span>);</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å¾—åˆ°çš„jså°±ä¼šåˆ é™¤å¤šä½™çš„å†—ä½™éƒ¨åˆ†ï¼ˆä¼šç•™ä¸‹æç¤ºï¼‰ï¼Œæ˜¾è‘—é™ä½ä»£ç é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Up&quot;</span> <span class="comment">/* Direction.Up */</span>);</span><br></pre></td></tr></table></figure><blockquote><p>å®˜æ–¹çš„æè¿°ï¼šå¸¸é‡æšä¸¾æ˜¯ä¸€ç§ç‰¹æ®Šçš„æšä¸¾ç±»å‹ï¼Œä»–ä½¿ç”¨constå…³é”®å­—å®šä¹‰ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šè¢«å†…è”ï¼Œé¿å…ç”Ÿæˆä¸€äº›é¢å¤–çš„ä»£ç </p><p>ä½•ä¸ºç¼–è¯‘æ—¶çš„å†…è”ï¼Ÿ</p><p>TypeScriptåœ¨ç¼–è¯‘æ—¶ï¼Œä¼šè®²æšä¸¾æˆå‘˜å¼•ç”¨æ›¿æ¢ä¸ºå®ƒä»¬çš„å®é™…å€¼ï¼Œè€Œä¸æ˜¯ç”Ÿæˆé¢å¤–çš„æšä¸¾å¯¹è±¡ã€‚è¿™æ ·å¯ä»¥å‡å°‘ç”Ÿæˆçš„JavaScriptä»£ç é‡ï¼Œæé«˜è¿è¡Œæ—¶å€™çš„æ€§èƒ½ã€‚</p></blockquote><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>typeçš„ä½œç”¨æ˜¯ç”¨äºç»™ç±»å‹èµ·åˆ«åï¼Œè¿™å¯ä»¥ä½¿ç¼–å†™ä»£ç æ›´åŠ çš„é«˜æ•ˆï¼Œå¢å¼ºä»£ç å¯è¯»æ€§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// typeçš„ä½œç”¨æ˜¯ç»™ç±»å‹èµ·åˆ«å</span></span><br><span class="line"><span class="keyword">type</span> shuzi = <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">num</span>: shuzi = <span class="number">123</span>;</span><br></pre></td></tr></table></figure><h4 id="å†…è”ç±»å‹"><a href="#å†…è”ç±»å‹" class="headerlink" title="å†…è”ç±»å‹"></a>å†…è”ç±»å‹</h4><p>å°†å¤šä¸ªå¯èƒ½çš„ç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°ç±»å‹ï¼Œè¿™ä¸ªç±»å‹å¯ä»¥æ˜¯å¤šä¸ªç±»å‹ä¸­çš„ä»»æ„ä¸€ä¸ªï¼ˆç±»å‹ä¸ç±»å‹ä¹‹é—´æ˜¯æˆ–çš„å…³ç³»ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> shuzi = <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">type</span> zifu = <span class="built_in">string</span> | <span class="built_in">boolean</span>;</span><br><span class="line"><span class="keyword">type</span> gender = <span class="string">&quot;ç”·&quot;</span> | <span class="string">&quot;å¥³&quot;</span> | <span class="string">&quot;ä¿å¯†&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">shuzi1</span>: shuzi = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">shuzi2</span>: shuzi = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">zifu1</span>: zifu = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">zifu2</span>: zifu = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">gender1</span>: gender = <span class="string">&quot;ä¿å¯†&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">gender2</span>: gender = <span class="string">&quot;ç”·&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">gender3</span>: gender = <span class="string">&quot;å¥³&quot;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç genderç±»å‹å¡«å†™å…·ä½“å€¼æ—¶ä¼šå‡ºç°æç¤ºé€‰æ‹©ã€‚</p></blockquote><h4 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h4><p>å°†å¤šä¸ªå¯èƒ½çš„ç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªæ–°ç±»å‹ï¼Œè¿™ä¸ªç±»å‹å¿…é¡»æ»¡è¶³æ‰€æœ‰ç±»å‹çš„è¦æ±‚ï¼ˆç±»å‹ä¸ç±»å‹ä¹‹é—´æ˜¯ä¸”çš„å…³ç³»ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Address</span> = &#123;</span><br><span class="line">    <span class="attr">city</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">country</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> demo = <span class="title class_">Person</span> &amp; <span class="title class_">Address</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦æ»¡è¶³Perosnå’ŒAddressæ‰€æœ‰çš„è¦æ±‚</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">info</span>: demo = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&quot;New York&quot;</span>,</span><br><span class="line">    <span class="attr">country</span>: <span class="string">&quot;USA&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚æœäº¤å‰ç±»å‹çš„ç±»å‹ä¹‹é—´ä¸å­˜åœ¨äº¤é›†ï¼Œé‚£ä¹ˆtsä¼šè‡ªåŠ¨æ¨æ–­ä¸ºnever</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> demo = <span class="built_in">string</span> &amp; <span class="built_in">number</span></span><br></pre></td></tr></table></figure><h3 id="ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ"><a href="#ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ" class="headerlink" title="ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ"></a>ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ</h3><p>åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è§„å®šäº†å‡½æ•°çš„è¿”å›å€¼ä¸º<code>void</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addNumber</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a + b);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>; <span class="comment">// OK</span></span><br><span class="line">    <span class="comment">// return 999; // Error: ä¸èƒ½å°†ç±»å‹&quot;number&quot;åˆ†é…ç»™ç±»å‹&quot;void&quot;</span></span><br><span class="line">    <span class="comment">// return null; // Error: ä¸èƒ½å°†ç±»å‹&quot;null&quot;åˆ†é…ç»™ç±»å‹&quot;void&quot;</span></span><br><span class="line">    <span class="comment">// return [] // Error: ä¸èƒ½å°†ç±»å‹&quot;never[]&quot;åˆ†é…ç»™ç±»å‹&quot;void&quot;</span></span><br><span class="line">    <span class="comment">// return &#123;&#125; // Error: ä¸èƒ½å°†ç±»å‹&quot;&#123;&#125;&quot;åˆ†é…ç»™ç±»å‹&quot;void&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™ï¼ŒæŒ‰ç…§åœ¨ä¸Šæ–‡ä¸­ä»‹ç»çš„<code>void</code>çš„ä½¿ç”¨è§„åˆ™æ²¡æœ‰å‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œå®ƒè¿˜æ˜¯åªèƒ½æ¥å—<code>undefined</code>ä½œä¸ºè¿”å›å€¼ã€‚</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬é‡‡ç”¨åœ¨<code>object</code>ä¸­çš„æ–¹æ³•ï¼Œå…ˆå®šä¹‰å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸º<code>void</code>ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å¦‚ä¸‹çš„åå¸¸ç°è±¡ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">add</span>: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="number">999</span>;</span><br><span class="line"></span><br><span class="line">add = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">999</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">999</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œå³ä¾¿æ˜¯è§„å®šäº†å‡½æ•°è¿”å›å€¼ä¸º<code>void</code>ï¼Œä½†æ˜¯è¿˜æ˜¯èƒ½å¤Ÿè¿”å›é™¤äº†<code>undefined</code>çš„å…¶ä»–ä»»æ„å€¼ã€‚</p><p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æè¿°ï¼Œè¿™æ˜¯ä¸ºäº†å…¼å®¹å¦‚ä¸‹çš„æƒ…å†µ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> src = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> dst = [<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">src.<span class="title function_">forEach</span>(<span class="function">(<span class="params">el</span>) =&gt;</span> dst.<span class="title function_">push</span>(el));</span><br></pre></td></tr></table></figure><p>forEachçš„æ–‡æ¡£ä¸º</p><blockquote><p>(method) Array*&lt;<em>number*&gt;</em>.forEach(callbackfn: (value*:* <em>number</em>, index*:* <em>number</em>, array*:* <em>number</em>[]) <em>&#x3D;&gt;</em> <em>void</em>, thisArg*?:* any): <em>void</em></p></blockquote><p>å¯ä»¥çœ‹åˆ°callbackfnçš„è¿”å›å€¼ä¸ºvoidï¼Œä½†æ˜¯<code>(el) =&gt; dst.push(el)</code>æ–¹æ³•å¾—åˆ°çš„è¿”å›å€¼æ˜¯dstçš„é•¿åº¦ï¼Œè¿™æ ·ä¼šå‡ºç°ä¸å…¼å®¹çš„æƒ…å†µï¼Œè¿™ç®—æ˜¯ä¸€ä¸ªå¦¥åã€‚</p><p>ä½†æ˜¯è¿”å›å€¼è¿˜æ˜¯ç¬¦åˆvoidå€¼æ— æ³•è¢«ä½¿ç”¨çš„æƒ…å†µã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">add</span>: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line">add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="number">999</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">add</span>(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(result)&#123; <span class="comment">// Error,æ— æ³•æµ‹è¯•&quot;void&quot;ç±»å‹è¡¨è¾¾å€¼çš„çœŸå®æ€§</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> resultPlus = result + <span class="number">100</span>; <span class="comment">// Error: è¿ç®—ç¬¦&quot;+&quot;ä¸èƒ½åº”ç”¨äºç±»å‹&quot;void&quot;å’Œ&quot;number&quot;ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="å¤ä¹ ç±»çš„çŸ¥è¯†"><a href="#å¤ä¹ ç±»çš„çŸ¥è¯†" class="headerlink" title="å¤ä¹ ç±»çš„çŸ¥è¯†"></a>å¤ä¹ ç±»çš„çŸ¥è¯†</h3><p>åœ¨tsä¸­ï¼Œç±»çš„å®šä¹‰å’Œjsæ²¡æœ‰æ˜æ˜¾çš„ä¸åŒï¼Œæ¯”è¾ƒæ˜æ˜¾çš„ä¸åŒåœ¨ä½¿ç”¨<code>constructor</code>çš„æ—¶å€™ï¼Œéœ€è¦å…ˆåœ¨ç±»çš„å¼€å¤´ç”³æ˜ã€‚é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>override</code>æ¥è·å–é‡å†™çš„æç¤ºã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">say</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old.`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p);</span><br><span class="line">p.<span class="title function_">say</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="attr">grade</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span>, grade: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="comment">// å°†å‚æ•°ä¼ é€’ç»™çˆ¶ç±»</span></span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">study</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am studying.`</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é‡æ„çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">override</span> <span class="title function_">say</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">            <span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old, I am a student.`</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Jerry&quot;</span>, <span class="number">20</span>, <span class="string">&quot;å¤§ä¸‰&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu);</span><br><span class="line">stu.<span class="title function_">say</span>();</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨tsä¸­ï¼Œ<code>constructor</code>æœ‰ä¸€ä¸ªç®€å†™æ–¹æ³•ï¼Œè¿™åœ¨åæ–‡çš„å±æ€§ä¿®é¥°ç¬¦ä¸­ä¼šè®²åˆ°</p></blockquote><h3 id="å±æ€§ä¿®é¥°ç¬¦"><a href="#å±æ€§ä¿®é¥°ç¬¦" class="headerlink" title="å±æ€§ä¿®é¥°ç¬¦"></a>å±æ€§ä¿®é¥°ç¬¦</h3><p>å±æ€§ä¿®é¥°ç¬¦æ˜¯ç”¨æ¥é™å®šç±»ä¸­å±æ€§ä¸æ–¹æ³•çš„æƒé™ï¼Œå†™åœ¨ç±»å±æ€§æˆ–è€…æ–¹æ³•ä¹‹å‰ï¼Œä¾‹å¦‚<code>public name: string;</code></p><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>å«ä¹‰</th><th>å…·ä½“è§„åˆ™</th></tr></thead><tbody><tr><td>public</td><td>å…¬å¼€çš„</td><td>å¯ä»¥è¢«ï¼šå†…éƒ¨ç±»ã€å­ç±»ã€ç±»å¤–éƒ¨è®¿é—®</td></tr><tr><td>protected</td><td>å—ä¿æŠ¤çš„</td><td>å¯ä»¥è¢«ï¼šç±»å†…éƒ¨ã€å­ç±»è®¿é—®</td></tr><tr><td>private</td><td>ç§æœ‰çš„</td><td>å¯ä»¥è¢«ï¼šç±»å†…éƒ¨è®¿é—®</td></tr><tr><td>readonly</td><td>åªè¯»å±æ€§</td><td>å±æ€§æ— æ³•ä¿®æ”¹</td></tr></tbody></table><h4 id="public"><a href="#public" class="headerlink" title="public"></a>public</h4><p>é¡¾åæ€ä¹‰ï¼Œå³è¡¨ç¤ºå±æ€§æ˜¯å…¬å¼€çš„ï¼Œå¦‚æœä¸é™å®šå±æ€§çš„ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆtsé»˜è®¤è®¤å®šå±æ€§è¢«<code>public</code>æ‰€ä¿®é¥°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">say</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old.`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="attr">grade</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span>, grade: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">study</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I am a student. I am studying.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="comment">// éƒ½ä¸ä¼šæŠ¥é”™</span></span><br><span class="line">p.<span class="property">name</span>;</span><br><span class="line">p.<span class="property">age</span>;</span><br><span class="line">p.<span class="property">grade</span>;</span><br><span class="line">p.<span class="title function_">say</span>();</span><br><span class="line">p.<span class="title function_">study</span>();</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå±æ€§æœ‰å±æ€§å†™äº†ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆä¸å»ºè®®çœç•¥<code>public</code></p></blockquote><h4 id="å±æ€§çš„ç®€å†™å½¢å¼"><a href="#å±æ€§çš„ç®€å†™å½¢å¼" class="headerlink" title="å±æ€§çš„ç®€å†™å½¢å¼"></a>å±æ€§çš„ç®€å†™å½¢å¼</h4><p>åœ¨tsä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å½¢å¼ç®€å†™<code>constructor</code>å‡½æ•°</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ç±»å &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">ä¿®é¥°ç¬¦ A: ç±»å‹, ä¿®é¥°ç¬¦ B: ç±»å‹</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†ä¸Šæ–‡ä¸­ç±»çš„ä»£ç ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span>, <span class="keyword">public</span> age: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">say</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I am <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old.`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="comment">// ç®€å†™å½¢å¼</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> name: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> age: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> grader: <span class="built_in">string</span></span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">study</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I am a student. I am studying.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­ç±»ä¸­ï¼Œå¦‚æœéœ€è¦æ–°ä¼ å…¥å±æ€§ï¼Œé‚£ä¹ˆåœ¨æ„é€ å‡½æ•°<code>constructor</code>ä¸­<code>super()</code>æ˜¯æ— æ³•çœç•¥çš„ã€‚</p></blockquote><h4 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h4><p><code>protected</code>ç›´è¯‘ä¸ºæ”¶åˆ°ä¿æŠ¤çš„ï¼Œå«ä¹‰æ˜¯é™åˆ¶å¤–éƒ¨çš„è®¿é—®</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">protected</span> name: <span class="built_in">string</span>, <span class="keyword">protected</span> age: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">getDetails</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`Name: <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, Age: <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">introduce</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="title function_">getDetails</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span>, age: <span class="built_in">number</span>, <span class="keyword">protected</span> grade: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">study</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="comment">// å¯ä»¥è°ƒç”¨çˆ¶ç±»å—åˆ°protectedä¿®é¥°çš„æ–¹æ³•</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">introduce</span>();</span><br><span class="line">        <span class="comment">// å¯ä»¥è°ƒç”¨çˆ¶ç±»å—åˆ°protectedä¿®é¥°çš„å±æ€§</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is studying`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">30</span>);</span><br><span class="line">p1.<span class="title function_">introduce</span>(); <span class="comment">// Name: Alice, Age: 30</span></span><br><span class="line">p1.<span class="property">name</span>; <span class="comment">// å±æ€§nameå—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br><span class="line">p1.<span class="property">age</span>; <span class="comment">// å±æ€§ageå—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br><span class="line">p1.<span class="title function_">getDetails</span>(); <span class="comment">// æ–¹æ³•â€œgetDetailsâ€å—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">20</span>, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">s1.<span class="title function_">study</span>(); <span class="comment">// Name: Bob, Age: 20 Bob is studying</span></span><br><span class="line">s1.<span class="property">name</span>; <span class="comment">// å±æ€§nameå—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br><span class="line">s1.<span class="property">age</span>; <span class="comment">// å±æ€§ageå—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br><span class="line">s1.<span class="property">grade</span>; <span class="comment">// å±æ€§gradeå—ä¿æŠ¤ï¼Œåªèƒ½åœ¨ç±»â€œStudentâ€åŠå…¶å­ç±»ä¸­è®¿é—®</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>age</code>å’Œ<code>name</code>æ˜¯æ”¶ä¿æŠ¤çš„å±æ€§ï¼Œå®ƒèƒ½å¤Ÿè¢«ç±»å†…éƒ¨å’Œç»§æ‰¿ç±»<code>Student</code>è°ƒç”¨ï¼Œä½†æ˜¯æ— æ³•è¢«å¤–éƒ¨è°ƒç”¨ã€‚åœ¨<code>Student</code>ç±»ä¸­è°ƒç”¨äº†<code>introduce</code>æ–¹æ³•ï¼Œ<code>introduce</code>åˆå®ç°äº†æ”¶ä¿æŠ¤çš„<code>getDetails</code>æ–¹æ³•ï¼Œè¿™è¯´æ˜ç»§æ‰¿ç±»èƒ½å¤Ÿè°ƒç”¨çˆ¶ç±»ä¸­å—åˆ°ä¿æŠ¤çš„<code>protected</code>æ–¹æ³•ã€‚å®ƒä»¬éƒ½ä¸èƒ½è¢«å¤–éƒ¨è°ƒç”¨ã€‚</p><h4 id="private"><a href="#private" class="headerlink" title="private"></a>private</h4><p>æ„å‘³ç§æœ‰çš„ï¼Œåªèƒ½åœ¨å½“å‰ç±»ä¸­è¢«è®¿é—®ï¼Œä¸èƒ½è¢«å­ç±»å’Œå¤–éƒ¨è®¿é—®ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> name: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> age: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">private</span> idCard: <span class="built_in">string</span></span></span><br><span class="line"><span class="params">    </span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">getPrivateInfo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`My ID card is <span class="subst">$&#123;<span class="variable language_">this</span>.idCard&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getInfo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I&#x27;m <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getFullInfo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.getInfo()&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.getPrivateInfo()&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="title function_">getStudentInfo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">idCard</span>; <span class="comment">// å±æ€§â€œidCardâ€ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€ä¸­è®¿é—®</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">getPrivateInfo</span>(); <span class="comment">// å±æ€§â€œgetPrivateInfoâ€ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€ä¸­è®¿é—®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getFullInfo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">20</span>, <span class="string">&quot;123456789&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="title function_">getInfo</span>()); <span class="comment">// My name is Alice, I&#x27;m 20 years old</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="title function_">getFullInfo</span>()); <span class="comment">// My name is Alice, I&#x27;m 20 years old, My ID card is 123456789</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">idCard</span>); <span class="comment">// å±æ€§â€œidCardâ€ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€ä¸­è®¿é—®ã€‚</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="title function_">getPrivateInfo</span>()); <span class="comment">// console.log(p1.idCard); // å±æ€§â€œidCardâ€ä¸ºç§æœ‰å±æ€§ï¼Œåªèƒ½åœ¨ç±»â€œPersonâ€ä¸­è®¿é—®ã€‚</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œç§æœ‰æ–¹æ³•<code>getPrivateInfo</code>å¯ä»¥è¢«ç±»ä¸­çš„<code>getFullInfo</code>è°ƒç”¨ï¼Œä½†æ˜¯æ— æ³•è¢«ç»§æ‰¿çš„<code>Student</code>å’Œå¤–éƒ¨è°ƒç”¨ã€‚ç§æœ‰å±æ€§<code>idCard</code>å¯ä»¥è¢«ç±»ä¸­çš„ç§æœ‰æ–¹æ³•<code>getPrivateInfo</code>è°ƒç”¨ï¼Œä½†æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„<code>Student</code>å’Œå¤–éƒ¨è°ƒç”¨ã€‚</p><blockquote><p>å®é™…ä¸Šï¼Œåœ¨å¤–éƒ¨è°ƒç”¨<code>getFullInfo</code>é—´æ¥è°ƒç”¨äº†<code>getPrivateInfo</code>æ–¹æ³•</p></blockquote><h4 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h4><p>é¡¾åæ€ä¹‰ï¼Œå³åªå¯è¯»çš„ï¼Œä¸å¯è¢«ä¿®æ”¹ï¼Œå†™åœ¨å±æ€§ä¿®é¥°ç¬¦ä¹‹åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> name: <span class="built_in">string</span>, </span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> <span class="keyword">readonly</span> age: <span class="built_in">number</span></span></span><br><span class="line"><span class="params">    </span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getInfo</span>(): <span class="built_in">string</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;John&#x27;</span>, <span class="number">30</span>);</span><br><span class="line">person.<span class="title function_">getInfo</span>(); <span class="comment">// John is 30 years old</span></span><br><span class="line"></span><br><span class="line">person.<span class="property">name</span> = <span class="string">&#x27;Tom&#x27;</span>; <span class="comment">// OK</span></span><br><span class="line">person.<span class="title function_">getInfo</span>(); <span class="comment">// Tom is 30 years old</span></span><br><span class="line">person.<span class="property">age</span> = <span class="number">31</span>; <span class="comment">// æ— æ³•ä¸ºâ€œageâ€èµ‹å€¼ï¼Œå› ä¸ºå®ƒæ˜¯åªè¯»å±æ€§ã€‚</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼ŒPersonçš„<code>age</code>å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œå› æ­¤æ— æ³•è¢«ä¿®æ”¹ã€‚</p><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><p>æ¦‚è¿°ï¼šæŠ½è±¡ç±»æ˜¯ä¸€ç§<strong>æ— æ³•è¢«å®ä¾‹åŒ–çš„ç±»</strong>ï¼Œä¸“é—¨ç”¨æ¥å®šä¹‰ç±»çš„ç»“æ„å’Œè¡Œä¸ºï¼Œ<strong>ç±»ä¸­å¯ä»¥å†™æŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å…·ä½“å®ç°</strong>ï¼Œæ‹™è±¡ç±»ä¸»è¦ç”¨æ¥ä¸ºå…¶æ´¾ç”Ÿç±»æä¾›ä¸€ä¸ªåŸºç¡€ç»“æ„ï¼Œè¦æ±‚å…¶æ´¾ç”Ÿç±»å¿…é¡»å®ç°å…¶ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚</p><blockquote><p>ç®€è®°ï¼šæŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼Œå…¶æ„ä¹‰æ˜¯å¯ä»¥è¢«ç»§æ‰¿ï¼ŒæŠ½è±¡ç±»é‡Œå¯ä»¥æœ‰æ™®é€šæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æœ‰æŠ½è±¡æ–¹æ³• </p></blockquote><p>é™å®šä¸€ä¸ªæŠ½è±¡çš„<code>package</code>å¯¹è±¡</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Package</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> weight: <span class="built_in">number</span></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">calculate</span>(): <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">printPackage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Weight: <span class="subst">$&#123;<span class="variable language_">this</span>.weight&#125;</span> Price: <span class="subst">$&#123;<span class="variable language_">this</span>.calculate()&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æŠ½è±¡å¯¹è±¡ä¸­ï¼Œè§„å®šäº†packageçš„<code>calculate</code>çš„è®¡ç®—æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¿…é¡»è¢«ç»§æ‰¿çš„å­ç±»å®ç°ã€‚å› ä¸º<code>printPackage</code>è°ƒç”¨äº†<code>calculate</code>è¿™ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æŠ½è±¡æ–¹æ³•å´æ²¡æœ‰å…·ä½“çš„å®ç°æ–¹å¼ï¼Œå¦‚æœæˆåŠŸè°ƒç”¨ä¼šå‡ºç°ä¸¥é‡çš„é—®é¢˜ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥è§£é‡ŠæŠ½è±¡ç±»æ˜¯ä¸èƒ½è¢«å®ä¾‹åŒ–çš„ã€‚</p><p>æ ¹æ®å¿«é€’ç§ç±»çš„ä¸åŒï¼Œå®šä¹‰<code>StandardPackage</code>å’Œ<code>ExpressPackage</code>ä¸¤ä¸ªç±»</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StandardPackage</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Package</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">weight: <span class="built_in">number</span>, <span class="keyword">public</span> unitPrice: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(weight);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">calculate</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">weight</span> * <span class="variable language_">this</span>.<span class="property">unitPrice</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ExpressPackage</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Package</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        weight: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> unitPrice: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> additional: <span class="built_in">number</span></span></span><br><span class="line"><span class="params">    </span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(weight);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">calculate</span>(): <span class="built_in">number</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">weight</span> &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">weight</span> * <span class="variable language_">this</span>.<span class="property">unitPrice</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">unitPrice</span> * <span class="number">10</span> + (<span class="variable language_">this</span>.<span class="property">weight</span> - <span class="number">10</span>) * <span class="variable language_">this</span>.<span class="property">additional</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸¤ç§å¿«é€’çš„è®¡ç®—æ–¹å¼ä¸åŒï¼Œä½†æ˜¯éƒ½éœ€è¦è®¡ç®—è´¹ç”¨è¿™ä¸ªæ–¹æ³•ã€‚å› æ­¤ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œabstractç±»ç”¨æ¥è§„å®šå­ç±»å¿…é¡»æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æœ‰ä¸åŒçš„å®ç°æ–¹å¼ï¼ˆå¯ä»¥è§£é‡Šä¸ºä»€ä¹ˆ<code>abstract</code>ä¸èƒ½æœ‰å…·ä½“çš„å®ç°æ–¹å¼ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">StandardPackage</span>(<span class="number">13</span>, <span class="number">8</span>);</span><br><span class="line">p1.<span class="title function_">printPackage</span>(); <span class="comment">// Weight: 13 Price: 104</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">ExpressPackage</span>(<span class="number">13</span>, <span class="number">8</span>, <span class="number">2</span>);</span><br><span class="line">p2.<span class="title function_">printPackage</span>(); <span class="comment">// Weight: 13 Price: 86</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½•æ—¶å¯ä»¥ä½¿ç”¨æŠ½è±¡ç±»</p><ol><li>å®šä¹‰é€šç”¨çš„æ¥å£ï¼šä¸ºä¸€ç»„ç›¸å…³çš„ç±»å®šä¹‰é€šç”¨çš„è¡Œä¸ºï¼ˆæ–¹æ³•æˆ–å±æ€§ï¼‰æ—¶</li><li>æä¾›åŸºç¡€çš„å®ç°ï¼šåœ¨æŠ½è±¡ç±»ä¸­æä¾›æŸäº›æ–¹æ³•æˆ–è€…ä¸ºå…¶æä¾›åŸºç¡€å®ç°ï¼Œè¿™æ ·æ´¾ç”Ÿç±»å°±å¯ä»¥ç»§æ‰¿è¿™äº›å®ç°</li><li>ç¡®ä¿å…³é”®å®ç°ï¼šå¼ºåˆ¶æ´¾ç”Ÿç±»å®ç°ä¸€äº›å…³é”®è¡Œä¸º</li><li>å…±äº«ä»£ç å’Œé€»è¾‘ï¼šå½“å¤šä¸ªç±»éœ€è¦å…±äº«éƒ¨åˆ†ä»£ç æ—¶ï¼ŒæŠ½è±¡ç±»å¯ä»¥é¿å…ä»£ç é‡å¤</li></ol></blockquote><h3 id="interfaceï¼ˆæ¥å£ï¼‰"><a href="#interfaceï¼ˆæ¥å£ï¼‰" class="headerlink" title="interfaceï¼ˆæ¥å£ï¼‰"></a>interfaceï¼ˆæ¥å£ï¼‰</h3><p><code>interface</code>æ˜¯ä¸€ç§å®šä¹‰ç»“æ„çš„æ–¹å¼ï¼Œä¸»è¦çš„ä½œç”¨æ˜¯ä¸ºç±»ï¼Œå¯¹è±¡ã€å‡½æ•°ç­‰è§„å®šä¸€ç§å¥‘çº¦ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿ä»£ç çš„ä¸€è‡´æ€§å’Œç±»å‹å®‰å…¨ï¼Œä½†è¦æ³¨æ„<code>interface</code>åªèƒ½å®šä¹‰æ ¼å¼ï¼Œä¸èƒ½åŒ…å«ä»»ä½•å…·ä½“å®ç°ã€‚</p><h4 id="å®šä¹‰ç±»çš„ç»“æ„"><a href="#å®šä¹‰ç±»çš„ç»“æ„" class="headerlink" title="å®šä¹‰ç±»çš„ç»“æ„"></a>å®šä¹‰ç±»çš„ç»“æ„</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="comment">// å¿…é¡»å®šä¹‰name,age</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> name: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> age: <span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">        <span class="comment">// å¯ä»¥æœ‰è‡ªå·±é¢å¤–çš„å±æ€§</span></span></span><br><span class="line"><span class="params">        <span class="keyword">public</span> grade: <span class="built_in">string</span></span></span><br><span class="line"><span class="params">    </span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¿…é¡»å®ç°sayHelloæ–¹æ³•</span></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> <span class="subst">$&#123;n&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¯ä»¥æœ‰è‡ªå·±é¢å¤–çš„æ–¹æ³•</span></span><br><span class="line">    <span class="title function_">showMyGrade</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My grade is <span class="subst">$&#123;<span class="variable language_">this</span>.grade&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;John&quot;</span>, <span class="number">30</span>, <span class="string">&quot;A&quot;</span>);</span><br><span class="line">p.<span class="title function_">sayHello</span>(<span class="number">10</span>); <span class="comment">// Hello John 10</span></span><br><span class="line">p.<span class="title function_">showMyGrade</span>(); <span class="comment">// My grade is A</span></span><br></pre></td></tr></table></figure><p>æ¥å£<code>PersonInterface</code>å®šä¹‰äº†å®ç°ç±»çš„ä¸€äº›çº¦æŸï¼Œå®ç°ç±»å¿…é¡»å®ç°è¿™äº›çº¦æŸï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„æ–¹æ³•ã€‚</p><blockquote><p>æ¥å£æœ‰ä¸¤ç§å¸¸ç”¨çš„å‘½åè§„èŒƒï¼š</p><ol><li>åœ¨æ¥å£åå‰æ·»åŠ <code>I</code>ï¼Œå¦‚<code>IPerson</code></li><li>åœ¨æ¥å£ååæ·»åŠ <code>Interface</code>ï¼Œå¦‚<code>PersonInterface</code></li></ol></blockquote><h4 id="å®šä¹‰å¯¹è±¡çš„ç»“æ„"><a href="#å®šä¹‰å¯¹è±¡çš„ç»“æ„" class="headerlink" title="å®šä¹‰å¯¹è±¡çš„ç»“æ„"></a>å®šä¹‰å¯¹è±¡çš„ç»“æ„</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">run</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>: <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="function">(<span class="params">n: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;person.name&#125;</span> is running <span class="subst">$&#123;n&#125;</span> miles`</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å¯¹è±¡å­—é¢é‡åªèƒ½æŒ‡å®šå·²çŸ¥å±æ€§ï¼Œå¹¶ä¸”â€œsayHiâ€ä¸åœ¨ç±»å‹â€œPersonInterfaceâ€ä¸­</span></span><br><span class="line">    <span class="comment">// sayHi ():void &#123;</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;Hi&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;;</span><br><span class="line">person.<span class="title function_">run</span>(<span class="number">5</span>); <span class="comment">// John is running 5 miles</span></span><br></pre></td></tr></table></figure><p>å¯¹è±¡åœ¨ç»§æ‰¿æ¥å£çš„æ—¶å€™ä¸éœ€è¦ä½¿ç”¨<code>implements</code>ï¼Œ<strong>ä¸”<code>person</code>å¯¹è±¡ä¸èƒ½å‡ºç°<code>PersonInterface</code>è§„å®šä¹‹å¤–çš„å…¶ä»–å±æ€§å’Œæ–¹æ³•ã€‚è¿™ç§æ¥å£çš„ä½œç”¨å’Œ<code>type</code>çš„ä½œç”¨å‡ ä¹æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</strong></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">run</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>: <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="function">(<span class="params">n: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;person.name&#125;</span> is running <span class="subst">$&#123;n&#125;</span> miles`</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// å¯¹è±¡å­—é¢é‡åªèƒ½æŒ‡å®šå·²çŸ¥å±æ€§ï¼Œå¹¶ä¸”â€œsayHiâ€ä¸åœ¨ç±»å‹â€œPersonInterfaceâ€ä¸­</span></span><br><span class="line">    <span class="comment">// sayHi ():void &#123;</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;Hi&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;;</span><br><span class="line">person.<span class="title function_">run</span>(<span class="number">5</span>); <span class="comment">// John is running 5 miles</span></span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰å‡½æ•°çš„ç»“æ„"><a href="#å®šä¹‰å‡½æ•°çš„ç»“æ„" class="headerlink" title="å®šä¹‰å‡½æ•°çš„ç»“æ„"></a>å®šä¹‰å‡½æ•°çš„ç»“æ„</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">AddInterface</span> &#123;</span><br><span class="line">    (<span class="attr">a</span>: <span class="built_in">number</span>, <span class="attr">b</span>: <span class="built_in">number</span>): <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">add</span>: <span class="title class_">AddInterface</span> = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå’Œä¹‹å‰çš„å‡½æ•°ç”³æ˜æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">AddType</span>: <span class="function">(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">AddType</span> = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br></pre></td></tr></table></figure><h4 id="æ¥å£ä¹‹é—´ç»§æ‰¿"><a href="#æ¥å£ä¹‹é—´ç»§æ‰¿" class="headerlink" title="æ¥å£ä¹‹é—´ç»§æ‰¿"></a>æ¥å£ä¹‹é—´ç»§æ‰¿</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    age?: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">grader</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿åæ‰€æœ‰æ¥å£è§„å®šçš„éƒ½è¦å®ç°</span></span><br><span class="line"><span class="keyword">const</span> student :<span class="title class_">Student</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>,</span><br><span class="line">    <span class="comment">// å¯é€‰å±æ€§</span></span><br><span class="line">    <span class="comment">// age: 20,</span></span><br><span class="line">    <span class="attr">grader</span>: <span class="string">&#x27;A&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥å£ä¹‹é—´å¯ä»¥äº’ç›¸ç»§æ‰¿ï¼Œç»§æ‰¿åçš„æ¥å£ä¼šå°†çˆ¶ç±»çš„é™åˆ¶æ·»åŠ åˆ°è‡ªèº«ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ç°çš„å­ç±»è¦å®ç°æ‰€æœ‰ä¹‹å‰æ‰€æœ‰çˆ¶ç±»çš„å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚</p><h4 id="æ¥å£çš„è‡ªåŠ¨åˆå¹¶ï¼ˆå¯é‡å¤å®šä¹‰ï¼‰"><a href="#æ¥å£çš„è‡ªåŠ¨åˆå¹¶ï¼ˆå¯é‡å¤å®šä¹‰ï¼‰" class="headerlink" title="æ¥å£çš„è‡ªåŠ¨åˆå¹¶ï¼ˆå¯é‡å¤å®šä¹‰ï¼‰"></a>æ¥å£çš„è‡ªåŠ¨åˆå¹¶ï¼ˆå¯é‡å¤å®šä¹‰ï¼‰</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span> &#123;</span><br><span class="line">    man = <span class="string">&quot;ç”·&quot;</span>,</span><br><span class="line">    woman = <span class="string">&quot;å¥³&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">gender</span>: <span class="title class_">Gender</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>: <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å®ŒæˆPersonInterfaceçš„æ‰€æœ‰å±æ€§</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">24</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="title class_">Gender</span>.<span class="property">man</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person);</span><br></pre></td></tr></table></figure><p><strong>å½“æ¥å£å‡ºç°å‘½åé‡å¤çš„æ—¶å€™ï¼Œæ¥å£çš„å®ç°å¹¶ä¸ä¼šç›¸äº’è¦†ç›–ï¼Œè€Œæ˜¯å‡ºç°è‡ªåŠ¨åˆå¹¶ã€‚</strong>å¯ä»¥ç†è§£ä¸ºåŒåæ¥å£çš„ç»§æ‰¿ï¼ˆä½†å®é™…ä¸Šæ²¡æœ‰è¿™ç§è¯­æ³•ï¼Œtsç¼–è¯‘å™¨ä¼šå‡ºç°æŠ¥é”™<code>ç±»å‹â€œPersonInterfaceâ€ä»¥é€’å½’æ–¹å¼å°†è‡ªèº«å¼•ç”¨ä¸ºåŸºç±»ã€‚</code>ï¼‰ã€‚</p><blockquote><p>æ€»ç»“ï¼šä½•æ—¶ä½¿ç”¨æ¥å£</p><ol><li>å®šä¹‰å¯¹è±¡çš„æ ¼å¼ï¼šæè¿°æ•°æ®æ¨¡å‹ã€APIå“åº”æ ¼å¼ã€é…ç½®å¯¹è±¡ç­‰ç­‰ï¼Œæ˜¯å¼€å‘ä¸­ç”¨çš„æœ€å¤šçš„åœºæ™¯</li><li>ç±»çš„å¥‘çº¦ï¼šè§„å®šä¸€ä¸ªç±»éœ€è¦å®ç°å“ªäº›å±æ€§å’Œæ–¹æ³•</li><li>è‡ªåŠ¨åˆå¹¶ï¼šä¸€èˆ¬ç”¨äºæ‰©å±•ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹ï¼Œè¿™ç§ç‰¹æ€§åœ¨å¤§å‹é¡¹ç›®ä¸­å¯èƒ½ä¼šç”¨åˆ°</li></ol></blockquote><h3 id="ä¸€äº›ç›¸ä¼¼æ¦‚å¿µçš„åŒºåˆ«"><a href="#ä¸€äº›ç›¸ä¼¼æ¦‚å¿µçš„åŒºåˆ«" class="headerlink" title="ä¸€äº›ç›¸ä¼¼æ¦‚å¿µçš„åŒºåˆ«"></a>ä¸€äº›ç›¸ä¼¼æ¦‚å¿µçš„åŒºåˆ«</h3><h3 id="æ¥å£ä¸type"><a href="#æ¥å£ä¸type" class="headerlink" title="æ¥å£ä¸type"></a>æ¥å£ä¸type</h3><p>æ¥å£<code>interface</code>å’Œ<code>type</code>éƒ½å¯ä»¥é™åˆ¶å¯¹è±¡ç»“æ„ï¼Œåœ¨ä½¿ç”¨æ–¹é¢æ˜¯å¯ä»¥ç›¸äº’æ›¿ä»£çš„ã€‚ä¸¤è€…éƒ½æœ‰ä¸€äº›è‡ªå·±çš„ç‰¹ç‚¹ã€‚</p><ol><li><code>interface</code>ï¼šæ›´åŠ ä¸“æ³¨äºå®šä¹‰å¯¹è±¡å’Œç±»çš„ç»“æ„ï¼Œæ”¯æŒç»§æ‰¿å’Œåˆå¹¶</li><li><code>type</code>ï¼šå¯ä»¥å®šä¹‰ç±»å‹åˆ«åã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ï¼Œä½†ä¸æ”¯æŒç»§æ‰¿å’Œè‡ªåŠ¨åˆå¹¶</li></ol><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">PersonType</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">run</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="title function_">run</span>(<span class="attr">n</span>: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="function">(<span class="params">n: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="property">name</span> + <span class="string">&quot; Running &quot;</span> + n + <span class="string">&quot; miles&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p2</span>: <span class="title class_">PersonType</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">16</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="function">(<span class="params">n: <span class="built_in">number</span></span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">name</span> + <span class="string">&quot; Running &quot;</span> + n + <span class="string">&quot; miles&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">p1.<span class="title function_">run</span>(<span class="number">10</span>); <span class="comment">// John Running 10 miles</span></span><br><span class="line">p2.<span class="title function_">run</span>(<span class="number">20</span>); <span class="comment">// Tom Running 20 miles</span></span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿä¸Šè¿°ä»£ç å¯ä»¥çœ‹å‡ºï¼Œ<code>PersonType</code>å’Œ<code>PersonInterface</code>çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œéƒ½é™åˆ¶äº†å¯¹è±¡çš„ç»“æ„ï¼Œç”šè‡³å®ç°çš„ç»“æ„ä¹Ÿå®Œå…¨ç›¸åŒï¼Œä¸¤è€…å¯ä»¥ç›¸äº’å¯¹è°ƒã€‚</p><p>ä½†<code>interface</code>å¯ä»¥è¿›è¡Œç»§æ‰¿å’Œè‡ªåŠ¨åˆå¹¶ï¼Œè¿™æ˜¯<code>type</code>ä¸å…·å¤‡çš„</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface2</span> <span class="keyword">extends</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">gender</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">PersonInterface2</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">gender</span>:<span class="string">&quot;man&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å†™æ³•å¯ä»¥ç­‰ä»·äºä¸‹é¢çš„å†™æ³•ï¼ˆè‡ªåŠ¨åˆå¹¶ï¼‰</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">gender</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">PersonInterface</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦ä¸€æ–¹é¢ï¼Œ<code>type</code>è™½ç„¶ä¸èƒ½ä½¿ç”¨ç»§æ‰¿ï¼Œä½†å¯ä»¥é€šè¿‡äº¤å‰ç±»å‹æ¥å®ç°ä¸Šè¿°çš„é€»è¾‘</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">PersonInterface</span>  = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">PersonType</span> =  <span class="title class_">PersonInterface</span> &amp; &#123;</span><br><span class="line">    <span class="attr">gender</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>: <span class="title class_">PersonType</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å®é™…ä¸Šï¼Œ<code>interface</code>æ¯”<code>type</code>å†™æ³•æ›´ç®€æ´</p></blockquote><h3 id="æ¥å£ä¸æŠ½è±¡ç±»"><a href="#æ¥å£ä¸æŠ½è±¡ç±»" class="headerlink" title="æ¥å£ä¸æŠ½è±¡ç±»"></a>æ¥å£ä¸æŠ½è±¡ç±»</h3><ul><li>ç›¸åŒç‚¹ï¼šæ¥å£å’ŒæŠ½è±¡ç±»éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ªç±»çš„æ ¼å¼</li><li>ä¸åŒç‚¹ï¼š<ol><li>æ¥å£ï¼šåªèƒ½æè¿°ç»“æ„ï¼Œ<strong>ä¸èƒ½æœ‰ä»»ä½•ä»£ç å®ç°ï¼Œä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£</strong></li><li>æŠ½è±¡ç±»ï¼šæ—¢å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œ<strong>ä¹Ÿå¯ä»¥å«æœ‰å…·ä½“å®ç°ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»</strong></li></ol></li></ul><p>ä¸€ä¸ªç±»å¯ä»¥ä¸€æ¬¡æ€§ç»§æ‰¿å¤šä¸ªæ¥å£ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FlyInterface</span> &#123;</span><br><span class="line">    <span class="title function_">fly</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">SwimInterface</span> &#123;</span><br><span class="line">    <span class="title function_">swim</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Duck</span> <span class="keyword">implements</span> <span class="title class_">FlyInterface</span>, <span class="title class_">SwimInterface</span> &#123;</span><br><span class="line">    <span class="title function_">fly</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Duck is flying&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">swim</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Duck is swimming&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> duck = <span class="keyword">new</span> <span class="title class_">Duck</span>();</span><br><span class="line">duck.<span class="title function_">fly</span>(); <span class="comment">// Duck is flying</span></span><br><span class="line">duck.<span class="title function_">swim</span>(); <span class="comment">// Duck is swimming</span></span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Duck</span> &#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">fly</span>(): <span class="built_in">void</span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="title function_">swim</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MallardDuck</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Duck</span> &#123;</span><br><span class="line">    <span class="title function_">fly</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;MallardDuck is flying&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">swim</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;MallardDuck is swimming&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¥å£åªåŠ¨å£ä¸åŠ¨æ‰‹ï¼ŒæŠ½è±¡ç±»æ˜¯å¯ä»¥è‡ªå·±åŠ¨æ‰‹çš„ã€‚</p></blockquote><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><p>æ³›å‹å…è®¸æˆ‘ä»¬åœ¨å®šä¹‰å‡½æ•°ã€ç±»æˆ–æ¥å£æ—¶ï¼Œä½¿ç”¨ç±»å‹å‚æ•°æ¥è¡¨ç¤ºæœªæŒ‡å®šç±»å‹ï¼Œè¿™äº›å‚æ•°åœ¨å…·ä½“ä½¿ç”¨æ—¶ï¼Œæ‰è¢«ç½®é¡¶å…·ä½“çš„ç±»å‹ã€‚è¿™èƒ½è®©åŒä¸€ä»£ç ä½¿ç”¨å¤šæ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¿æŒç±»å‹çš„å®‰å…¨æ€§ã€‚</p><h3 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h3><p>å½“æˆ‘ä»¬æš‚æ—¶æ— æ³•ç¡®å®šè¦ä¼ å…¥çš„å‚æ•°çš„ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹å‘ŠçŸ¥ç¼–è¯‘å™¨å‚æ•°å¯ä»¥æ˜¯ä»»æ„çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printData&lt;T&gt;(<span class="attr">data1</span>: T): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆå‘ŠçŸ¥å‚æ•°çš„ç±»å‹</span></span><br><span class="line">printData&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;Hello World&quot;</span>); <span class="comment">// Hello World</span></span><br><span class="line">printData&lt;<span class="built_in">number</span>&gt;(<span class="number">123</span>); <span class="comment">// 123</span></span><br><span class="line">printData&lt;<span class="built_in">boolean</span>&gt;(<span class="literal">true</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å½“æ—¶å½“ä½¿ç”¨è€…è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦æå‰å‘ŠçŸ¥å…¶ä¼ å…¥çš„å‚æ•°ç±»å‹ã€‚</p><blockquote><p>å®é™…ä¸Š<code>&lt;T&gt;</code>ä¸­çš„Tåªæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ›¿æ¢ä¸ºä»»æ„çš„å­—ç¬¦</p></blockquote><h3 id="å¤šä¸ªæ³›å‹"><a href="#å¤šä¸ªæ³›å‹" class="headerlink" title="å¤šä¸ªæ³›å‹"></a>å¤šä¸ªæ³›å‹</h3><p>æ³›å‹å¯ä»¥ä¸åªæœ‰ä¸€ä¸ª</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printData&lt;T, U&gt;(<span class="attr">data1</span>: T, <span class="attr">data2</span>: U): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data1, data2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…ˆå‘ŠçŸ¥å‚æ•°çš„ç±»å‹</span></span><br><span class="line">printData&lt;<span class="built_in">string</span>, <span class="built_in">number</span>&gt;(<span class="string">&quot;Hello World&quot;</span>, <span class="number">222</span>); <span class="comment">// Hello World 222</span></span><br><span class="line">printData&lt;<span class="built_in">number</span>, <span class="built_in">boolean</span>&gt;(<span class="number">123</span>, <span class="literal">false</span>); <span class="comment">// 123 false</span></span><br></pre></td></tr></table></figure><p>è¿”å›å€¼ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºæ³›å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> printData&lt;T, U&gt;(<span class="attr">data1</span>: T, <span class="attr">data2</span>: U): T | U &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() % <span class="number">2</span> === <span class="number">0</span> ? data1 : data2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(printData&lt;<span class="built_in">string</span>, <span class="built_in">number</span>&gt;(<span class="string">&#x27;Hello&#x27;</span>, <span class="number">123</span>)); </span><br></pre></td></tr></table></figure><h3 id="æ³›å‹æ¥å£"><a href="#æ³›å‹æ¥å£" class="headerlink" title="æ³›å‹æ¥å£"></a>æ³›å‹æ¥å£</h3><p>åœ¨æ¥å£ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">moreInfo</span>: T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">PE</span> = &#123;</span><br><span class="line">    <span class="attr">height</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">weight</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">person</span>: <span class="title class_">PersonInterface</span>&lt;<span class="variable constant_">PE</span>&gt; = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">    <span class="attr">moreInfo</span>: &#123;</span><br><span class="line">        <span class="attr">height</span>: <span class="number">180</span>,</span><br><span class="line">        <span class="attr">weight</span>: <span class="number">80</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h3><p>å¯ä»¥ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼é™å®šæ³›å‹çš„å–å€¼èŒƒå›´</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">PersonInterface</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> logPerson&lt;T <span class="keyword">extends</span> <span class="title class_">PersonInterface</span>&gt;(<span class="attr">info</span>: T): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;info.name&#125;</span> and I am <span class="subst">$&#123;info.age&#125;</span> years old.`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">logPerson</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>, <span class="attr">age</span>: <span class="number">30</span> &#125;);</span><br></pre></td></tr></table></figure><h3 id="æ³›å‹ç±»"><a href="#æ³›å‹ç±»" class="headerlink" title="æ³›å‹ç±»"></a>æ³›å‹ç±»</h3><p>æ³›å‹å¯ä»¥åœ¨ç±»ä¸­ä½¿ç”¨</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> name: <span class="built_in">string</span>, <span class="keyword">public</span> age: <span class="built_in">number</span>, <span class="keyword">public</span> moreInfo: T</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">speak</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">moreInfo</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> jobInfo = &#123;</span><br><span class="line">    <span class="attr">job</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">salary</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> student = <span class="keyword">new</span> <span class="title class_">Student</span>&lt;jobInfo&gt;(<span class="string">&quot;Tom&quot;</span>, <span class="number">20</span>, &#123;</span><br><span class="line">    <span class="attr">job</span>: <span class="string">&quot;developer&quot;</span>,</span><br><span class="line">    <span class="attr">salary</span>: <span class="number">1000</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">student.<span class="title function_">speak</span>() </span><br><span class="line"><span class="comment">// My name is Tom, I am 20 years old</span></span><br><span class="line"><span class="comment">// &#123; job: &#x27;developer&#x27;, salary: 1000 &#125;</span></span><br></pre></td></tr></table></figure><h2 id="ç±»å‹ç”³æ˜æ–‡ä»¶"><a href="#ç±»å‹ç”³æ˜æ–‡ä»¶" class="headerlink" title="ç±»å‹ç”³æ˜æ–‡ä»¶"></a>ç±»å‹ç”³æ˜æ–‡ä»¶</h2><p>åœ¨npmå®˜ç½‘ï¼Œè¿˜æœ‰å¾ˆå¤šçš„åº“æ˜¯ä½¿ç”¨jsç¼–å†™çš„ï¼Œä¸èƒ½ç›´æ¥åœ¨tsä¸­å¯¼å…¥ã€‚</p><p>æ–°å»ºä¸€ä¸ª<code>demo.js</code>æ–‡ä»¶ï¼Œå¯¼å‡ºç›¸åº”çš„æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// demo.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">abstract</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å¦‚æœç›´æ¥åœ¨<code>index.ts</code>ä¸­å¯¼å…¥ï¼Œå°±ä¼šå‡ºç°<code>æ— æ³•æ‰¾åˆ°æ¨¡å—â€œ./demo.jsâ€çš„å£°æ˜æ–‡ä»¶ã€‚â€œd:/Web/ts/demo.jsâ€éšå¼æ‹¥æœ‰ &quot;any&quot; ç±»å‹ã€‚</code>çš„æŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºjsä¸æ”¯æŒç¼–å†™ç±»å‹æç¤ºã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; add, <span class="keyword">abstract</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./demo.js&quot;</span>;</span><br><span class="line"><span class="comment">// æ— æ³•æ‰¾åˆ°æ¨¡å—â€œ./demo.jsâ€çš„å£°æ˜æ–‡ä»¶ã€‚â€œd:/Web/ts/demo.jsâ€éšå¼æ‹¥æœ‰ &quot;any&quot; ç±»å‹ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">abstract</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶éœ€è¦åœ¨æ–‡ä»¶ä¸­æ–°å»ºä¸€ä¸ªåŒåçš„<code>demo.d.ts</code>æ–‡ä»¶ï¼ŒåŠ å…¥å¦‚ä¸‹ä»£ç </p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">function</span> <span class="title function_">abstract</span>(<span class="params">a: <span class="built_in">number</span>, b: <span class="built_in">number</span></span>): <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; add, <span class="keyword">abstract</span> &#125;;</span><br></pre></td></tr></table></figure><p><code>declare</code>æ„å‘³ç”³æ˜ï¼Œè¿™æ ·å¯ä»¥å‘ŠçŸ¥tsç¼–è¯‘å™¨åŒåçš„<code>demo.js</code>ä¸­æ•°æ®çš„å…·ä½“ç±»å‹ã€‚ç¼–å†™åéœ€è¦é‡å¯vscodeï¼Œä¹‹åå°±å¯ä»¥åœ¨<code>index.ts</code>ä¸­æ‚¬åœå¾—åˆ°ç›¸åº”çš„ä»£ç æç¤ºã€‚</p><blockquote><p>æ³¨ï¼š</p><ol><li>åœ¨é¡¹ç›®ï¼Œè¿™äº›æ–‡ä»¶é€šå¸¸æ”¾åœ¨<code>@types</code>æ–‡ä»¶å¤¹ä¸­</li><li>å¯¹äºä¸€äº›è€çš„jsåº“ï¼Œå¯ä»¥åœ¨npmæŒ‰ç…§<code>@types/åº“å</code>çš„æ–¹å¼ç›´æ¥æœåˆ°ç›¸åº”çš„<code>.d.ts</code>æ–‡ä»¶ã€‚å¦‚<code>@types/jquery</code></li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Django-åŸºç¡€ç»„ä»¶ä½¿ç”¨å®æˆ˜</title>
      <link href="/post/django-ji-chu-zu-jian-kuai-su-ru-men/"/>
      <url>/post/django-ji-chu-zu-jian-kuai-su-ru-men/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿‡æ—¶çš„æŠ€æœ¯ï¼Œç¬”è®°æ˜¯åŸæ¥å†™çš„ã€‚ä½†æ˜¯ç”±äºå…¶ä¸­æœ‰ä¸€äº›ä¾‹å­ï¼Œæ‰€ä»¥æƒ³ç€è¿˜æ˜¯ä¸Šä¼ ä¸€ä¸‹ã€‚</p><p>éè¦ç”¨Pythonå†™åç«¯ï¼Œè¯·ç§»æ­¥ä½¿ç”¨<a href="https://flask.palletsprojects.com/en/3.0.x/">Flask</a>æˆ–è€…<a href="https://fastapi.tiangolo.com/zh/">FastAPI</a>ã€‚</p><h2 id="å®‰è£…Django"><a href="#å®‰è£…Django" class="headerlink" title="å®‰è£…Django"></a>å®‰è£…Django</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Django</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªé¡¹ç›®ç”Ÿæˆå™¨<code>django-admin.exe</code>åœ¨<code>Scripts</code>ä¸­ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªDjangoé¡¹ç›®ã€‚</p><p>å½“å‰ç”Ÿæˆå™¨çš„è·¯å¾„ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\anaconda\envs\django\Scripts\django-admin.exe</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºDjangoé¡¹ç›®"><a href="#åˆ›å»ºDjangoé¡¹ç›®" class="headerlink" title="åˆ›å»ºDjangoé¡¹ç›®"></a>åˆ›å»ºDjangoé¡¹ç›®</h2><blockquote><p>Djangoé¡¹ç›®ä¸­æœ‰ä¸€ä¸ªé»˜è®¤çš„æ–‡ä»¶å’Œé»˜è®¤çš„æ–‡ä»¶å¤¹</p></blockquote><h3 id="ä½¿ç”¨django-adminåˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨django-adminåˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨django-adminåˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨django-adminåˆ›å»ºé¡¹ç›®</h3><p>ä½¿ç”¨å‘½ä»¤åˆ›å»º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D:\anaconda\envs\django\Scripts\django-admin.exe startproject mysite</span><br></pre></td></tr></table></figure><p>mysiteä¸ºé¡¹ç›®åç§°ï¼Œé¡¹ç›®ç»“æ„ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysite</span><br><span class="line">â”œâ”€ manage.py</span><br><span class="line">â””â”€ mysite</span><br><span class="line">       â”œâ”€ __init__.py</span><br><span class="line">       â”œâ”€ asgi.py</span><br><span class="line">       â”œâ”€ settings.py</span><br><span class="line">       â”œâ”€ urls.py</span><br><span class="line">       â””â”€ wsgi.py</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨PyCharmåˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨PyCharmåˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨PyCharmåˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨PyCharmåˆ›å»ºé¡¹ç›®</h3><p>æœ‰å¥‡æ€ªçš„é—®é¢˜ï¼Œåˆ›å»ºä¸äº†Djangoé¡¹ç›®ï¼Œå¯ä»¥å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„envç¯å¢ƒï¼Œç„¶ååœ¨é€‰æ‹©ç¯å¢ƒç°æœ‰çš„condaç¯å¢ƒï¼Œä¹‹ååˆ é™¤envså³å¯ã€‚</p><h3 id="é¡¹ç›®è¯´æ˜"><a href="#é¡¹ç›®è¯´æ˜" class="headerlink" title="é¡¹ç›®è¯´æ˜"></a>é¡¹ç›®è¯´æ˜</h3><ul><li><p>ä½¿ç”¨å‘½ä»¤è¡Œåˆ›å»ºçš„é¡¹ç›®æ˜¯æ ‡å‡†çš„</p></li><li><p>Pycharmåˆ›å»ºçš„é¡¹ç›®ï¼Œåœ¨æ ‡å‡†çš„åŸºç¡€ä¸Šå¤šåŠ äº†ç‚¹ä¸œè¥¿</p><ul><li><p>åˆ›å»ºäº†ä¸€ä¸ªåä¸º<code>templates</code>çš„æ–‡ä»¶å¤¹ï¼Œç”¨æ¥æ”¾æ¨¡ç‰ˆæ–‡ä»¶</p></li><li><p>åœ¨<code>settings.py</code>ä¸­ï¼š</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">TEMPLATES = [</span></span><br><span class="line"><span class="language-xml">    &#123;</span></span><br><span class="line"><span class="language-xml">        &quot;BACKEND&quot;: &quot;django.template.backends.django.DjangoTemplates&quot;,</span></span><br><span class="line"><span class="language-xml">        &quot;DIRS&quot;: [BASE_DIR / &#x27;templates&#x27;]</span></span><br><span class="line"><span class="language-xml">        ,</span></span><br><span class="line"><span class="language-xml">        &quot;APP_DIRS&quot;: True,</span></span><br><span class="line"><span class="language-xml">        &quot;OPTIONS&quot;: &#123;</span></span><br><span class="line"><span class="language-xml">            &quot;context_processors&quot;: [</span></span><br><span class="line"><span class="language-xml">                &quot;django.template.context_processors.debug&quot;,</span></span><br><span class="line"><span class="language-xml">                &quot;django.template.context_processors.request&quot;,</span></span><br><span class="line"><span class="language-xml">                &quot;django.contrib.auth.context_processors.auth&quot;,</span></span><br><span class="line"><span class="language-xml">                &quot;django.contrib.messages.context_processors.messages&quot;,</span></span><br><span class="line"><span class="language-xml">            ],</span></span><br><span class="line"><span class="language-xml">        &#125;,</span></span><br><span class="line"><span class="language-xml">    &#125;,</span></span><br><span class="line"><span class="language-xml">]</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„<code>&quot;DIRS&quot;: [BASE_DIR / &#39;templates&#39;]</code>æŠŠå…¶ä¸­çš„å†…å®¹åˆ é™¤å³å¯ã€‚</p></li></ul></li></ul><h3 id="é»˜è®¤é¡¹ç›®çš„æ–‡ä»¶ä»‹ç»"><a href="#é»˜è®¤é¡¹ç›®çš„æ–‡ä»¶ä»‹ç»" class="headerlink" title="é»˜è®¤é¡¹ç›®çš„æ–‡ä»¶ä»‹ç»"></a>é»˜è®¤é¡¹ç›®çš„æ–‡ä»¶ä»‹ç»</h3><p>é¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysite</span><br><span class="line">â”œâ”€ manage.py              ã€é¡¹ç›®ç®¡ç†ï¼Œå¯åŠ¨é¡¹ç›®ï¼Œåˆ›å»ºappï¼Œæ•°æ®ç®¡ç†ã€‘</span><br><span class="line">â””â”€ mysite                 ã€è·Ÿé¡¹ç›®åŒåã€‘</span><br><span class="line">       â”œâ”€ __init__.py</span><br><span class="line">       â”œâ”€ settings.py     ã€é¡¹ç›®çš„é…ç½®æ–‡ä»¶ã€‘ æ•°æ®åº“ç­‰æ“ä½œ å¸¸ä¿®æ”¹</span><br><span class="line">       â”œâ”€ urls.py         ã€urlå’Œå‡½æ•°çš„å¯¹åº”å…³ç³»ã€‘ å¸¸æ“ä½œ</span><br><span class="line">       â”œâ”€ asgi.py         ã€æ¥å—ç½‘ç»œè¯·æ±‚ã€‘å¼‚æ­¥ ä¸è¦ä¿®æ”¹</span><br><span class="line">       â””â”€ wsgi.py         ã€æ¥å—ç½‘ç»œè¯·æ±‚ã€‘åŒæ­¥ ä¸è¦ä¿®æ”¹</span><br></pre></td></tr></table></figure><h2 id="APP"><a href="#APP" class="headerlink" title="APP"></a>APP</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">é¡¹ç›®</span><br><span class="line">     -app ç”¨æˆ·ç®¡ç† ã€è¡¨ç»“æ„ å‡½æ•° HTMLæ¨¡ç‰ˆ CSSã€‘</span><br><span class="line">     -app è®¢å•ç®¡ç† ã€è¡¨ç»“æ„ å‡½æ•° HTMLæ¨¡ç‰ˆ CSSã€‘</span><br><span class="line">     -app åå°ç®¡ç† ã€è¡¨ç»“æ„ å‡½æ•° HTMLæ¨¡ç‰ˆ CSSã€‘</span><br><span class="line">     -app ç½‘ç«™    ã€è¡¨ç»“æ„ å‡½æ•° HTMLæ¨¡ç‰ˆ CSSã€‘</span><br><span class="line">     -app APIã€è¡¨ç»“æ„ å‡½æ•° HTMLæ¨¡ç‰ˆ CSSã€‘</span><br><span class="line">     â€¦â€¦</span><br><span class="line">     </span><br><span class="line">ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé¡¹ç›®åˆ›å»ºä¸€ä¸ªappå³å¯ã€‚</span><br></pre></td></tr></table></figure><p>åˆ›å»ºapp</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp app</span><br></pre></td></tr></table></figure><p>appç»“æ„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app01</span><br><span class="line">â”œâ”€ __init__.py</span><br><span class="line">â”œâ”€ admin.py          å›ºå®šä¸åŠ¨ æä¾›adminåå°ç®¡ç† </span><br><span class="line">â”œâ”€ apps.py           å›ºå®šä¸åŠ¨ appå¯åŠ¨ç±»</span><br><span class="line">â”œâ”€ migrations        å›ºå®šä¸åŠ¨ æ•°æ®åº“å˜æ›´è®°å½•</span><br><span class="line">â”‚    â””â”€ __init__.py</span><br><span class="line">â”œâ”€ models.py         ã€é‡è¦ã€‘ å¯¹æ•°æ®åº“æ“ä½œ</span><br><span class="line">â”œâ”€ tests.py          å›ºå®šä¸åŠ¨ å•å…ƒæµ‹è¯• </span><br><span class="line">â””â”€ views.py             ã€é‡è¦ã€‘å‡½æ•°ï¼Œä¸urls.pyè”åŠ¨</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><ol><li><p>ç¡®ä¿APPå·²ç»æ³¨å†Œã€setting.pyã€‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="comment"># è‡ªå·±æ·»åŠ çš„app</span></span><br><span class="line">    <span class="string">&quot;app01.apps.App01Config&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.auth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.contenttypes&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.sessions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.messages&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.staticfiles&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™urlå’Œè§†å›¾å‡½æ•°çš„å¯¹åº”å…³ç³» ã€urls.pyã€‘ ç»‘å®šç›¸åº”çš„æ‰§è¡Œå‡½æ•°</p><p>åœ¨<code>urls.py</code>ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># path(&quot;admin/&quot;, admin.site.urls),</span></span><br><span class="line">    <span class="comment"># www.xxx.com/index/ -&gt; views.index</span></span><br><span class="line">    path(<span class="string">&quot;index/&quot;</span>, views.index),</span><br><span class="line">    path(<span class="string">&quot;user/add&quot;</span>, views.user_add),</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™è§†å›¾å‡½æ•°ï¼Œæ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ ã€views.pyã€‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># return HttpResponse(&quot;Hello, Django!&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;æ·»åŠ ç”¨æˆ·æˆåŠŸï¼&quot;</span>)</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨Djangoé¡¹ç›®</p><ul><li><p>å‘½ä»¤è¡Œå¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver</span><br></pre></td></tr></table></figure></li><li><p>Pycharmå¯åŠ¨</p><p>é€‰ä¸­é¡¹ç›®æ–‡ä»¶å¤¹ç‚¹å‡»è¿è¡Œå³å¯ã€‚</p><img src="https://www.z4a.net/images/2024/08/11/01.png" alt="image-20240210121133846" style="zoom:67%;" /><p>æ·»åŠ &#x2F;indexæŸ¥çœ‹ç»“æœ</p><img src="https://www.z4a.net/images/2024/08/11/02.png" alt="image-20240210121206337" style="zoom: 67%;" /></li></ul></li></ol><h2 id="çœŸæ­£æ„å»ºä¸€ä¸ªç½‘é¡µ"><a href="#çœŸæ­£æ„å»ºä¸€ä¸ªç½‘é¡µ" class="headerlink" title="çœŸæ­£æ„å»ºä¸€ä¸ªç½‘é¡µ"></a>çœŸæ­£æ„å»ºä¸€ä¸ªç½‘é¡µ</h2><h3 id="åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶"><a href="#åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶" class="headerlink" title="åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶"></a>åŠ è½½æ¨¡ç‰ˆæ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># return HttpResponse(&quot;Hello, Django!&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index.html&quot;</span>)</span><br></pre></td></tr></table></figure><p>å…³äº<code>index.html</code>çš„æŸ¥æ‰¾é¡ºåºï¼Œå…ˆå»æœ¬é¡¹ç›®çš„æ ¹ç›®å½•ä¸­çš„<code>templates</code>æ–‡ä»¶å¤¹ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£å°±æ ¹æ®æ³¨å†Œçš„appçš„é¡ºåºï¼Œä¾æ¬¡æŸ¥æ‰¾<code>templates</code>æ–‡ä»¶å¤¹ä¸­çš„HTMLæ–‡ä»¶ã€‚</p><p>å½“ç„¶å¦‚æœåœ¨setting.pyä¸­å†™å…¥äº†é¡¹ç›®æ–‡ä»¶çš„æ ¹ç›®å½•ä¸­çš„<code>templates</code>ï¼Œé‚£ä¹ˆå°±ä¼šä¼˜å…ˆå»é¡¹ç›®æ–‡ä»¶çš„æ ¹ç›®å½•ä¸­æ‰¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;BACKEND&quot;</span>: <span class="string">&quot;django.template.backends.django.DjangoTemplates&quot;</span>,</span><br><span class="line">        <span class="comment"># &quot;DIRS&quot;: [BASE_DIR / &#x27;templates&#x27;]</span></span><br><span class="line">        <span class="string">&quot;DIRS&quot;</span>: [os.path.join(BASE_DIR, <span class="string">&quot;templates&quot;</span>)]</span><br><span class="line">        ,</span><br><span class="line">        <span class="string">&quot;APP_DIRS&quot;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&quot;OPTIONS&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;context_processors&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;django.template.context_processors.debug&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.template.context_processors.request&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.contrib.auth.context_processors.auth&quot;</span>,</span><br><span class="line">                <span class="string">&quot;django.contrib.messages.context_processors.messages&quot;</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="åŠ è½½é™æ€æ–‡ä»¶"><a href="#åŠ è½½é™æ€æ–‡ä»¶" class="headerlink" title="åŠ è½½é™æ€æ–‡ä»¶"></a>åŠ è½½é™æ€æ–‡ä»¶</h3><p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬å°†ï¼š</p><ul><li>img</li><li>CSS</li><li>js</li><li>plugins</li></ul><p>éƒ½ä¼šå½“åšé™æ€æ–‡ä»¶å¤„ç†ã€‚é™æ€æ–‡ä»¶ä¸€å®šè¦æ”¾åœ¨<code>static</code>æ–‡ä»¶å¤¹ä¸­ã€‚æ¨èçš„ç›®å½•ç»“æ„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">static</span><br><span class="line">    - css</span><br><span class="line">    - img</span><br><span class="line">    - js</span><br><span class="line">    - plugins</span><br></pre></td></tr></table></figure><p>æ¨èçš„å¼•å…¥æ–¹æ³•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;#æ¨èä½¿ç”¨çš„é™æ€æ–‡ä»¶å¼•å…¥æ–¹æ³• æ˜¯ä¸€ç§è¯­è¨€æ¨¡ç‰ˆ#&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, Django! å·²ä¿®æ”¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &#x27;img/test.png&#x27; %&#125;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é™æ€æ–‡ä»¶çš„ç›¸å…³çš„è®¾ç½®ï¼Œåœ¨<code>setting.py</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = <span class="string">&quot;/static/&quot;</span></span><br></pre></td></tr></table></figure><h2 id="æ¨¡ç‰ˆè¯­æ³•"><a href="#æ¨¡ç‰ˆè¯­æ³•" class="headerlink" title="æ¨¡ç‰ˆè¯­æ³•"></a>æ¨¡ç‰ˆè¯­æ³•</h2><p>æœ¬è´¨ä¸Šï¼šDjangoæä¾›çš„ï¼Œå¯ä»¥åœ¨HTMLä¸­å†™ä¸€äº›å ä½ç¬¦ï¼Œæœ‰æ•°æ®å¯¹è¿™äº›å ä½ç¬¦è¿›è¡Œæ›¿æ¢å’Œå¤„ç†ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ¨¡ç‰ˆè¯­æ³•çš„å­¦ä¹ <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>ä½œè€…ï¼š&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>å¯æ”¯æŒè®¿é—®åˆ—è¡¨ä¸­çš„å…ƒç´ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åˆ—è¡¨ï¼š&#123;&#123; list &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š&#123;&#123; list.0 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åˆ—è¡¨ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼š&#123;&#123; list.1 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åˆ—è¡¨ä¸­çš„ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼š&#123;&#123; list.2 &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¯æŒforå¾ªç¯<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    &#123;% for item in list %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼š&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¯æŒè®¿é—®å­—å…¸<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­—å…¸ï¼š&#123;&#123; dict &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­—å…¸ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š&#123;&#123; dict.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­—å…¸ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼š&#123;&#123; dict.age &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¯æŒforå¾ªç¯<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>æ”¯æŒè·å–keys,values,items<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;% for key,value in dict.items %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; key &#125;&#125; : &#123;&#123; value &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>åµŒå¥—çš„æƒ…å†µ<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    &#123;% for i in data_list %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç¬¬ä¸€å±‚å¾ªç¯ï¼š&#123;&#123; i &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;% for j,values in i.items %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç¬¬äºŒå±‚å¾ªç¯ï¼š&#123;&#123; j &#125;&#125; : &#123;&#123; values &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¯æŒifåˆ¤æ–­<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    &#123;% if name == &quot;gcnanmu&quot; %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ æ˜¯&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% elif name == &quot;giao&quot; %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ æ˜¯giaoå“¥<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ä½ æ˜¯è°ï¼Ÿ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ”¯æŒè¿‡æ»¤å™¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>åŸå§‹æ•°æ®ï¼š&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è½¬æ¢ä¸ºå¤§å†™ï¼š&#123;&#123; name|upper &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è½¬æ¢ä¸ºå°å†™ï¼š&#123;&#123; name|lower &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è½¬æ¢ä¸ºé¦–å­—æ¯å¤§å†™ï¼š&#123;&#123; name|title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è½¬æ¢ä¸ºé¦–å­—æ¯å°å†™ï¼š&#123;&#123; name|lower &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>views.pyä¸­çš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">about</span>(<span class="params">request</span>):</span><br><span class="line">    name = <span class="string">&quot;GcNanmu&quot;</span></span><br><span class="line">    <span class="built_in">list</span> = [<span class="string">&quot;gcnanmu&quot;</span>, <span class="string">&quot;xiaoming&quot;</span>, <span class="string">&quot;xiaohong&quot;</span>]</span><br><span class="line">    <span class="built_in">dict</span> = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;gcnanmu&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line">    data_list = [</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;gcnanmu&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;xiaoming&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;xiaohong&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">22</span>&#125;,</span><br><span class="line">    ]</span><br><span class="line">    <span class="comment"># return HttpResponse(&quot;å…³äºæˆ‘ä»¬&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;about.html&quot;</span>, &#123;<span class="string">&quot;name&quot;</span>: name, <span class="string">&quot;list&quot;</span>: <span class="built_in">list</span>, <span class="string">&quot;dict&quot;</span>: <span class="built_in">dict</span>, <span class="string">&quot;data_list&quot;</span>: data_list&#125;)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/03.png" alt="image-20240210175831264" style="zoom: 50%;" /><p>æ•´ä¸ªè¿‡ç¨‹ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/04.png" alt="image-20240210180542093" style="zoom: 50%;" /><p>è§†å›¾å‡½æ•°çš„renderå†…éƒ¨ï¼š</p><ol><li><p>è¯»å–å«æœ‰æ¨¡æ¿è¯­æ³•çš„HTMLæ–‡ä»¶</p></li><li><p>å†…éƒ¨è¿›è¡Œæ¸²æŸ“ï¼ˆæ¨¡æ¿è¯­æ³•æ‰§è¡Œå¹¶æ›¿æ¢æ•°æ®ï¼‰</p><p>æœ€ç»ˆå¾—åˆ°ï¼ŒåªåŒ…å«HTMLæ ‡ç­¾çš„å­—ç¬¦ä¸²</p></li><li><p>æœ€åæ‰å°†å®Œæˆçš„å­—ç¬¦ä¸²è¿”å›ç»™ç”¨æˆ·æµè§ˆå™¨</p></li></ol><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·ä¸å¯èƒ½çœ‹åˆ°å ä½ç¬¦ä¸­èŠ±æ‹¬å·çš„å†…å®¹ï¼Œéƒ½æ˜¯Djangoæ¸²æŸ“å®Œæˆåæ‰è¿”å›ï¼Œå¯ä»¥åœ¨ç½‘é¡µæºä»£ç ä¸­å¾—åˆ°è¯å®ã€‚</p></blockquote><p>æ¡ˆä¾‹ï¼šä¼ªè”é€šæ–°é—»ä¸­å¿ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;news_id&quot;</span>:<span class="number">1895</span>,</span><br><span class="line">        <span class="string">&quot;news_title&quot;</span>:<span class="string">&quot;è”é€š5G æ™ºé€ æœªæ¥ ä¸­å›½è”é€šå¸¦æ‚¨è§£é” 2021ä¸­å›½5G+å·¥ä¸šäº’è”ç½‘å¤§ä¼š&quot;</span>ï¼Œ</span><br><span class="line">        <span class="string">&quot;post_time&quot;</span>:<span class="string">&quot;2021-11-19&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;news_id&quot;</span>:<span class="number">1894</span></span><br><span class="line">        <span class="string">&quot;news_title&quot;</span>:<span class="string">&quot;æœåŠ¡åœ¨å‡çº§ç³»åˆ—è§£è¯»ä¹‹ä¸€ï¼šä¸‹ä¸€ç¨‹ï¼Œè”é€šæœåŠ¡è¯¥å¦‚ä½•å‘åŠ›ï¼Ÿ&quot;</span></span><br><span class="line">        <span class="string">&quot;post_time&quot;</span>:<span class="string">&quot;2021-11-19&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="string">&quot;news_id&quot;</span>:<span class="number">1893</span></span><br><span class="line">        <span class="string">&quot;news_title&quot;</span>:<span class="string">&quot;ä¸­å›½è”é€š5Gèµ‹èƒ½ç™¾è¡Œç™¾ä¸šæˆæœå·¡ç¤¼â€”â€”æƒ å·å¸‚ä»²æºç”µå­ä¿¡æ¯äº§ä¸šç¾¤ 5GåŠ©åŠ›ç”µå­ä¿¡æ¯äº§ä¸šé™æœ¬å¢æ•ˆ&quot;</span></span><br><span class="line">        <span class="string">&quot;post_time&quot;</span>:<span class="string">&quot;2021-11-18&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>news.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ–°é—»åˆ—è¡¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ–°é—»ä¸­å¿ƒ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ€»åˆ—è¡¨<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; data.0 &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; data.1 &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; data.2 &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; data.count &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>è¯¦ç»†ä¿¡æ¯<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    &#123;% for i in data %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>title:&#123;&#123; i.news_title &#125;&#125;<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>id:&#123;&#123; i.news_id &#125;&#125;   data:&#123;&#123; i.post_time &#125;&#125;<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>views.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">news</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># return HttpResponse(&quot;æ–°é—»&quot;)</span></span><br><span class="line">    <span class="comment"># 1. å®šä¹‰ä¸€äº›æ–°é—»æ•°æ® æˆ– ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ–°é—»æ•°æ®</span></span><br><span class="line">    data = [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;news_id&quot;</span>: <span class="number">1895</span>,</span><br><span class="line">            <span class="string">&quot;news_title&quot;</span>: <span class="string">&quot;è”é€š5G æ™ºé€ æœªæ¥ ä¸­å›½è”é€šå¸¦æ‚¨è§£é” 2021ä¸­å›½5G+å·¥ä¸šäº’è”ç½‘å¤§ä¼š&quot;</span>,</span><br><span class="line">            <span class="string">&quot;post_time&quot;</span>: <span class="string">&quot;2021-11-19&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;news_id&quot;</span>: <span class="number">1894</span>,</span><br><span class="line">            <span class="string">&quot;news_title&quot;</span>: <span class="string">&quot;æœåŠ¡åœ¨å‡çº§ç³»åˆ—è§£è¯»ä¹‹ä¸€ï¼šä¸‹ä¸€ç¨‹ï¼Œè”é€šæœåŠ¡è¯¥å¦‚ä½•å‘åŠ›ï¼Ÿ&quot;</span>,</span><br><span class="line">            <span class="string">&quot;post_time&quot;</span>: <span class="string">&quot;2021-11-19&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;news_id&quot;</span>: <span class="number">1893</span>,</span><br><span class="line">            <span class="string">&quot;news_title&quot;</span>: <span class="string">&quot;ä¸­å›½è”é€š5Gèµ‹èƒ½ç™¾è¡Œç™¾ä¸šæˆæœå·¡ç¤¼â€”â€”æƒ å·å¸‚ä»²æºç”µå­ä¿¡æ¯äº§ä¸šç¾¤ 5GåŠ©åŠ›ç”µå­ä¿¡æ¯äº§ä¸šé™æœ¬å¢æ•ˆ&quot;</span>,</span><br><span class="line">            <span class="string">&quot;post_time&quot;</span>: <span class="string">&quot;2021-11-18&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;news.html&quot;</span>,&#123;<span class="string">&quot;data&quot;</span>:data&#125;)</span><br></pre></td></tr></table></figure><h2 id="è¯·æ±‚ä¸å“åº”"><a href="#è¯·æ±‚ä¸å“åº”" class="headerlink" title="è¯·æ±‚ä¸å“åº”"></a>è¯·æ±‚ä¸å“åº”</h2><ol><li><p>è¯·æ±‚çš„æ–¹å¼</p></li><li><p>è·å–è¯·æ±‚çš„æ•°æ®</p><p>å‘é€è¯·æ±‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8000/something/?n1=456&amp;n2=123</span><br></pre></td></tr></table></figure><p>æ¥å—è¯·æ±‚å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;URLä¸Šçš„å‚æ•°ï¼š<span class="subst">&#123;request.GET&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></li></ol><p>é‡å®šå‘çš„åŸç†ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/05.png" alt="image-20240211151451451" style="zoom: 50%;" /><p>æ¡ˆä¾‹ï¼šç”¨æˆ·ç™»å½•</p><img src="https://www.z4a.net/images/2024/08/11/06.png" alt="image-20240211151451451" style="zoom: 50%;" /><p>è¿™æ˜¯Djangoçš„ç‰¹æ®Šæœºåˆ¶ä¹‹ä¸€ï¼Œç›¸å½“äºä¿å¯†æœºåˆ¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/login/&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    &#123;% csrf_token %&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>ç”¨æˆ·åï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;ç”¨æˆ·å&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>å¯†ç ï¼š<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">id</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;å¯†ç &quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç™»å½•&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&#123;% csrf_token %&#125;</code>ä¸€å®šè¦åŠ ä¸Šè¿™ä¸ªä¿¡æ¯ï¼Œä¸ç„¶å°±ä¼šå‡ºç°403ï¼Œè¿™æ¡è¯­å¥é»˜è®¤çš„è¿”å›å€¼ä¸ºï¼š<code>&lt;QueryDict: &#123;&#39;csrfmiddlewaretoken&#39;: [&#39;gAx9FmZWxIC5KM0vkDONo80C6o3Cosm0J2aWnjHlAq2hb5iAPx9fud8CVJJBcRHi&#39;], &#39;username&#39;: [&#39;gcnanmu&#39;], &#39;password&#39;: [&#39;qwe&#39;]&#125;&gt;</code></p><p>å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ª<code>csrfmiddlewaretoken</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªéšè—çš„è¾“å…¥æ¡†å¸¦æ¥çš„ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåŠ å¯†çš„æœºåˆ¶ï¼Œæ£€éªŒè¯·æ±‚æ˜¯å¦æ­£å¸¸ï¼Œå¦åˆ™å°±è¿”å›403</p><img src="https://www.z4a.net/images/2024/08/11/07.png" alt="image-20240211153537504" style="zoom:67%;" /><h2 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h2><h3 id="Djangoçš„è§£å†³æ–¹æ¡ˆ"><a href="#Djangoçš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="Djangoçš„è§£å†³æ–¹æ¡ˆ"></a>Djangoçš„è§£å†³æ–¹æ¡ˆ</h3><ul><li><p>MySQLæ•°æ®åº“+pymysql</p></li><li><p>Djangoå¼€å‘æ“ä½œæ•°æ®åº“æ›´åŠ ç®€å•ï¼Œå†…éƒ¨æä¾›äº†ORMæ¡†æ¶</p><img src="https://www.z4a.net/images/2024/08/11/08.png" alt="image-20240211155805903" style="zoom: 33%;" /><p>å¯ä»¥ä½¿ä»£ç éå¸¸ç®€æ´ã€‚</p></li></ul><h3 id="å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"><a href="#å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—" class="headerlink" title="å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"></a>å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mysqlclient</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨<code>pymysql</code>ï¼Œä½†æ˜¯æ–°ç‰ˆçš„Djangoå¯¹pymysqlæ”¯æŒä¸å¤ªå¥½ï¼Œå› æ­¤æ¨èä½¿ç”¨<code>mysqlclient</code>æ¯”è¾ƒå¥½ã€‚</p><h3 id="ORMæ¡†æ¶"><a href="#ORMæ¡†æ¶" class="headerlink" title="ORMæ¡†æ¶"></a>ORMæ¡†æ¶</h3><p>ORMå¯ä»¥å¸®æˆ‘ä»¬åšä¸¤ä»¶äº‹ï¼š</p><ul><li>åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤æ•°æ®åº“çš„è¡¨(ä¸ç”¨å†™SQLè¯­å¥ï¼Œä½†æ— æ³•åˆ›å»ºæ•°æ®åº“)</li><li>æ“ä½œè¡¨ä¸­çš„æ•°æ®ï¼ˆä¸ç”¨å†™SQLè¯­å¥ï¼‰</li></ul><ol><li><p>åˆ›å»ºæ•°æ®åº“</p><ul><li><p>å¯åŠ¨mysqlæœåŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥çœ‹å½“å‰çš„æ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show database</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºæ•°æ®åº“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create database django</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/09.png" alt="image-20240212095259904" style="zoom: 67%;" /></li></ul></li><li><p>Djangoè¿æ¥æ•°æ®åº“</p></li></ol><p>æ›´æ”¹settings.pyçš„å†…å®¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&quot;default&quot;</span>: &#123;</span><br><span class="line">        <span class="comment"># å¼•æ“</span></span><br><span class="line">        <span class="string">&quot;ENGINE&quot;</span>: <span class="string">&quot;django.db.backends.mysql&quot;</span>,</span><br><span class="line">        <span class="comment"># æ•°æ®åº“çš„åå­—</span></span><br><span class="line">        <span class="string">&quot;NAME&quot;</span>: <span class="string">&quot;django&quot;</span>,</span><br><span class="line">        <span class="comment"># è´¦æˆ·å</span></span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="comment"># å¯†ç </span></span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">        <span class="comment"># ä¸»æœº</span></span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="comment"># ç«¯å£</span></span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: <span class="number">3306</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><p>Djangoæ“ä½œè¡¨</p><ul><li>åˆ›å»ºè¡¨</li><li>åˆ é™¤è¡¨</li><li>ä¿®æ”¹è¡¨</li></ul></li></ol><h3 id="åˆ›å»ºä¸ä¿®æ”¹è¡¨"><a href="#åˆ›å»ºä¸ä¿®æ”¹è¡¨" class="headerlink" title="åˆ›å»ºä¸ä¿®æ”¹è¡¨"></a>åˆ›å»ºä¸ä¿®æ”¹è¡¨</h3><p>   åˆ›å»ºè¡¨ï¼Œåœ¨models.pyæ–‡ä»¶ä¸­ï¼š</p>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(models.Model):</span><br><span class="line">    <span class="comment"># id</span></span><br><span class="line">    <span class="comment"># username</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># password</span></span><br><span class="line">    password = models.CharField(max_length=<span class="number">64</span>)</span><br><span class="line">    <span class="comment"># age</span></span><br><span class="line">    age = models.IntegerField()</span><br></pre></td></tr></table></figure><p>   æ­¤æ—¶è¡¨å¹¶æ²¡æœ‰åˆ›å»º</p> <img src="https://www.z4a.net/images/2024/08/11/10dc6b8afd9b3b9012.png" alt="image-20240212100720097" style="zoom: 67%" /><p>   æ‰§è¡Œå‘½ä»¤</p>   <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ä½ çš„appéœ€è¦å·²ç»æ³¨å†Œï¼ï¼ï¼ï¼</strong></p><img src="https://www.z4a.net/images/2024/08/11/11.png" alt="image-20240212183549476" style="zoom:67%;" /><img src="https://www.z4a.net/images/2024/08/11/12.png" alt="image-20240212183522287" style="zoom: 67%;" /><p>å‘ç°æœ‰å¥½å¤šçš„è¡¨ï¼ŒåŸç†æ˜¯ç”Ÿæˆè¡¨çš„æ—¶å€™ä»–ä¼šéå†æ•´ä¸ªé¡¹ç›®çš„appï¼Œå› æ­¤æœ‰ä¸€äº›é»˜è®¤çš„appä¹Ÿç”Ÿæˆäº†ç›¸åº”çš„è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="comment"># è‡ªå·±æ·»åŠ çš„app</span></span><br><span class="line">    <span class="string">&quot;app01.apps.App01Config&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.admin&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.auth&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.contenttypes&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.sessions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.messages&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.staticfiles&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦åˆ›å»ºå¤šå¼ è¡¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºå¤šä¸ªç±»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å†åˆ›å»ºå‡ å¼ è¡¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Department</span>(models.Model):</span><br><span class="line">    <span class="comment"># id</span></span><br><span class="line">    <span class="built_in">id</span> = models.AutoField(primary_key=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># éƒ¨é—¨åç§°</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Emp</span>(models.Model):</span><br><span class="line">    <span class="comment"># id</span></span><br><span class="line">    <span class="built_in">id</span> = models.AutoField(primary_key=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># å‘˜å·¥åå­—</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># å‘˜å·¥å¹´é¾„</span></span><br><span class="line">    age = models.IntegerField()</span><br></pre></td></tr></table></figure><p>ç„¶åå†æ‰§è¡Œé‚£ä¸¤æ¡å‘½ä»¤å³å¯ã€‚å¦‚æœæƒ³è¦åˆ é™¤é‚£ä¸ªè¡¨æˆ–è€…è¡¨çš„é€‰é¡¹ï¼Œåªéœ€è¦æ³¨é‡Šæ‰ç›¸å…³ä»£ç æ‰§è¡Œå‘½ä»¤å³å¯ã€‚</p><p>ä½†æ˜¯å¦‚æœæƒ³è¦å¾€å·²å­˜åœ¨çš„è¡¨ä¸­æ·»åŠ æ–°çš„ä¸€è¡Œå°±ä¼šå‡ºç°è­¦å‘Š</p><img src="https://www.z4a.net/images/2024/08/11/13.png" alt="image-20240212195040231" style="zoom: 50%;" /><p>æœ‰ä¸‰ä¸ªåŠæ³•è§£å†³:</p><ol><li><p>åœ¨warmingä¸­å†™å…¥ä¸€ä¸ªåˆå§‹å€¼</p></li><li><p>åœ¨æ·»åŠ çš„æ—¶å€™å°±è®¾å®šåˆå§‹å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">size = models.IntegerField(default=<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li><li><p>å…è®¸ç©ºå€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…è®¸ä¸ºç©ºå€¼</span></span><br><span class="line">size = models.IntegerField(null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li></ol><p>ä»¥ååœ¨å¼€å‘æ€»æƒ³è¦å¯¹è¡¨ç»“æ„è¿›è¡Œè°ƒæ•´</p><ul><li><p>åœ¨models.pyæ–‡ä»¶ä¸­æ“ä½œç±»å³å¯</p></li><li><p>å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ“ä½œè¡¨ä¸­çš„æ•°æ®"><a href="#æ“ä½œè¡¨ä¸­çš„æ•°æ®" class="headerlink" title="æ“ä½œè¡¨ä¸­çš„æ•°æ®"></a>æ“ä½œè¡¨ä¸­çš„æ•°æ®</h3><h3 id="æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†"><a href="#æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†" class="headerlink" title="æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†"></a>æ¡ˆä¾‹ï¼šç”¨æˆ·ç®¡ç†</h3><ol><li><p>å±•ç¤ºç”¨æˆ·åˆ—è¡¨</p></li><li><p>æ·»åŠ ç”¨æˆ·</p><p>æäº¤æ•°æ®è¦ä¹ˆç”¨è¡¨å•ï¼Œè¦ä¹ˆç”¨Ajaxï¼Œç¾åŒ–å¯ä»¥è€ƒè™‘<a href="https://www.bootcss.com/">Bootstrap</a></p></li><li><p>åˆ é™¤ç”¨æˆ·</p></li></ol><h2 id="ä¸»é¢˜ï¼šå‘˜å·¥ç®¡ç†ç³»ç»Ÿ"><a href="#ä¸»é¢˜ï¼šå‘˜å·¥ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="ä¸»é¢˜ï¼šå‘˜å·¥ç®¡ç†ç³»ç»Ÿ"></a>ä¸»é¢˜ï¼šå‘˜å·¥ç®¡ç†ç³»ç»Ÿ</h2><h3 id="åˆ›å»ºapp"><a href="#åˆ›å»ºapp" class="headerlink" title="åˆ›å»ºapp"></a>åˆ›å»ºapp</h3><p>æ–°æ–¹æ³•:</p><img src="https://www.z4a.net/images/2024/08/11/14.png" alt="image-20240214172109281" style="zoom:67%;" /><p>ç›¸å½“äºè¿è¡Œäº†manage.pyï¼Œè¿™æ ·è¿è¡Œçš„å¥½å¤„æ˜¯ä¼šå‡ºç°æç¤ºï¼Œè€Œä¸”ä¸ç”¨è‡ªå·±å†™å‘½ä»¤ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/15.png" alt="image-20240214172138486" style="zoom:67%;" /><h3 id="è®¾è®¡å¹¶åˆ›å»ºæ•°æ®åº“å¯¹è±¡"><a href="#è®¾è®¡å¹¶åˆ›å»ºæ•°æ®åº“å¯¹è±¡" class="headerlink" title="è®¾è®¡å¹¶åˆ›å»ºæ•°æ®åº“å¯¹è±¡"></a>è®¾è®¡å¹¶åˆ›å»ºæ•°æ®åº“å¯¹è±¡</h3><p>æ‹Ÿè®¾è®¡éƒ¨é—¨è¡¨ä¸å‘˜å·¥è¡¨</p><p>è®¾è®¡æ—¶å€™ä¼šå‡ºç°ä¸‰ä¸ªé—®é¢˜ï¼š</p><ol><li><p>éƒ¨é—¨å­˜å‚¨ä»€ä¹ˆå€¼ï¼Ÿæ˜¯å­˜åç§°ï¼Ÿè¿˜æ˜¯IDï¼Ÿ</p><ul><li>ID æ•°æ®åº“æ³›å¼ï¼Œå¸¸è§çš„å¼€å‘éƒ½æ˜¯è¿™æ ·åšçš„ã€‚ã€èŠ‚çœå­˜å‚¨å¼€é”€ã€‘</li><li>å­˜åç§°ï¼Œç‰¹åˆ«å¤§çš„å…¬å¸ï¼ŒæŸ¥è¯¢çš„æ¬¡æ•°ä¼šéå¸¸å¤šï¼Œ<strong>å¦‚æœåªå­˜IDï¼Œéœ€è¦æŸ¥è¯¢å¤šæ¬¡</strong>ã€å¯ä»¥åŠ é€ŸæŸ¥æ‰¾ã€‘</li></ul></li><li><p>å­˜å‚¨éƒ¨é—¨IDéœ€ä¸éœ€è¦çº¦æŸï¼Ÿ</p><p>éƒ¨é—¨å®é™…æ˜¯æœ‰ä¸ªæ•°çš„é™åˆ¶çš„ï¼Œæ‰€ä»¥éœ€è¦çº¦æŸï¼Œåªèƒ½æ˜¯éƒ¨é—¨è¡¨ä¸­å·²å­˜åœ¨çš„ID</p></li><li><p>éƒ¨é—¨è¢«åˆ é™¤äº†ï¼Œå‘˜å·¥è¿˜å­˜åœ¨ç´¢å¼•è”ç³»ï¼Œæ€ä¹ˆåŠï¼Ÿ</p><ul><li>ç›´æ¥åˆ é™¤ç›¸å…³å‘˜å·¥ä¿¡æ¯ ã€çº§è”åˆ é™¤ã€‘</li><li>å°†å‘˜å·¥çš„éƒ¨é—¨IDè®¾ç½®ä¸ºNULL å‰ææ˜¯æ•°æ®å…è®¸ä¸ºç©ºã€ç½®ç©ºã€‘</li></ul></li><li><p>å¦‚ä½•è®¾ç½®æ€§åˆ«ï¼Ÿ</p><ul><li>ä½¿ç”¨Boolen</li><li>ä½¿ç”¨SmallIntegerFieldç±»å‹ï¼Œå…¶ä¸­ä½¿ç”¨choicesåšçº¦æŸ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gender_choice = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;ç”·&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;å¥³&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    gender = models.SmallIntegerField(verbose_name=<span class="string">&quot;æ€§åˆ«&quot;</span>, choices=gender_choice, default=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li></ol><p>æœ¬æ¬¡é€‰æ‹©IDå­˜å‚¨ï¼Œéƒ¨é—¨IDé‡‡ç”¨å…³è”çš„æ–¹æ³•ï¼Œä¿è¯åªæœ‰IDæ¥æ˜¾ç¤ºéƒ¨é—¨ï¼Œå½“éƒ¨é—¨è¢«åˆ é™¤åé‡‡ç”¨çº§è”åˆ é™¤ã€‚</p><p>éƒ¨é—¨è¡¨ç»“æœä¸ºï¼š</p><table><thead><tr><th>id</th><th>department</th></tr></thead><tbody><tr><td>1</td><td>é”€å”®</td></tr><tr><td>2</td><td>è¿ç»´</td></tr><tr><td>3</td><td>å®¢æœ</td></tr></tbody></table><p>ç”¨æˆ·è¡¨çš„è®¾è®¡ä¸ºï¼š</p><p>æ³¨æ„ï¼š</p><ul><li><code>ID</code>æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„</li><li><code>depart</code>ç”±äºæ˜¯ä¸éƒ¨é—¨è¡¨å…³è”çš„ï¼Œä¼šè‡ªåŠ¨å˜ä¸º<code>depart_id</code></li></ul><table><thead><tr><th>id</th><th>name</th><th>password</th><th>age</th><th>account</th><th>create_time</th><th>depart_id</th><th>gender</th></tr></thead><tbody><tr><td>1</td><td>gcnanmu</td><td>123456</td><td>23</td><td>200000</td><td>2020&#x2F;01&#x2F;01</td><td>1</td><td>1</td></tr><tr><td>2</td><td>giao</td><td>123456</td><td>25</td><td>0</td><td>2020&#x2F;01&#x2F;02</td><td>2</td><td>2</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DepartMent</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    éƒ¨é—¨è¡¨</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># verbose_nameä¸ºæ³¨è§£</span></span><br><span class="line">    <span class="comment"># BigAutoField è¿˜æœ‰ä¸€ä¸ª AutoFieldï¼Œ</span></span><br><span class="line">    <span class="comment"># ä¸è¿‡åè€…æ˜¯ä¸€ä¸ª 32 ä½æ•´æ•°ï¼Œè€Œå‰è€…æ˜¯ä¸€ä¸ª 64 ä½æ•´æ•°ã€‚</span></span><br><span class="line">    <span class="built_in">id</span> = models.BigAutoField(primary_key=<span class="literal">True</span>, verbose_name=<span class="string">&quot;ID&quot;</span>)</span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;éƒ¨é—¨åç§°&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserInfo</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å‘˜å·¥è¡¨</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">16</span>, verbose_name=<span class="string">&quot;å§“å&quot;</span>)</span><br><span class="line">    password = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;å¯†ç &quot;</span>)</span><br><span class="line">    age = models.IntegerField(verbose_name=<span class="string">&quot;å¹´é¾„&quot;</span>)</span><br><span class="line">    <span class="comment"># å¯èƒ½æœ‰å°æ•° max_digitsä¸ºæ•°æ®æ€»ä½æ•°ï¼Œdecimal_placesä¸ºå°æ•°ä½æ•°</span></span><br><span class="line">    account = models.DecimalField(max_digits=<span class="number">10</span>, decimal_places=<span class="number">2</span>, verbose_name=<span class="string">&quot;å·¥èµ„&quot;</span>, default=<span class="number">0</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now_add=<span class="literal">True</span>, verbose_name=<span class="string">&quot;åˆ›å»ºæ—¶é—´&quot;</span>)</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    éƒ¨é—¨å­˜å‚¨ä»€ä¹ˆå€¼ï¼Ÿæ˜¯å­˜åç§°ï¼Ÿè¿˜æ˜¯IDï¼Ÿ</span></span><br><span class="line"><span class="string">        - ID æ•°æ®åº“æ³›å¼ï¼Œå¸¸è§çš„å¼€å‘éƒ½æ˜¯è¿™æ ·åšçš„ã€‚ã€èŠ‚çœå­˜å‚¨å¼€é”€ã€‘</span></span><br><span class="line"><span class="string">        - å­˜åç§°ï¼Œç‰¹åˆ«å¤§çš„å…¬å¸ï¼ŒæŸ¥è¯¢çš„æ¬¡æ•°ä¼šéå¸¸å¤šï¼Œå¦‚æœåªå­˜IDï¼Œéœ€è¦æŸ¥è¯¢å¤šæ¬¡ï¼Œå¯ä»¥åŠ é€ŸæŸ¥æ‰¾</span></span><br><span class="line"><span class="string">    å­˜å‚¨éƒ¨é—¨IDéœ€ä¸éœ€è¦çº¦æŸ</span></span><br><span class="line"><span class="string">        éƒ¨é—¨å®é™…æ˜¯æœ‰ä¸ªæ•°çš„é™åˆ¶çš„ï¼Œæ‰€ä»¥éœ€è¦çº¦æŸï¼Œåªèƒ½æ˜¯éƒ¨é—¨è¡¨ä¸­å·²å­˜åœ¨çš„ID</span></span><br><span class="line"><span class="string">    éƒ¨é—¨è¢«åˆ é™¤äº†ï¼Œå‘˜å·¥è¿˜å­˜åœ¨ç´¢å¼•è”ç³»ï¼Œæ€ä¹ˆåŠï¼Ÿ</span></span><br><span class="line"><span class="string">        - ç›´æ¥åˆ é™¤ç›¸å…³å‘˜å·¥ä¿¡æ¯ ã€çº§è”åˆ é™¤ã€‘</span></span><br><span class="line"><span class="string">        - å°†å‘˜å·¥çš„éƒ¨é—¨IDè®¾ç½®ä¸ºNULL å‰ææ˜¯æ•°æ®å…è®¸ä¸ºç©ºã€ç½®ç©ºã€‘</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># è¿™æ ·åˆ›å»ºå®é™…æ˜¯æ²¡æœ‰çº¦æŸçš„</span></span><br><span class="line">    <span class="comment"># dapart_id = models.BigIntegerField(verbose_name=&quot;éƒ¨é—¨ID&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¦‚ä½•åˆ›å»ºçº¦æŸ</span></span><br><span class="line">    <span class="comment"># é€šè¿‡models.ForeignKey å°†UserInfoè¡¨å’ŒDepartMentè¡¨å…³è”èµ·æ¥</span></span><br><span class="line">    <span class="comment"># åœ¨Djangoä¸­ä¼šè‡ªåŠ¨åœ¨åˆ—åä¸­åŠ ä¸Š_id å³ç”Ÿæˆdepart_id</span></span><br><span class="line">    <span class="comment"># å¦‚æœéƒ¨é—¨è¡¨è¢«åˆ é™¤ï¼Œå‘˜å·¥è¡¨è¿˜å­˜åœ¨ç´¢å¼•è”ç³»ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿ</span></span><br><span class="line">    <span class="comment"># models.CASCADE çº§è”åˆ é™¤</span></span><br><span class="line">    <span class="comment"># models.SET_NULL ç½®ç©º</span></span><br><span class="line">    depart = models.ForeignKey(to=<span class="string">&quot;DepartMent&quot;</span>, to_field=<span class="string">&quot;id&quot;</span>, on_delete=models.CASCADE, verbose_name=<span class="string">&quot;éƒ¨é—¨ID&quot;</span>)</span><br><span class="line">    <span class="comment"># depart = models.ForeignKey(to=&quot;DepartMent&quot;, to_field=&quot;id&quot;,</span></span><br><span class="line">    <span class="comment">#                            on_delete=models.SET_NULL, verbose_name=&quot;éƒ¨é—¨ID&quot;,</span></span><br><span class="line">    <span class="comment">#                            null=True, blank=True)</span></span><br><span class="line">    <span class="comment"># å¯ä»¥æ·»åŠ æ€§åˆ« åªæœ‰ä¸¤ä¸ªé€‰é¡¹ å¯ä»¥ç›´æ¥ä½¿ç”¨BooleanFieldç±»å‹</span></span><br><span class="line">    <span class="comment"># ä¹Ÿå¯ä»¥ä½¿ç”¨SmallIntegerFieldï¼Œä½¿ç”¨choicesä½œä¸ºçº¦æŸ</span></span><br><span class="line">    gender_choice = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;ç”·&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;å¥³&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    gender = models.SmallIntegerField(verbose_name=<span class="string">&quot;æ€§åˆ«&quot;</span>, choices=gender_choice, default=<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆæ•°æ®åº“"><a href="#ç”Ÿæˆæ•°æ®åº“" class="headerlink" title="ç”Ÿæˆæ•°æ®åº“"></a>ç”Ÿæˆæ•°æ®åº“</h3><ol><li><p>åˆ›å»ºæ•°æ®åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p 123456</span><br><span class="line"></span><br><span class="line">create database management_sys;</span><br><span class="line">use management_sys;</span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºè¡¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&quot;default&quot;</span>: &#123;</span><br><span class="line">        <span class="comment"># å¼•æ“</span></span><br><span class="line">        <span class="string">&quot;ENGINE&quot;</span>: <span class="string">&quot;django.db.backends.mysql&quot;</span>,</span><br><span class="line">        <span class="comment"># æ•°æ®åº“çš„åå­—</span></span><br><span class="line">        <span class="string">&quot;NAME&quot;</span>: <span class="string">&quot;management_sys&quot;</span>,</span><br><span class="line">        <span class="comment"># è´¦æˆ·å</span></span><br><span class="line">        <span class="string">&quot;USER&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="comment"># å¯†ç </span></span><br><span class="line">        <span class="string">&quot;PASSWORD&quot;</span>: <span class="string">&quot;123456&quot;</span>,</span><br><span class="line">        <span class="comment"># ä¸»æœº</span></span><br><span class="line">        <span class="string">&quot;HOST&quot;</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">        <span class="comment"># ç«¯å£</span></span><br><span class="line">        <span class="string">&quot;PORT&quot;</span>: 3306,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/16.png" alt="image-20240214194429999" style="zoom: 50%;" /></li></ol><p>â€‹ç”Ÿæˆç»“æœï¼š</p><img src="https://www.z4a.net/images/2024/08/11/17.png" alt="image-20240214194542543" style="zoom: 50%;" /><h3 id="é™æ€æ–‡ä»¶ç®¡ç†"><a href="#é™æ€æ–‡ä»¶ç®¡ç†" class="headerlink" title="é™æ€æ–‡ä»¶ç®¡ç†"></a>é™æ€æ–‡ä»¶ç®¡ç†</h3><p>staticæ–‡ä»¶å¤¹</p><img src="https://www.z4a.net/images/2024/08/11/18.png" alt="image-20240214194952946" style="zoom: 67%;" /><h3 id="éƒ¨é—¨ç®¡ç†"><a href="#éƒ¨é—¨ç®¡ç†" class="headerlink" title="éƒ¨é—¨ç®¡ç†"></a>éƒ¨é—¨ç®¡ç†</h3><blockquote><p>éœ€è¦ä½¿ç”¨æœ€åŸå§‹çš„æ–¹å¼æ¥åšã€‚</p><p>Djangoä¸­æä¾›Formä¸ModelFormç»„ä»¶ï¼ˆæ–¹ä¾¿ï¼‰</p></blockquote><h4 id="éƒ¨é—¨åˆ—è¡¨"><a href="#éƒ¨é—¨åˆ—è¡¨" class="headerlink" title="éƒ¨é—¨åˆ—è¡¨"></a>éƒ¨é—¨åˆ—è¡¨</h4><img src="https://www.z4a.net/images/2024/08/11/19.png" alt="image-20240214195519823" style="zoom: 67%;" /><p>ä¼ é€’å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path(<span class="string">&quot;depart/&lt;int:nid&gt;/edit&quot;</span>, views.depart_edit),</span><br></pre></td></tr></table></figure><p>å¯ä»¥å°†å‚æ•°æ”¾åœ¨urlä¸­ï¼Œåç»­å¯ä»¥ç›´æ¥åœ¨å‡½æ•°ä¸­è·å–å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">depart_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="comment"># è¿”å›å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">        title = models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first().title</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;depart_edit.html&quot;</span>, &#123;<span class="string">&quot;title&quot;</span>: title&#125;)</span><br><span class="line"></span><br><span class="line">    temp = request.POST.get(<span class="string">&quot;department&quot;</span>)</span><br><span class="line">    <span class="comment"># print(temp)</span></span><br><span class="line">    <span class="comment"># å¤šä¸ªå­—æ®µæ›´æ–° åœ¨æ¯ä¸ªå­—æ®µåé¢åŠ ä¸Šé€—å·</span></span><br><span class="line">    models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).update(title=temp, )</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="æ¨¡ç‰ˆçš„ç»§æ‰¿"><a href="#æ¨¡ç‰ˆçš„ç»§æ‰¿" class="headerlink" title="æ¨¡ç‰ˆçš„ç»§æ‰¿"></a>æ¨¡ç‰ˆçš„ç»§æ‰¿</h4><p>æ¯æ¬¡éƒ½è¦å¤åˆ¶ä¸€éå¯¼èˆªè¿˜æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ç»§æ‰¿çš„æ–¹æ³•æ¥å‡å°‘ä»£ç çš„å¤æ‚ç¨‹åº¦</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-3.4.1</span>/<span class="attr">css</span>/<span class="attr">bootstrap.min.css</span>&quot; %&#125;&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.navbar</span> &#123;</span></span><br><span class="line"><span class="language-css">        &#123;<span class="selector-id">#margin-bottom</span>: <span class="number">0</span>;#&#125; <span class="attribute">border-radius</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;navbar navbar-default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Brand and toggle get grouped for better mobile display --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;navbar-header&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;navbar-toggle collapsed&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;collapse&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">data-target</span>=<span class="string">&quot;#bs-example-navbar-collapse-1&quot;</span> <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;sr-only&quot;</span>&gt;</span>Toggle navigation<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;icon-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;navbar-brand&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/index/&quot;</span>&gt;</span>å‘˜å·¥ç®¡ç†ç³»ç»Ÿ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Collect the nav links, forms, and other content for toggling --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;collapse navbar-collapse&quot;</span> <span class="attr">id</span>=<span class="string">&quot;bs-example-navbar-collapse-1&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav navbar-nav&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>éƒ¨é—¨ç®¡ç†<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>éƒ¨é—¨ç®¡ç†<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;nav navbar-nav navbar-right&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;dropdown&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-toggle&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;dropdown&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-haspopup</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">                       <span class="attr">aria-expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>ç”¨æˆ·å<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;caret&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;dropdown-menu&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>ä¸ªäººèµ„æ–™<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æˆ‘çš„ä¿¡æ¯<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        &#123;# <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Something else here<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span>#&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">&quot;separator&quot;</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ³¨é”€<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.navbar-collapse --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.container-fluid --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">js</span>/<span class="attr">jQuery.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-3.4.1</span>/<span class="attr">js</span>/<span class="attr">bootstrap.min.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&#123;% block content %&#125;&#123;% endblock %&#125;</code>å®é™…ä¸ºç‰¹æ®Šçš„å ä½ç¬¦</p><p>æ­¤æ—¶å¯ä»¥å°†<code>depart_add.html</code>è½¬åŒ–ä¸ºå¦‚ä¸‹å½¢å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-default&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ·»åŠ éƒ¨é—¨<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/depart/add&quot;</span>&gt;</span></span><br><span class="line">                    &#123;% csrf_token %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>éƒ¨é—¨åç§°<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;name&quot;</span> <span class="attr">name</span>=<span class="string">&quot;department&quot;</span></span></span><br><span class="line"><span class="tag">                               <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥éƒ¨é—¨åç§°&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p><code>&#123;% extends "layout.html" %&#125;</code>å³ä¸ºç»§æ‰¿æ¨¡ç‰ˆï¼Œå¿…é¡»å†™åœ¨æ–‡ä»¶çš„æœ€å¼€å¤´</p><p>å¦å¤–ï¼Œè¿™æ ·å†™åç»­å¦‚æœå¯¹å¯¼èˆªè¿›è¡Œç¼–è¾‘ï¼Œå°±å¯ä»¥å®ç°åŒæ­¥ç¼–è¾‘ï¼Œè€Œä¸ç”¨æ¯ä¸ªhtmlæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚</p><h4 id="ç”¨æˆ·åˆ—è¡¨"><a href="#ç”¨æˆ·åˆ—è¡¨" class="headerlink" title="ç”¨æˆ·åˆ—è¡¨"></a>ç”¨æˆ·åˆ—è¡¨</h4><p>åˆ›å»ºæ•°æ®æœ€å¥½ç›´æ¥ä½¿ç”¨Pycharmè¿›è¡Œ</p><p>è¦æ³¨æ„æ—¥æœŸä¸æ€§åˆ«çš„è½¬åŒ–</p><h4 id="æ–°å»ºç”¨æˆ·"><a href="#æ–°å»ºç”¨æˆ·" class="headerlink" title="æ–°å»ºç”¨æˆ·"></a>æ–°å»ºç”¨æˆ·</h4><ul><li><p>åŸå§‹çš„æ–¹å¼ï¼šä¸é‡‡ç”¨ï¼Œéº»çƒ¦</p><blockquote><p>Ã— é—®é¢˜1ï¼šå¦‚ä½•è¿›è¡Œæ•°æ®çš„æ ¡éªŒï¼ˆæ˜¯å¦ä¸ºç©ºå·ï¼‰</p></blockquote></li></ul><blockquote><p>Ã— é—®é¢˜2ï¼šåœ¨é¡µé¢ä¸Šéœ€è¦è¿›è¡Œé”™è¯¯æç¤º</p><p>Ã— é—®é¢˜3ï¼šå¦‚ä½•æ•°æ®åº“ä¸Šæœ‰è¶…çº§å¤šçš„æ•°æ®ï¼Œé‚£ä¹ˆé¡µé¢ä¸Šçš„æ¯ä¸€ä¸ªå­—æ®µéƒ½éœ€è¦æˆ‘ä»¬è‡ªå·±é‡æ–°å†™ï¼Œå¾ˆéº»çƒ¦</p><p>Ã— é—®é¢˜4ï¼šå¦‚æœæœ‰ä¸€äº›å…³è”çš„æ•°æ®ï¼ˆæ¯”å¦‚ä¸‹æ‹‰æ¡†ï¼‰ï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å–æ•°æ®è¿›è¡Œå¾ªç¯å±•ç¤ºåœ¨é¡µé¢ä¸­</p></blockquote><ul><li><p>Djangoç»„ä»¶</p><ul><li>Formç»„ä»¶ï¼ˆå°ç®€ä¾¿ï¼‰</li><li>ModelFormç»„ä»¶ï¼ˆæœ€ç®€ä¾¿ï¼‰</li></ul></li></ul><p>åŸå§‹æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;gender_choices&quot;</span>: models.UserInfo.gender_choice,</span><br><span class="line">            <span class="string">&quot;depart_list&quot;</span>: models.DepartMent.objects.<span class="built_in">all</span>()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_add.html&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    username = request.POST.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">    age = request.POST.get(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">    account = request.POST.get(<span class="string">&quot;account&quot;</span>)</span><br><span class="line">    create_time = request.POST.get(<span class="string">&quot;create_time&quot;</span>)</span><br><span class="line">    depart = request.POST.get(<span class="string">&quot;depart&quot;</span>)</span><br><span class="line">    gender = request.POST.get(<span class="string">&quot;gender&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(username, password, age, gender, depart, account, create_time)</span><br><span class="line"></span><br><span class="line">    models.UserInfo.objects.create(name=username, password=password, gender=gender, depart_id=depart, age=age,</span><br><span class="line">                                   account=account, create_time=create_time)</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br></pre></td></tr></table></figure><p>htmlæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>éƒ¨é—¨<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">        &#123;% for item in depart_list %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123; item.id &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;name&quot;</span>&gt;</span>æ€§åˆ«<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span>&gt;</span></span><br><span class="line">        &#123;% for item in gender_choices %&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&#123;&#123; item.0 &#125;&#125;&quot;</span>&gt;</span>&#123;&#123; item.1 &#125;&#125;<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åˆè¯†Form"><a href="#åˆè¯†Form" class="headerlink" title="åˆè¯†Form"></a>åˆè¯†Form</h3><ol><li><p>views.py</p><p><code>forms.CharField</code>è¦ä¸modelsç±»å®šä¹‰çš„æ•°æ®ç±»å‹ç›¸åŒï¼Œæœ‰å¤šå°‘ä¸ªå­—æ®µå°±éœ€è¦è‡ªå·±å†™ä¸Šå¤šå°‘ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyFrom</span>(<span class="title class_ inherited__">Form</span>):</span><br><span class="line">    user = forms.CharField(widget=forms.Input)</span><br><span class="line">    pwd = forms.CharField(widget=forms.Input)</span><br><span class="line">    email = forms.CharField(widget=forms.Input)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = MyForm()</span><br><span class="line">        <span class="keyword">return</span> render(request,<span class="string">&quot;user_add.html&quot;</span>,&#123;<span class="string">&quot;form&quot;</span>:form&#125;)</span><br></pre></td></tr></table></figure></li><li><p>user_add.html</p><p>è¿™æ ·å°±ä¸ç”¨è‡ªå·±æ‰‹å†™htmlè¾“å…¥æ¡†äº†,<strong>è¿™ç§æ–¹æ³•åªèƒ½æ˜¾ç¤ºè¾“å…¥æ¡†ï¼Œä¸ä¼šæ˜¾ç¤ºæç¤º</strong>ï¼Œå¦‚æœè¦æ˜¾ç¤ºçš„è¯ï¼Œéœ€è¦åŠ ä¸Š<code>form.name.label</code>ï¼Œè¿™ç§æ–¹æ³•è¿æ¥çš„æ˜¯<code>models.py</code>ä¸­æ¨¡å‹çš„<code>verbose_name</code>å­—æ®µ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">    &#123;% csrf_token %&#125;</span><br><span class="line">    &#123;% for field in form %&#125;</span><br><span class="line">    &#123;&#123; field.label &#125;&#125; : &#123;&#123; field &#125;&#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ›´ç®€ä¾¿çš„å†™æ³•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">    &#123;% for field in form %&#125;</span><br><span class="line">        &#123;&#123; field.label &#125;&#125;:&#123;&#123; field &#125;&#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="ModelForm-recommandation"><a href="#ModelForm-recommandation" class="headerlink" title="ModelForm(recommandation)"></a>ModelForm(recommandation)</h3><p>æ˜¯é’ˆå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨ModelFrom</p><h4 id="å¿«é€Ÿä¸Šæ‰‹-1"><a href="#å¿«é€Ÿä¸Šæ‰‹-1" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h4><ol><li><p>views.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> ModelForm</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyForm</span>(<span class="title class_ inherited__">ModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        <span class="comment"># æ”¯æŒè‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line">        xx = form.CharField(<span class="string">&quot;....&quot;</span>)</span><br><span class="line">        model = UserInfo</span><br><span class="line">        <span class="comment"># å¦‚æœè¿”å›å…¨éƒ¨å¯ä»¥ä½¿ç”¨</span></span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        fields = [<span class="string">&quot;user&quot;</span>,<span class="string">&quot;pwd&quot;</span>,<span class="string">&quot;email&quot;</span>,<span class="string">&quot;xx&quot;</span>]</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = MyForm()</span><br><span class="line">        <span class="keyword">return</span> render(request,<span class="string">&quot;user_add.html&quot;</span>,&#123;<span class="string">&quot;form&quot;</span>:form&#125;)</span><br></pre></td></tr></table></figure></li><li><p>user_add.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">    &#123;% for field in form %&#125;</span><br><span class="line">        &#123;&#123; field.label &#125;&#125; : &#123;&#123; field &#125;&#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>å±•ç¤ºçš„ç»“æœæ˜¯ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/20.png" alt="image-20240217114956547" style="zoom:67%;" /><p>æ­¤æ—¶å°±ä¼šå‘ç°éƒ¨é—¨çš„éƒ¨åˆ†æœ‰ç‚¹é—®é¢˜ï¼Œå› ä¸ºå¾ªç¯æ‹¿å‡ºçš„æ˜¯<strong>å¯¹è±¡</strong>ï¼Œæ­¤æ—¶æ‰“å°å‡ºçš„æ˜¯å¯¹è±¡æœ¬æœ¬èº«ï¼Œå¦‚æœè¦ä½¿æ‰“å°å‡ºæ¥çš„ä¸ºç‰¹å®šçš„å­—ç¬¦ä¸²ï¼Œéœ€è¦å†å¯¹è±¡ä¸­æ·»åŠ <code>__str__</code>çš„é­”æœ¯æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DepartMent</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    éƒ¨é—¨è¡¨</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># verbose_nameä¸ºæ³¨è§£</span></span><br><span class="line">    <span class="comment"># BigAutoField è¿˜æœ‰ä¸€ä¸ª AutoFieldï¼Œ</span></span><br><span class="line">    <span class="comment"># ä¸è¿‡åè€…æ˜¯ä¸€ä¸ª 32 ä½æ•´æ•°ï¼Œè€Œå‰è€…æ˜¯ä¸€ä¸ª 64 ä½æ•´æ•°ã€‚</span></span><br><span class="line">    <span class="built_in">id</span> = models.BigAutoField(primary_key=<span class="literal">True</span>, verbose_name=<span class="string">&quot;ID&quot;</span>)</span><br><span class="line">    title = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;éƒ¨é—¨åç§°&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.title</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰“å°å‡ºæ¥çš„å°±æ˜¯éƒ¨é—¨çš„åå­—ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/21.png" alt="image-20240217115250129" style="zoom:67%;" /><p>ä½†æ˜¯è¿™æ ·å¹¶æ²¡æœ‰cssæ ·å¼ï¼Œå› ä¸ºfieldæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„htmlæ ‡ç­¾ï¼Œè¿™æ—¶å€™å¯ä»¥åœ¨å®šä¹‰modelformçš„ç±»ä¸­è¿™æ ·å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserModelForm</span>(forms.ModelForm):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.UserInfo</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        <span class="comment"># depart ä¸è¦å†™æˆ depart_id å®ƒå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°å‘½å</span></span><br><span class="line">        <span class="comment"># fields = [&quot;name&quot;, &quot;password&quot;, &quot;age&quot;, &quot;account&quot;, &quot;depart&quot;, &quot;</span></span><br><span class="line">        widgets = &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;age&quot;</span>: forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;account&quot;</span>: forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;depart&quot;</span>: forms.Select(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;gender&quot;</span>: forms.Select(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;create_time&quot;</span>: forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºæ·»åŠ çš„classéƒ½ä¸€æ ·ï¼Œè¿™æ ·å†™ä»£ç ä¸å¤Ÿç®€ä¾¿ï¼Œå¯ä»¥æ”¹ä¸ºè¿™æ ·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserModelForm</span>(forms.ModelForm):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.UserInfo</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        <span class="comment"># depart ä¸è¦å†™æˆ depart_id å®ƒå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°å‘½å</span></span><br><span class="line">        <span class="comment"># fields = [&quot;name&quot;, &quot;password&quot;, &quot;age&quot;, &quot;account&quot;, </span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            item.widget.attrs.update(&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>, <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)&#125;)</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š</p><img src="https://www.z4a.net/images/2024/08/11/22.png" alt="image-20240217123235243" style="zoom: 50%;" /><h4 id="æ•°æ®çš„æ ¡éªŒ"><a href="#æ•°æ®çš„æ ¡éªŒ" class="headerlink" title="æ•°æ®çš„æ ¡éªŒ"></a>æ•°æ®çš„æ ¡éªŒ</h4><p>è¿™é‡Œåªç®€å•æè¿°äº†å¦‚ä½•æ ¡éªŒç©ºæ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_modelform_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = UserModelForm(data=request.POST)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™è¾¹<code>form.errors</code>å®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬åªéœ€è¦å–ç¬¬ä¸€ä¸ªå°±å¯ä»¥ï¼Œè€Œä¸”éœ€è¦å°†ä»–æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-default&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ–°å»ºç”¨æˆ·<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="line">                &#123;#    å…³é—­æµè§ˆå™¨ç©ºç½®éªŒè¯ novalidate#&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">action</span>=<span class="string">&quot;/user/modelformadd&quot;</span> <span class="attr">novalidate</span>&gt;</span></span><br><span class="line">                    &#123;% csrf_token %&#125;</span><br><span class="line">                    &#123;% for field in form %&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; field.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            &#123;&#123; field &#125;&#125;</span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red;&quot;</span>&gt;</span>&#123;&#123; field.errors.0 &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    &#123;% endfor %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¦‚æœä¸è¾“å…¥æ•°æ®å°±ä¼šæœ‰æç¤ºå‡ºç°ï¼š</p><img src="https://www.z4a.net/images/2024/08/11/23.png" alt="image-20240217123615667" style="zoom: 50%;" /><p>å¯ä»¥å°†æç¤ºæ”¹ä¸ºä¸­æ–‡ï¼Œä¿®æ”¹<code>settings.py</code>ä¸­çš„<code>LANGUAGE_CODE = &quot;en-us&quot;</code>æ”¹ä¸º<code>LANGUAGE_CODE = &quot;zh-hans&quot;</code></p><img src="https://www.z4a.net/images/2024/08/11/24.png" alt="image-20240217123726170" style="zoom:67%;" /><p>å¦‚æœéœ€è¦è‡ªå®šä¹‰é”™è¯¯æç¤ºå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserModelForm</span>(forms.ModelForm):</span><br><span class="line">    <span class="comment"># è‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line">    name = forms.CharField(min_length=<span class="number">2</span>, label=<span class="string">&quot;å§“å&quot;</span>,</span><br><span class="line">                           error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;é•¿åº¦ä¸èƒ½å°äº2&quot;</span>&#125;)</span><br><span class="line">    <span class="comment"># å¦‚æœè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨validators</span></span><br><span class="line">    password = forms.CharField(min_length=<span class="number">6</span>, label=<span class="string">&quot;å¯†ç &quot;</span>,</span><br><span class="line">                               error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;é•¿åº¦ä¸èƒ½å°äº6&quot;</span>&#125;)</span><br><span class="line">    age = forms.IntegerField(max_value=<span class="number">100</span>, label=<span class="string">&quot;å¹´é¾„&quot;</span>,</span><br><span class="line">                             error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;max_value&quot;</span>: <span class="string">&quot;ä¸èƒ½å¤§äº100&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.UserInfo</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        <span class="comment"># depart ä¸è¦å†™æˆ depart_id å®ƒå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°å‘½å</span></span><br><span class="line">        <span class="comment"># fields = [&quot;name&quot;, &quot;password&quot;, &quot;age&quot;, &quot;account&quot;, &quot;depart&quot;, &quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            <span class="comment"># item.widget.attrs.update(&#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;)</span></span><br><span class="line">            item.widget.attrs = &#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>, <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¼–è¾‘å‘˜å·¥"><a href="#ç¼–è¾‘å‘˜å·¥" class="headerlink" title="ç¼–è¾‘å‘˜å·¥"></a>ç¼–è¾‘å‘˜å·¥</h4><p>æˆ‘ä»¬çš„åˆ›å»ºæ—¶é—´ä¸€èˆ¬ä¸éœ€è¦ç²¾ç¡®åˆ°åˆ†é’Ÿï¼Œåªéœ€è¦åˆ°æ—¥å°±è¡Œ</p><img src="https://www.z4a.net/images/2024/08/11/25.png" alt="image-20240217141657625" style="zoom: 50%;" /><p>å› æ­¤æˆ‘ä»¬éœ€è¦å°†<code>models.py</code>ä¸­çš„<code>create_time</code>å­—æ®µä¿®æ”¹ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create_time = models.DateField(verbose_name=<span class="string">&quot;åˆ›å»ºæ—¶é—´&quot;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å•ç‹¬æ’å…¥æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">user_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ›´æ–°æ•°æ®</span></span><br><span class="line">    form = UserModelForm(data=request.POST, instance=instance_data)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        <span class="comment"># å¦‚æœæƒ³ä¿å­˜ç”¨æˆ·è¾“å…¥ä»¥å¤–çš„å…¶ä»–å€¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•</span></span><br><span class="line">        <span class="comment"># form.instance.depart_id = request.POST.get(&quot;depart&quot;)</span></span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br></pre></td></tr></table></figure><h2 id="ä¸»é¢˜ï¼šé“å·ç®¡ç†"><a href="#ä¸»é¢˜ï¼šé“å·ç®¡ç†" class="headerlink" title="ä¸»é¢˜ï¼šé“å·ç®¡ç†"></a>ä¸»é¢˜ï¼šé“å·ç®¡ç†</h2><h3 id="è®¾è®¡è¡¨ç»“æ„"><a href="#è®¾è®¡è¡¨ç»“æ„" class="headerlink" title="è®¾è®¡è¡¨ç»“æ„"></a>è®¾è®¡è¡¨ç»“æ„</h3><table><thead><tr><th>ID</th><th>moblile</th><th>price</th><th>level</th><th>status</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneNumber</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;é“å·è¡¨&quot;&quot;&quot;</span></span><br><span class="line">    mobile = models.CharField(max_length=<span class="number">11</span>, verbose_name=<span class="string">&quot;æ‰‹æœºå·&quot;</span>)</span><br><span class="line">    <span class="comment"># å¦‚æœæ˜¯IntegerFieldï¼Œä¸éœ€è¦è®¾ç½®é•¿åº¦</span></span><br><span class="line">    <span class="comment"># æƒ³è¦å…è®¸ä¸ºç©ºï¼Œå¯ä»¥è®¾ç½®null=True,blank=True</span></span><br><span class="line">    price = models.DecimalField(max_digits=<span class="number">10</span>, decimal_places=<span class="number">2</span>, verbose_name=<span class="string">&quot;ä»·æ ¼&quot;</span>)</span><br><span class="line">    level_choices = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;ä½&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;ä¸­&quot;</span>),</span><br><span class="line">        (<span class="number">3</span>, <span class="string">&quot;é«˜&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    level = models.SmallIntegerField(choices=level_choices, default=<span class="number">1</span>, verbose_name=<span class="string">&quot;é“å·ç­‰çº§&quot;</span>)</span><br><span class="line"></span><br><span class="line">    status_choices = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;æœªå‡ºå”®&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;å·²å‡ºå”®&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    status = models.SmallIntegerField(choices=status_choices, default=<span class="number">1</span>, verbose_name=<span class="string">&quot;å”®å–çŠ¶æ€&quot;</span>)</span><br></pre></td></tr></table></figure><p>åˆå§‹çŠ¶æ€ä¸ºï¼š</p><img src="https://www.z4a.net/images/2024/08/11/26.png" alt="image-20240217144155453" style="zoom:67%;" /><h3 id="æ–°å»ºé“å·"><a href="#æ–°å»ºé“å·" class="headerlink" title="æ–°å»ºé“å·"></a>æ–°å»ºé“å·</h3><ol><li>æ–°å»ºè¿æ¥</li><li>åœ¨views.pyä¸­å®šä¹‰æ“ä½œå‡½æ•°</li><li>æ–°å»ºHTMLæ–‡ä»¶ï¼Œç»§æ‰¿æ¯ç‰ˆ</li><li>ä½¿ç”¨modelformæ˜¾ç¤ºæ•°æ®</li></ol><p>æ‰‹æœºå·ä¸å…è®¸é‡å¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">clean_mobile</span>(<span class="params">self</span>):</span><br><span class="line">    mobile_ = self.cleaned_data[<span class="string">&quot;mobile&quot;</span>]</span><br><span class="line">    exits = models.PhoneNumber.objects.<span class="built_in">filter</span>(mobile=mobile_).exists()</span><br><span class="line">    <span class="keyword">if</span> exits:</span><br><span class="line">        <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;</span>)</span><br><span class="line">        <span class="comment"># éªŒè¯ä¸é€šè¿‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> mobile_</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘ä¸åˆ é™¤é“å·"><a href="#ç¼–è¾‘ä¸åˆ é™¤é“å·" class="headerlink" title="ç¼–è¾‘ä¸åˆ é™¤é“å·"></a>ç¼–è¾‘ä¸åˆ é™¤é“å·</h3><ul><li><p><input checked="" disabled="" type="checkbox"> ç¼–è¾‘ä¿¡æ¯æ–°å»ºä¸€ä¸ªmodelformæ¥å®ç°ä¸ä¸€æ ·çš„åŠŸèƒ½</p></li><li><p><input checked="" disabled="" type="checkbox"> ä¸å…è®¸ç”¨æˆ·ç¼–è¾‘æ‰‹æœºå·</p></li><li><p><input checked="" disabled="" type="checkbox"> æ‰‹æœºå·ä¸å…è®¸é‡å¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ’é™¤è‡ªå·±ä»¥å¤–ï¼Œå…¶ä»–çš„æ•°æ®æ˜¯å¦é‡å¤ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥ä½¿ç”¨self.instanceè·å–å½“å‰ç¼–è¾‘ä¿¡æ¯çš„id</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clean_mobile</span>(<span class="params">self</span>):</span><br><span class="line">    mobile_ = self.cleaned_data[<span class="string">&quot;mobile&quot;</span>]</span><br><span class="line">    exits = models.PhoneNumber.objects.exclude(<span class="built_in">id</span>=self.instance).<span class="built_in">filter</span>(mobile=mobile_).exists()</span><br><span class="line">    <span class="keyword">if</span> exits:</span><br><span class="line">        <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> mobile_</span><br></pre></td></tr></table></figure></li></ul><h3 id="é“å·æœç´¢"><a href="#é“å·æœç´¢" class="headerlink" title="é“å·æœç´¢"></a>é“å·æœç´¢</h3><h4 id="æŒ‰ç…§ç´¢å¼•"><a href="#æŒ‰ç…§ç´¢å¼•" class="headerlink" title="æŒ‰ç…§ç´¢å¼•"></a>æŒ‰ç…§ç´¢å¼•</h4><p>åœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile=<span class="string">&quot;19999991&quot;</span>,<span class="built_in">id</span>=<span class="string">&quot;123&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥ä½¿ç”¨å­—å…¸æ¥ä½œä¸ºç´¢å¼•</span></span><br><span class="line">data_dict = &#123;<span class="string">&quot;mobile&quot;</span>:<span class="string">&quot;199999991&quot;</span>,<span class="string">&quot;id&quot;</span>:<span class="number">123</span>&#125;</span><br><span class="line">models.PrettyNumber.objects.<span class="built_in">filter</span>(**data_dict)</span><br></pre></td></tr></table></figure><h4 id="æŒ‰ç…§æ•°å­—æœç´¢"><a href="#æŒ‰ç…§æ•°å­—æœç´¢" class="headerlink" title="æŒ‰ç…§æ•°å­—æœç´¢"></a>æŒ‰ç…§æ•°å­—æœç´¢</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># IDå¤§äº12</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(id__gt=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># IDå¤§äºç­‰äº12</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(id__gte=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># IDå°äº12</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(id__lt=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># IDå°äºç­‰äº12</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(id__lte=<span class="number">12</span>)</span><br></pre></td></tr></table></figure><h4 id="æŒ‰ç…§å­—ç¬¦ä¸²æœç´¢"><a href="#æŒ‰ç…§å­—ç¬¦ä¸²æœç´¢" class="headerlink" title="æŒ‰ç…§å­—ç¬¦ä¸²æœç´¢"></a>æŒ‰ç…§å­—ç¬¦ä¸²æœç´¢</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># ä»¥ä»€ä¹ˆå¼€å¤´</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile__startswith=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># ä»¥ä»€ä¹ˆç»“å°¾</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile__endswith=<span class="number">12</span>)</span><br><span class="line"><span class="comment"># åŒ…å«</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile__contains=<span class="number">12</span>)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨å­—å…¸ä½œä¸ºæ¡ä»¶ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨å¤šä¸ªç­›é€‰æ¡ä»¶ã€‚</p><h3 id="åˆ†é¡µå±•ç¤º"><a href="#åˆ†é¡µå±•ç¤º" class="headerlink" title="åˆ†é¡µå±•ç¤º"></a>åˆ†é¡µå±•ç¤º</h3><p>å› ä¸ºquerysetå®è´¨æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡æ¥å±•ç¤ºæ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€é¡µ</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile=<span class="number">12</span>)[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬äºŒé¡µ</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile=<span class="number">12</span>)[<span class="number">10</span>:<span class="number">20</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬ä¸‰é¡µ</span></span><br><span class="line">models.PhoneModileForm.objects.<span class="built_in">filter</span>(mobile=<span class="number">12</span>)[<span class="number">20</span>:<span class="number">30</span>]</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>page</code>ä½œä¸ºå‚æ•°ï¼Œè¿™æ—¶å€™åœ¨htmlä¸­ç”Ÿè½¦å·¥ç»“æ„å·²ç»ä¸åˆé€‚äº†ï¼Œéœ€è¦åœ¨Pythonä¸­ç”Ÿæˆåœ¨ä¼ å…¥</p><h3 id="åˆ†é¡µç»„ä»¶çš„å®‰è£…"><a href="#åˆ†é¡µç»„ä»¶çš„å®‰è£…" class="headerlink" title="åˆ†é¡µç»„ä»¶çš„å®‰è£…"></a>åˆ†é¡µç»„ä»¶çš„å®‰è£…</h3><p>ä»·æ ¼åˆ†é¡µç³»ç»Ÿç›´æ¥åˆ†è£…ä¸ºä¸€ä¸ªç»„ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå°è£…èµ·æ¥éœ€è¦æŠŠè·³è½¬é¡µé¢çš„ä»£ç ä¹Ÿå†™å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> redirect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pagination</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, request, queryset, page_size=<span class="number">10</span>, page_param=<span class="string">&quot;page&quot;</span>, plus=<span class="number">5</span></span>):</span><br><span class="line">        page = request.GET.get(page_param, <span class="string">&quot;1&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> page.isdecimal():</span><br><span class="line">            page = <span class="built_in">int</span>(page)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            page = <span class="number">1</span></span><br><span class="line">        self.page = page</span><br><span class="line">        self.page_size = page_size</span><br><span class="line"></span><br><span class="line">        self.start = (page - <span class="number">1</span>) * page_size</span><br><span class="line">        self.end = page * page_size</span><br><span class="line">        <span class="built_in">print</span>(page, <span class="built_in">type</span>(page))</span><br><span class="line"></span><br><span class="line">        self.queryset = queryset[self.start:self.end]</span><br><span class="line"></span><br><span class="line">        total_count = queryset.count()</span><br><span class="line"></span><br><span class="line">        page_total, div = <span class="built_in">divmod</span>(total_count, page_size)</span><br><span class="line">        <span class="keyword">if</span> div &gt; <span class="number">0</span>:</span><br><span class="line">            page_total += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        self.page_total = page_total</span><br><span class="line">        self.plus = plus</span><br><span class="line"></span><br><span class="line">        self.jump_page = request.GET.get(<span class="string">&quot;jump&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">html</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå°‘ é¡µç å…¨éƒ¨æ˜¾ç¤º</span></span><br><span class="line">        <span class="keyword">if</span> self.page_total &lt; <span class="number">2</span> * self.plus + <span class="number">1</span>:</span><br><span class="line">            start_page = <span class="number">1</span></span><br><span class="line">            end_page = self.page_total + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå¤š</span></span><br><span class="line">            <span class="keyword">if</span> self.page &lt;= self.plus:</span><br><span class="line">                start_page = <span class="number">1</span></span><br><span class="line">                end_page = <span class="number">2</span> * self.plus + <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> self.page &gt; self.page_total - self.plus:</span><br><span class="line">                start_page = self.page_total - <span class="number">2</span> * self.plus</span><br><span class="line">                end_page = self.page_total + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                start_page = self.page - self.plus</span><br><span class="line">                end_page = self.page + self.plus + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”Ÿæˆé¡µç </span></span><br><span class="line">        page_data = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page):</span><br><span class="line">            <span class="keyword">if</span> i == self.page:</span><br><span class="line">                hl = <span class="string">&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                    i, i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(i, i)</span><br><span class="line">            page_data.append(hl)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># é¦–é¡µ æœ«é¡µ</span></span><br><span class="line">        shou_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>)</span><br><span class="line">        wei_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;æœ«é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(self.page_total)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¸Šä¸€é¡µ ä¸‹ä¸€é¡µ</span></span><br><span class="line">        prev_page = self.page - <span class="number">1</span></span><br><span class="line">        next_page = self.page + <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> prev_page &gt; <span class="number">1</span>:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                prev_page)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                <span class="number">1</span>)</span><br><span class="line">        page_data.insert(<span class="number">0</span>, hl)</span><br><span class="line">        <span class="keyword">if</span> next_page &lt;= self.page_total:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                next_page)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">                self.page_total)</span><br><span class="line">        page_data.append(hl)</span><br><span class="line"></span><br><span class="line">        page_data.insert(<span class="number">0</span>, shou_page)</span><br><span class="line">        page_data.append(wei_page)</span><br><span class="line">        <span class="comment"># print(page_data)</span></span><br><span class="line">        <span class="keyword">return</span> page_data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_queryset</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.queryset</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jump_html</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;è·³è·ƒçš„é¡µç ï¼š<span class="subst">&#123;self.jump_page&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="comment"># jump_page = int(jump_page)</span></span><br><span class="line">        <span class="keyword">if</span> self.jump_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            jump_page = <span class="built_in">int</span>(self.jump_page)</span><br><span class="line">            <span class="keyword">if</span> jump_page &lt;= <span class="number">1</span>:</span><br><span class="line">                jump_page = <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> jump_page &gt; self.page_total:</span><br><span class="line">                jump_page = self.page_total</span><br><span class="line">            <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list?page=%s&quot;</span> % (jump_page,))</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åçš„html</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> PhoneModelForm, PhoneEditModelForm</span><br><span class="line"><span class="keyword">from</span> django.utils.safestring <span class="keyword">import</span> mark_safe</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.pagination <span class="keyword">import</span> Pagination</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = &#123;&#125;</span><br><span class="line">    <span class="comment"># models.PhoneNumber.objects.filter(id=1)</span></span><br><span class="line">    search_ = request.GET.get(<span class="string">&quot;q&quot;</span>)</span><br><span class="line">    <span class="comment"># ä¼ è¿‡æ¥çš„å€¼å¯èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> search_:</span><br><span class="line">        data[<span class="string">&quot;mobile__contains&quot;</span>] = search_</span><br><span class="line">        <span class="comment"># return render(request, &quot;phone_list.html&quot;, &#123;&quot;data&quot;: data&#125;)</span></span><br><span class="line"></span><br><span class="line">    page = request.GET.get(<span class="string">&quot;page&quot;</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    pagination = Pagination(request, models.PhoneNumber.objects.<span class="built_in">filter</span>(**data).order_by(<span class="string">&quot;-level&quot;</span>))</span><br><span class="line"></span><br><span class="line">    page_data = pagination.html()</span><br><span class="line">    data = pagination.get_queryset()</span><br><span class="line"></span><br><span class="line">    jump_page = request.GET.get(<span class="string">&quot;jump&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> jump_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        jump_page = pagination.jump_html()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list?page=%s&quot;</span> % (jump_page,))</span><br><span class="line"></span><br><span class="line">    page_data = mark_safe(<span class="string">&quot;&quot;</span>.join(page_data))</span><br><span class="line">    <span class="comment"># print(page_data)</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;phone_list.html&quot;</span>,</span><br><span class="line">                  &#123;<span class="string">&quot;data&quot;</span>: data, <span class="string">&quot;search&quot;</span>: search_, <span class="string">&quot;page_data&quot;</span>: page_data, <span class="string">&quot;current_page&quot;</span>: page&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneModelForm(data=request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneEditModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneEditModelForm(data=request.POST, instance=instance_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_delete</span>(<span class="params">request, nid</span>):</span><br><span class="line">    models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä»¥åå“ªé‡Œç”¨åˆ†é¡µå°±æ”¾åˆ°å“ªé‡Œç”¨å°±å¥½ï¼Œä½†å‡ºç°ä¸€ä¸ªå°é—®é¢˜ï¼Œæœç´¢çš„æ—¶å€™éœ€è¦ä¿ç•™æœç´¢çš„æ¡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8000/phone/list?q=666</span><br></pre></td></tr></table></figure><h3 id="æ—¶é—´æ’ä»¶"><a href="#æ—¶é—´æ’ä»¶" class="headerlink" title="æ—¶é—´æ’ä»¶"></a>æ—¶é—´æ’ä»¶</h3><blockquote><p>é¢å¤–æ’ä»¶ï¼š<a href="https://github.com/smalot/bootstrap-datetimepicker/archive/master.zip">bootstrap-datetimepicker</a></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load static %&#125;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-3.4.1</span>/<span class="attr">css</span>/<span class="attr">bootstrap.min.css</span>&quot; %&#125;&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.navbar</span> &#123;</span></span><br><span class="line"><span class="language-css">        &#123;<span class="selector-id">#margin-bottom</span>: <span class="number">0</span>;#&#125; <span class="attribute">border-radius</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    &#123;% block css %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">ã€‚ã€‚ã€‚ã€‚</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">js</span>/<span class="attr">jQuery.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-3.4.1</span>/<span class="attr">js</span>/<span class="attr">bootstrap.min.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% block js %&#125;&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>éœ€è¦å¤šå¼•å…¥ä¸œè¥¿ï¼Œæ‰€ä»¥éœ€è¦å¤šå†™å…¥å‡ ä¸ªblock<code>&#123;% block js %&#125;&#123;% endblock %&#125;</code>,<code>&#123;% block css %&#125;&#123;% endblock %&#125;</code></p><p>éœ€è¦å¼•å…¥ä»¥ä¸‹ä¾èµ–</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block css %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &quot;</span>/<span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">css</span>/<span class="attr">bootstrap-datetimepicker.min.css</span>&quot; %&#125;&quot;&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">js</span>/<span class="attr">bootstrap-datetimepicker.min.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">js</span>/<span class="attr">locales</span>/<span class="attr">bootstrap-datetimepicker.zh-CN.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#dt&quot;</span>).<span class="title function_">datepicker</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">language</span>: <span class="string">&#x27;zh-CN&#x27;</span>, <span class="comment">//è¯­è¨€</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">autoclose</span>: <span class="literal">true</span>, <span class="comment">//é€‰æ‹©åè‡ªåŠ¨å…³é—­</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">clearBtn</span>: <span class="literal">true</span>,<span class="comment">//æ¸…é™¤æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">format</span>: <span class="string">&quot;yyyy-mm-dd&quot;</span><span class="comment">//æ—¥æœŸæ ¼å¼</span></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&quot;#dt&quot;</span>).<span class="title function_">datepicker</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">language</span>: <span class="string">&#x27;zh-CN&#x27;</span>, <span class="comment">//è¯­è¨€</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">autoclose</span>: <span class="literal">true</span>, <span class="comment">//é€‰æ‹©åè‡ªåŠ¨å…³é—­</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">clearBtn</span>: <span class="literal">true</span>,<span class="comment">//æ¸…é™¤æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">format</span>: <span class="string">&quot;yyyy-mm-dd&quot;</span><span class="comment">//æ—¥æœŸæ ¼å¼</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>è¿™ä¸ªjsçš„ä½œç”¨æ˜¯æ‰¾åˆ°idä¸ºdtçš„æ ‡ç­¾</strong>ï¼Œç„¶åä½œç”¨åœ¨æ ‡ç­¾ä¸Šã€‚</p><p>æ‰€ä»¥åœ¨<code>user_add.html</code>ä¸­è¦è¿™æ ·æ·»åŠ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line">&#123;% load static %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block css %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% static &quot;</span>/<span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">css</span>/<span class="attr">bootstrap-datetimepicker.min.css</span>&quot; %&#125;&quot;&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dt&quot;</span> <span class="attr">name</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥åˆ›å»ºæ—¶é—´&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">js</span>/<span class="attr">bootstrap-datetimepicker.min.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&#123;% static &quot;</span><span class="attr">plugins</span>/<span class="attr">bootstrap-datetimepicker</span>/<span class="attr">js</span>/<span class="attr">locales</span>/<span class="attr">bootstrap-datetimepicker.zh-CN.js</span>&quot; %&#125;&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&#x27;#dt&#x27;</span>).<span class="title function_">datetimepicker</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">language</span>: <span class="string">&#x27;zh-CN&#x27;</span>, <span class="comment">// ä¸­æ–‡è¯­è¨€åŒ…</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">autoclose</span>: <span class="number">1</span>, <span class="comment">// é€‰ä¸­æ—¥æœŸåè‡ªåŠ¨å…³é—­</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">format</span>: <span class="string">&#x27;yyyy-mm-dd&#x27;</span>, <span class="comment">// æ—¥æœŸæ ¼å¼</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">minView</span>: <span class="string">&quot;month&quot;</span>, <span class="comment">// æœ€å°æ—¥æœŸæ˜¾ç¤ºå•å…ƒï¼Œè¿™é‡Œæœ€å°æ˜¾ç¤ºæœˆä»½ç•Œé¢ï¼Œå³å¯ä»¥é€‰æ‹©åˆ°æ—¥</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">todayBtn</span>: <span class="number">1</span>, <span class="comment">// æ˜¾ç¤ºä»Šå¤©æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">todayHighlight</span>: <span class="number">1</span>, <span class="comment">// æ˜¾ç¤ºä»Šå¤©é«˜äº®</span></span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¯¹äº<code>modelform_add.html</code>è¿™ä¸ªæ¨¡ç‰ˆï¼Œå› ä¸ºæ˜¯Djangoç”Ÿæˆçš„ï¼Œ<strong>Djangoå¸®æˆ‘ä»¬è‡ªå·±ç”Ÿæˆäº†ç›¸åº”çš„id</strong>,ç‚¹å‡»æ£€æŸ¥å¯ä»¥çœ‹åˆ°</p><img src="https://www.z4a.net/images/2024/08/11/27.png" alt="image-20240219185355467" style="zoom: 50%;" /><p>æ‰€ä»¥åªéœ€è¦å°†idéƒ¨åˆ†æ”¹ä¸º<code>id_create_time</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="string">&#x27;#id_create_time&#x27;</span>).<span class="title function_">datetimepicker</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">language</span>: <span class="string">&#x27;zh-CN&#x27;</span>, <span class="comment">// ä¸­æ–‡è¯­è¨€åŒ…</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">autoclose</span>: <span class="number">1</span>, <span class="comment">// é€‰ä¸­æ—¥æœŸåè‡ªåŠ¨å…³é—­</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">format</span>: <span class="string">&#x27;yyyy-mm-dd&#x27;</span>, <span class="comment">// æ—¥æœŸæ ¼å¼</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">minView</span>: <span class="string">&quot;month&quot;</span>, <span class="comment">// æœ€å°æ—¥æœŸæ˜¾ç¤ºå•å…ƒï¼Œè¿™é‡Œæœ€å°æ˜¾ç¤ºæœˆä»½ç•Œé¢ï¼Œå³å¯ä»¥é€‰æ‹©åˆ°æ—¥</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">todayBtn</span>: <span class="number">1</span>, <span class="comment">// æ˜¾ç¤ºä»Šå¤©æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">todayHighlight</span>: <span class="number">1</span>, <span class="comment">// æ˜¾ç¤ºä»Šå¤©é«˜äº®</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><img src="https://www.z4a.net/images/2024/08/11/47.png" alt="image-20240223141926737" style="zoom:67%;" /><h3 id="ModelFormä¸BootStrap"><a href="#ModelFormä¸BootStrap" class="headerlink" title="ModelFormä¸BootStrap"></a>ModelFormä¸BootStrap</h3><ul><li><p>ModelFormå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç”ŸæˆHTMLæ ‡ç­¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneModelForm</span>(<span class="title class_ inherited__">ModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        fields = [<span class="string">&quot;mobile&quot;</span>, <span class="string">&quot;price&quot;</span>, <span class="string">&quot;level&quot;</span>, <span class="string">&quot;status&quot;</span>]</span><br><span class="line">form = PhoneModelForm()</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; form.name &#125;&#125; æ™®é€šçš„è¾“å…¥æ¡†</span><br><span class="line">&#123;&#123; form.age &#125;&#125; æ™®é€šçš„è¾“å…¥æ¡†</span><br></pre></td></tr></table></figure></li><li><p>å®šä¹‰æ’ä»¶ ä¸¤ç§æ’ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneModelForm</span>(<span class="title class_ inherited__">ModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        fields = [<span class="string">&quot;mobile&quot;</span>, <span class="string">&quot;price&quot;</span>, <span class="string">&quot;level&quot;</span>, <span class="string">&quot;status&quot;</span>]</span><br><span class="line">        widget = &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>:forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;password&quot;</span>:forms.PasswordInput(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;form-control&quot;</span>&#125;),</span><br><span class="line">            <span class="string">&quot;age&quot;</span>:forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;form-control&quot;</span>&#125;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneModelForm</span>(<span class="title class_ inherited__">ModelForm</span>):</span><br><span class="line">    name = forms.TextInput(</span><br><span class="line">        min_length=<span class="number">3</span>,</span><br><span class="line">        label=<span class="string">&quot;ç”¨æˆ·å&quot;</span>,</span><br><span class="line">        widge=forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>:<span class="string">&quot;form-control&quot;</span>&#125;)</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        fields = [<span class="string">&quot;mobile&quot;</span>, <span class="string">&quot;price&quot;</span>, <span class="string">&quot;level&quot;</span>, <span class="string">&quot;status&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123; form.name &#125;&#125; BootStrapçš„è¾“å…¥æ¡†</span><br><span class="line">&#123;&#123; form.age &#125;&#125; BootStrapçš„è¾“å…¥æ¡†</span><br></pre></td></tr></table></figure></li><li><p>é‡æ–°å®šä¹‰çš„initæ–¹æ³•ï¼Œæ‰¹é‡è®¾ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneModelForm</span>(forms.ModelForm):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        <span class="comment"># fields = [&quot;mobile&quot;, &quot;price&quot;, &quot;level&quot;, &quot;status&quot;]</span></span><br><span class="line">        <span class="comment"># æ’é™¤å“ªä¸ªå­—æ®µ</span></span><br><span class="line">        <span class="comment"># exclude = [&quot;status&quot;]</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="comment"># å¾ªç¯Modelformä¸­çš„æ‰€æœ‰å­—æ®µï¼Œåœ¨æ¯ä¸ªå­—æ®µè®¾ç½®æ’ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            item.widget.attrs = &#123;</span><br><span class="line">                <span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>, </span><br><span class="line">                <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ–¹æ³•ä¼šå¯¼è‡´åŸæœ‰çš„å±æ€§è¢«è¦†ç›–ï¼Œå¯ä»¥ä¼˜åŒ–å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">    <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">    <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">        <span class="keyword">if</span> item.widget.attrs:</span><br><span class="line">            item.widget.attrs[<span class="string">&quot;class&quot;</span>] = <span class="string">&quot;form-control&quot;</span></span><br><span class="line">            item.widget.attrs[<span class="string">&quot;placeholder&quot;</span>] = <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            item.widget.attrs = &#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>, <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)&#125;</span><br></pre></td></tr></table></figure></li><li><p>å®šä¹‰ä¸€ä¸ªç±»è¿›è¡Œç»§æ‰¿</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BootStrapModelForm</span>(forms.ModelForm):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="comment"># å¾ªç¯Modelformä¸­çš„æ‰€æœ‰å­—æ®µï¼Œåœ¨æ¯ä¸ªå­—æ®µè®¾ç½®æ’ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            item.widget.attrs = &#123;</span><br><span class="line">                <span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>, </span><br><span class="line">                <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥å°†å…¶ä»–<code>forms.ModelForm</code>æ”¹ä¸ºç»§æ‰¿<code>BootStrapModelForm</code></p><p>æ›¿æ¢ï¼š</p><ul><li><p>å¯¼å…¥æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> management_sys.utils.BootstrapModel <span class="keyword">import</span> BootStrapModelForm</span><br></pre></td></tr></table></figure></li><li><p>å°†å…¶ä»–çš„initæ–¹æ³•åˆ é™¤ï¼Œä¿ç•™é’©å­æ–¹æ³•</p></li></ul></li><li><p>å°†æ‰€æœ‰ModelFormå…¨å†™å…¥ä¸€ä¸ªpyæ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.BootstrapModel <span class="keyword">import</span> BootStrapModelForm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    <span class="comment"># è‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line">    name = forms.CharField(min_length=<span class="number">2</span>, label=<span class="string">&quot;å§“å&quot;</span>,</span><br><span class="line">                           error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;é•¿åº¦ä¸èƒ½å°äº2&quot;</span>&#125;)</span><br><span class="line">    <span class="comment"># å¦‚æœè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨validators</span></span><br><span class="line">    password = forms.CharField(min_length=<span class="number">6</span>, label=<span class="string">&quot;å¯†ç &quot;</span>,</span><br><span class="line">                               error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;min_length&quot;</span>: <span class="string">&quot;é•¿åº¦ä¸èƒ½å°äº6&quot;</span>&#125;)</span><br><span class="line">    age = forms.IntegerField(max_value=<span class="number">100</span>, label=<span class="string">&quot;å¹´é¾„&quot;</span>,</span><br><span class="line">                             error_messages=&#123;<span class="string">&quot;required&quot;</span>: <span class="string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span>, <span class="string">&quot;max_value&quot;</span>: <span class="string">&quot;ä¸èƒ½å¤§äº100&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.UserInfo</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–¹å¼äºŒï¼šé’©å­æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_mobile</span>(<span class="params">self</span>):</span><br><span class="line">        mobile_ = self.cleaned_data[<span class="string">&quot;mobile&quot;</span>]</span><br><span class="line">        exits = models.PhoneNumber.objects.<span class="built_in">filter</span>(mobile=mobile_).exists()</span><br><span class="line">        <span class="keyword">if</span> exits:</span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;</span>)</span><br><span class="line">        <span class="comment"># éªŒè¯ä¸é€šè¿‡</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(mobile_) != <span class="number">11</span>:</span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·é•¿åº¦ä¸å¯¹&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> mobile_:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&quot;0123456789&quot;</span>:</span><br><span class="line">                <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼Œå¿…é¡»å…¨æ˜¯æ•°å­—&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> mobile_</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PhoneEditModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    mobile = forms.CharField(disabled=<span class="literal">True</span>, label=<span class="string">&quot;æ‰‹æœºå·&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.PhoneNumber</span><br><span class="line">        <span class="comment"># ä¸è®©ç”¨æˆ·ä¿®æ”¹æ‰‹æœºå·</span></span><br><span class="line">        fields = [<span class="string">&quot;mobile&quot;</span>, <span class="string">&quot;price&quot;</span>, <span class="string">&quot;level&quot;</span>, <span class="string">&quot;status&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_mobile</span>(<span class="params">self</span>):</span><br><span class="line">        mobile_ = self.cleaned_data[<span class="string">&quot;mobile&quot;</span>]</span><br><span class="line">        exits = models.PhoneNumber.objects.exclude(<span class="built_in">id</span>=self.instance).<span class="built_in">filter</span>(mobile=mobile_).exists()</span><br><span class="line">        <span class="keyword">if</span> exits:</span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> mobile_</span><br></pre></td></tr></table></figure><p>åœ¨views.pyä¸­ä¿®æ”¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> UserModelForm, PhoneModelForm, PhoneEditModelForm</span><br></pre></td></tr></table></figure></li><li><p>å¯ä»¥å°†è§†å›¾å‡½æ•°è¿›è¡Œåˆ’åˆ†</p><p>å¯ä»¥å°†è§†å›¾å‡½æ•°æŒ‰ç…§ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†ï¼Œå•ç‹¬åˆ›å»ºä¸€ä¸ªviewsæ–‡ä»¶å¤¹ï¼Œå°†ä¸åŒçš„ä¸šåŠ¡åˆ’åˆ†åˆ°ä¸åŒçš„pyæ–‡ä»¶ä¸­</p><p>depart.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = models.DepartMent.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;depart_list.html&quot;</span>, &#123;<span class="string">&quot;depart_list&quot;</span>: data&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;depart_add.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">    title = request.POST.get(<span class="string">&quot;department&quot;</span>)</span><br><span class="line">    models.DepartMent.objects.create(title=title)</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_delete</span>(<span class="params">request</span>):</span><br><span class="line">    data = request.GET.get(<span class="string">&quot;nid&quot;</span>)</span><br><span class="line">    models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=data).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="comment"># è¿”å›å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">        title = models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first().title</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;depart_edit.html&quot;</span>, &#123;<span class="string">&quot;title&quot;</span>: title&#125;)</span><br><span class="line"></span><br><span class="line">    temp = request.POST.get(<span class="string">&quot;department&quot;</span>)</span><br><span class="line">    <span class="comment"># print(temp)</span></span><br><span class="line">    <span class="comment"># å¤šä¸ªå­—æ®µæ›´æ–° åœ¨æ¯ä¸ªå­—æ®µåé¢åŠ ä¸Šé€—å·</span></span><br><span class="line">    models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).update(title=temp, )</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br></pre></td></tr></table></figure><p>user.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> UserModelForm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = models.UserInfo.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="comment"># è¿™é‡Œæ˜¯é€šè¿‡Djangoçš„Pythonä»£ç æ¥å®ç°çš„</span></span><br><span class="line">    <span class="comment"># for i in data:</span></span><br><span class="line">    <span class="comment">#     # å°†datetime ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">    <span class="comment">#     # i.create_time = dt.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)</span></span><br><span class="line">    <span class="comment">#     i.create_time = dt.strftime(&quot;%Y-%m-%d&quot;)</span></span><br><span class="line">    <span class="comment">#     # å¯ä»¥ç›´æ¥é€šè¿‡get_å­—æ®µå_display()è·å–choicesçš„å€¼</span></span><br><span class="line">    <span class="comment">#     i.gender = i.get_gender_display()</span></span><br><span class="line">    <span class="comment">#     # é€šè¿‡éƒ¨é—¨idè·å¾—éƒ¨é—¨åç§° ä¼šå°†idè‡ªåŠ¨è½¬åŒ–åç§°</span></span><br><span class="line">    <span class="comment">#     i.depart_id = i.depart.title</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;user_list.html&quot;</span>, &#123;<span class="string">&quot;user_list&quot;</span>: data&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;gender_choices&quot;</span>: models.UserInfo.gender_choice,</span><br><span class="line">            <span class="string">&quot;depart_list&quot;</span>: models.DepartMent.objects.<span class="built_in">all</span>()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_add.html&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    username = request.POST.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">    age = request.POST.get(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">    account = request.POST.get(<span class="string">&quot;account&quot;</span>)</span><br><span class="line">    create_time = request.POST.get(<span class="string">&quot;create_time&quot;</span>)</span><br><span class="line">    depart = request.POST.get(<span class="string">&quot;depart&quot;</span>)</span><br><span class="line">    gender = request.POST.get(<span class="string">&quot;gender&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(username, password, age, gender, depart, account, create_time)</span><br><span class="line"></span><br><span class="line">    models.UserInfo.objects.create(name=username, password=password, gender=gender, depart_id=depart, age=age,</span><br><span class="line">                                   account=account, create_time=create_time)</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class UserModelForm(BootStrapModelForm):</span></span><br><span class="line"><span class="comment">#     # è‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line"><span class="comment">#     name = forms.CharField(min_length=2, label=&quot;å§“å&quot;,</span></span><br><span class="line"><span class="comment">#                            error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;min_length&quot;: &quot;é•¿åº¦ä¸èƒ½å°äº2&quot;&#125;)</span></span><br><span class="line"><span class="comment">#     # å¦‚æœè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨validators</span></span><br><span class="line"><span class="comment">#     password = forms.CharField(min_length=6, label=&quot;å¯†ç &quot;,</span></span><br><span class="line"><span class="comment">#                                error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;min_length&quot;: &quot;é•¿åº¦ä¸èƒ½å°äº6&quot;&#125;)</span></span><br><span class="line"><span class="comment">#     age = forms.IntegerField(max_value=100, label=&quot;å¹´é¾„&quot;,</span></span><br><span class="line"><span class="comment">#                              error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;max_value&quot;: &quot;ä¸èƒ½å¤§äº100&quot;&#125;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     class Meta:</span></span><br><span class="line"><span class="comment">#         model = models.UserInfo</span></span><br><span class="line"><span class="comment">#         fields = &quot;__all__&quot;</span></span><br><span class="line"><span class="comment">#         # depart ä¸è¦å†™æˆ depart_id å®ƒå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°å‘½å</span></span><br><span class="line"><span class="comment">#         # fields = [&quot;name&quot;, &quot;password&quot;, &quot;age&quot;, &quot;account&quot;, &quot;depart&quot;, &quot;gender&quot;,&quot;create_time&quot;]</span></span><br><span class="line"><span class="comment">#         # widgets = &#123;</span></span><br><span class="line"><span class="comment">#         #     &quot;name&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;password&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;age&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;account&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;depart&quot;: forms.Select(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;gender&quot;: forms.Select(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;create_time&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         # &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # def __init__(self, *args, **kwargs):</span></span><br><span class="line"><span class="comment">#     #     super().__init__(*args, **kwargs)</span></span><br><span class="line"><span class="comment">#     #     for name, item in self.fields.items():</span></span><br><span class="line"><span class="comment">#     #         # item.widget.attrs.update(&#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;)</span></span><br><span class="line"><span class="comment">#     #         item.widget.attrs = &#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_modelform_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = UserModelForm(data=request.POST)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ›´æ–°æ•°æ®</span></span><br><span class="line">    form = UserModelForm(data=request.POST, instance=instance_data)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        <span class="comment"># å¦‚æœæƒ³ä¿å­˜ç”¨æˆ·è¾“å…¥ä»¥å¤–çš„å…¶ä»–å€¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•</span></span><br><span class="line">        <span class="comment"># form.instance.depart_id = request.POST.get(&quot;depart&quot;)</span></span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_delete</span>(<span class="params">request, nid</span>):</span><br><span class="line">    models.UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br></pre></td></tr></table></figure><p>phone.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> PhoneModelForm, PhoneEditModelForm</span><br><span class="line"><span class="keyword">from</span> django.utils.safestring <span class="keyword">import</span> mark_safe</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = &#123;&#125;</span><br><span class="line">    <span class="comment"># models.PhoneNumber.objects.filter(id=1)</span></span><br><span class="line">    search_ = request.GET.get(<span class="string">&quot;q&quot;</span>)</span><br><span class="line">    <span class="comment"># ä¼ è¿‡æ¥çš„å€¼å¯èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> search_:</span><br><span class="line">        data[<span class="string">&quot;mobile__contains&quot;</span>] = search_</span><br><span class="line">        <span class="comment"># return render(request, &quot;phone_list.html&quot;, &#123;&quot;data&quot;: data&#125;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é»˜è®¤ä¸ºç¬¬ä¸€é¡µ ä¸å†™æœ‰é—®é¢˜</span></span><br><span class="line">    page = request.GET.get(<span class="string">&quot;page&quot;</span>, <span class="number">1</span>)</span><br><span class="line">    page = <span class="built_in">int</span>(page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ¯é¡µçš„æ•°æ®å¤§å°</span></span><br><span class="line">    page_size = <span class="number">10</span></span><br><span class="line">    <span class="comment"># æ ¹æ®è¦è®¿é—®çš„é¡µç è®¡ç®—å‡ºèµ·æ­¢ä½ç½®</span></span><br><span class="line">    start = (page - <span class="number">1</span>) * page_size</span><br><span class="line">    end = page * page_size</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯ä»¥è¿›è¡Œæ’åº -level è¡¨ç¤ºæŒ‰ç…§çº§åˆ«é™åº</span></span><br><span class="line">    <span class="comment"># data = models.PhoneNumber.objects.all().order_by(&quot;-level&quot;)</span></span><br><span class="line">    data = models.PhoneNumber.objects.<span class="built_in">filter</span>(**data).order_by(<span class="string">&quot;-level&quot;</span>)[start:end]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•°æ®æ€»æ•°</span></span><br><span class="line">    total_count = models.PhoneNumber.objects.<span class="built_in">all</span>().count()</span><br><span class="line">    <span class="comment"># æ€»é¡µæ•°</span></span><br><span class="line">    page_total, div = <span class="built_in">divmod</span>(total_count, page_size)</span><br><span class="line">    <span class="keyword">if</span> div &gt; <span class="number">0</span>:</span><br><span class="line">        page_total += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—å‡ºæ˜¾ç¤ºå½“å‰é¡µç çš„å‰äº”é¡µ,åäº”é¡µ</span></span><br><span class="line">    plus = <span class="number">5</span></span><br><span class="line">    <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå°‘ é¡µç å…¨éƒ¨æ˜¾ç¤º</span></span><br><span class="line">    <span class="keyword">if</span> page_total &lt; <span class="number">2</span> * plus + <span class="number">1</span>:</span><br><span class="line">        start_page = <span class="number">1</span></span><br><span class="line">        end_page = page_total + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå¤š</span></span><br><span class="line">        <span class="keyword">if</span> page &lt;= plus:</span><br><span class="line">            start_page = <span class="number">1</span></span><br><span class="line">            end_page = <span class="number">2</span> * plus + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> page &gt; page_total - plus:</span><br><span class="line">            start_page = page_total - <span class="number">2</span> * plus</span><br><span class="line">            end_page = page_total + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            start_page = page - plus</span><br><span class="line">            end_page = page + plus + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆé¡µç </span></span><br><span class="line">    page_data = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page):</span><br><span class="line">        <span class="keyword">if</span> i == page:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(i, i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(i, i)</span><br><span class="line">        page_data.append(hl)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¦–é¡µ æœ«é¡µ</span></span><br><span class="line">    shou_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>)</span><br><span class="line">    wei_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;æœ«é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(page_total)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸Šä¸€é¡µ ä¸‹ä¸€é¡µ</span></span><br><span class="line">    prev_page = page - <span class="number">1</span></span><br><span class="line">    next_page = page + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> prev_page &gt; <span class="number">1</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            prev_page)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            <span class="number">1</span>)</span><br><span class="line">    page_data.insert(<span class="number">0</span>, hl)</span><br><span class="line">    <span class="keyword">if</span> next_page &lt;= page_total:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            next_page)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            page_total)</span><br><span class="line">    page_data.append(hl)</span><br><span class="line"></span><br><span class="line">    page_data.insert(<span class="number">0</span>, shou_page)</span><br><span class="line">    page_data.append(wei_page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·³è½¬é¡µé¢</span></span><br><span class="line">    jump_page = request.GET.get(<span class="string">&quot;jump&quot;</span>)</span><br><span class="line">    <span class="comment"># jump_page = int(jump_page)</span></span><br><span class="line">    <span class="keyword">if</span> jump_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        jump_page = <span class="built_in">int</span>(jump_page)</span><br><span class="line">        <span class="keyword">if</span> jump_page &lt;= <span class="number">1</span>:</span><br><span class="line">            jump_page = <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> jump_page &gt; page_total:</span><br><span class="line">            jump_page = page_total</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list?page=%s&quot;</span> % (jump_page,))</span><br><span class="line"></span><br><span class="line">    page_data = mark_safe(<span class="string">&quot;&quot;</span>.join(page_data))</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;phone_list.html&quot;</span>,</span><br><span class="line">                  &#123;<span class="string">&quot;data&quot;</span>: data, <span class="string">&quot;search&quot;</span>: search_, <span class="string">&quot;page_data&quot;</span>: page_data, <span class="string">&quot;current_page&quot;</span>: page&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneModelForm(data=request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneEditModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneEditModelForm(data=request.POST, instance=instance_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_delete</span>(<span class="params">request, nid</span>):</span><br><span class="line">    models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br></pre></td></tr></table></figure><p>éœ€è¦å¯¼å…¥çš„è¯éœ€è¦æŠŠ<code>views.py</code>ç»™åˆ é™¤</p><p>ç„¶ååœ¨<code>url.py</code>ä¸­å¯¼å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> management_sys.views <span class="keyword">import</span> depart, user, phone</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># path(&quot;admin/&quot;, admin.site.urls),</span></span><br><span class="line">    <span class="comment"># éƒ¨é—¨ç®¡ç†</span></span><br><span class="line">    path(<span class="string">&quot;index/&quot;</span>, depart.index),</span><br><span class="line">    path(<span class="string">&quot;depart/list&quot;</span>, depart.depart_list),</span><br><span class="line">    path(<span class="string">&quot;depart/add&quot;</span>, depart.depart_add),</span><br><span class="line">    path(<span class="string">&quot;depart/delete&quot;</span>, depart.depart_delete),</span><br><span class="line">    path(<span class="string">&quot;depart/&lt;int:nid&gt;/edit&quot;</span>, depart.depart_edit),</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”¨æˆ·ç®¡ç†</span></span><br><span class="line">    path(<span class="string">&quot;user/list&quot;</span>, user.user_list),</span><br><span class="line">    path(<span class="string">&quot;user/add&quot;</span>, user.user_add),</span><br><span class="line">    path(<span class="string">&quot;user/modelformadd&quot;</span>, user.user_modelform_add),</span><br><span class="line">    path(<span class="string">&quot;user/&lt;int:nid&gt;/edit&quot;</span>, user.user_edit),</span><br><span class="line">    path(<span class="string">&quot;user/&lt;int:nid&gt;/delete&quot;</span>, user.user_delete),</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é“å·ç®¡ç†</span></span><br><span class="line">    path(<span class="string">&quot;phone/list&quot;</span>, phone.phone_list),</span><br><span class="line">    path(<span class="string">&quot;phone/add&quot;</span>, phone.phone_add),</span><br><span class="line">    path(<span class="string">&quot;phone/&lt;int:nid&gt;/edit&quot;</span>, phone.phone_edit),</span><br><span class="line">    path(<span class="string">&quot;phone/&lt;int:nid&gt;/delete&quot;</span>, phone.phone_delete),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç»™views.pyå­˜ä¸ªæ¡£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> django.core.validators <span class="keyword">import</span> RegexValidator</span><br><span class="line"><span class="comment"># è®¾ç½®å®‰å…¨ä¿¡ä»»</span></span><br><span class="line"><span class="keyword">from</span> django.utils.safestring <span class="keyword">import</span> mark_safe</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.BootstrapModel <span class="keyword">import</span> BootStrapModelForm</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> UserModelForm, PhoneModelForm, PhoneEditModelForm</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">index</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;index.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = models.DepartMent.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;depart_list.html&quot;</span>, &#123;<span class="string">&quot;depart_list&quot;</span>: data&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;depart_add.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">    title = request.POST.get(<span class="string">&quot;department&quot;</span>)</span><br><span class="line">    models.DepartMent.objects.create(title=title)</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_delete</span>(<span class="params">request</span>):</span><br><span class="line">    data = request.GET.get(<span class="string">&quot;nid&quot;</span>)</span><br><span class="line">    models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=data).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">depart_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="comment"># è¿”å›å€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">        title = models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first().title</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;depart_edit.html&quot;</span>, &#123;<span class="string">&quot;title&quot;</span>: title&#125;)</span><br><span class="line"></span><br><span class="line">    temp = request.POST.get(<span class="string">&quot;department&quot;</span>)</span><br><span class="line">    <span class="comment"># print(temp)</span></span><br><span class="line">    <span class="comment"># å¤šä¸ªå­—æ®µæ›´æ–° åœ¨æ¯ä¸ªå­—æ®µåé¢åŠ ä¸Šé€—å·</span></span><br><span class="line">    models.DepartMent.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).update(title=temp, )</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/depart/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_list</span>(<span class="params">request</span>):</span><br><span class="line">    data = models.UserInfo.objects.<span class="built_in">all</span>()</span><br><span class="line">    <span class="comment"># è¿™é‡Œæ˜¯é€šè¿‡Djangoçš„Pythonä»£ç æ¥å®ç°çš„</span></span><br><span class="line">    <span class="comment"># for i in data:</span></span><br><span class="line">    <span class="comment">#     # å°†datetime ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">    <span class="comment">#     # i.create_time = dt.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)</span></span><br><span class="line">    <span class="comment">#     i.create_time = dt.strftime(&quot;%Y-%m-%d&quot;)</span></span><br><span class="line">    <span class="comment">#     # å¯ä»¥ç›´æ¥é€šè¿‡get_å­—æ®µå_display()è·å–choicesçš„å€¼</span></span><br><span class="line">    <span class="comment">#     i.gender = i.get_gender_display()</span></span><br><span class="line">    <span class="comment">#     # é€šè¿‡éƒ¨é—¨idè·å¾—éƒ¨é—¨åç§° ä¼šå°†idè‡ªåŠ¨è½¬åŒ–åç§°</span></span><br><span class="line">    <span class="comment">#     i.depart_id = i.depart.title</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;user_list.html&quot;</span>, &#123;<span class="string">&quot;user_list&quot;</span>: data&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;gender_choices&quot;</span>: models.UserInfo.gender_choice,</span><br><span class="line">            <span class="string">&quot;depart_list&quot;</span>: models.DepartMent.objects.<span class="built_in">all</span>()</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_add.html&quot;</span>, data)</span><br><span class="line"></span><br><span class="line">    username = request.POST.get(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    password = request.POST.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">    age = request.POST.get(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">    account = request.POST.get(<span class="string">&quot;account&quot;</span>)</span><br><span class="line">    create_time = request.POST.get(<span class="string">&quot;create_time&quot;</span>)</span><br><span class="line">    depart = request.POST.get(<span class="string">&quot;depart&quot;</span>)</span><br><span class="line">    gender = request.POST.get(<span class="string">&quot;gender&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(username, password, age, gender, depart, account, create_time)</span><br><span class="line"></span><br><span class="line">    models.UserInfo.objects.create(name=username, password=password, gender=gender, depart_id=depart, age=age,</span><br><span class="line">                                   account=account, create_time=create_time)</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class UserModelForm(BootStrapModelForm):</span></span><br><span class="line"><span class="comment">#     # è‡ªå®šä¹‰å­—æ®µ</span></span><br><span class="line"><span class="comment">#     name = forms.CharField(min_length=2, label=&quot;å§“å&quot;,</span></span><br><span class="line"><span class="comment">#                            error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;min_length&quot;: &quot;é•¿åº¦ä¸èƒ½å°äº2&quot;&#125;)</span></span><br><span class="line"><span class="comment">#     # å¦‚æœè¦ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨validators</span></span><br><span class="line"><span class="comment">#     password = forms.CharField(min_length=6, label=&quot;å¯†ç &quot;,</span></span><br><span class="line"><span class="comment">#                                error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;min_length&quot;: &quot;é•¿åº¦ä¸èƒ½å°äº6&quot;&#125;)</span></span><br><span class="line"><span class="comment">#     age = forms.IntegerField(max_value=100, label=&quot;å¹´é¾„&quot;,</span></span><br><span class="line"><span class="comment">#                              error_messages=&#123;&quot;required&quot;: &quot;ä¸èƒ½ä¸ºç©º&quot;, &quot;max_value&quot;: &quot;ä¸èƒ½å¤§äº100&quot;&#125;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     class Meta:</span></span><br><span class="line"><span class="comment">#         model = models.UserInfo</span></span><br><span class="line"><span class="comment">#         fields = &quot;__all__&quot;</span></span><br><span class="line"><span class="comment">#         # depart ä¸è¦å†™æˆ depart_id å®ƒå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°å‘½å</span></span><br><span class="line"><span class="comment">#         # fields = [&quot;name&quot;, &quot;password&quot;, &quot;age&quot;, &quot;account&quot;, &quot;depart&quot;, &quot;gender&quot;,&quot;create_time&quot;]</span></span><br><span class="line"><span class="comment">#         # widgets = &#123;</span></span><br><span class="line"><span class="comment">#         #     &quot;name&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;password&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;age&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;account&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;depart&quot;: forms.Select(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;gender&quot;: forms.Select(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         #     &quot;create_time&quot;: forms.TextInput(attrs=&#123;&quot;class&quot;: &quot;form-control&quot;&#125;),</span></span><br><span class="line"><span class="comment">#         # &#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # def __init__(self, *args, **kwargs):</span></span><br><span class="line"><span class="comment">#     #     super().__init__(*args, **kwargs)</span></span><br><span class="line"><span class="comment">#     #     for name, item in self.fields.items():</span></span><br><span class="line"><span class="comment">#     #         # item.widget.attrs.update(&#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;)</span></span><br><span class="line"><span class="comment">#     #         item.widget.attrs = &#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_modelform_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = UserModelForm(data=request.POST)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;modelform_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UserModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ›´æ–°æ•°æ®</span></span><br><span class="line">    form = UserModelForm(data=request.POST, instance=instance_data)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        <span class="comment"># å¦‚æœæƒ³ä¿å­˜ç”¨æˆ·è¾“å…¥ä»¥å¤–çš„å…¶ä»–å€¼ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•</span></span><br><span class="line">        <span class="comment"># form.instance.depart_id = request.POST.get(&quot;depart&quot;)</span></span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;user_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_delete</span>(<span class="params">request, nid</span>):</span><br><span class="line">    models.UserInfo.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/user/list&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_list</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># for i in range(300):</span></span><br><span class="line">    <span class="comment">#     models.PhoneNumber.objects.create(mobile=&quot;12345678901&quot;, price=100, level=1, status=1)</span></span><br><span class="line"></span><br><span class="line">    data = &#123;&#125;</span><br><span class="line">    <span class="comment"># models.PhoneNumber.objects.filter(id=1)</span></span><br><span class="line">    search_ = request.GET.get(<span class="string">&quot;q&quot;</span>)</span><br><span class="line">    <span class="comment"># ä¼ è¿‡æ¥çš„å€¼å¯èƒ½ä¸ºç©º</span></span><br><span class="line">    <span class="keyword">if</span> search_:</span><br><span class="line">        data[<span class="string">&quot;mobile__contains&quot;</span>] = search_</span><br><span class="line">        <span class="comment"># return render(request, &quot;phone_list.html&quot;, &#123;&quot;data&quot;: data&#125;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># é»˜è®¤ä¸ºç¬¬ä¸€é¡µ ä¸å†™æœ‰é—®é¢˜</span></span><br><span class="line">    page = request.GET.get(<span class="string">&quot;page&quot;</span>, <span class="number">1</span>)</span><br><span class="line">    page = <span class="built_in">int</span>(page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ¯é¡µçš„æ•°æ®å¤§å°</span></span><br><span class="line">    page_size = <span class="number">10</span></span><br><span class="line">    <span class="comment"># æ ¹æ®è¦è®¿é—®çš„é¡µç è®¡ç®—å‡ºèµ·æ­¢ä½ç½®</span></span><br><span class="line">    start = (page - <span class="number">1</span>) * page_size</span><br><span class="line">    end = page * page_size</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯ä»¥è¿›è¡Œæ’åº -level è¡¨ç¤ºæŒ‰ç…§çº§åˆ«é™åº</span></span><br><span class="line">    <span class="comment"># data = models.PhoneNumber.objects.all().order_by(&quot;-level&quot;)</span></span><br><span class="line">    data = models.PhoneNumber.objects.<span class="built_in">filter</span>(**data).order_by(<span class="string">&quot;-level&quot;</span>)[start:end]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ•°æ®æ€»æ•°</span></span><br><span class="line">    total_count = models.PhoneNumber.objects.<span class="built_in">all</span>().count()</span><br><span class="line">    <span class="comment"># æ€»é¡µæ•°</span></span><br><span class="line">    page_total, div = <span class="built_in">divmod</span>(total_count, page_size)</span><br><span class="line">    <span class="keyword">if</span> div &gt; <span class="number">0</span>:</span><br><span class="line">        page_total += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—å‡ºæ˜¾ç¤ºå½“å‰é¡µç çš„å‰äº”é¡µ,åäº”é¡µ</span></span><br><span class="line">    plus = <span class="number">5</span></span><br><span class="line">    <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå°‘ é¡µç å…¨éƒ¨æ˜¾ç¤º</span></span><br><span class="line">    <span class="keyword">if</span> page_total &lt; <span class="number">2</span> * plus + <span class="number">1</span>:</span><br><span class="line">        start_page = <span class="number">1</span></span><br><span class="line">        end_page = page_total + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># æ•°æ®åº“çš„æ•°æ®è¾ƒå¤š</span></span><br><span class="line">        <span class="keyword">if</span> page &lt;= plus:</span><br><span class="line">            start_page = <span class="number">1</span></span><br><span class="line">            end_page = <span class="number">2</span> * plus + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> page &gt; page_total - plus:</span><br><span class="line">            start_page = page_total - <span class="number">2</span> * plus</span><br><span class="line">            end_page = page_total + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            start_page = page - plus</span><br><span class="line">            end_page = page + plus + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆé¡µç </span></span><br><span class="line">    page_data = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page):</span><br><span class="line">        <span class="keyword">if</span> i == page:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(i, i)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(i, i)</span><br><span class="line">        page_data.append(hl)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é¦–é¡µ æœ«é¡µ</span></span><br><span class="line">    shou_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;é¦–é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(<span class="number">1</span>)</span><br><span class="line">    wei_page = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot;&gt;æœ«é¡µ&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(page_total)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸Šä¸€é¡µ ä¸‹ä¸€é¡µ</span></span><br><span class="line">    prev_page = page - <span class="number">1</span></span><br><span class="line">    next_page = page + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> prev_page &gt; <span class="number">1</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            prev_page)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Previous&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            <span class="number">1</span>)</span><br><span class="line">    page_data.insert(<span class="number">0</span>, hl)</span><br><span class="line">    <span class="keyword">if</span> next_page &lt;= page_total:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            next_page)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li class=&quot;disabled&quot; disabled=&quot;True&quot;&gt;&lt;a href=&quot;?page=&#123;&#125;&quot; aria-label=&quot;Next&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(</span><br><span class="line">            page_total)</span><br><span class="line">    page_data.append(hl)</span><br><span class="line"></span><br><span class="line">    page_data.insert(<span class="number">0</span>, shou_page)</span><br><span class="line">    page_data.append(wei_page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·³è½¬é¡µé¢</span></span><br><span class="line">    jump_page = request.GET.get(<span class="string">&quot;jump&quot;</span>)</span><br><span class="line">    <span class="comment"># jump_page = int(jump_page)</span></span><br><span class="line">    <span class="keyword">if</span> jump_page <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        jump_page = <span class="built_in">int</span>(jump_page)</span><br><span class="line">        <span class="keyword">if</span> jump_page &lt;= <span class="number">1</span>:</span><br><span class="line">            jump_page = <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> jump_page &gt; page_total:</span><br><span class="line">            jump_page = page_total</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list?page=%s&quot;</span> % (jump_page,))</span><br><span class="line"></span><br><span class="line">    page_data = mark_safe(<span class="string">&quot;&quot;</span>.join(page_data))</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;phone_list.html&quot;</span>,</span><br><span class="line">                  &#123;<span class="string">&quot;data&quot;</span>: data, <span class="string">&quot;search&quot;</span>: search_, <span class="string">&quot;page_data&quot;</span>: page_data, <span class="string">&quot;current_page&quot;</span>: page&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class PhoneModelForm(BootStrapModelForm):</span></span><br><span class="line"><span class="comment">#     # æ–¹å¼ä¸€ï¼šåœ¨å­—æ®µä¸­æ·»åŠ éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="comment">#     # validatorä¸­å¯ä»¥æ·»åŠ å¤šä¸ªéªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="comment">#     # mobile = forms.CharField(</span></span><br><span class="line"><span class="comment">#     #     min_length=11,</span></span><br><span class="line"><span class="comment">#     #     label=&quot;æ‰‹æœºå·&quot;,</span></span><br><span class="line"><span class="comment">#     #     validators=[RegexValidator(r&quot;^1\d&#123;10&#125;$&quot;, &quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯&quot;)]</span></span><br><span class="line"><span class="comment">#     # )</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     class Meta:</span></span><br><span class="line"><span class="comment">#         model = models.PhoneNumber</span></span><br><span class="line"><span class="comment">#         fields = &quot;__all__&quot;</span></span><br><span class="line"><span class="comment">#         # fields = [&quot;mobile&quot;, &quot;price&quot;, &quot;level&quot;, &quot;status&quot;]</span></span><br><span class="line"><span class="comment">#         # æ’é™¤å“ªä¸ªå­—æ®µ</span></span><br><span class="line"><span class="comment">#         # exclude = [&quot;status&quot;]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # def __init__(self, *args, **kwargs):</span></span><br><span class="line"><span class="comment">#     #     super().__init__(*args, **kwargs)</span></span><br><span class="line"><span class="comment">#     #     for name, item in self.fields.items():</span></span><br><span class="line"><span class="comment">#     #         if item.widget.attrs:</span></span><br><span class="line"><span class="comment">#     #             item.widget.attrs[&quot;class&quot;] = &quot;form-control&quot;</span></span><br><span class="line"><span class="comment">#     #             item.widget.attrs[&quot;placeholder&quot;] = &quot;è¯·è¾“å…¥%s&quot; % (item.label,)</span></span><br><span class="line"><span class="comment">#     #         else:</span></span><br><span class="line"><span class="comment">#     #             item.widget.attrs = &#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     # æ–¹å¼äºŒï¼šé’©å­æ–¹æ³•</span></span><br><span class="line"><span class="comment">#     def clean_mobile(self):</span></span><br><span class="line"><span class="comment">#         mobile_ = self.cleaned_data[&quot;mobile&quot;]</span></span><br><span class="line"><span class="comment">#         exits = models.PhoneNumber.objects.filter(mobile=mobile_).exists()</span></span><br><span class="line"><span class="comment">#         if exits:</span></span><br><span class="line"><span class="comment">#             raise forms.ValidationError(&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;)</span></span><br><span class="line"><span class="comment">#         # éªŒè¯ä¸é€šè¿‡</span></span><br><span class="line"><span class="comment">#         if len(mobile_) != 11:</span></span><br><span class="line"><span class="comment">#             raise forms.ValidationError(&quot;æ‰‹æœºå·é•¿åº¦ä¸å¯¹&quot;)</span></span><br><span class="line"><span class="comment">#         for i in mobile_:</span></span><br><span class="line"><span class="comment">#             if i not in &quot;0123456789&quot;:</span></span><br><span class="line"><span class="comment">#                 raise forms.ValidationError(&quot;æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼Œå¿…é¡»å…¨æ˜¯æ•°å­—&quot;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#         return mobile_</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneModelForm(data=request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    instance_data = models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = PhoneEditModelForm(instance=instance_data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    form = PhoneEditModelForm(data=request.POST, instance=instance_data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;phone_edit.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># class PhoneEditModelForm(BootStrapModelForm):</span></span><br><span class="line"><span class="comment">#     mobile = forms.CharField(disabled=True, label=&quot;æ‰‹æœºå·&quot;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     class Meta:</span></span><br><span class="line"><span class="comment">#         model = models.PhoneNumber</span></span><br><span class="line"><span class="comment">#         # fields = &quot;__all__&quot;</span></span><br><span class="line"><span class="comment">#         # ä¸è®©ç”¨æˆ·ä¿®æ”¹æ‰‹æœºå·</span></span><br><span class="line"><span class="comment">#         fields = [&quot;mobile&quot;, &quot;price&quot;, &quot;level&quot;, &quot;status&quot;]</span></span><br><span class="line"><span class="comment">#         # æ’é™¤å“ªä¸ªå­—æ®µ</span></span><br><span class="line"><span class="comment">#         # exclude = [&quot;status&quot;]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     #</span></span><br><span class="line"><span class="comment">#     # def __init__(self, *args, **kwargs):</span></span><br><span class="line"><span class="comment">#     #     super().__init__(*args, **kwargs)</span></span><br><span class="line"><span class="comment">#     #     for name, item in self.fields.items():</span></span><br><span class="line"><span class="comment">#     #         item.widget.attrs = &#123;&quot;class&quot;: &quot;form-control&quot;, &quot;placeholder&quot;: &quot;è¯·è¾“å…¥%s&quot; % (item.label,)&#125;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     def clean_mobile(self):</span></span><br><span class="line"><span class="comment">#         mobile_ = self.cleaned_data[&quot;mobile&quot;]</span></span><br><span class="line"><span class="comment">#         exits = models.PhoneNumber.objects.exclude(id=self.instance).filter(mobile=mobile_).exists()</span></span><br><span class="line"><span class="comment">#         if exits:</span></span><br><span class="line"><span class="comment">#             raise forms.ValidationError(&quot;æ‰‹æœºå·å·²å­˜åœ¨&quot;)</span></span><br><span class="line"><span class="comment">#         return mobile_</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">phone_delete</span>(<span class="params">request, nid</span>):</span><br><span class="line">    models.PhoneNumber.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).delete()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/phone/list&quot;</span>)</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç®¡ç†å‘˜åŠŸèƒ½"><a href="#ç®¡ç†å‘˜åŠŸèƒ½" class="headerlink" title="ç®¡ç†å‘˜åŠŸèƒ½"></a>ç®¡ç†å‘˜åŠŸèƒ½</h2><p>è¡¨ç»“æ„çš„è®¾è®¡</p><table><thead><tr><th>ID</th><th>ç”¨æˆ·å</th><th>å¯†ç </th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Admin</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç®¡ç†å‘˜&quot;&quot;&quot;</span></span><br><span class="line">    username = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;ç”¨æˆ·å&quot;</span>)</span><br><span class="line">    password = models.CharField(max_length=<span class="number">64</span>, verbose_name=<span class="string">&quot;å¯†ç &quot;</span>)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/28.png" alt="image-20240219201308330" style="zoom: 67%;" /><img src="https://www.z4a.net/images/2024/08/11/29.png" alt="image-20240219201520031" style="zoom:67%;" /><h3 id="ç®¡ç†å‘˜åˆ—è¡¨"><a href="#ç®¡ç†å‘˜åˆ—è¡¨" class="headerlink" title="ç®¡ç†å‘˜åˆ—è¡¨"></a>ç®¡ç†å‘˜åˆ—è¡¨</h3><p>æœ‰äº†æ¨¡æ¿ä¸å·¥å…·ç±»ä¹‹åï¼Œç¼–å†™åˆ—è¡¨å˜å¾—å¾ˆæ–¹ä¾¿</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè·å–æ‰€æœ‰ä¿¡æ¯æ”¾åœ¨äº†<code>Pagination</code>å·¥å…·ç±»ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, redirect, HttpResponse</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.forms <span class="keyword">import</span> AdminModelForm, AdminEditModelForm, AdminResetModelForm</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.pagination <span class="keyword">import</span> Pagination</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">admin_list</span>(<span class="params">request</span>):</span><br><span class="line">    search_parameter = &#123;&#125;</span><br><span class="line">    search_ = request.GET.get(<span class="string">&quot;q&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> search_:</span><br><span class="line">        search_parameter[<span class="string">&quot;username__contains&quot;</span>] = search_</span><br><span class="line"></span><br><span class="line">    pagination = Pagination(request, models.Admin.objects.<span class="built_in">filter</span>(**search_parameter))</span><br><span class="line"></span><br><span class="line">    data = pagination.get_queryset()</span><br><span class="line">    html = pagination.html()</span><br><span class="line"></span><br><span class="line">    content = &#123;</span><br><span class="line">        <span class="string">&quot;data&quot;</span>: data,</span><br><span class="line">        <span class="string">&quot;html&quot;</span>: html,</span><br><span class="line">        <span class="string">&quot;search&quot;</span>: search_</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;admin_list.html&quot;</span>, content)</span><br></pre></td></tr></table></figure><h3 id="å…³äºæœç´¢"><a href="#å…³äºæœç´¢" class="headerlink" title="å…³äºæœç´¢"></a>å…³äºæœç´¢</h3><p>åˆ†é¡µåŠŸèƒ½æ˜¯æœ‰bugçš„ï¼Œæ¯”å¦‚æˆ‘æœç´¢åªåï¼Œç‚¹å‡»ä¸‹ä¸€é¡µä¼šç›´æ¥ä»<code>admin/list?q=123</code>è·³åˆ°<code>admin/list?page=2</code>ï¼Œè¿™æ˜¯å› ä¸ºè·³è½¬é“¾æ¥å¹¶æ²¡æœ‰å’Œæœç´¢<code>q</code>å‚æ•°äº§ç”Ÿå…³è”ã€‚éœ€è¦äº†è§£ä»¥ä¸‹æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">request.GET   <span class="comment"># è¿™ä¸ªå¯¹è±¡ä¼šè¿”å›è¿æ¥ä¸­çš„æ‰€æœ‰å‚æ•°</span></span><br><span class="line"></span><br><span class="line">request.GET.urlencode()   <span class="comment"># ä¼šè¿”å›å½“å‰å‚æ•°çš„è¿æ¥å½¢å¼</span></span><br></pre></td></tr></table></figure><p>å¦‚ï¼š</p><p>å‘é€GETè¯·æ±‚ï¼š<code>admin/list?aaa=123&amp;tys=456&amp;jjj=789</code></p><p>å¾—åˆ°çš„ç»“æœä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;QueryDict: &#123;<span class="string">&#x27;aaa&#x27;</span>: [<span class="string">&#x27;123&#x27;</span>], <span class="string">&#x27;tys&#x27;</span>: [<span class="string">&#x27;456&#x27;</span>], <span class="string">&#x27;jjj&#x27;</span>: [<span class="string">&#x27;789&#x27;</span>]&#125;&gt;</span><br><span class="line">aaa=123&amp;tys=456&amp;jjj=789</span><br></pre></td></tr></table></figure><p>å¦å¤–å¯ä»¥ä½¿ç”¨<code>setlist(å‚æ•°åï¼Œå‚æ•°å€¼åˆ—è¡¨)</code>æ¥è®¾å®šä¸€äº›ç‰¹å®šçš„å‚æ•°å€¼ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä¸å…è®¸ä½¿ç”¨çš„ï¼ŒåŸå› ä¸º<code>request.GET._mutable = False</code>ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤å¹¶ä¸è®©ä¿®æ”¹ã€‚</p><p>è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨<code>copy</code>çš„æ–¹æ³•å¤åˆ¶å¯¹è±¡ï¼Œç„¶åå†ä¿®æ”¹å…¶ä¸­çš„<code>_mutable = True</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">query_params = copy.deepcopy(request.GET)</span><br><span class="line">query_params._mutable = <span class="literal">True</span></span><br><span class="line">query_params.setlist(<span class="string">&quot;page&quot;</span>,[<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>è¿”å›çš„é“¾æ¥ä¸ºï¼š<code>aaa=123&amp;tys=456&amp;jjj=789&amp;page=1</code></p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥é‡æ–°ç¼–å†™åˆ†é¡µçš„é“¾æ¥é€»è¾‘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pagination</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, request, queryset, page_size=<span class="number">10</span>, page_param=<span class="string">&quot;page&quot;</span>, plus=<span class="number">5</span></span>):</span><br><span class="line">        â€¦â€¦â€¦â€¦</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># setlist æ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œå¯ä»¥ä½¿ç”¨å¯¹è±¡æ‹·è´çš„æ–¹å¼ä¿®æ”¹å±æ€§æ¥å…è®¸ä½¿ç”¨</span></span><br><span class="line">        self.query_params = copy.deepcopy(request.GET)</span><br><span class="line">        <span class="comment"># print(request.GET)</span></span><br><span class="line">        self.query_params._mutable = <span class="literal">True</span></span><br><span class="line">        <span class="comment"># print(request.GET.urlencode())</span></span><br><span class="line">        â€¦â€¦â€¦â€¦</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç”Ÿæˆé“¾æ¥çš„ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page):</span><br><span class="line">    self.query_params.setlist(<span class="string">&quot;page&quot;</span>, [i])</span><br><span class="line">    <span class="keyword">if</span> i == self.page:</span><br><span class="line"></span><br><span class="line">        hl = <span class="string">&#x27;&lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;?&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(self.query_params.urlencode(), i)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hl = <span class="string">&#x27;&lt;li&gt;&lt;a href=&quot;?&#123;&#125;&quot;&gt;&#123;&#125; &lt;span class=&quot;sr-only&quot;&gt;(current)&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&#x27;</span>.<span class="built_in">format</span>(self.query_params.urlencode(), i)</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ è´¦æˆ·"><a href="#æ·»åŠ è´¦æˆ·" class="headerlink" title="æ·»åŠ è´¦æˆ·"></a>æ·»åŠ è´¦æˆ·</h3><p>ç”±äºæ¯æ¬¡æˆ‘ä»¬ä½¿ç”¨çš„æ·»åŠ å’Œç¼–è¾‘é¡µé¢å‡ ä¹éƒ½ç›¸åŒï¼Œå› æ­¤å¯ä»¥åˆ›å»ºä¸€ä¸ªæ¨¡æ¿html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-success&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-plus-sign&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> &#123;&#123; title &#125;&#125;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">novalidate</span>&gt;</span></span><br><span class="line">                    &#123;% csrf_token %&#125;</span><br><span class="line">                    &#123;% for field in form %&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; field.label &#125;&#125;:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            &#123;&#123; field &#125;&#125;</span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>&#123;&#123; field.errors.0 &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    &#123;% endfor %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>å¼€æ”¾titleæ¥è®©è®¾å®šæ ‡é¢˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">admin_add</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = AdminModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;change.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;æ–°å»ºç®¡ç†å‘˜&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    form = AdminModelForm(data=request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/admin/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;admin_add.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;æ–°å»ºç®¡ç†å‘˜&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><p><strong>è¿™è¾¹è¦æ³¨æ„çš„æ˜¯å¯†ç çš„åŠ å¯†</strong>ï¼Œå› ä¸ºå¯†ç æ˜¯ä¸èƒ½æ˜æ–‡å‚¨å­˜çš„ï¼Œæˆ‘ä»¬è¿™è¾¹ä½¿ç”¨å¸¸è§çš„MD5åŠ å¯†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">md5</span>(<span class="params">data_string</span>):</span><br><span class="line">    md5 = hashlib.md5(settings.SECRET_KEY.encode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line">    md5.update(data_string.encode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> md5.hexdigest()</span><br></pre></td></tr></table></figure><p>å®šä¹‰ä¸€ä¸ªModelFrom</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AdminModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    confirm_password = forms.CharField(</span><br><span class="line">        max_length=<span class="number">64</span>,</span><br><span class="line">        label=<span class="string">&quot;ç¡®è®¤å¯†ç &quot;</span>,</span><br><span class="line">        widget=forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.Admin</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line"></span><br><span class="line">        widgets = &#123;</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹å¯†ç åŠ å¯†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_password</span>(<span class="params">self</span>):</span><br><span class="line">        pwd = self.cleaned_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> md5(pwd)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_confirm_password</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># è·å¾—æ‰€æœ‰æ•°æ®</span></span><br><span class="line">        confirm_data = self.cleaned_data</span><br><span class="line">        pwd = confirm_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        confirm = md5(confirm_data.get(<span class="string">&quot;confirm_password&quot;</span>))</span><br><span class="line">        <span class="keyword">if</span> pwd != confirm:</span><br><span class="line">            <span class="comment"># å¦‚æœå¯†ç ä¸å¯¹PasswordInputä¼šè‡ªåŠ¨æ¸…ç©º åŠ ä¸Šrender_value=Trueå°±ä¼šä¿ç•™</span></span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ­¤å­—æ®µè¿”å›ä»€ä¹ˆï¼Œæ•°æ®åº“å°±ä¼šä¿å­˜ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">return</span> confirm_data</span><br></pre></td></tr></table></figure><p><code>self.cleaned_data</code>å¯ä»¥è·å¾—å½“å‰è¡¨å•çš„æ‰€æœ‰å€¼ï¼Œå› ä¸ºå¸¸è§„çš„äº¤äº’é€»è¾‘æ˜¯éœ€è¦æœ‰ä¸€ä¸ªç¡®è®¤å¯†ç çš„æœºåˆ¶ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°çš„å­—æ®µï¼Œå…¶ä¸­<code>render_value=True</code>å¯ä»¥è®©åˆ·æ–°é¡µé¢æ—¶å€™å¯†ç ä¿ç•™è€Œä¸æ¶ˆå¤±</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">confirm_password = forms.CharField(</span><br><span class="line">        max_length=<span class="number">64</span>,</span><br><span class="line">        label=<span class="string">&quot;ç¡®è®¤å¯†ç &quot;</span>,</span><br><span class="line">        widget=forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘è´¦æˆ·"><a href="#ç¼–è¾‘è´¦æˆ·" class="headerlink" title="ç¼–è¾‘è´¦æˆ·"></a>ç¼–è¾‘è´¦æˆ·</h3><p>æ¨èåªèƒ½ç¼–è¾‘è´¦æˆ·çš„ç”¨æˆ·åï¼Œç”±äºéœ€æ±‚ä¸ä¸€è‡´ï¼Œéœ€è¦é‡æ–°è®¾å®šModelForm</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AdminEditModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.Admin</span><br><span class="line">        <span class="comment"># åªå…è®¸ç¼–è¾‘username</span></span><br><span class="line">        fields = [<span class="string">&quot;username&quot;</span>]</span><br></pre></td></tr></table></figure><p>ç›´æ¥ä½¿ç”¨<code>change.html</code>ä½œä¸ºæ¨¡æ¿</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">admin_edit</span>(<span class="params">request, nid</span>):</span><br><span class="line">    data = models.Admin.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> data <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;error.html&quot;</span>, &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;è¦ä¿®æ”¹çš„æ•°æ®ä¸å­˜åœ¨&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        data = AdminEditModelForm(instance=data)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;change.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: data, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;ç¼–è¾‘ç®¡ç†å‘˜&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    form = AdminEditModelForm(data=request.POST, instance=data)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/admin/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;change.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;ç¼–è¾‘ç®¡ç†å‘˜&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="é‡ç½®å¯†ç "><a href="#é‡ç½®å¯†ç " class="headerlink" title="é‡ç½®å¯†ç "></a>é‡ç½®å¯†ç </h3><p>è¿™æ˜¯å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œå…³é”®ç‚¹åœ¨äºä¸¤ç‚¹ï¼š</p><ol><li>ä¸èƒ½è®©ç”¨æˆ·çœ‹åˆ°ä¹‹å‰å­˜å‚¨çš„å“ˆå¸Œå€¼</li><li>é‡ç½®çš„å¯†ç ä¸èƒ½ä¸ä¸Šä¸€æ¬¡çš„ä¸€è‡´</li></ol><p>è¦è·å–å½“å‰çš„è¾“å…¥å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>self.instance</code>æ¥è·å–ï¼Œä½¿ç”¨<code>self.instance.pk</code>è·å–å½“å‰çš„idå€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">AdminResetModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    confirm_password = forms.CharField(</span><br><span class="line">        max_length=<span class="number">64</span>,</span><br><span class="line">        label=<span class="string">&quot;ç¡®è®¤å¯†ç &quot;</span>,</span><br><span class="line">        widget=forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.Admin</span><br><span class="line">        fields = [<span class="string">&quot;password&quot;</span>]</span><br><span class="line">        widgets = &#123;</span><br><span class="line">            <span class="string">&quot;password&quot;</span>: forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_password</span>(<span class="params">self</span>):</span><br><span class="line">        pwd = self.cleaned_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="comment"># éœ€è¦ä¿è¯ç°åœ¨è¾“å…¥çš„å¯†ç ä¸ä¹‹å‰çš„ä¸ä¸€è‡´</span></span><br><span class="line">        md5_pwd = md5(pwd)</span><br><span class="line">        exists = models.Admin.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=self.instance.pk, password=md5_pwd).exists()</span><br><span class="line">        <span class="keyword">if</span> exists:</span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;æ–°å¯†ç ä¸èƒ½ä¸ä¹‹å‰çš„å¯†ç ä¸€è‡´&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> md5_pwd</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_confirm_password</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># è·å¾—æ‰€æœ‰æ•°æ®</span></span><br><span class="line">        confirm_data = self.cleaned_data</span><br><span class="line">        pwd = confirm_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        confirm = md5(confirm_data.get(<span class="string">&quot;confirm_password&quot;</span>))</span><br><span class="line">        <span class="keyword">if</span> pwd != confirm:</span><br><span class="line">            <span class="comment"># å¦‚æœå¯†ç ä¸å¯¹PasswordInputä¼šè‡ªåŠ¨æ¸…ç©º åŠ ä¸Šrender_value=Trueå°±ä¼šä¿ç•™</span></span><br><span class="line">            <span class="keyword">raise</span> forms.ValidationError(<span class="string">&quot;ä¸¤æ¬¡å¯†ç ä¸ä¸€è‡´&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ­¤å­—æ®µè¿”å›ä»€ä¹ˆï¼Œæ•°æ®åº“å°±ä¼šä¿å­˜ä»€ä¹ˆ</span></span><br><span class="line">        <span class="keyword">return</span> confirm_data</span><br></pre></td></tr></table></figure><p>ç”±äºä¸èƒ½è®©ç”¨æˆ·çœ‹åˆ°ä¹‹å‰çš„å¯†ç å‚¨å­˜å€¼ï¼Œå› æ­¤ä¸ç»™<code>AdminResetModelForm</code>ä¼ é€’å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">admin_reset</span>(<span class="params">request, nid</span>):</span><br><span class="line">    data = models.Admin.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=nid).first()</span><br><span class="line">    <span class="keyword">if</span> data <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;error.html&quot;</span>, &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;è¦é‡ç½®çš„æ•°æ®ä¸å­˜åœ¨&quot;</span>&#125;)</span><br><span class="line">    <span class="comment"># form = AdminResetModelForm(instance=data)</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="comment"># ä¸å¸Œæœ›ç®¡ç†å‘˜çœ‹åˆ°å¯†ç  æ‰€ä»¥ä¸ä¼ é€’instance</span></span><br><span class="line">        form = AdminResetModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;change.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é‡ç½®å¯†ç &quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    form = AdminResetModelForm(data=request.POST, instance=data)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/admin/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;change.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;é‡ç½®å¯†ç &quot;</span>&#125;)</span><br></pre></td></tr></table></figure><h2 id="ç™»å½•åŠŸèƒ½"><a href="#ç™»å½•åŠŸèƒ½" class="headerlink" title="ç™»å½•åŠŸèƒ½"></a>ç™»å½•åŠŸèƒ½</h2><p>é¦–å…ˆè¦æ˜ç™½ä»€ä¹ˆæ˜¯cookieå’Œsession</p><p>httpåè®®çš„ç‰¹ç‚¹ä¸ºï¼šæ— çŠ¶æ€ &amp; çŸ­è¿æ¥</p><img src="https://www.z4a.net/images/2024/08/11/30.png" alt="image-20240220203838369" style="zoom: 50%;" /><p>ä¸ºäº†è®©ç”¨æˆ·ä¿æŒç™»å½•çŠ¶æ€ï¼ŒæœåŠ¡å™¨ä¼šä¸ºç”¨æˆ·ç”Ÿæˆéšæœºä½†å”¯ä¸€çš„é”®å€¼å¯¹cookieï¼Œä½œä¸ºç”¨æˆ·çš„è®¿é—®å‡­è¯ï¼Œä½†æ˜¯è¿™æ ·å¯èƒ½ä¼šå‡ºç°ä¹±è¾“å…¥cookieä¼ªé€ ç™»å½•çš„æƒ…å†µï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦åœ¨æœåŠ¡ç«¯å°†å·²å‘æ”¾çš„cookieå­˜å‚¨ä¸‹æ¥ï¼Œè¿™æ ·å¯ä»¥å¯¹ç”¨æˆ·å‘æ¥çš„cookieå€¼è¿›è¡Œæ¯”å¯¹ã€‚</p><img src="https://www.z4a.net/images/2024/08/11/31.png" alt="image-20240220205107017" style="zoom: 50%;" /><p>åœ¨Djangoä¸­ä½¿ç”¨<code>request.session</code>æ–¹æ³•å¯ä»¥ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶å­˜å…¥<code>django.session</code>æ•°æ®åº“ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, HttpResponse,redirect</span><br><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.encrypt <span class="keyword">import</span> md5</span><br><span class="line"><span class="keyword">from</span> management_sys <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginForm</span>(forms.Form):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        label=<span class="string">&quot;ç”¨æˆ·å&quot;</span>,</span><br><span class="line">        widget=forms.TextInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;)</span><br><span class="line">    )</span><br><span class="line">    password = forms.CharField(</span><br><span class="line">        label=<span class="string">&quot;å¯†ç &quot;</span>,</span><br><span class="line">        widget=forms.PasswordInput(attrs=&#123;<span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>&#125;, render_value=<span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_password</span>(<span class="params">self</span>):</span><br><span class="line">        password = self.cleaned_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> md5(password)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        forms = LoginForm()</span><br><span class="line"></span><br><span class="line">        context = &#123;</span><br><span class="line">            <span class="string">&quot;forms&quot;</span>: forms</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, context)</span><br><span class="line"></span><br><span class="line">    form = LoginForm(request.POST)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line"></span><br><span class="line">        create = models.Admin.objects.<span class="built_in">filter</span>(**form.cleaned_data).first()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> create:</span><br><span class="line">            <span class="comment"># éœ€è¦æ·»åŠ é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">            <span class="comment"># field - å±•ç¤ºé”™è¯¯ä¿¡æ¯çš„å­—æ®µ</span></span><br><span class="line">            <span class="comment"># error - é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">            form.add_error(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, &#123;<span class="string">&quot;forms&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”¨æˆ·åä¸å¯†ç æ­£ç¡®</span></span><br><span class="line">        <span class="comment"># ç½‘ç«™éœ€è¦ç”Ÿæˆéšæœºå­—ç¬¦ï¼Œå†™åˆ°ç”¨æˆ·æµè§ˆå™¨çš„cookieä¸­</span></span><br><span class="line">        <span class="comment"># æœåŠ¡ç«¯éœ€è¦è®°å½•è¿™ä¸ªéšæœºå­—ç¬¦ï¼Œå†™åˆ°sessionä¸­</span></span><br><span class="line">        <span class="comment"># ä¼šè‡ªåŠ¨ç”Ÿæˆcookieä¸å­—å…¸å‚æ•°</span></span><br><span class="line">        request.session[<span class="string">&quot;info&quot;</span>] = &#123;<span class="string">&quot;id&quot;</span>: create.<span class="built_in">id</span>, <span class="string">&quot;username&quot;</span>: create.username&#125;</span><br><span class="line">        <span class="comment"># return HttpResponse(&quot;ç™»å½•æˆåŠŸ&quot;)</span></span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/admin/list&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(form.errors)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, &#123;<span class="string">&quot;forms&quot;</span>: form&#125;)</span><br></pre></td></tr></table></figure><p><code>request.session[&quot;info&quot;] = &#123;&quot;id&quot;: create.id, &quot;username&quot;: create.username&#125;</code>è¿™æ®µä»£ç çš„æ„æ€æ˜¯ç”Ÿæˆéšæœºcookie,å¹¶å°†{â€œidâ€: create.id, â€œusernameâ€: create.username}ä½œä¸ºæ•°æ®å­˜å…¥</p><p>å°è¯•ç™»å½•</p><img src="https://www.z4a.net/images/2024/08/11/32.png" alt="image-20240220215917951" style="zoom: 50%;" /><p>è¿›å…¥æ•°æ®åº“æŸ¥çœ‹</p><img src="https://www.z4a.net/images/2024/08/11/33.png" alt="image-20240220215826727" style="zoom: 67%;" /><blockquote><p>cookieæ˜¯ä»¥æµè§ˆå™¨ä¸ºå•ä½è¿›è¡Œç”Ÿæˆï¼Œè€Œä¸æ˜¯è´¦æˆ·</p></blockquote><p>ä½¿ç”¨chromeæŒ‰ç…§ç›¸åŒçš„è´¦æˆ·è¿›è¡Œç™»å½•</p><img src="https://www.z4a.net/images/2024/08/11/35.png" alt="image-20240220220456351" style="zoom:67%;" /><p>æ­¤æ—¶è¿˜å°†<code>BootstrapModel.py</code>ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BootStrap</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="comment"># å¾ªç¯Modelformä¸­çš„æ‰€æœ‰å­—æ®µï¼Œåœ¨æ¯ä¸ªå­—æ®µè®¾ç½®æ’ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            item.widget.attrs = &#123;</span><br><span class="line">                <span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>,</span><br><span class="line">                <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BootStrapModelForm</span>(BootStrap, forms.ModelForm):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BootStrapForm</span>(BootStrap, forms.Form):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h3 id="ç™»å½•éªŒè¯"><a href="#ç™»å½•éªŒè¯" class="headerlink" title="ç™»å½•éªŒè¯"></a>ç™»å½•éªŒè¯</h3><p>ç™»å½•æˆåŠŸåï¼š</p><ul><li>cookieï¼Œéšæœºå­—ç¬¦ä¸²</li><li>sessionï¼Œç”¨æˆ·ä¿¡æ¯</li></ul><p>åœ¨å…¶ä»–éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®çš„é¡µé¢ä¸­ï¼Œéƒ½éœ€è¦åŠ å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">admin_list</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•</span></span><br><span class="line">    info = request.session.get(<span class="string">&quot;info&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> info:</span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/login/&quot;</span>)</span><br></pre></td></tr></table></figure><p>å¤ªéº»çƒ¦ï¼Œéœ€è¦åœ¨18ä¸ªè§†å›¾å‡½æ•°ä¸­ç»Ÿä¸€æ·»åŠ ä¸Šè¿°çš„åˆ¤æ–­</p><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><img src="https://www.z4a.net/images/2024/08/11/37.png" alt="image-20240221155929564" style="zoom:67%;" /><p>å¦‚ä½•å®šä¹‰ä¸€ä¸ªä¸­é—´ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">M1</span>(<span class="title class_ inherited__">MiddlewareMixin</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä¸­é—´ä»¶1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¦‚æœæ–¹æ³•ä¸­æ²¡æœ‰è¿”å›å€¼ï¼ˆNoneï¼‰ï¼Œåˆ™ç»§ç»­å¾€åèµ°</span></span><br><span class="line">    <span class="comment"># å¦‚æœæ–¹æ³•ä¸­æœ‰è¿”å›å€¼ï¼Œåˆ™ä¸å†ç»§ç»­å¾€åèµ° ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="comment"># å¯ä»¥è¿”å›HttpResponseï¼Œrenderï¼Œredirect</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;M1 process_request&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;M1 process_response&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">M2</span>(<span class="title class_ inherited__">MiddlewareMixin</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä¸­é—´ä»¶2</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;M2 process_request&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_response</span>(<span class="params">self, request, response</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;M2 process_response&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><p><code>process_response</code>å¿…é¡»è¿”å›response</p><p>åœ¨ä¸­é—´ä»¶çš„<code>process_request</code>æœ‰è¿”å›å€¼åˆ™ä¸å†ç»§ç»­åç»­çš„æ“ä½œï¼Œç›´æ¥è¿”å›</p><p>åº”ç”¨ä¸­é—´ä»¶éœ€è¦åœ¨<code>settings.py</code>ä¸­æ·»åŠ ï¼Œæ·»åŠ é¡ºåºå³ä¸ºè®¿é—®é¡ºåº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">&quot;django.middleware.security.SecurityMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.sessions.middleware.SessionMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.middleware.common.CommonMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.middleware.csrf.CsrfViewMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.auth.middleware.AuthenticationMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.contrib.messages.middleware.MessageMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;django.middleware.clickjacking.XFrameOptionsMiddleware&quot;</span>,</span><br><span class="line">    <span class="string">&quot;management_sys.middleware.auth.M1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;management_sys.middleware.auth.M2&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/38.png" alt="image-20240221162443368" style="zoom:67%;" /><p>ç™»å½•çš„ä¸­é—´ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.utils.deprecation <span class="keyword">import</span> MiddlewareMixin</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> redirect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">M1</span>(<span class="title class_ inherited__">MiddlewareMixin</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ä¸­é—´ä»¶1</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¦‚æœæ–¹æ³•ä¸­æ²¡æœ‰è¿”å›å€¼ï¼ˆNoneï¼‰ï¼Œåˆ™ç»§ç»­å¾€åèµ°</span></span><br><span class="line">    <span class="comment"># å¦‚æœæ–¹æ³•ä¸­æœ‰è¿”å›å€¼ï¼Œåˆ™ä¸å†ç»§ç»­å¾€åèµ° ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="comment"># å¯ä»¥è¿”å›HttpResponseï¼Œrenderï¼Œredirect</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request</span>):</span><br><span class="line">        <span class="comment"># æ’é™¤ä¸éœ€è¦ç™»å½•å°±èƒ½è®¿é—®çš„é¡µé¢</span></span><br><span class="line">        <span class="comment"># è·å–å½“å‰ç”¨æˆ·è¯·æ±‚çš„url</span></span><br><span class="line">        <span class="keyword">if</span> request.path_info <span class="keyword">in</span> [<span class="string">&quot;/login/&quot;</span>, <span class="string">&quot;/index/&quot;</span>]:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•</span></span><br><span class="line">        session_info = request.session.get(<span class="string">&quot;info&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;session_info:&quot;</span>, session_info)</span><br><span class="line">        <span class="comment"># å¦‚æœsession_infoæœ‰å€¼ï¼Œè¯´æ˜ç”¨æˆ·å·²ç»ç™»å½•</span></span><br><span class="line">        <span class="keyword">if</span> session_info:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å¦‚æœsession_infoæ²¡æœ‰å€¼ï¼Œè¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•</span></span><br><span class="line">        <span class="comment"># ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œé‚£ä¹ˆç”¨æˆ·å°±æ— æ³•è®¿é—®ä»»ä½•é¡µé¢</span></span><br><span class="line">        <span class="keyword">return</span> redirect(<span class="string">&quot;/login/&quot;</span>)</span><br></pre></td></tr></table></figure><p><strong>ä¸€å®šè¦æ’é™¤ä¸€äº›ç™»å½•ç•Œé¢ï¼Œä¸ç„¶ä¼šä¸€ç›´å‡ºç°é‡å®šå‘</strong></p><p>ç™»å‡ºåªéœ€è¦æ¸…é™¤ç½‘é¡µçš„cookieä¿¡æ¯ï¼Œ<strong>æ•°æ®åº“ä¸­çš„ä¿¡æ¯å¹¶æ²¡æœ‰åˆ é™¤</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">logout</span>(<span class="params">request</span>):</span><br><span class="line">    request.session.clear()</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/login/&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç™»å½•æˆåŠŸçš„ä¿¡æ¯éœ€è¦åœ¨<code>layoout.html</code>ä¸­ä½¿ç”¨æ¥è·å–å½“å‰ç™»å½•çš„ç”¨æˆ·åï¼Œä¹‹åå°±èƒ½åœ¨å³ä¸Šè§’çœ‹åˆ°ç”¨æˆ·ä¿¡æ¯</p><img src="https://www.z4a.net/images/2024/08/11/39.png" alt="image-20240221172639142" style="zoom: 50%;" /><h3 id="ä¼˜åŒ–ç™»å½•-å›¾ç‰‡éªŒè¯ç "><a href="#ä¼˜åŒ–ç™»å½•-å›¾ç‰‡éªŒè¯ç " class="headerlink" title="ä¼˜åŒ–ç™»å½•(å›¾ç‰‡éªŒè¯ç )"></a>ä¼˜åŒ–ç™»å½•(å›¾ç‰‡éªŒè¯ç )</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pillow</span><br></pre></td></tr></table></figure><p>ç”ŸæˆéªŒè¯ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageDraw, ImageFont</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">random_color</span>():</span><br><span class="line">    color_ = (random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line">    <span class="keyword">return</span> color_</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">random_character</span>():</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">chr</span>(random.randint(<span class="number">65</span>, <span class="number">90</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_img_code</span>():</span><br><span class="line">    img_height = <span class="number">100</span></span><br><span class="line">    img_width = <span class="number">250</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€å¼ å›¾ç‰‡</span></span><br><span class="line">    img = Image.new(<span class="string">&#x27;RGB&#x27;</span>, (img_width, img_height), (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¼å…¥å­—ä½“</span></span><br><span class="line">    font = ImageFont.truetype(</span><br><span class="line">        <span class="string">r&#x27;D:\Python_ProjectHouse\manage_system\management_sys\static\font\Monaco.ttf&#x27;</span>,</span><br><span class="line">        <span class="number">65</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªç”»ç¬”</span></span><br><span class="line">    draw = ImageDraw.Draw(img, mode=<span class="string">&#x27;RGB&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">200</span>):</span><br><span class="line">        x = random.randint(<span class="number">0</span>, img_width)</span><br><span class="line">        y = random.randint(<span class="number">0</span>, img_height)</span><br><span class="line">        draw.point((x, y), fill=random_color())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>):</span><br><span class="line">        x1 = random.randint(<span class="number">0</span>, img_width)</span><br><span class="line">        y1 = random.randint(<span class="number">0</span>, img_height)</span><br><span class="line">        x2 = random.randint(<span class="number">0</span>, img_width)</span><br><span class="line">        y2 = random.randint(<span class="number">0</span>, img_height)</span><br><span class="line">        draw.line((x1, y1, x2, y2), fill=random_color())</span><br><span class="line"></span><br><span class="line">    code_str = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        x = (img_width / <span class="number">4</span>) * i + <span class="number">10</span></span><br><span class="line">        y = random.randint(<span class="number">10</span>, <span class="number">40</span>)</span><br><span class="line">        code = random_character()</span><br><span class="line">        code_str += code</span><br><span class="line">        draw.text((x, y), text=code, fill=random_color(), font=font)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;code_str:<span class="subst">&#123;code_str&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># img.show()</span></span><br><span class="line">    <span class="keyword">return</span> img, code_str</span><br></pre></td></tr></table></figure><p>å¯¹äºå›¾ç‰‡ï¼Œä¿å­˜åˆ°æœ¬åœ°ä¹‹åå†è¯»å–æœ‰ç‚¹éº»çƒ¦ï¼Œç›´æ¥å°†å…¶å†™å…¥å†…å­˜å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img, code_str = create_img_code()</span><br><span class="line">stream = BytesIO()</span><br><span class="line"><span class="built_in">print</span>(stream.getvalue())</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†å›¾ç‰‡æ”¾åœ¨<code>/image/code</code>è¿æ¥ä¸­ï¼Œéœ€è¦ç°åœ¨ä¸­é—´ä»¶ä¸­æ’é™¤ï¼Œä¸ç„¶æ— æ³•è®¿é—®è¿™ä¸ªé“¾æ¥ï¼Œä¹Ÿæ— æ³•è·å¾—å›¾ç‰‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">process_request</span>(<span class="params">self, request</span>):</span><br><span class="line">    <span class="comment"># æ’é™¤ä¸éœ€è¦ç™»å½•å°±èƒ½è®¿é—®çš„é¡µé¢</span></span><br><span class="line">    <span class="comment"># è·å–å½“å‰ç”¨æˆ·è¯·æ±‚çš„url</span></span><br><span class="line">    <span class="keyword">if</span> request.path_info <span class="keyword">in</span> [<span class="string">&quot;/login/&quot;</span>, <span class="string">&quot;/index/&quot;</span>, <span class="string">&quot;/image/code&quot;</span>]:</span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´çš„è§†å›¾å‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"><span class="keyword">from</span> management_sys.utils.create_captcha <span class="keyword">import</span> create_img_code</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">image_code</span>(<span class="params">request</span>):</span><br><span class="line">    img, code_str = create_img_code()</span><br><span class="line">    stream = BytesIO()</span><br><span class="line">    <span class="built_in">print</span>(code_str)</span><br><span class="line">    img.save(stream, <span class="string">&quot;png&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(stream.getvalue())</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/40.png" alt="image-20240221184729205" style="zoom:67%;" /><p>æŒ‰ç…§è§„å®šä¿®æ”¹Form</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LoginForm</span>(<span class="title class_ inherited__">BootStrapForm</span>):</span><br><span class="line">    username = forms.CharField(</span><br><span class="line">        label=<span class="string">&quot;ç”¨æˆ·å&quot;</span>,</span><br><span class="line">        widget=forms.TextInput()</span><br><span class="line">    )</span><br><span class="line">    password = forms.CharField(</span><br><span class="line">        label=<span class="string">&quot;å¯†ç &quot;</span>,</span><br><span class="line">        widget=forms.PasswordInput(render_value=<span class="literal">True</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    captcha = forms.CharField(</span><br><span class="line">        label=<span class="string">&quot;éªŒè¯ç &quot;</span>,</span><br><span class="line">        widget=forms.TextInput()</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">clean_password</span>(<span class="params">self</span>):</span><br><span class="line">        password = self.cleaned_data.get(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> md5(password)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">novalidate</span>&gt;</span></span><br><span class="line">    &#123;% csrf_token %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; forms.username.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &#123;&#123; forms.username &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>&#123;&#123; forms.username.errors.0 &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>&#123;&#123; forms.password.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        &#123;&#123; forms.password &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>&#123;&#123; forms.password.errors.0 &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group clearfix&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; forms.captcha.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-8&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; forms.captcha &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-4&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/image/code&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 34px&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;éªŒè¯ç &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red&quot;</span>&gt;</span>&#123;&#123; forms.captcha.errors.0 &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>ç™» å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†éªŒè¯éªŒè¯ç æˆ‘ä»¬éœ€è¦åšä¸¤ä»¶äº‹</p><ol><li>å­˜å‚¨å½“å‰çš„éªŒè¯ç  å­˜å‚¨åœ¨sessionä¸­</li><li>æ ¡éªŒç”¨æˆ·æäº¤çš„éªŒè¯ç  å¹¶è®¾å®šç›¸å…³çš„çŠ¶æ€</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">image_code</span>(<span class="params">request</span>):</span><br><span class="line">    img, code_str = create_img_code()</span><br><span class="line">    stream = BytesIO()</span><br><span class="line">    img.save(stream, <span class="string">&quot;png&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†éªŒè¯ç å†™å…¥session ä»¥ä¾¿åç»­æ ¡éªŒ</span></span><br><span class="line">    request.session[<span class="string">&quot;image_code&quot;</span>] = code_str</span><br><span class="line">    <span class="comment"># ä¸èƒ½è®©éªŒè¯ç ä¸€ç›´æœ‰æ•ˆï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">    request.session.set_expiry(<span class="number">60</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(stream.getvalue())</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> form.is_valid():</span><br><span class="line">    <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¸€å®šè¦ç”¨popæ–¹æ³•ï¼Œå¦åˆ™ä¼šæŠ¥é”™ å› ä¸ºæ•°æ®åº“ä¸­æ²¡æœ‰captchaå­—æ®µ</span></span><br><span class="line">    code = form.cleaned_data.pop(<span class="string">&quot;captcha&quot;</span>)</span><br><span class="line">    image_code = request.session.get(<span class="string">&quot;image_code&quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> image_code == <span class="string">&quot;&quot;</span>:</span><br><span class="line">        form.add_error(<span class="string">&quot;captcha&quot;</span>, <span class="string">&quot;éªŒè¯ç å·²è¿‡æœŸ&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, &#123;<span class="string">&quot;forms&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> image_code.upper() != code.upper():</span><br><span class="line">        form.add_error(field=<span class="string">&quot;captcha&quot;</span>, error=<span class="string">&quot;éªŒè¯ç é”™è¯¯&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, &#123;<span class="string">&quot;forms&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    create = models.Admin.objects.<span class="built_in">filter</span>(**form.cleaned_data).first()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> create:</span><br><span class="line">        <span class="comment"># éœ€è¦æ·»åŠ é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        <span class="comment"># field - å±•ç¤ºé”™è¯¯ä¿¡æ¯çš„å­—æ®µ</span></span><br><span class="line">        <span class="comment"># error - é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        form.add_error(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;login.html&quot;</span>, &#123;<span class="string">&quot;forms&quot;</span>: form&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»å½•æˆåŠŸåˆ é™¤éªŒè¯ç  é˜²æ­¢è¢«é‡å¤ä½¿ç”¨</span></span><br><span class="line">    request.session.pop(<span class="string">&quot;image_code&quot;</span>)</span><br><span class="line">    <span class="comment"># ç”¨æˆ·åä¸å¯†ç æ­£ç¡®</span></span><br><span class="line">    <span class="comment"># ç½‘ç«™éœ€è¦ç”Ÿæˆéšæœºå­—ç¬¦ï¼Œå†™åˆ°ç”¨æˆ·æµè§ˆå™¨çš„cookieä¸­</span></span><br><span class="line">    <span class="comment"># æœåŠ¡ç«¯éœ€è¦è®°å½•è¿™ä¸ªéšæœºå­—ç¬¦ï¼Œå†™åˆ°sessionä¸­</span></span><br><span class="line">    <span class="comment"># ä¼šè‡ªåŠ¨ç”Ÿæˆcookieä¸å­—å…¸å‚æ•°</span></span><br><span class="line">    request.session[<span class="string">&quot;info&quot;</span>] = &#123;<span class="string">&quot;id&quot;</span>: create.<span class="built_in">id</span>, <span class="string">&quot;username&quot;</span>: create.username&#125;</span><br><span class="line">    <span class="comment"># å› ä¸ºä¹‹å‰å°†sessionçš„è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º60ç§’ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é‡æ–°è®¾ç½®</span></span><br><span class="line">    <span class="comment"># è®¾ç½®sessionçš„è¿‡æœŸæ—¶é—´ä¸ºä¸ƒå¤©</span></span><br><span class="line">    request.session.set_expiry(<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">7</span>)</span><br><span class="line">    <span class="comment"># return HttpResponse(&quot;ç™»å½•æˆåŠŸ&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">&quot;/admin/list&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="Ajaxè¯·æ±‚"><a href="#Ajaxè¯·æ±‚" class="headerlink" title="Ajaxè¯·æ±‚"></a>Ajaxè¯·æ±‚</h2><p>æµè§ˆå™¨å‘æˆ‘ä»¬çš„ç½‘ç«™å‘é€è¯·æ±‚æ—¶ï¼šURLå’Œè¡¨å•çš„æ–¹å¼</p><ul><li>GET</li><li>POST</li></ul><p><strong>è¿™æ ·çš„æ–¹æ³•æœ‰ä¸ªç‰¹ç‚¹ï¼Œæ¯æ¬¡éƒ½ä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ã€‚</strong></p><p>é™¤æ­¤ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥åŸºäºAjaxå‘åå°å‘é€è¯·æ±‚ï¼ˆå·å·å‘é€è¯·æ±‚ï¼‰</p><ul><li><p>ä¾èµ–JQuery</p></li><li><p>ç¼–å†™Ajaxä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&quot;å‘é€çš„åœ°å€&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>:<span class="string">&quot;post&quot;</span>,</span><br><span class="line">        <span class="attr">data</span>:&#123;</span><br><span class="line">            <span class="attr">n1</span>:<span class="number">123</span>,</span><br><span class="line">            <span class="attr">n2</span>:<span class="number">456</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">success</span>:<span class="keyword">function</span>(<span class="params">res</span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><p>å‰ç«¯éª¨æ¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä»»åŠ¡ç®¡ç†<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç¤ºä¾‹ä¸€<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç‚¹æˆ‘&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;clickMe()&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">clickMe</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;/task/ajax&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘é€GETè¯·æ±‚"><a href="#å‘é€GETè¯·æ±‚" class="headerlink" title="å‘é€GETè¯·æ±‚"></a>å‘é€GETè¯·æ±‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/task/ajax&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">task_ajax</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="built_in">print</span>(request.GET)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;æˆåŠŸäº†&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="å‘é€POSTè¯·æ±‚"><a href="#å‘é€POSTè¯·æ±‚" class="headerlink" title="å‘é€POSTè¯·æ±‚"></a>å‘é€POSTè¯·æ±‚</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/task/ajax&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task_ajax</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="built_in">print</span>(request.POST)</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;æˆåŠŸäº†&quot;</span>)</span><br></pre></td></tr></table></figure><p>åŸºäºjquery</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &quot;layout.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block content %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ä»»åŠ¡ç®¡ç†<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ç¤ºä¾‹ä¸€<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç‚¹æˆ‘&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;% block js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">clickMe</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">function</span> <span class="title function_">clickMe</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#btn1&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">url</span>: <span class="string">&#x27;/task/ajax&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸºäºAjaxçš„è¿”å›å€¼"><a href="#åŸºäºAjaxçš„è¿”å›å€¼" class="headerlink" title="åŸºäºAjaxçš„è¿”å›å€¼"></a>åŸºäºAjaxçš„è¿”å›å€¼</h3><p>ä¸€èˆ¬éƒ½ä¼šè¿”å›ä¸€ä¸ªjsonæ ¼å¼</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task_ajax</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># print(request.GET)</span></span><br><span class="line">    <span class="comment"># print(request.POST)</span></span><br><span class="line">    data_dict = &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;alex&quot;</span>,</span><br><span class="line">        <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">    &#125;</span><br><span class="line">    json_str = json.dumps(data_dict)</span><br><span class="line">    <span class="comment"># return HttpResponse(json_str)</span></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(data_dict)</span><br></pre></td></tr></table></figure><p>æœ‰ä¸¤ç§æ–¹å¼</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data_dict = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;alex&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> JsonResponse(data_dict)</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data_dict = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;alex&quot;</span>,</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line">json_str = json.dumps(data_dict)</span><br><span class="line"><span class="keyword">return</span> HttpResponse(json_str)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/41.png" alt="image-20240222103515793" style="zoom:67%;" /><p>å‰ç«¯æƒ³è¦ä½¿ç”¨çš„è¯éœ€è¦ä¿®æ”¹å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ</span></span><br><span class="line">    <span class="title function_">clickMe</span>();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clickMe</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#btn1&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/task/ajax&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;</span><br><span class="line">                <span class="string">&quot;name&quot;</span>: <span class="string">&quot;zhangsan&quot;</span>,</span><br><span class="line">                <span class="string">&quot;age&quot;</span>: <span class="number">18</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// æ·»åŠ ä¹‹åï¼Œè¿”å›çš„æ•°æ®ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºjsonæ ¼å¼</span></span><br><span class="line">            <span class="comment">// ä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨data.nameå’Œdata.age</span></span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">name</span>)</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">age</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»»åŠ¡åˆ—è¡¨"><a href="#ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="ä»»åŠ¡åˆ—è¡¨"></a>ä»»åŠ¡åˆ—è¡¨</h3><p>åˆ›å»ºmodels</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TaskList</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ä»»åŠ¡åˆ—è¡¨&quot;&quot;&quot;</span></span><br><span class="line">    level_choices = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;ç´§æ€¥&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;é‡è¦&quot;</span>),</span><br><span class="line">        (<span class="number">3</span>, <span class="string">&quot;ä¸´æ—¶&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    level = models.SmallIntegerField(verbose_name=<span class="string">&quot;çº§åˆ«&quot;</span>, choices=level_choices, default=<span class="number">1</span>)</span><br><span class="line">    title = models.CharField(verbose_name=<span class="string">&quot;æ ‡é¢˜&quot;</span>, max_length=<span class="number">64</span>)</span><br><span class="line">    detail = models.TextField(verbose_name=<span class="string">&quot;è¯¦æƒ…&quot;</span>)</span><br><span class="line">    user = models.ForeignKey(verbose_name=<span class="string">&quot;è´Ÿè´£äºº&quot;</span>, to=Admin, to_field=<span class="string">&quot;id&quot;</span>, on_delete=models.CASCADE)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºform</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TaskModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.TaskList</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºè§†å›¾å‡½æ•°ï¼Œæ¥å—æ•°æ®å¹¶è¿”å›ä¿¡æ¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">task_add</span>(<span class="params">request</span>):</span><br><span class="line">    data = request.POST.<span class="built_in">dict</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œæ ¡éªŒï¼ˆä½¿ç”¨Modelformè¿›è¡Œæ ¡éªŒï¼‰</span></span><br><span class="line"></span><br><span class="line">    form = TaskModelForm(data=data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># data_dict = &#123;&quot;status&quot;: 0, &quot;error&quot;: form.errors.as_json()&#125;</span></span><br><span class="line">    <span class="comment"># return JsonResponse(data_dict)</span></span><br><span class="line">    <span class="comment"># è¿™æ ·å¯ä»¥å±•ç¤ºä¸­æ–‡çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    data_dict = &#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;error&quot;</span>: form.errors&#125;</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(json.dumps(data_dict, ensure_ascii=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure><p>åœ¨å‰ç«¯ä¸­è¿›è¡Œå±•ç¤ºï¼Œè¿™è¾¹æœ‰ä¸ªæ³¨æ„ç‚¹æ˜¯buttonç‚¹å‡»åä¼šé»˜è®¤åˆ·æ–°é¡µé¢ï¼Œè¿™æ—¶å€™æœ‰ä¸¤ç§æ–¹æ³•</p><ul><li>æ”¹ä¸ºinputæ ‡ç­¾</li><li>åœ¨jsä¸­æ·»åŠ <code> event.preventDefault();</code></li></ul><p>å¦å¤–ï¼Œä¸ºäº†é˜²æ­¢æ ‡ç­¾å¡«å……å‡ºç°çš„ä¹±å¥—æƒ…å†µï¼Œéœ€è¦å°†<code>form-group</code>çš„ä½ç½®è®¾ç½®ä¸ºrelativeï¼Œspançš„ä½ç½®è®¾ç½®ä¸ºabsolute</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h4</span>&gt;</span>ä»»åŠ¡åˆ—è¡¨<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">novalidate</span> <span class="attr">id</span>=<span class="string">&quot;formAdd&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clearfix&quot;</span>&gt;</span></span><br><span class="line">                &#123;% for field in form %&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xs-6&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 20px&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; field.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        &#123;&#123; field &#125;&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;error_msg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: red;position:absolute;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-xs-12&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btnAdd&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>æ·»åŠ ä»»åŠ¡<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jsæ–¹é¢ï¼Œä¸ºäº†è®©é”™è¯¯ä¿¡æ¯æ¸…æ¥šï¼Œåœ¨æ¯æ¬¡ç‚¹å‡»ä¹‹å‰éƒ½æ¸…é™¤æ‰€æœ‰spançš„ä¿¡æ¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ</span></span><br><span class="line">    <span class="title function_">btnAddEvent</span>();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">btnAddEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#btnAdd&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡ç‚¹å‡»æŒ‰é’®ä¹‹å‰ï¼Œå…ˆæ¸…ç©ºé”™è¯¯ä¿¡æ¯</span></span><br><span class="line">        &#123;#$(<span class="string">&quot;.error_msg&quot;</span>).<span class="title function_">text</span>(<span class="string">&#x27;&#x27;</span>)#&#125;</span><br><span class="line">        $(<span class="string">&quot;.error_msg&quot;</span>).<span class="title function_">empty</span>()</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸åŠ è¿™å¥ä¼šè‡ªåŠ¨åˆ·æ–°æ§åˆ¶å°å¯¼è‡´çœ‹ä¸åˆ°ç»“æœ</span></span><br><span class="line">        event.<span class="title function_">preventDefault</span>();</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/task/add&#x27;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">            <span class="attr">data</span>: $(<span class="string">&quot;#formAdd&quot;</span>).<span class="title function_">serialize</span>(),</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">error</span>)</span><br><span class="line">                    $.<span class="title function_">each</span>(res.<span class="property">error</span>, <span class="keyword">function</span> (<span class="params">name, value</span>) &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(name, value)</span><br><span class="line">                        <span class="comment">// console.log($(&quot;[name=&quot; + name + &quot;]&quot;))</span></span><br><span class="line">                        <span class="comment">// æ‰¾åˆ°å¯¹åº”çš„idï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®æ–‡æœ¬</span></span><br><span class="line">                        $(<span class="string">&quot;#id_&quot;</span> + name).<span class="title function_">next</span>().<span class="title function_">text</span>(value[<span class="number">0</span>])</span><br><span class="line">                    &#125;)</span><br><span class="line">                    <span class="comment">// alert(&#x27;æ·»åŠ å¤±è´¥&#x27;)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/42.png" alt="image-20240222151600557" style="zoom: 50%;" /><img src="https://www.z4a.net/images/2024/08/11/43.png" alt="image-20240222151636201" style="zoom: 50%;" /><p>ä½¿ç”¨ajaxä¸ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨jsè¿›è¡Œé¡µé¢çš„åˆ·æ–°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;æ·»åŠ æˆåŠŸ&#x27;</span>)</span><br><span class="line">    <span class="comment">// ç”¨jsè¿›è¡Œé¡µé¢åˆ·æ–°</span></span><br><span class="line">    location.<span class="title function_">reload</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è®¢å•åˆ—è¡¨"><a href="#è®¢å•åˆ—è¡¨" class="headerlink" title="è®¢å•åˆ—è¡¨"></a>è®¢å•åˆ—è¡¨</h2><h3 id="æ·»åŠ è®¢å•"><a href="#æ·»åŠ è®¢å•" class="headerlink" title="æ·»åŠ è®¢å•"></a>æ·»åŠ è®¢å•</h3><p>è®¾è®¡è¡¨ç»“æ„</p><table><thead><tr><th>id</th><th>è®¢å•å·</th><th>å•†å“åç§°</th><th>ä»·æ ¼</th><th>çŠ¶æ€</th><th>ç”¨æˆ·ID</th></tr></thead><tbody><tr><td>è‡ªåŠ¨ç”Ÿæˆ</td><td>å½“å‰æ—¶é—´+éšæœºæ•°å­—</td><td></td><td></td><td>å·²æ”¯ä»˜&#x2F;æœªæ”¯ä»˜</td><td>å…³è”ç”¨æˆ·</td></tr></tbody></table><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Orders</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®¢å•è¡¨&quot;&quot;&quot;</span></span><br><span class="line">    oid = models.CharField(verbose_name=<span class="string">&quot;è®¢å•å·&quot;</span>, max_length=<span class="number">64</span>)</span><br><span class="line">    title = models.CharField(verbose_name=<span class="string">&quot;åç§°&quot;</span>, max_length=<span class="number">32</span>)</span><br><span class="line">    price = models.IntegerField(verbose_name=<span class="string">&quot;ä»·æ ¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">    status_choices = &#123;</span><br><span class="line">        (<span class="number">1</span>, <span class="string">&quot;å¾…æ”¯ä»˜&quot;</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">&quot;å·²æ”¯ä»˜&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    status = models.SmallIntegerField(verbose_name=<span class="string">&quot;çŠ¶æ€&quot;</span>, choices=status_choices, default=<span class="number">1</span>)</span><br><span class="line">    admin = models.ForeignKey(verbose_name=<span class="string">&quot;ç®¡ç†å‘˜&quot;</span>, to=<span class="string">&quot;Admin&quot;</span>, to_field=<span class="string">&quot;id&quot;</span>, on_delete=models.CASCADE)</span><br></pre></td></tr></table></figure><p>å‡†å¤‡ä½¿ç”¨æ¨¡æ€æ¡†æ¥å®ç°æ·»åŠ è®¢å•çš„åŠŸèƒ½</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;exampleModal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">                                                                                                  <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">&quot;modal-title&quot;</span>&gt;</span>æ·»åŠ è®¢å•<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">novalidate</span> <span class="attr">id</span>=<span class="string">&quot;formAdd&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clearfix&quot;</span>&gt;</span></span><br><span class="line">                        &#123;% for item in form %&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group col-md-6&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative;margin-bottom: 30px&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123; item.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            &#123;&#123; item &#125;&#125;</span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: red;position:absolute&quot;</span> <span class="attr">class</span>=<span class="string">&quot;error_msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        &#123;% endfor %&#125;</span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot; col-md-12&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span>&gt;</span>å– æ¶ˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;btnSave&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¿ å­˜&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.modal-content --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.modal-dialog --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- /.modal --&gt;</span></span><br></pre></td></tr></table></figure><p>è®©æ¨¡æ€æ¡†ç»‘å®šæŒ‰é’®æœ‰ä¸¤ç§æ–¹æ³•</p><ol><li>ä½¿ç”¨js</li><li>ä½¿ç”¨<code>data-target:ç±»å data-toggle=&quot;modal&quot;</code></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç¬¬ä¸€ç§ï¼šä½¿ç”¨js --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 10px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;addBtn&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ–°å»ºè®¢å•1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç¬¬äºŒç§ï¼šä½¿ç”¨data-toggleä¸data-target --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ–°å»ºè®¢å•2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span> <span class="attr">data-toggle</span>=<span class="string">&quot;modal&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">data-target</span>=<span class="string">&quot;#exampleModal&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">bindModalEvent</span>();</span><br><span class="line">    <span class="title function_">bindSaveEvent</span>();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bindModalEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#addBtn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦å¡«å†™æ•°æ®ï¼Œéœ€è¦å…ˆå®šä¹‰ModelFormï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªå€¼ä¸å…è®¸ç”¨æˆ·è‡ªå·±å¡«å†™</p><ol><li>oid - ç”±ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ</li><li>admin - è‡ªåŠ¨è·å–</li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OrderModelForm</span>(<span class="title class_ inherited__">BootStrapModelForm</span>):</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        model = models.Orders</span><br><span class="line">        fields = <span class="string">&quot;__all__&quot;</span></span><br><span class="line">        exclude = [<span class="string">&quot;oid&quot;</span>, <span class="string">&quot;admin&quot;</span>]</span><br></pre></td></tr></table></figure><p>å°†è¡¨å•å†™å…¥æ¨¡æ€æ¡†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel-default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è®¢å•åˆ—è¡¨<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-body&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table-hover table-bordered table&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>OID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>ä»·æ ¼<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>çŠ¶æ€<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>ç®¡ç†å‘˜<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                &#123;% for item in data %&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.oid &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.price &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.get_status_display &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.admin.username &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-xs&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-edit&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> ç¼–è¾‘</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-danger btn-xs&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-trash&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> åˆ é™¤</span><br><span class="line">                        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                &#123;% endfor %&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">order_list</span>(<span class="params">request</span>):</span><br><span class="line">    form = OrderModelForm()</span><br><span class="line"></span><br><span class="line">    queryset = models.Orders.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;-id&quot;</span>)</span><br><span class="line"></span><br><span class="line">    pagination = Pagination(request, queryset)</span><br><span class="line">    data = pagination.get_queryset()</span><br><span class="line">    pages_html = pagination.html()</span><br><span class="line"></span><br><span class="line">    context = &#123;</span><br><span class="line">        <span class="string">&quot;form&quot;</span>: form,</span><br><span class="line">        <span class="string">&quot;data&quot;</span>: data,</span><br><span class="line">        <span class="string">&quot;pages_html&quot;</span>: pages_html</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;order_list.html&quot;</span>, context)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/44.png" alt="image-20240222182943176" style="zoom:67%;" /><p>ç¼–å†™æ·»åŠ çš„é€»è¾‘</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">order_add</span>(<span class="params">request</span>):</span><br><span class="line">    data = request.POST</span><br><span class="line">    form = OrderModelForm(data=data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="built_in">print</span>(form.cleaned_data)</span><br><span class="line">        <span class="comment"># è®¢å•å·ï¼šè¿™æ—¶å€™æ˜¯æ²¡æœ‰oidçš„ éœ€è¦è‡ªå·±ç”Ÿæˆ</span></span><br><span class="line">        <span class="comment"># å°å†™çš„m dæ˜¯ä¸å¸¦/çš„</span></span><br><span class="line">        form.instance.oid = datetime.now().strftime(<span class="string">&quot;%Y%m%d%H%M%S&quot;</span>) + <span class="built_in">str</span>(random.randint(<span class="number">1000</span>, <span class="number">9999</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å›ºå®šè®¾ç½®ç®¡ç†å‘˜çš„ID</span></span><br><span class="line">        <span class="comment"># è®¾ç½®å½“å‰ç™»å½•ç”¨æˆ·çš„ID</span></span><br><span class="line">        form.instance.admin_id = request.session.get(<span class="string">&quot;info&quot;</span>)[<span class="string">&quot;id&quot;</span>]</span><br><span class="line"></span><br><span class="line">        form.save()</span><br><span class="line">        <span class="comment"># print(&quot;éªŒè¯æˆåŠŸ&quot;)</span></span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line">    <span class="comment"># print(&quot;éªŒè¯å¤±è´¥&quot;)</span></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;error&quot;</span>: form.errors&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>form.instance.å±æ€§å</code>æ¥ç›´æ¥è®¾ç½®å…¶ä¸­çš„å€¼</p><p>ä¸ºæäº¤æŒ‰é’®ç»‘å®šjs</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bindSaveEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#btnSave&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;.error_msg&quot;</span>).<span class="title function_">empty</span>()</span><br><span class="line">        event.<span class="title function_">preventDefault</span>()</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&quot;/order/add&quot;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: $(<span class="string">&#x27;#formAdd&#x27;</span>).<span class="title function_">serialize</span>(),</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">                <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span><br><span class="line">                    <span class="comment">// æ¸…ç©ºè¡¨å• å–0å¾—åˆ°DOMå¯¹è±¡</span></span><br><span class="line">                    $(<span class="string">&quot;#formAdd&quot;</span>)[<span class="number">0</span>].<span class="title function_">reset</span>();</span><br><span class="line">                    <span class="comment">// å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line">                    $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line">                    <span class="comment">// åˆ·æ–°é¡µé¢</span></span><br><span class="line">                    location.<span class="title function_">reload</span>()</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">error</span>)</span><br><span class="line">                    $.<span class="title function_">each</span>(res.<span class="property">error</span>, <span class="keyword">function</span> (<span class="params">name, value</span>) &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(name, value)</span><br><span class="line">                        <span class="comment">// console.log($(&quot;[name=&quot; + name + &quot;]&quot;))</span></span><br><span class="line">                        <span class="comment">// æ‰¾åˆ°å¯¹åº”çš„idï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®æ–‡æœ¬</span></span><br><span class="line">                        $(<span class="string">&quot;#id_&quot;</span> + name).<span class="title function_">next</span>().<span class="title function_">text</span>(value[<span class="number">0</span>])</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è®¢å•"><a href="#åˆ é™¤è®¢å•" class="headerlink" title="åˆ é™¤è®¢å•"></a>åˆ é™¤è®¢å•</h3><p>ä½¿ç”¨ajaxæ¥å®ç°åˆ é™¤</p><p>ä½†æ˜¯è¿™æ ·æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è·å–å½“å‰åˆ é™¤æ•°æ®çš„id</p><ol><li>å·å·å°†idè—åˆ°ä¸€ä¸ªåœ°æ–¹</li><li>å®šä¹‰æˆå…¨å±€å˜é‡</li></ol><p><strong>é‡‡ç”¨è‡ªå®šä¹‰å±æ€§çš„æ–¹å¼è·å–åˆ°å½“å‰çš„id</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">    &#123;% for item in data %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">uid</span>=<span class="string">&quot;&#123;&#123; item.id &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.id &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.oid &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.price &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.get_status_display &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; item.admin.username &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">uid</span>=<span class="string">&quot;&#123;&#123; item.id &#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-xs btnEdit&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-edit&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> ç¼–è¾‘</span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">uid</span>=<span class="string">&quot;&#123;&#123; item.id &#125;&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-danger btn-xs btnDelete&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-trash&quot;</span></span></span><br><span class="line"><span class="tag">                      <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span> åˆ é™¤</span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨jsä¸­å¯ä»¥é€šè¿‡<code>$(this).attr(&quot;uid&quot;)</code>è·å–åˆ°å½“å‰çš„uid</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable constant_">DELETE_ID</span> = <span class="number">0</span>ï¼›</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bindDeleteEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.btnDelete&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;#wrongModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–å½“å‰ç‚¹å‡»çš„å…ƒç´ çš„uid</span></span><br><span class="line">        <span class="variable constant_">DELETE_ID</span> = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;uid&quot;</span>)</span><br><span class="line">        <span class="comment">// console.log(DELETE_ID)</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤çš„é€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bindDeleteConfirmEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#btnDeleteConfirm&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&quot;/order/delete&quot;</span>,</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: &#123;<span class="string">&quot;uid&quot;</span>: <span class="variable constant_">DELETE_ID</span>&#125;,</span><br><span class="line">            <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line">                    $(<span class="string">&quot;#wrongModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    <span class="comment">// åˆ é™¤æ ‡ç­¾ è¿™ä¸€æ­¥æ˜¯ä¸å¿…è¦çš„</span></span><br><span class="line">                    <span class="comment">//$(&quot;tr[uid = DELETE_ID]&quot;).remove();</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">// å…¨å±€å˜é‡æ¸…ç©º</span></span><br><span class="line">                    <span class="variable constant_">DELETE_ID</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">                    <span class="comment">// åˆ·æ–°é¡µé¢</span></span><br><span class="line">                    location.<span class="title function_">reload</span>();</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(<span class="string">&quot;åˆ é™¤å¤±è´¥&quot;</span> + res.<span class="property">error</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ é™¤å¤±è´¥&quot;</span> + res.<span class="property">error</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">order_delete</span>(<span class="params">request</span>):</span><br><span class="line">    uid = request.GET.get(<span class="string">&quot;uid&quot;</span>)</span><br><span class="line">    exists = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).exists()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> exists:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;error&quot;</span>: <span class="string">&quot;åˆ é™¤å¤±è´¥ï¼Œæ•°æ®ä¸å­˜åœ¨&quot;</span>&#125;)</span><br><span class="line">    models.Orders.objects.get(<span class="built_in">id</span>=uid).delete()</span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/46.png" alt="image-20240222204544788" style="zoom: 67%;" /><h3 id="ç¼–è¾‘è®¢å•"><a href="#ç¼–è¾‘è®¢å•" class="headerlink" title="ç¼–è¾‘è®¢å•"></a>ç¼–è¾‘è®¢å•</h3><p>ç¼–è¾‘è®¢å•ä¹Ÿå¿…é¡»ä»åå°è·å¾—å½“å‰idçš„æ‰€æœ‰æ•°æ®ï¼Œ<strong>è€Œä¸”ç”±äºç¼–è¾‘ä¸æ·»åŠ åŠŸèƒ½ç›¸ä¼¼ï¼Œå› æ­¤ä½¿ç”¨åŒä¸€ä¸ªå‰ç«¯å¯¹è¯æ¡†</strong>ï¼Œä½†æ˜¯éœ€è¦ä¿®æ”¹ç›¸åº”çš„é€»è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bindSaveEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#btnSave&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;.error_msg&quot;</span>).<span class="title function_">empty</span>()</span><br><span class="line"></span><br><span class="line">        event.<span class="title function_">preventDefault</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable constant_">EDIT_ID</span>) &#123;</span><br><span class="line">            <span class="title function_">editDate</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">addDate</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®¾å®šä¸€ä¸ªå¸¸äº®æ¥æ ‡è®°å½“å‰å¯¹è¯æ¡†çš„ä½¿ç”¨çŠ¶æ€<code>EDIT_ID</code>:</p><ul><li><p>undefined - æ·»åŠ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addDate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;/order/add&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">        <span class="attr">data</span>: $(<span class="string">&#x27;#formAdd&#x27;</span>).<span class="title function_">serialize</span>(),</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>)</span><br><span class="line">                <span class="comment">// æ¸…ç©ºè¡¨å• å–0å¾—åˆ°DOMå¯¹è±¡</span></span><br><span class="line">                $(<span class="string">&quot;#formAdd&quot;</span>)[<span class="number">0</span>].<span class="title function_">reset</span>();</span><br><span class="line">                <span class="comment">// å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line">                $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line">                <span class="comment">// åˆ·æ–°é¡µé¢</span></span><br><span class="line">                location.<span class="title function_">reload</span>()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">error</span>)</span><br><span class="line">                $.<span class="title function_">each</span>(res.<span class="property">error</span>, <span class="keyword">function</span> (<span class="params">name, value</span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(name, value)</span><br><span class="line">                    <span class="comment">// console.log($(&quot;[name=&quot; + name + &quot;]&quot;))</span></span><br><span class="line">                    <span class="comment">// æ‰¾åˆ°å¯¹åº”çš„idï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®æ–‡æœ¬</span></span><br><span class="line">                    $(<span class="string">&quot;#id_&quot;</span> + name).<span class="title function_">next</span>().<span class="title function_">text</span>(value[<span class="number">0</span>])</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>uid - ç¼–è¾‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">editDate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;/order/edit&quot;</span> + <span class="string">&quot;?uid=&quot;</span> + <span class="variable constant_">EDIT_ID</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">        <span class="attr">data</span>: $(<span class="string">&#x27;#formAdd&#x27;</span>).<span class="title function_">serialize</span>(),</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;ç¼–è¾‘æˆåŠŸ&quot;</span>)</span><br><span class="line">                <span class="comment">// æ¸…ç©ºè¡¨å• å–0å¾—åˆ°DOMå¯¹è±¡</span></span><br><span class="line">                $(<span class="string">&quot;#formAdd&quot;</span>)[<span class="number">0</span>].<span class="title function_">reset</span>();</span><br><span class="line">                <span class="comment">// å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line">                $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line">                <span class="comment">// åˆ·æ–°é¡µé¢</span></span><br><span class="line">                location.<span class="title function_">reload</span>()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">error</span>)</span><br><span class="line">                <span class="keyword">if</span> (res.<span class="property">error</span>) &#123;</span><br><span class="line">                    $.<span class="title function_">each</span>(res.<span class="property">error</span>, <span class="keyword">function</span> (<span class="params">name, value</span>) &#123;</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(name, value)</span><br><span class="line">                        <span class="comment">// console.log($(&quot;[name=&quot; + name + &quot;]&quot;))</span></span><br><span class="line">                        <span class="comment">// æ‰¾åˆ°å¯¹åº”çš„idï¼Œç„¶åæ‰¾åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè®¾ç½®æ–‡æœ¬</span></span><br><span class="line">                        $(<span class="string">&quot;#id_&quot;</span> + name).<span class="title function_">next</span>().<span class="title function_">text</span>(value[<span class="number">0</span>])</span><br><span class="line">                    &#125;</span><br><span class="line">                          )</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="title function_">alert</span>(res.<span class="property">tips</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ä¸ºäº†å°†æ‰€æœ‰çš„æ•°æ®å±•ç¤ºåœ¨å¯¹è¯æ¡†ä¸Šï¼Œæˆ‘ä»¬éœ€è¦å°†æ•°æ®ä¼ åˆ°å‰ç«¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">order_detail</span>(<span class="params">request</span>):</span><br><span class="line">    uid = request.GET.get(<span class="string">&quot;uid&quot;</span>)</span><br><span class="line">    object_dict = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).values(<span class="string">&quot;title&quot;</span>, <span class="string">&quot;price&quot;</span>, <span class="string">&quot;status&quot;</span>).first()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> object_dict:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;error&quot;</span>: <span class="string">&quot;ç¼–è¾‘å¤±è´¥ï¼Œæ•°æ®ä¸å­˜åœ¨&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–¹å¼ä¸€ï¼šé€ä¸€è·å–æ•°æ®</span></span><br><span class="line">    obj = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).first()</span><br><span class="line">    data_dict = &#123;</span><br><span class="line">        <span class="string">&quot;oid&quot;</span>: obj.oid,</span><br><span class="line">        <span class="string">&quot;title&quot;</span>: obj.title,</span><br><span class="line">        <span class="string">&quot;price&quot;</span>: obj.price,</span><br><span class="line">        <span class="string">&quot;status&quot;</span>: obj.get_status_display(),</span><br><span class="line">        <span class="string">&quot;admin&quot;</span>: obj.admin.username</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># return JsonResponse(&#123;&quot;status&quot;: True, &quot;data&quot;: data_dict&#125;)</span></span><br><span class="line">    <span class="comment"># æ–¹å¼äºŒï¼šä½¿ç”¨value</span></span><br><span class="line">    <span class="comment"># obj = models.Orders.objects.filter(id=uid).values(&quot;title&quot;, &quot;price&quot;, &quot;status&quot;).first()</span></span><br><span class="line">    <span class="comment"># object_dict[&quot;status&quot;] = obj.get_status_display()</span></span><br><span class="line">    <span class="comment"># print(object_dict)</span></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">True</span>, <span class="string">&quot;data&quot;</span>: object_dict&#125;)</span><br></pre></td></tr></table></figure><p>æƒ³è¦å»æ•°æ®åº“ä¸­è·å–æ•°æ®æ—¶ï¼Œè¿™é‡Œéœ€è¦åŒºåˆ†ä¸‰ä¸ªä¸åŒçš„è¿”å›å€¼</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">row_object = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).first()</span><br><span class="line">row_object.oid</span><br><span class="line">row_object.price</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›å€¼æ˜¯ä¸€ä¸ªå­—å…¸  &#123;&quot;id&quot;:1,&quot;uid&quot;:454545,â€¦â€¦&#125;</span></span><br><span class="line">row_object = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).values(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;oid&quot;</span>,<span class="string">&quot;title&quot;</span>,<span class="string">&quot;price&quot;</span>).first()</span><br><span class="line">row_object[<span class="string">&quot;id&quot;</span>]</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [&#123;&quot;id&quot;:1,&quot;uid&quot;:454545,â€¦â€¦&#125;,&#123;&quot;id&quot;:2,&quot;uid&quot;:454545,â€¦â€¦&#125;]</span></span><br><span class="line">row_object = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).values(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;oid&quot;</span>,<span class="string">&quot;title&quot;</span>,<span class="string">&quot;price&quot;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›å€¼æ˜¯ä¸€ä¸ªå…ƒç»„[(1,&quot;xx&quot;),(2,&quot;xxxx&quot;)]</span></span><br><span class="line">row_object = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).value_list(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;oid&quot;</span>,<span class="string">&quot;title&quot;</span>,<span class="string">&quot;price&quot;</span>).first()</span><br><span class="line">row_object[<span class="number">0</span>]</span><br></pre></td></tr></table></figure><p>æœ€å¥½ç›´æ¥è·å–å­—å…¸</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">order_edit</span>(<span class="params">request</span>):</span><br><span class="line">    uid = request.GET.get(<span class="string">&quot;uid&quot;</span>)</span><br><span class="line"></span><br><span class="line">    data = models.Orders.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=uid).first()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;tips&quot;</span>: <span class="string">&quot;ç¼–è¾‘å¤±è´¥ï¼Œæ•°æ®ä¸å­˜åœ¨&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    form = OrderModelForm(data=request.POST, instance=data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">True</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> JsonResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="literal">False</span>, <span class="string">&quot;error&quot;</span>: form.errors&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸åŒçš„è¿”å›å€¼<code>tips</code>ä¸<code>error</code>æ¥åˆ†è¾¨æ˜¯å“ªç§é”™è¯¯</p><h2 id="å›¾è¡¨"><a href="#å›¾è¡¨" class="headerlink" title="å›¾è¡¨"></a>å›¾è¡¨</h2><ul><li>highchart å›½å¤–</li><li>echarts å›½å†…ç™¾åº¦å¼€æº</li></ul><ol><li>å¼•å…¥js</li><li>ä½¿ç”¨ajaxä¼ é€æ•°æ®</li></ol><h2 id="æ–‡ä»¶çš„ä¸Šä¼ "><a href="#æ–‡ä»¶çš„ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶çš„ä¸Šä¼ "></a>æ–‡ä»¶çš„ä¸Šä¼ </h2><h3 id="è·å–æ–‡ä»¶å¯¹è±¡"><a href="#è·å–æ–‡ä»¶å¯¹è±¡" class="headerlink" title="è·å–æ–‡ä»¶å¯¹è±¡"></a>è·å–æ–‡ä»¶å¯¹è±¡</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">        &#123;% csrf_token %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;ff&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºæ–‡ä»¶çš„ä¸Šä¼ ï¼Œä¸€å®šè¦åŠ ä¸Š<code>enctype=&quot;multipart/form-data&quot;</code>è¿™ä¸ªå±æ€§ï¼Œå¦‚æœä¸åŠ ï¼Œé‚£ä¹ˆåªèƒ½è·å¾—æ–‡ä»¶çš„åç§°ï¼Œè€Œä¸èƒ½è·å¾—ç›¸åº”çš„æ–‡ä»¶</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render, HttpResponse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">file_upload</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;upload.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(request.POST)</span><br><span class="line">    <span class="built_in">print</span>(request.FILES)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºçš„ç»“æœåˆ†åˆ«ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;QueryDict: &#123;&#x27;csrfmiddlewaretoken&#x27;: [&#x27;EJkSoxCazcl7eh3UVQSZMIKU5jcjJrXtcD9mTKJIuqPkpsRZNtr0zNMlo5AcKBcP&#x27;], &#x27;username&#x27;: [&#x27;BA&#x27;]&#125;&gt;</span><br><span class="line">&lt;MultiValueDict: &#123;&#x27;ff&#x27;: [&lt;InMemoryUploadedFile: b84fb4acde186f87aca35bb043b0ec9237507923.jpg (image/jpeg)&gt;]&#125;&gt;</span><br></pre></td></tr></table></figure><p>POSTè¯·æ±‚ä¸­å¹¶æ²¡æœ‰æ–‡ä»¶ï¼Œæ–‡ä»¶åœ¨<code>request.FILES</code>ä¸­</p><p>è·å¾—çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œæ–‡ä»¶å†…éƒ¨æœ‰è®¸å¤šçš„å±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">file_upload</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;upload.html&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(request.POST)</span></span><br><span class="line">    <span class="comment"># print(request.FILES)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">    file_obj = request.FILES.get(<span class="string">&quot;ff&quot;</span>)</span><br><span class="line">    <span class="comment"># è·å¾—æ–‡ä»¶å</span></span><br><span class="line">    <span class="built_in">print</span>(file_obj.name)</span><br><span class="line">    <span class="comment"># è·å–æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="built_in">print</span>(file_obj.size)</span><br><span class="line">    <span class="comment"># è·å–æ–‡ä»¶ç±»å‹</span></span><br><span class="line">    <span class="built_in">print</span>(file_obj.content_type)</span><br><span class="line">    <span class="comment"># è·å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_obj.name, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> chunk <span class="keyword">in</span> file_obj.chunks():</span><br><span class="line">            f.write(chunk)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>)</span><br></pre></td></tr></table></figure><p>æ‰“å°ç»“æœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># postè¯·æ±‚çš„æ•°æ®</span><br><span class="line">&lt;QueryDict: &#123;&#x27;csrfmiddlewaretoken&#x27;: [&#x27;34GFrzXsmFUL5b1vDccdGJZquoCrORzfBYv9WM40hToYgmPAvPLetO1RNa0kP1OB&#x27;], &#x27;username&#x27;: [&#x27;BA&#x27;]&#125;&gt;</span><br><span class="line"># æ–‡ä»¶å¯¹è±¡</span><br><span class="line">&lt;MultiValueDict: &#123;&#x27;ff&#x27;: [&lt;InMemoryUploadedFile: b84fb4acde186f87aca35bb043b0ec9237507923.jpg (image/jpeg)&gt;]&#125;&gt;</span><br><span class="line"># æ–‡ä»¶å</span><br><span class="line">b84fb4acde186f87aca35bb043b0ec9237507923.jpg</span><br><span class="line"># æ–‡ä»¶å¤§å°</span><br><span class="line">1079422</span><br><span class="line"># æ–‡ä»¶ç±»å‹</span><br><span class="line">image/jpeg</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶çš„æ ¡éªŒï¼šæ‰¹é‡ä¸Šä¼ æ•°æ®"><a href="#æ–‡ä»¶çš„æ ¡éªŒï¼šæ‰¹é‡ä¸Šä¼ æ•°æ®" class="headerlink" title="æ–‡ä»¶çš„æ ¡éªŒï¼šæ‰¹é‡ä¸Šä¼ æ•°æ®"></a>æ–‡ä»¶çš„æ ¡éªŒï¼šæ‰¹é‡ä¸Šä¼ æ•°æ®</h3><p>è¦è¿›è¡Œæ•°æ®çš„æ ¡éªŒï¼Œéœ€è¦ä½¿ç”¨Modelformå’Œformï¼Œæ¡ˆä¾‹æ˜¯ä½¿ç”¨excelæ‰¹é‡ä¸Šä¼ æ•°æ®</p><p>å…³äºexcelçš„å¤„ç†é—®é¢˜ï¼Œéœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openpyxl</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹æ³•</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> openpyxl <span class="keyword">import</span> load_workbook</span><br><span class="line"></span><br><span class="line">wb = load_workbook(<span class="string">&quot;æ–‡ä»¶è·¯åŠ²æˆ–è€…æ–‡ä»¶å¯¹è±¡&quot;</span>)</span><br><span class="line"></span><br><span class="line">sheet = wb.worksheet[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> sheet.iter_rows(min_row=<span class="number">2</span>):</span><br><span class="line">    text = row[<span class="number">0</span>].value</span><br><span class="line">    exists: = models.Department.objects.<span class="built_in">filter</span>(<span class="string">&quot;title=text&quot;</span>).exists()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> exists:</span><br><span class="line">        models.Department.objects.create(title=text)</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„å‰ç«¯é¡µé¢ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;exampleModal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">                                                                                                  <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">&quot;modal-title&quot;</span>&gt;</span>ä¸Šä¼ Excel<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">novalidate</span> <span class="attr">id</span>=<span class="string">&quot;formAdd&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">                    &#123;% csrf_token %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;ff&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-info&quot;</span> <span class="attr">id</span>=<span class="string">&quot;uploadExcelBtn&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span>&gt;</span>å– æ¶ˆ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block js %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    $(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">uploadBtnEvent</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">uploadExcel</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">uploadBtnEvent</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#uploadBtn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&#x27;show&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">uploadExcel</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        $(<span class="string">&quot;#uploadExcelBtn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// é˜»æ­¢è¡¨å•é»˜è®¤æäº¤</span></span></span><br><span class="line"><span class="language-javascript">            event.<span class="title function_">preventDefault</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è·å–è¡¨å•æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>($(<span class="string">&quot;#formAdd&quot;</span>)[<span class="number">0</span>]);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            $.<span class="title function_">ajax</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&#x27;/depart/upload&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: formData,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">processData</span>: <span class="literal">false</span>, <span class="comment">// å‘Šè¯‰jQueryä¸è¦å¤„ç†å‘é€çš„æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">contentType</span>: <span class="literal">false</span>, <span class="comment">// å‘Šè¯‰jQueryä¸è¦è®¾ç½®Content-Typeè¯·æ±‚å¤´</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (res.<span class="property">status</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                        $(<span class="string">&quot;#exampleModal&quot;</span>).<span class="title function_">modal</span>(<span class="string">&#x27;hide&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&#x27;ä¸Šä¼ æˆåŠŸ&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">                        location.<span class="title function_">reload</span>();</span></span><br><span class="line"><span class="language-javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">msg</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹ï¼šæ··åˆæ•°æ®ï¼ˆformï¼‰"><a href="#æ¡ˆä¾‹ï¼šæ··åˆæ•°æ®ï¼ˆformï¼‰" class="headerlink" title="æ¡ˆä¾‹ï¼šæ··åˆæ•°æ®ï¼ˆformï¼‰"></a>æ¡ˆä¾‹ï¼šæ··åˆæ•°æ®ï¼ˆformï¼‰</h3><p>æäº¤é¡µé¢æ—¶ï¼Œç”¨æˆ·è¾“å…¥æ•°æ®+æ–‡ä»¶ï¼ˆè¾“å…¥ä¸èƒ½ä¸ºç©ºï¼ŒæŠ¥é”™ï¼‰</p><p>è¡¨å•è®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">uploadForm</span>(<span class="title class_ inherited__">BootStrapForm</span>):</span><br><span class="line">    name = forms.CharField(max_length=<span class="number">64</span>, label=<span class="string">&quot;ç”¨æˆ·å&quot;</span>)</span><br><span class="line">    age = forms.IntegerField(label=<span class="string">&quot;å¹´é¾„&quot;</span>)</span><br><span class="line">    img = forms.FileField(label=<span class="string">&quot;å¤´åƒ&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™è¾¹ä¸ºäº†å–æ¶ˆæ–‡ä»¶ä¸Šä¼ çš„æ ·å¼ä¿®æ”¹äº†</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BootStrap</span>:</span><br><span class="line">    bootstrap_exclude_fields = [<span class="string">&quot;img&quot;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(*args, **kwargs)</span><br><span class="line">        <span class="comment"># å¾ªç¯Modelformä¸­çš„æ‰€æœ‰å­—æ®µï¼Œåœ¨æ¯ä¸ªå­—æ®µè®¾ç½®æ’ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> name, item <span class="keyword">in</span> self.fields.items():</span><br><span class="line">            <span class="keyword">if</span> name <span class="keyword">in</span> self.bootstrap_exclude_fields:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            item.widget.attrs = &#123;</span><br><span class="line">                <span class="string">&quot;class&quot;</span>: <span class="string">&quot;form-control&quot;</span>,</span><br><span class="line">                <span class="string">&quot;placeholder&quot;</span>: <span class="string">&quot;è¯·è¾“å…¥%s&quot;</span> % (item.label,)</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>æ•°æ®åº“è®¾è®¡å¦‚ä¸‹ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Boss</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;è€æ¿è¡¨(å¤„ç†æ··åˆæ•°æ®)&quot;&quot;&quot;</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;å§“å&quot;</span>)</span><br><span class="line">    age = models.IntegerField(verbose_name=<span class="string">&quot;å¹´é¾„&quot;</span>)</span><br><span class="line">    <span class="comment"># å¦‚ä½•å°†æ–‡ä»¶å†…å®¹å­˜åˆ°æ•°æ®åº“ï¼Ÿ</span></span><br><span class="line">    <span class="comment"># å°†æ–‡ä»¶å­˜åˆ°æŒ‡å®šè·¯å¾„ï¼Œç„¶åå°†è·¯å¾„å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">    img = models.CharField(verbose_name=<span class="string">&quot;å¤´åƒ&quot;</span>, max_length=<span class="number">128</span>)</span><br></pre></td></tr></table></figure><p>è¿™è¾¹è¦æ³¨æ„çš„å°±æ˜¯ä¸ºä»€ä¹ˆå›¾åƒæ—¶charfieldç±»å‹ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€èˆ¬ä¸ç›´æ¥å­˜å›¾åƒæ•°æ®ï¼Œä¸€èˆ¬æ˜¯æ”¹ä¸ºå­˜å›¾åƒçš„è·¯å¾„ã€‚</p><p>å¯¹äºæ–‡ä»¶è·¯å¾„ï¼Œæ¨èé‡‡ç”¨osæ¥æ‹¼æ¥ï¼Œè¿™æ ·èƒ½é€‚åº”å¤šæ ·çš„ç³»ç»Ÿç¯å¢ƒ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">upload_form</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = uploadForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;upload_form.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;ä¸Šä¼ æ–‡ä»¶&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç›¸æ¯”ä¹‹å‰ï¼Œå¦‚æœæœ‰æ–‡ä»¶ä¸Šä¼ ï¼Œéœ€è¦ä¼ å…¥request.FILES</span></span><br><span class="line">    form = uploadForm(data=request.POST, files=request.FILES)</span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="comment"># print(form.cleaned_data)</span></span><br><span class="line">        <span class="comment"># print(form.cleaned_data)</span></span><br><span class="line">        db_file_path = os.path.join(<span class="string">&quot;static/img&quot;</span>, form.cleaned_data.get(<span class="string">&quot;img&quot;</span>).name)</span><br><span class="line">        file_path = os.path.join(<span class="string">&quot;management_sys&quot;</span>, db_file_path)</span><br><span class="line">        img_data = form.cleaned_data.get(<span class="string">&quot;img&quot;</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">for</span> chunk <span class="keyword">in</span> img_data.chunks():</span><br><span class="line">                f.write(chunk)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†æ–‡ä»¶è·¯å¾„å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: form.cleaned_data.get(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">            <span class="string">&quot;age&quot;</span>: form.cleaned_data.get(<span class="string">&quot;age&quot;</span>),</span><br><span class="line">            <span class="string">&quot;img&quot;</span>: db_file_path</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"># è¿™æ ·çš„æ–‡ä»¶è·¯å¾„å­˜å‚¨æ–¹å¼ä¸å¥½ï¼Œç”¨æˆ·æ˜¯çœ‹ä¸çš„</span></span><br><span class="line">        <span class="comment"># å› ä¸ºDjangoæ˜¯åªèƒ½å±•ç¤ºstaticæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">        models.Boss.objects.create(**data)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>)</span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºé”™ä½ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;upload_form.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: <span class="string">&quot;ä¸Šä¼ æ–‡ä»¶&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äºè·¯å¾„å­˜æ”¾é—®é¢˜ï¼Œç›®å‰æ¥è¯´ï¼ŒDjangoåªèƒ½è¯»å–staticä¸­çš„æ–‡ä»¶å¯¹è±¡ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥è¯»å–å…¶ä»–çš„è·¯å¾„çš„æ–‡ä»¶ï¼Œè¿™åœ¨åç»­ä¼šè¯´</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file_path = os.path.join(&quot;management_sys&quot;, db_file_path)</span><br><span class="line">img_data = form.cleaned_data.get(&quot;img&quot;)</span><br></pre></td></tr></table></figure><h3 id="å¯ç”¨mediaç›®å½•"><a href="#å¯ç”¨mediaç›®å½•" class="headerlink" title="å¯ç”¨mediaç›®å½•"></a>å¯ç”¨mediaç›®å½•</h3><p>åœ¨Djangoçš„å¼€å‘è¿‡ç¨‹ä¸­ä¸¤ä¸ªç‰¹æ®Šæ–‡ä»¶å¤¹ï¼š</p><ul><li>staticï¼Œå­˜æ”¾é™æ€æ–‡ä»¶çš„è·¯å¾„ï¼ŒåŒ…æ‹¬ï¼šcssï¼Œjsï¼Œé¡¹ç›®å›¾ç‰‡ã€‚</li><li>mediaï¼Œç”¨æˆ·ä¸Šä¼ çš„æ•°æ®çš„ç›®å½•ï¼ˆéœ€è¦å¯ç”¨ï¼‰ã€‚</li></ul><p>åœ¨url.pyä¸­è¿›è¡Œé…ç½®</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, re_path</span><br><span class="line"><span class="keyword">from</span> django.views.static <span class="keyword">import</span> serve</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    re_path(<span class="string">r&quot;^media/(?P&lt;path&gt;.*)$&quot;</span>, serve, &#123;<span class="string">&quot;document_root&quot;</span>: settings.MEDIA_ROOT&#125;, name=<span class="string">&quot;media&quot;</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åœ¨settings.pyä¸­è¿›è¡Œé…ç½®</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">&quot;media&quot;</span>)</span><br><span class="line">MEDIA_URL = <span class="string">&quot;/media/&quot;</span></span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/48.png" alt="image-20240225115701386"  /><p>ä¹‹åå°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®è¿™ä¸ªæ–‡ä»¶</p><img src="https://www.z4a.net/images/2024/08/11/49.png" alt="image-20240225115736540" style="zoom:67%;" /><p><strong>è¿™æ ·å°±å°†ä¸Šä¼ ä¸é™æ€æ–‡ä»¶åˆ†å¼€äº†</strong></p><p>ä¿®æ”¹ä¹‹å‰çš„ä¿å­˜æ–‡ä»¶è·¯å¾„</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™ç§æ–¹æ³•å¾—åˆ°çš„æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment"># media_file_path = os.path.join(settings.MEDIA_ROOT, form.cleaned_data.get(&quot;img&quot;).name)</span></span><br><span class="line"><span class="comment"># è¿™ç§æ–¹æ³•å¾—åˆ°çš„æ˜¯ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">media_file_path = os.path.join(<span class="string">&quot;media&quot;</span>, form.cleaned_data.get(<span class="string">&quot;img&quot;</span>).name)</span><br><span class="line"></span><br><span class="line">img_data = form.cleaned_data.get(<span class="string">&quot;img&quot;</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(media_file_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> chunk <span class="keyword">in</span> img_data.chunks():</span><br><span class="line">        f.write(chunk)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/50.png" alt="image-20240225120713592" style="zoom:67%;" /><h3 id="Modelformæ¡ˆä¾‹"><a href="#Modelformæ¡ˆä¾‹" class="headerlink" title="Modelformæ¡ˆä¾‹"></a>Modelformæ¡ˆä¾‹</h3><p><strong>å‰ææ˜¯é…ç½®å¥½mediaç›®å½•</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">City</span>(models.Model):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åŸå¸‚&quot;&quot;&quot;</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">32</span>, verbose_name=<span class="string">&quot;åç§°&quot;</span>)</span><br><span class="line">    people = models.IntegerField(verbose_name=<span class="string">&quot;äººå£&quot;</span>)</span><br><span class="line">    <span class="comment"># FileFieldæœ¬è´¨ä¸Šä¹Ÿæ˜¯CharFieldï¼Œä½†æ˜¯å®ƒä¼šè‡ªåŠ¨å¸®ä½ ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ä¸”ä¿å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">    img = models.FileField(max_length=<span class="number">128</span>, verbose_name=<span class="string">&quot;Logo&quot;</span>, upload_to=<span class="string">&quot;city/&quot;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨è§†å›¾å‡½æ•°ä¸­</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">upload_modelform</span>(<span class="params">request</span>):</span><br><span class="line">    title = <span class="string">&quot;modelformä¸Šä¼ æ–‡ä»¶&quot;</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&quot;GET&quot;</span>:</span><br><span class="line">        form = UploadModelForm()</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">&quot;upload_form.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: title&#125;)</span><br><span class="line"></span><br><span class="line">    form = UploadModelForm(data=request.POST, files=request.FILES)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> form.is_valid():</span><br><span class="line">        <span class="comment"># ä¸éœ€è¦å†æ‰‹åŠ¨å†™æ–‡ä»¶ä¸Šä¼ çš„ä»£ç </span></span><br><span class="line">        <span class="comment"># form.save()ä¼šè‡ªåŠ¨å¸®ä½ ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶ä¸”å°†æ–‡ä»¶è·¯å¾„å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">        form.save()</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(<span class="string">&quot;ä¸Šä¼ æˆåŠŸ&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">&quot;upload_form.html&quot;</span>, &#123;<span class="string">&quot;form&quot;</span>: form, <span class="string">&quot;title&quot;</span>: title&#125;)</span><br></pre></td></tr></table></figure><img src="https://www.z4a.net/images/2024/08/11/51.png" alt="image-20240225130914781" style="zoom:50%;" /><h3 id="ä¸Šä¼ æ–‡ä»¶å°ç»“"><a href="#ä¸Šä¼ æ–‡ä»¶å°ç»“" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶å°ç»“"></a>ä¸Šä¼ æ–‡ä»¶å°ç»“</h3><ul><li><p>è‡ªå·±åŠ¨æ‰‹å»å†™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">form = request.FILES.get(<span class="string">&quot;ff&quot;</span>)</span><br><span class="line">â€¦â€¦</span><br></pre></td></tr></table></figure></li><li><p>formç»„ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">form = uploadForm(data=request.POST, files=request.FILES)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶è·¯å¾„å­˜åˆ°æ•°æ®åº“</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: form.cleaned_data.get(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">    <span class="string">&quot;age&quot;</span>: form.cleaned_data.get(<span class="string">&quot;age&quot;</span>),</span><br><span class="line">    <span class="string">&quot;img&quot;</span>: db_file_path</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># è¿™æ ·çš„æ–‡ä»¶è·¯å¾„å­˜å‚¨æ–¹å¼ä¸å¥½ï¼Œç”¨æˆ·æ˜¯çœ‹ä¸çš„</span></span><br><span class="line"><span class="comment"># å› ä¸ºDjangoæ˜¯åªèƒ½å±•ç¤ºstaticæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">models.Boss.objects.create(**data)</span><br><span class="line"></span><br><span class="line">å…·ä½“çš„æ–‡ä»¶æ“ä½œè¿˜æ˜¯å¾—è‡ªå·±å†™ï¼ˆæ¯”å¦‚æ–‡ä»¶çš„ä¿å­˜ï¼‰</span><br></pre></td></tr></table></figure></li><li><p>modelformç»„ä»¶ï¼ˆè¡¨å•éªŒè¯+è‡ªåŠ¨ä¿å­˜æ•°æ®åº“+è‡ªåŠ¨ä¿å­˜æ–‡ä»¶ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- mediaæ–‡ä»¶å¤¹</span><br><span class="line">- model.pyçš„ç±»å‹å®šè¦</span><br><span class="line">img = models.FileField(max_length=<span class="number">128</span>, verbose_name=<span class="string">&quot;Logo&quot;</span>, upload_to=<span class="string">&quot;city/&quot;</span>)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> åç«¯ </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Koa-å¿«é€Ÿå…¥é—¨</title>
      <link href="/post/koa-kuai-su-ru-men/"/>
      <url>/post/koa-kuai-su-ru-men/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Koa æ˜¯ä¸€ä¸ªç”± Express çš„åŸå§‹å¼€å‘è€…åˆ›å»ºçš„ Node.js åç«¯æ¡†æ¶ï¼Œæ—¨åœ¨æä¾›æ›´å°ã€æ›´çµæ´»çš„åŸºç¡€åç«¯æ¡†æ¶ã€‚</p><blockquote><p><a href="https://www.npmjs.com/package/koa">koa - npm (npmjs.com)</a></p></blockquote><h2 id="å®‰è£…å‡†å¤‡"><a href="#å®‰è£…å‡†å¤‡" class="headerlink" title="å®‰è£…å‡†å¤‡"></a>å®‰è£…å‡†å¤‡</h2><p>å®‰è£…nodemon</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i nodemon -g</span><br></pre></td></tr></table></figure><p>å®‰è£…koa</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i koa</span><br></pre></td></tr></table></figure><p>åœ¨package.jsonæ–‡ä»¶ä¸­ä½¿ç”¨es6è§„èŒƒä¸”å°†è°ƒè¯•æ”¹ä¸ºä½¿ç”¨nodemon</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nodemon index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;koa&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.15.3&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºè·¯ç”±"><a href="#åˆ›å»ºè·¯ç”±" class="headerlink" title="åˆ›å»ºè·¯ç”±"></a>åˆ›å»ºè·¯ç”±</h2><p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªkoa app å®ä¾‹ï¼Œä½¿ç”¨ctxä¸Šä¸‹æ–‡å¯¹è±¡æ¥è·å–requestï¼Œä½¿ç”¨ctx.bodyæ¥è¿”å›å…·ä½“ç›¸åº”çš„å†…å®¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="string">&quot;8008&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx)=&gt;&#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;hello world&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port,hostname,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>koa appå®ä¾‹è¿˜å¯ä»¥å¯¹å…¶ä»–éæ³•è·¯ç”±è¿›è¡Œæ•è·å¤„ç†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (!ctx.<span class="property">body</span>) &#123;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">404</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = <span class="string">&quot;404 Not Found&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ctxä¸­å…·æœ‰requestå’Œresponseä¸¤ä¸ªå¯¹è±¡çš„æ€§è´¨ï¼Œå’Œnodejsä¸­çš„ä½¿ç”¨æ–¹æ³•ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨<code>ctx.request</code>å’Œ<code>ctx.response</code>è·å–ç‰¹å®šçš„å¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°è¯•è®¿é—® http://127.0.0.1:8008/index?id=1&amp;name=koaï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºid: 1, name: koaã€‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/index&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (ctx.<span class="property">request</span>.<span class="property">method</span> == <span class="string">&quot;GET&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> id = ctx.<span class="property">query</span>.<span class="property">id</span>;</span><br><span class="line">        <span class="keyword">let</span> name = ctx.<span class="property">query</span>.<span class="property">name</span>;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">        ctx.<span class="property">method</span> = <span class="string">&quot;GET&quot;</span>;</span><br><span class="line">        ctx.<span class="property">type</span> = <span class="string">&quot;Application/json&quot;</span>;</span><br><span class="line">        ctx.<span class="property">path</span> = <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">id</span>: id,</span><br><span class="line">            <span class="attr">name</span>: name,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åœ¨ç½‘é¡µä¸­ä¾¿å¯ä»¥çœ‹åˆ°æ˜¾ç¤ºæ ¼å¼ä¸ºJson(JavaScript Object Notation)</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;koa&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="æ´‹è‘±æ¨¡å‹"><a href="#æ´‹è‘±æ¨¡å‹" class="headerlink" title="æ´‹è‘±æ¨¡å‹"></a>æ´‹è‘±æ¨¡å‹</h2><p><code>app.use()</code>æ–¹æ³•ç”¨äºæ³¨å†Œä¸­é—´ä»¶ï¼Œä¸€ä¸ª<code>use()</code> å°±æ˜¯ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>next()</code>è¿›è¡Œä¸­é—´ä»¶çš„é˜»æ–­ã€‚</p><p>å½“ç¨‹åºé‡åˆ°<code>next()</code>çš„æ—¶å€™ï¼Œä¼šæš‚åœå½“å‰ä¸­é—´ä»¶çš„æ‰§è¡Œ,å°†æ§åˆ¶æƒä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚æ§åˆ¶æƒçš„æ¥å›åˆ‡æ¢ç¬¦åˆæ´‹è‘±æ¨¡å‹ï¼Œçœ‹å¦‚ä¸‹çš„ä¾‹å­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ipåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢æ˜¯æ´‹è‘±æ¨¡å‹çš„ä¸€ä¸ªå®ç°ä¾‹å­</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;4&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ‰“å°å¾—åˆ°çš„ç»“æœä¸ºï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœå‡ºç°ä¸¤æ¬¡æ‰“å°ç»“æœï¼Œè¿™æ˜¯å› ä¸ºæµè§ˆå™¨é»˜è®¤ä¼šç”³è¯·è®¿é—®ç½‘ç«™çš„icoï¼ˆå›¾æ ‡ï¼‰ï¼Œå¯ä»¥åœ¨è°ƒè¯•å·¥å…·ä¸­ç¦ç”¨</p></blockquote><h2 id="å®‰è£…ä¸é…ç½®è·¯ç”±"><a href="#å®‰è£…ä¸é…ç½®è·¯ç”±" class="headerlink" title="å®‰è£…ä¸é…ç½®è·¯ç”±"></a>å®‰è£…ä¸é…ç½®è·¯ç”±</h2><p>å®‰è£…@koa&#x2F;router</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @koa/router</span><br></pre></td></tr></table></figure><blockquote><p>koa-router å…¼å®¹ koa1 å’Œ koa2 çš„å†å²ç‰ˆæœ¬<br>@koa&#x2F;router ä¸“ä¸º koa2 è®¾è®¡çš„æ–°ç‰ˆæœ¬</p></blockquote><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nodemon index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@koa/router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^12.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;koa&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.15.3&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºRouterå®ä¾‹å¹¶å°†å…¶è¿ç”¨åˆ°Koa appå®ä¾‹ä¸­ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè®¿é—®é»˜è®¤çš„ç½‘å€ä¼šæ˜¾ç¤ºHello world</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ipåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¯¹äºå¸¦æœ‰å‚æ•°çš„è®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨queryå’Œparamså¯¹è±¡è¿›è¡Œè·å–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°è¯•è®¿é—® http://127.0.0.1:8008/index?id=1&amp;name=koaï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºid: 1, name: koaã€‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/index&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">query</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">query</span>.<span class="property">name</span>;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id: <span class="subst">$&#123;id&#125;</span>, name: <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°è¯•è®¿é—® http://127.0.0.1:8008/user/id/1/name/koaï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºid: 1, name: koaã€‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/user/id/:id/name/:name&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">params</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">params</span>.<span class="property">name</span>;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id: <span class="subst">$&#123;id&#125;</span>, name: <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br></pre></td></tr></table></figure><p>åœ¨åˆ›å»ºè·¯ç”±çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨prefixå‚æ•°è¿›è¡Œè·¯ç”±çš„åˆ†ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router2 = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123;<span class="attr">prefix</span>: <span class="string">&quot;/api&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/api/getï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºgetã€‚</span></span><br><span class="line">router2.<span class="title function_">get</span>(<span class="string">&quot;/get&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;get&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/api/postï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºpostã€‚</span></span><br><span class="line">router2.<span class="title function_">get</span>(<span class="string">&quot;/post&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;post&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router2.<span class="title function_">routers</span>())</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥ä½¿ç”¨Routerå¯¹è±¡çš„redirectæ–¹æ³•è¿›è¡Œç½‘é¡µé‡å®šå‘</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/redirectï¼Œé¡µé¢ä¼šè‡ªåŠ¨è·³è½¬åˆ°bç«™é¦–é¡µã€‚</span></span><br><span class="line">router.<span class="title function_">redirect</span>(<span class="string">&quot;/redirect&quot;</span>, <span class="string">&quot;https://www.bilibili.com/&quot;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routers</span>())</span><br></pre></td></tr></table></figure><h2 id="postè¯·æ±‚"><a href="#postè¯·æ±‚" class="headerlink" title="postè¯·æ±‚"></a>postè¯·æ±‚</h2><p>å®‰è£…@koa&#x2F;post</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @koa/bodyparser</span><br></pre></td></tr></table></figure><p>package.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kora&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nodemon index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@koa/bodyparser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.1.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@koa/router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^12.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;koa&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.15.3&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è®©ä¸­é—´ä»¶ä½¿ç”¨bodyparserï¼Œè¦è·å–è¯·æ±‚ä½“ä¸­çš„å‚æ•°ï¼Œä½¿ç”¨<code>ctx.request.body.å±æ€§å</code>æ¥è·å–å‚æ•°æ•°æ®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> koaBody <span class="keyword">from</span> <span class="string">&quot;@koa/bodyparser&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">koaBody</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—® http://127.0.0.1:8008/postUrl</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/postUrl&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">name</span>;</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id: <span class="subst">$&#123;id&#125;</span>, name: <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—® http://127.0.0.1:8008/postJson</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/postJSon&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">name</span>;</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id:<span class="subst">$&#123;id&#125;</span>, name:<span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 404å¤„ç†</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (!ctx.<span class="property">body</span>) &#123;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">404</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = <span class="string">&quot;404 Not Found&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨apiPostå·¥å…·è¿›è¡Œæ¨¡æ‹Ÿè¯·æ±‚</p><img src="https://www.z4a.net/images/2024/08/08/imagebffa51d6a775735e.png" alt="alt text" style="zoom:67%;" /><img src="https://www.z4a.net/images/2024/08/08/image-1.png" alt="alt text" style="zoom:67%;" /><p>å®Œæ•´ä»£ç å¤‡ä»½å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> koaBody <span class="keyword">from</span> <span class="string">&quot;@koa/bodyparser&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ipåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">koaBody</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—® http://127.0.0.1:8008/postUrl</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/postUrl&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">name</span>;</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id: <span class="subst">$&#123;id&#125;</span>, name: <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°è¯•è®¿é—® http://127.0.0.1:8008/postJson</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/postJSon&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">request</span>.<span class="property">body</span>.<span class="property">name</span>;</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id:<span class="subst">$&#123;id&#125;</span>, name:<span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°è¯•è®¿é—® http://127.0.0.1:8008/index?id=1&amp;name=koaï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºid: 1, name: koaã€‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/index&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (ctx.<span class="property">request</span>.<span class="property">method</span> == <span class="string">&quot;GET&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> id = ctx.<span class="property">query</span>.<span class="property">id</span>;</span><br><span class="line">        <span class="keyword">let</span> name = ctx.<span class="property">query</span>.<span class="property">name</span>;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">        ctx.<span class="property">method</span> = <span class="string">&quot;GET&quot;</span>;</span><br><span class="line">        ctx.<span class="property">type</span> = <span class="string">&quot;Application/json&quot;</span>;</span><br><span class="line">        ctx.<span class="property">path</span> = <span class="string">&quot;/index&quot;</span>;</span><br><span class="line">        <span class="comment">// ctx.body = `id: $&#123;id&#125;, name: $&#123;name&#125;`;</span></span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">id</span>: id,</span><br><span class="line">            <span class="attr">name</span>: name,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°è¯•è®¿é—® http://127.0.0.1:8008/user/id/1/name/koaï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºid: 1, name: koaã€‚</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/user/id/:id/name/:name&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = ctx.<span class="property">params</span>.<span class="property">id</span>;</span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">params</span>.<span class="property">name</span>;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">`id: <span class="subst">$&#123;id&#125;</span>, name: <span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router2 = <span class="keyword">new</span> <span class="title class_">Router</span>(&#123; <span class="attr">prefix</span>: <span class="string">&quot;/api&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/api/getï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºgetã€‚</span></span><br><span class="line">router2.<span class="title function_">get</span>(<span class="string">&quot;/get&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;get&quot;</span>;</span><br><span class="line">    ctx.<span class="property">response</span>.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/api/postï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºpostã€‚</span></span><br><span class="line">router2.<span class="title function_">get</span>(<span class="string">&quot;/post&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;post&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—® http://127.0.0.1:8008/redirectï¼Œé¡µé¢ä¼šè‡ªåŠ¨è·³è½¬åˆ°bç«™é¦–é¡µã€‚</span></span><br><span class="line">router.<span class="title function_">redirect</span>(<span class="string">&quot;/redirect&quot;</span>, <span class="string">&quot;https://www.bilibili.com/&quot;</span>);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line">app.<span class="title function_">use</span>(router2.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (!ctx.<span class="property">body</span>) &#123;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">404</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = <span class="string">&quot;404 Not Found&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="é”™è¯¯æ•è·"><a href="#é”™è¯¯æ•è·" class="headerlink" title="é”™è¯¯æ•è·"></a>é”™è¯¯æ•è·</h2><p>ä½¿ç”¨<code>try catch</code>è¯­å¥è¿›è¡Œé”™è¯¯çš„æ•è·</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ipåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œç½‘é¡µç½‘ç»œä¼šç›´æ¥æ˜¾ç¤º500é”™è¯¯</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚å…ˆé€šè¿‡ä¸­é—´ä»¶ï¼Œå¦‚æœä¸­é—´ä»¶æ²¡æœ‰æ•è·åˆ°é”™è¯¯ï¼Œå°±ä¼šè¿›å…¥åˆ°è·¯ç”±å¤„ç†å‡½æ•°ï¼Œ</span></span><br><span class="line"><span class="comment">// å¦‚æœè·¯ç”±å¤„ç†å‡½æ•°æŠ›å‡ºäº†é”™è¯¯ï¼Œå°±ä¼šè¢«ä¸­é—´ä»¶æ•è·åˆ°ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">500</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = <span class="string">&quot;ç½‘ç»œé”™è¯¯&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›å…¥è·¯ç”±å¤„ç†å‡½æ•°</span></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="å…è®¸è·¨åŸŸè¯·æ±‚"><a href="#å…è®¸è·¨åŸŸè¯·æ±‚" class="headerlink" title="å…è®¸è·¨åŸŸè¯·æ±‚"></a>å…è®¸è·¨åŸŸè¯·æ±‚</h2><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @koa/cors</span><br></pre></td></tr></table></figure><p>package.json</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;kora&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;type&quot;</span>: <span class="string">&quot;module&quot;</span>,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;nodemon index.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;@koa/bodyparser&quot;</span>: <span class="string">&quot;^5.1.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;@koa/cors&quot;</span>: <span class="string">&quot;^5.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;@koa/router&quot;</span>: <span class="string">&quot;^12.0.1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;koa&quot;</span>: <span class="string">&quot;^2.15.3&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°è·¨åŸŸè¯·æ±‚ä¼šå‡ºç°æŠ¥é”™ï¼š</p><blockquote><p>Access to fetch at â€˜<a href="http://127.0.0.1:8008/">http://127.0.0.1:8008/</a>â€˜ from origin â€˜nullâ€™ has been blocked by CORS policy:<br>No â€˜Access-Control-Allow-Originâ€™ header is present on the requested resource.<br>If an opaque response serves your needs,<br>set the requestâ€™s mode to â€˜no-corsâ€™ to fetch the resource with CORS disabled.</p></blockquote><p>ä»€ä¹ˆæƒ…å†µä¸‹ç®—è·¨åŸŸè¯·æ±‚å‘¢ï¼Ÿ</p><blockquote><p>åœ¨webå¼€å‘ä¸­,â€åŸŸâ€ ä¸»è¦æŒ‡çš„æ˜¯ç½‘ç»œè¯·æ±‚çš„æ¥æº(origin),ç”±åè®®(å¦‚:httpæˆ–https)ã€åŸŸåå’Œç«¯å£ä¸‰éƒ¨åˆ†ç»„æˆï¼Œä»»ä½•ä¸€éƒ¨åˆ†çš„ä¸åŒéƒ½ç®—è·¨åŸŸ</p></blockquote><p>æƒ³è¦å…è®¸è·¨åŸŸè¯·æ±‚ï¼Œè®©appå¯¹è±¡ä½¿ç”¨<code>Cors</code>å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cors</span> <span class="keyword">from</span> <span class="string">&quot;@koa/cors&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ipåœ°å€</span></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>; <span class="comment">//æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>());</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›å…¥è·¯ç”±å¤„ç†å‡½æ•°</span></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server running at http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>/`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="ä¸Šä¼ æ–‡ä»¶"><a href="#ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶"></a>ä¸Šä¼ æ–‡ä»¶</h2><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @koa/multer</span><br></pre></td></tr></table></figure><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªç£ç›˜å­˜å‚¨å¼•æ“ï¼Œå¹¶è§„å®šä¸Šä¼ çš„è·¯å¾„ï¼ˆæœåŠ¡ç«¯çš„æ–‡ä»¶å¤¹ï¼‰å’Œæ–‡ä»¶åè§„åˆ™</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Multer</span> <span class="keyword">from</span> <span class="string">&quot;@koa/multer&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç£ç›˜å­˜å‚¨å¼•æ“</span></span><br><span class="line"><span class="keyword">const</span> storage = <span class="title class_">Multer</span>.<span class="title function_">diskStorage</span>(&#123;</span><br><span class="line">    <span class="attr">destination</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ–‡ä»¶ä¿å­˜è·¯å¾„ä¸ºuploadæ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="string">&quot;./upload&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filename</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®æ–‡ä»¶å ä¸ºä¸Šä¼ æ—¶é—´+æ–‡ä»¶åŸå§‹åç¼€å</span></span><br><span class="line">        <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="title class_">Date</span>.<span class="title function_">now</span>() + path.<span class="title function_">extname</span>(file.<span class="property">originalname</span>));</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æ¥ç€å®šä¸€ä¸ªmulterå¯¹è±¡ï¼Œå¯ä»¥é™å®šæ–‡ä»¶çš„ä¸Šä¼ ç±»å‹å’Œæ–‡ä»¶å¤§å°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ª Multer å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> multer = <span class="title class_">Multer</span>(&#123;</span><br><span class="line">    storage, <span class="comment">//ç£ç›˜å­˜å‚¨å¼•æ“</span></span><br><span class="line">    <span class="attr">limits</span>: &#123;</span><br><span class="line">        <span class="comment">//é™åˆ¶æ¡ä»¶</span></span><br><span class="line">        <span class="attr">fileSize</span>: <span class="number">2</span> * <span class="number">1024</span> * <span class="number">1024</span>, <span class="comment">// é™åˆ¶æ–‡ä»¶å¤§å°ä¸º2MB</span></span><br><span class="line">        <span class="comment">// é™åˆ¶æ–‡ä»¶æ•°é‡</span></span><br><span class="line">        <span class="comment">// files: 1,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fileFilter</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//æ–‡ä»¶è¿‡æ»¤å™¨</span></span><br><span class="line">        <span class="keyword">let</span> allowedTypes = [<span class="string">&quot;image/jpeg&quot;</span>, <span class="string">&quot;image/jpg&quot;</span>, <span class="string">&quot;image/png&quot;</span>];</span><br><span class="line">        <span class="keyword">if</span> (allowedTypes.<span class="title function_">includes</span>(file.<span class="property">mimetype</span>)) &#123;</span><br><span class="line">            <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="literal">true</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">callbackFunc</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹&quot;</span>), <span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åˆ›å»ºåï¼Œåœ¨å¯¹åº”è·¯ç”±ä¸­ä½¿ç”¨multerå¯¹è±¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cors</span> <span class="keyword">from</span> <span class="string">&quot;@koa/cors&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title class_">Koa</span>();</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®ç½‘å€ä¸ºï¼šhttp://127.0.0.1:3000/upload</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/upload&quot;</span>, multer.<span class="title function_">single</span>(<span class="string">&quot;file&quot;</span>), <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> file = ctx.<span class="property">request</span>.<span class="property">file</span>;</span><br><span class="line">    <span class="keyword">if</span> (file) &#123;</span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">status</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: file,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">status</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routers</span>())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server is running on http://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>é€‰æ‹©txtè¿›è¡Œä¸Šä¼ ï¼Œæ‰“å°ä¸æ”¯æŒæ–‡ä»¶ç±»å‹</p><img src="https://www.z4a.net/images/2024/08/08/image-2.png" alt="alt text" style="zoom:67%;" /><p>é€‰æ‹©å¤§äº2MBæ–‡ä»¶è¿›è¡Œä¸Šä¼ ï¼Œè¿”å›æ–‡ä»¶è¿‡å¤§ï¼ˆfile too largeï¼‰</p><img src="https://www.z4a.net/images/2024/08/08/image-3.png" alt="alt text" style="zoom:67%;" /><p>ä»¥ä¸‹ä¸ºæˆåŠŸçš„ä¾‹å­</p><img src="https://www.z4a.net/images/2024/08/08/image-4.png" alt="alt text" style="zoom:67%;" /><p>ä¸Šä¼ çš„æ–‡ä»¶éƒ½ä¼šæ”¶é›†åˆ°æœåŠ¡ç«¯çš„<code>upload</code>æ–‡ä»¶å¤¹ä¸­</p><p>å®Œæ•´ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cors</span> <span class="keyword">from</span> <span class="string">&quot;@koa/cors&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">BodyParser</span> <span class="keyword">from</span> <span class="string">&quot;@koa/bodyparser&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Multer</span> <span class="keyword">from</span> <span class="string">&quot;@koa/multer&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> host = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">3000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…è®¸è·¨åŸŸ</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Cors</span>());</span><br><span class="line"><span class="comment">// è§£æè¯·æ±‚ä½“</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">BodyParser</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç£ç›˜å­˜å‚¨å¼•æ“</span></span><br><span class="line"><span class="keyword">const</span> storage = <span class="title class_">Multer</span>.<span class="title function_">diskStorage</span>(&#123;</span><br><span class="line">    <span class="attr">destination</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ–‡ä»¶ä¿å­˜è·¯å¾„ä¸ºuploadæ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="string">&quot;./upload&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filename</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®æ–‡ä»¶å ä¸ºä¸Šä¼ æ—¶é—´+æ–‡ä»¶åŸå§‹åç¼€å</span></span><br><span class="line">        <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="title class_">Date</span>.<span class="title function_">now</span>() + path.<span class="title function_">extname</span>(file.<span class="property">originalname</span>));</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ª Multer å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> multer = <span class="title class_">Multer</span>(&#123;</span><br><span class="line">    storage, <span class="comment">//ç£ç›˜å­˜å‚¨å¼•æ“</span></span><br><span class="line">    <span class="attr">limits</span>: &#123;</span><br><span class="line">        <span class="comment">//é™åˆ¶æ¡ä»¶</span></span><br><span class="line">        <span class="attr">fileSize</span>: <span class="number">2</span> * <span class="number">1024</span> * <span class="number">1024</span>, <span class="comment">// é™åˆ¶æ–‡ä»¶å¤§å°ä¸º2MB</span></span><br><span class="line">        <span class="comment">// é™åˆ¶æ–‡ä»¶æ•°é‡</span></span><br><span class="line">        <span class="comment">// files: 1,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fileFilter</span>: <span class="function">(<span class="params">request, file, callbackFunc</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//æ–‡ä»¶è¿‡æ»¤å™¨</span></span><br><span class="line">        <span class="keyword">let</span> allowedTypes = [<span class="string">&quot;image/jpeg&quot;</span>, <span class="string">&quot;image/jpg&quot;</span>, <span class="string">&quot;image/png&quot;</span>];</span><br><span class="line">        <span class="keyword">if</span> (allowedTypes.<span class="title function_">includes</span>(file.<span class="property">mimetype</span>)) &#123;</span><br><span class="line">            <span class="title function_">callbackFunc</span>(<span class="literal">null</span>, <span class="literal">true</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">callbackFunc</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹&quot;</span>), <span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¿é—®ç½‘å€ä¸ºï¼šhttp://127.0.0.1:3000/upload</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&quot;/upload&quot;</span>, multer.<span class="title function_">single</span>(<span class="string">&quot;file&quot;</span>), <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> file = ctx.<span class="property">request</span>.<span class="property">file</span>;</span><br><span class="line">    <span class="keyword">if</span> (file) &#123;</span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">status</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ&quot;</span>,</span><br><span class="line">            <span class="attr">data</span>: file,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.<span class="property">body</span> = &#123;</span><br><span class="line">            <span class="attr">status</span>: <span class="string">&quot;error&quot;</span>,</span><br><span class="line">            <span class="attr">message</span>: <span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(<span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    <span class="comment">//é”™è¯¯å¤„ç†ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">//console.log(&#x27;err:&#x27;, err)</span></span><br><span class="line">        ctx.<span class="property">status</span> = <span class="number">500</span>;</span><br><span class="line">        ctx.<span class="property">body</span> = <span class="string">&quot;err: &quot;</span> + err.<span class="property">message</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>()); <span class="comment">//è·¯ç”±å¤„ç†ä¸­é—´ä»¶</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, host, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Server is running on http://<span class="subst">$&#123;host&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><p>cookieé€šå¸¸ç”¨æ¥å­˜å‚¨ç”¨æˆ·å½“å‰çš„çŠ¶æ€ä¿¡æ¯</p><p>åœ¨koaä¸­é€šè¿‡<code>ctx.cookies.set()</code>æ¥è®¾ç½®cookieä¿¡æ¯ï¼Œå¸¸ç”¨<code>maxAge</code>å’Œ<code>httpOnly</code>å‚æ•°æ¥åˆ†åˆ«è®¾ç½®cookieçš„ä¿å­˜æ—¶é—´å’Œæ˜¯å¦å…è®¸è„šæœ¬è·å–cookie</p><p>å¦‚æœè®¾ç½®çš„ä¸æ˜¯è‹±æ–‡ï¼Œè€Œæ˜¯å…¶ä»–å­—ç¬¦ï¼Œå¸¸è§çš„æ˜¯é€šè¿‡uriæ¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†</p><p>åç»­å¯ä»¥é€šè¿‡<code>ctx.cookies.get</code>æ–¹æ³•è·å–ç›¸åº”çš„cookieä¿¡æ¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>(); <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ª Router å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//cookieå¯ç”¨äºåœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">//èµ‹å€¼</span></span><br><span class="line">    ctx.<span class="property">cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>, <span class="built_in">encodeURIComponent</span>(<span class="string">&quot;ç™¾åº¦&quot;</span>)); <span class="comment">//encodeURIComponent:uriç¼–ç </span></span><br><span class="line">    ctx.<span class="property">cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;web&quot;</span>, <span class="string">&quot;baidu.com&quot;</span>, &#123;</span><br><span class="line">        <span class="comment">//30ç§’ [maxAge:æœ‰æ•ˆæœŸ å•ä½:æ¯«ç§’]</span></span><br><span class="line">        <span class="attr">maxAge</span>: <span class="number">30</span> * <span class="number">1000</span>,</span><br><span class="line">        <span class="comment">//httpOnlyé»˜è®¤ä¸ºtrue å¯ä»¥é˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»(XSS)ã€å‡å°‘è·¨ç«™è¯·æ±‚ä¼ªé€ (CSRF)</span></span><br><span class="line">        <span class="attr">httpOnly</span>: <span class="literal">false</span>, <span class="comment">//falseä¸ºå…è®¸æµè§ˆå™¨é€šè¿‡jsè®¿é—®å’Œä¿®æ”¹è¯¥cookie</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å–å€¼ - åœ¨åŒä¸€ä¸ªè¯·æ±‚å†…, æ— æ³•ç«‹å³è·å–åˆ°åˆšåˆšè®¾ç½®çš„cookieçš„å€¼</span></span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">cookies</span>.<span class="title function_">get</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name:&quot;</span>, <span class="built_in">decodeURIComponent</span>(name)); <span class="comment">//decodeURIComponent:uriè§£ç </span></span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;æ¬¢è¿è®¿é—®ç™¾åº¦&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>()); </span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å™¨å·²å¯åŠ¨: http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨è°ƒè¯•å·¥å…·ä¸­çœ‹åˆ°cookieä¿¡æ¯</p><img src="https://www.z4a.net/images/2024/08/08/image-5.png" alt="alt text" style="zoom:67%;" /><p>å¦‚æœè¦åˆ é™¤cookieï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç©ºç™½å€¼çš„æ–¹æ³•è¿›è¡Œæ¸…é™¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å…¶ä»–ä»£ç </span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ é™¤cookie</span></span><br><span class="line">    ctx.<span class="property">cookies</span>.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;&quot;</span>,&#123;<span class="attr">maxAge</span>: <span class="number">0</span>&#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><p>sessionç”¨äºæœåŠ¡ç«¯å­˜å‚¨çŠ¶æ€ä¿¡æ¯ï¼Œé€šè¿‡ Session ID åœ¨ Cookie ä¸­çš„å­˜åœ¨ï¼Œæ¥è¯†åˆ«å’Œè·Ÿè¸ªç”¨æˆ·ï¼ŒåŒæ—¶åœ¨æœåŠ¡å™¨ç«¯å®‰å…¨åœ°å­˜å‚¨ç”¨æˆ·çš„çŠ¶æ€å’Œæ•°æ®ã€‚</p><p>å’Œcookieä¸åŒçš„æ˜¯ï¼Œé™¤äº†è®¾ç½®å±æ€§å€¼å’Œè¿‡æœŸæ—¶é—´ï¼Œsessionéœ€è¦å•ç‹¬Session IDï¼ˆå­˜å‚¨åœ¨cookieä¸­çš„å”¯ä¸€æ ‡è¯†ï¼‰å’Œå¯†é’¥ï¼ˆé˜²æ­¢æ•°æ®è¢«ç¯¡æ”¹ï¼‰</p><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i koa-session</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤æ–¹æ³•ä¼šå°†Sessionå­˜å‚¨åˆ°å®¢æˆ·ç«¯çš„cookieä¸­<br>ç¼–ç éƒ¨åˆ†é‡‡ç”¨çš„æ˜¯base64ç¼–ç </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Session</span> <span class="keyword">from</span> <span class="string">&quot;koa-session&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//koa-session é»˜è®¤å°† session æ•°æ®å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„ cookie ä¸­</span></span><br><span class="line">app.<span class="property">keys</span> = [<span class="string">&quot;session.koa&quot;</span>]; <span class="comment">//è®¾ç½®ä¼šè¯ç­¾åçš„å¯†é’¥</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CONFIG</span> = &#123;</span><br><span class="line">    <span class="attr">key</span>: <span class="string">&quot;koa&quot;</span>, <span class="comment">//å­˜å‚¨åœ¨ cookie ä¸­çš„é”®å</span></span><br><span class="line">    <span class="attr">maxAge</span>: <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>, <span class="comment">//24å°æ—¶ æœ‰æ•ˆæœŸ(å•ä½:æ¯«ç§’)</span></span><br><span class="line">    <span class="attr">signed</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¯ç”¨ä¼šè¯ç­¾å, ç”¨äºé˜²æ­¢CSRFæ”»å‡»</span></span><br><span class="line">    <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">//æ˜¯å¦ä»…é€šè¿‡ https åè®®å‘é€ cookie</span></span><br><span class="line">&#125;;</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">Session</span>(<span class="variable constant_">CONFIG</span>, app));</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">//èµ‹å€¼</span></span><br><span class="line">    ctx.<span class="property">session</span>.<span class="property">name</span> = <span class="string">&quot;ç™¾åº¦&quot;</span>;</span><br><span class="line">    ctx.<span class="property">session</span>.<span class="property">url</span> = <span class="string">&quot;baidu.com&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!ctx.<span class="property">session</span>.<span class="property">user</span>) &#123;</span><br><span class="line">        ctx.<span class="property">session</span>.<span class="property">user</span> = <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ctx.<span class="property">session</span>.<span class="property">user</span> += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å–å€¼</span></span><br><span class="line">    <span class="keyword">let</span> name = ctx.<span class="property">session</span>.<span class="property">name</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name:&quot;</span>, name);</span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">body</span> = <span class="string">&quot;ç”¨æˆ·:&quot;</span> + ctx.<span class="property">session</span>.<span class="property">user</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>()); </span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å™¨å·²å¯åŠ¨: http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨çš„è°ƒè¯•å·¥å…·ä¸­å¯ä»¥æŸ¥çœ‹</p><img src="https://www.z4a.net/images/2024/08/08/image-6.png" alt="alt text" style="zoom:67%;" /><p>é€šè¿‡ä»¥ä¸‹æ–¹æ³•å¯ä»¥åˆ é™¤session</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="keyword">async</span> (ctx) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å…¶ä»–ä»£ç </span></span><br><span class="line"></span><br><span class="line">    ctx.<span class="property">session</span> = <span class="literal">null</span> <span class="comment">//æ¸…ç©ºæ‰€æœ‰sessionä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">delete</span> ctx.<span class="property">session</span>.<span class="property">name</span> <span class="comment">//åªåˆ é™¤ session ä¸­çš„ name å±æ€§</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="jwt"><a href="#jwt" class="headerlink" title="jwt"></a>jwt</h2><p>JWTï¼ˆJSON Web Tokenï¼‰æ˜¯ä¸€ç§ç”¨äºå®‰å…¨ä¼ è¾“ä¿¡æ¯çš„å¼€æ”¾æ ‡å‡†ï¼ˆRFC 7519ï¼‰ï¼Œé€šå¸¸ç”¨äºèº«ä»½éªŒè¯å’Œä¿¡æ¯äº¤æ¢ã€‚</p><p>JWT ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>å¤´éƒ¨ï¼ˆHeaderï¼‰ï¼šé€šå¸¸åŒ…å«ä»¤ç‰Œçš„ç±»å‹ï¼ˆJWTï¼‰å’Œæ‰€ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼ˆå¦‚ HMAC SHA256ï¼‰ã€‚</li><li>è½½è·ï¼ˆPayloadï¼‰ï¼šåŒ…å«å£°æ˜ï¼ˆclaimsï¼‰ï¼Œå³è¦ä¼ è¾“çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ç”¨æˆ·ä¿¡æ¯ã€æƒé™ç­‰ã€‚</li><li>ç­¾åï¼ˆSignatureï¼‰ï¼šé€šè¿‡å¤´éƒ¨å’Œè½½è·ç”Ÿæˆçš„ç­¾åï¼Œç”¨äºéªŒè¯ä»¤ç‰Œçš„å®Œæ•´æ€§å’Œæ¥æºã€‚</li></ul><p>æ ¼å¼ä¸ºï¼š<code>header.payload.signature</code></p><p>å®‰è£…ä¾èµ–</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i jsonwebtoken</span><br></pre></td></tr></table></figure><p>éœ€è¦å®šä¹‰ä¸€ä¸ªç”Ÿæˆtokençš„å‡½æ•°ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªkeyä½œä¸ºåŠ å¯†çš„å¯†åŒ™ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="variable constant_">JWT</span> <span class="keyword">from</span> <span class="string">&#x27;jsonwebtoken&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆtokenå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">generateToken</span> = (<span class="params">key</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = <span class="number">1</span>; <span class="comment">//ç”¨æˆ·å”¯ä¸€id</span></span><br><span class="line">    <span class="keyword">let</span> now = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>); <span class="comment">//å½“å‰æ—¶é—´æˆ³ å•ä½:ç§’</span></span><br><span class="line">    <span class="keyword">let</span> expire = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>; <span class="comment">//24å°æ—¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è´Ÿè½½</span></span><br><span class="line">    <span class="keyword">let</span> payload = &#123;</span><br><span class="line">        <span class="attr">sub</span>: id, <span class="comment">//Subject ä¸»é¢˜ (ç”¨æˆ·å”¯ä¸€id)</span></span><br><span class="line">        <span class="attr">iss</span>: <span class="string">&quot;baidu.com&quot;</span>, <span class="comment">//Issuer å‘è¡Œè€…</span></span><br><span class="line">        <span class="attr">iat</span>: now, <span class="comment">//Issued At å‘è¡Œæ—¶é—´</span></span><br><span class="line">        <span class="attr">nbf</span>: now, <span class="comment">//Not Before ç”Ÿæ•ˆæ—¶é—´</span></span><br><span class="line">        <span class="attr">exp</span>: now + expire, <span class="comment">//Expiration Time è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        <span class="attr">aud</span>: [<span class="string">&quot;&quot;</span>], <span class="comment">//Audience è§‚ä¼—å­—æ®µä¸ºç©º,è¡¨ç¤ºæ²¡æœ‰è§‚ä¼—é™åˆ¶,å¯ä»¥è¢«ä»»ä½•æ¥æ”¶æ–¹å¤„ç†</span></span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="comment">//è‡ªå®šä¹‰æ•°æ®</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">            <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨è´Ÿè½½(payload)ã€å¯†é’¥(key)å’ŒæŒ‡å®šçš„ç­¾åç®—æ³•(HS256)ç”Ÿæˆtoken</span></span><br><span class="line">    <span class="keyword">let</span> token = <span class="variable constant_">JWT</span>.<span class="title function_">sign</span>(payload, key, &#123; <span class="attr">algorithm</span>: <span class="string">&quot;HS256&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> token;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è§£å¯†å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">parseToken</span> = (<span class="params">token, key</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> payload = <span class="variable constant_">JWT</span>.<span class="title function_">verify</span>(token, key);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦è§£æå…¶ä¸­çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼š<a href="https://jwt.io/">https://jwt.io/</a> è¿™ä¸ªç½‘ç«™</p><p>å…¶ä¸­å¾—åˆ°çš„ç»“æœä¸ºï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç”Ÿæˆtoken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjEsImlzcyI6ImJhaWR1LmNvbSIsImlhdCI6MTcyMzEyOTc5NiwibmJmIjoxNzIzMTI5Nzk2LCJleHAiOjE3MjMyMTYxOTYsImF1ZCI6WyIiXSwiZGF0YSI6eyJuYW1lIjoiZ2NuYW5tdSIsImdlbmRlciI6Im1hbiJ9fQ.<span class="number">9</span>XLXbBDitorJG22p7aZ64OArcTI0EM2gJgtsHVQOEUE</span><br><span class="line">è§£ætoken: &#123;<span class="string">&quot;sub&quot;</span>:<span class="number">1</span>,<span class="string">&quot;iss&quot;</span>:<span class="string">&quot;baidu.com&quot;</span>,<span class="string">&quot;iat&quot;</span>:<span class="number">1723129796</span>,<span class="string">&quot;nbf&quot;</span>:<span class="number">1723129796</span>,<span class="string">&quot;exp&quot;</span>:<span class="number">1723216196</span>,<span class="string">&quot;aud&quot;</span>:[<span class="string">&quot;&quot;</span>],<span class="string">&quot;data&quot;</span>:&#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;gcnanmu&quot;</span>,<span class="string">&quot;gender&quot;</span>:<span class="string">&quot;man&quot;</span>&#125;&#125;</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Koa</span> <span class="keyword">from</span> <span class="string">&quot;koa&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">&quot;@koa/router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="variable constant_">JWT</span> <span class="keyword">from</span> <span class="string">&quot;jsonwebtoken&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8008</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Koa</span>();</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">Router</span>();</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">ctx</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">&quot;koa2&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="title function_">generateToken</span>(key);</span><br><span class="line">    ctx.<span class="property">status</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">let</span> result =</span><br><span class="line">        <span class="string">&quot;ç”Ÿæˆtoken: &quot;</span> + token + <span class="string">&quot;\n&quot;</span> + <span class="string">&quot;è§£ætoken: &quot;</span> + <span class="title function_">parseToken</span>(token, key);</span><br><span class="line">    ctx.<span class="property">body</span> = result;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆtokenå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">generateToken</span> = (<span class="params">key</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> id = <span class="number">1</span>; <span class="comment">//ç”¨æˆ·å”¯ä¸€id</span></span><br><span class="line">    <span class="keyword">let</span> now = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>); <span class="comment">//å½“å‰æ—¶é—´æˆ³ å•ä½:ç§’</span></span><br><span class="line">    <span class="keyword">let</span> expire = <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>; <span class="comment">//24å°æ—¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è´Ÿè½½</span></span><br><span class="line">    <span class="keyword">let</span> payload = &#123;</span><br><span class="line">        <span class="attr">sub</span>: id, <span class="comment">//Subject ä¸»é¢˜ (ç”¨æˆ·å”¯ä¸€id)</span></span><br><span class="line">        <span class="attr">iss</span>: <span class="string">&quot;baidu.com&quot;</span>, <span class="comment">//Issuer å‘è¡Œè€…</span></span><br><span class="line">        <span class="attr">iat</span>: now, <span class="comment">//Issued At å‘è¡Œæ—¶é—´</span></span><br><span class="line">        <span class="attr">nbf</span>: now, <span class="comment">//Not Before ç”Ÿæ•ˆæ—¶é—´</span></span><br><span class="line">        <span class="attr">exp</span>: now + expire, <span class="comment">//Expiration Time è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        <span class="attr">aud</span>: [<span class="string">&quot;&quot;</span>], <span class="comment">//Audience è§‚ä¼—å­—æ®µä¸ºç©º,è¡¨ç¤ºæ²¡æœ‰è§‚ä¼—é™åˆ¶,å¯ä»¥è¢«ä»»ä½•æ¥æ”¶æ–¹å¤„ç†</span></span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="comment">//è‡ªå®šä¹‰æ•°æ®</span></span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">            <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä½¿ç”¨è´Ÿè½½(payload)ã€å¯†é’¥(key)å’ŒæŒ‡å®šçš„ç­¾åç®—æ³•(HS256)ç”Ÿæˆtoken</span></span><br><span class="line">    <span class="keyword">let</span> token = <span class="variable constant_">JWT</span>.<span class="title function_">sign</span>(payload, key, &#123; <span class="attr">algorithm</span>: <span class="string">&quot;HS256&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">return</span> token;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£ætokenå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">parseToken</span> = (<span class="params">token, key</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> payload = <span class="variable constant_">JWT</span>.<span class="title function_">verify</span>(token, key);</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router.<span class="title function_">routes</span>());</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å™¨å·²å¯åŠ¨: http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åç«¯ </tag>
            
            <tag> Nodejs </tag>
            
            <tag> Koa </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nodejs-å¸¸è§æ¨¡å—åº”ç”¨</title>
      <link href="/post/nodejs-chang-jian-mo-kuai-ying-yong/"/>
      <url>/post/nodejs-chang-jian-mo-kuai-ying-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰æ²¿"><a href="#å‰æ²¿" class="headerlink" title="å‰æ²¿"></a>å‰æ²¿</h2><p>nodejsæ˜¯ä¸€ä¸ªJavaScriptçš„è·¨å¹³å°è§£é‡Šå™¨ï¼Œç›®çš„æ˜¯run JavaScript everywhereï¼Œå…¶ä¸­çš„LTSæ˜¯long-term support(é•¿æœŸæ”¯æŒç‰ˆæœ¬)</p><blockquote><p>Nodejsï¼š<a href="https://nodejs.org/en">nodejs</a></p></blockquote><p>å®‰è£…åå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>éƒ½èƒ½åœ¨æ§åˆ¶å°ä¸­æ‰“å°å‡ºç‰ˆæœ¬ä¿¡æ¯å³å®‰è£…æˆåŠŸã€‚</p><h2 id="æ›´æ¢é•œåƒæº"><a href="#æ›´æ¢é•œåƒæº" class="headerlink" title="æ›´æ¢é•œåƒæº"></a>æ›´æ¢é•œåƒæº</h2><p>æŸ¥çœ‹å½“å‰é•œåƒæº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node get registry</span><br></pre></td></tr></table></figure><p>è®¾ç½®æ·˜å®é•œåƒæº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node config registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨çš„å†…ç½®æ¨¡å—"><a href="#å¸¸ç”¨çš„å†…ç½®æ¨¡å—" class="headerlink" title="å¸¸ç”¨çš„å†…ç½®æ¨¡å—"></a>å¸¸ç”¨çš„å†…ç½®æ¨¡å—</h2><table><thead><tr><th align="center">æ¨¡å—å</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="center">urlæ¨¡å—</td><td align="left">è§£æurlè¯·æ±‚ è¿”å›ä¸€ä¸ªè§£æå¯¹è±¡</td></tr><tr><td align="center">pathæ¨¡å—</td><td align="left">ç”¨æˆ·è·å–æ–‡ä»¶çš„è·¯å¾„</td></tr><tr><td align="center">bufferæ¨¡å—</td><td align="left">å¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼Œå¯ä»¥çœ‹ä¸ºä¸€ä¸ªå­˜å‚¨äºŒè¿›åˆ¶çš„å›ºå®šæ•°ç»„</td></tr><tr><td align="center">fsæ¨¡å—</td><td align="left">ç”¨äºæ“ä½œæ–‡ä»¶ï¼ˆè¯»å–ã€å†™å…¥ã€åˆ é™¤ã€åˆ›å»ºï¼‰</td></tr><tr><td align="center">streamæ¨¡å—</td><td align="left">æ•°æ®æµå¤„ç†ï¼Œæ”¯æŒè¯»å–å’Œå†™å…¥æµï¼ˆå¤„ç†å¤§æ–‡ä»¶è¾ƒä¸ºæœ‰æ•ˆï¼‰</td></tr><tr><td align="center">osæ¨¡å—</td><td align="left">è·å–æ“ä½œç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå¦‚ç±»å‹ï¼Œæ¶æ„ï¼ŒCPUç­‰</td></tr><tr><td align="center">httpæ¨¡å—</td><td align="left">ç”¨äºæ„å»ºWebæœåŠ¡å™¨ï¼Œå¤„ç†httpè¯·æ±‚å’Œå“åº”ç­‰</td></tr><tr><td align="center">cryptoæ¨¡å—</td><td align="left">æä¾›åŠ å¯†å’Œè§£å¯†çš„åŠŸèƒ½ï¼Œæ”¯æŒå„ç§hashç®—æ³•ï¼Œå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ç­‰</td></tr><tr><td align="center">utilæ¨¡å—</td><td align="left">æä¾›ä¸€äº›å‡½æ•°å·¥å…·ï¼Œå¦‚æ ¼å¼åŒ–è¾“å‡º</td></tr></tbody></table><p>åœ¨æ–‡ä»¶å¤¹ä¸­çš„ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤æ¥åˆå§‹åŒ–ä¸€ä¸ªnodejsé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§è¦æ±‚è¾“å…¥ä¸€ç³»åˆ—çš„é…ç½®åä¼šç”Ÿæˆä¸€ä¸ª<code>package.json</code>æ–‡ä»¶ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;demo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gcnanmu&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ISC&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨çš„æ˜¯powerShellï¼Œä¼šå‡ºç°æ— æ³•åŠ è½½æ–‡ä»¶çš„æŠ¥é”™ï¼Œæœ¬è´¨ä¸Šæ˜¯æƒé™çš„åŸå› ï¼ˆåªæœ‰æ–°ç‰ˆçš„nodejsä¼šå‡ºç°è¿™ä¸ªæŠ¥é”™ï¼‰</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰çš„æ‰§è¡Œç­–ç•¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Get-ExecutionPolicy</span><br></pre></td></tr></table></figure><p>å¯èƒ½å‡ºç°ä¸‹é¢å››ç§æƒ…å†µï¼š</p><ul><li>Restructed ç¦æ­¢è¿è¡Œæ‰€æœ‰è„šæœ¬</li><li>AllSigned éœ€è¦æœ‰æ•ˆçš„æ•°å­—ç­¾å</li><li>RemoteSigned å…è®¸è¿è¡Œæœ¬åœ°åˆ›å»ºçš„è„šæœ¬ ç½‘ä¸Šæ¥æºéœ€è¦æ•°å­—ç­¾å</li><li>Unrestricted å…è®¸æ‰€æœ‰è¿è¡Œ</li></ul><p>æ›´æ”¹ç­–ç•¥ä¸ºRemoteSignedå³å¯ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-ExecutionPolicy RemoteSigned </span><br></pre></td></tr></table></figure><h2 id="æ›´æ¢æ ‡å‡†"><a href="#æ›´æ¢æ ‡å‡†" class="headerlink" title="æ›´æ¢æ ‡å‡†"></a>æ›´æ¢æ ‡å‡†</h2><p>å‡è®¾æ­¤æ—¶æˆ‘ä»¬æƒ³è¦ä½¿ç”¨urlæ¨¡å—ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåƒä¸‹é¢è¿™æ ·å†™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> url <span class="keyword">from</span> <span class="string">&#x27;url&#x27;</span>;</span><br><span class="line"></span><br><span class="line">url.<span class="title function_">parse</span>(<span class="string">&#x27;http://www.example.com?name=Tom&amp;age=20&#x27;</span>, <span class="literal">true</span>).<span class="property">query</span>;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸€æ—¦runcodeï¼Œå°±ä¼šå‡ºç°å¦‚ä¸‹çš„æŠ¥é”™ï¼š</p><blockquote><p>(node:7332) Warning: To load an ES module, set â€œtypeâ€: â€œmoduleâ€ in the package.json or use the .mjs extension.<br>(Use <code>node --trace-warnings ...</code> to show where the warning was created)<br>d:\Web\drNode\demo.js:1<br>import url from â€˜urlâ€™;<br>^^^^^^</p><p>SyntaxError: Cannot use import statement outside a module<br>    at internalCompileFunction (node:internal&#x2F;vm:73:18)<br>    at wrapSafe (node:internal&#x2F;modules&#x2F;cjs&#x2F;loader:1176:20)<br>    at Module._compile (node:internal&#x2F;modules&#x2F;cjs&#x2F;loader:1218:27)<br>    at Module._extensions..js (node:internal&#x2F;modules&#x2F;cjs&#x2F;loader:1308:10)<br>    at Module.load (node:internal&#x2F;modules&#x2F;cjs&#x2F;loader:1117:32)<br>    at Module._load (node:internal&#x2F;modules&#x2F;cjs&#x2F;loader:958:12)<br>    at Function.executeUserEntryPoint [as runMain] (node:internal&#x2F;modules&#x2F;run_main:81:12)<br>    at node:internal&#x2F;main&#x2F;run_main_module:23:47</p><p>Node.js v18.15.0</p></blockquote><p>è¿™æ˜¯ç”±äºä¸åŒçš„æ¨¡å—æ ‡å‡†å¯¼è‡´çš„ã€‚</p><p>JavaScriptæœ‰ä¸¤ç§æ¨¡å—ä½“ç³»:<strong>CommonJS</strong>å’Œ<strong>ESæ¨¡å—ï¼ˆECMAScriptæ¨¡å—ï¼‰</strong></p><p><strong>CommonJS</strong>æ˜¯Node.jsæœ€æ—©é‡‡ç”¨çš„æ¨¡å—ç³»ç»Ÿï¼Œä½¿ç”¨<code>require()</code>å’Œ<code>module.exports</code>æ¥å¯¼å…¥å’Œå¯¼å‡ºæ¨¡å—ã€‚æ–‡ä»¶æ‰©å±•åé€šå¸¸æ˜¯<code>.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlParest = <span class="title function_">parse</span>(<span class="string">&#x27;http://www.example.com?name=Tom&amp;age=20&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">let</span> times = <span class="number">10</span>;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;urlParest,times&#125;</span><br></pre></td></tr></table></figure><p><strong>ESæ¨¡å—</strong>æ˜¯JavaScriptçš„å®˜æ–¹æ¨¡å—ç³»ç»Ÿï¼Œä½¿ç”¨<code>import</code>å’Œ<code>export</code>è¯­æ³•ã€‚æ–‡ä»¶æ‰©å±•åé€šå¸¸æ˜¯<code>.mjs</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> url <span class="keyword">from</span> <span class="string">&quot;url&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlParest = <span class="title function_">parse</span>(<span class="string">&#x27;http://www.example.com?name=Tom&amp;age=20&#x27;</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">let</span> times = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;urlParest,times&#125;</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¸­ç»™äº†ä¸¤ä¸ªè§£å†³æ–¹æ³•ï¼š</p><ol><li><p>å°†æ–‡ä»¶åæ”¹ä¸º<code>.mjs</code></p></li><li><p>åœ¨<code>package.json</code>ä¸­æ·»åŠ </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;module&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ol><p>è€ƒè™‘åˆ°ä¸ES6çš„å…¼å®¹æ€§ï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ã€‚</p><h2 id="urlæ¨¡å—"><a href="#urlæ¨¡å—" class="headerlink" title="urlæ¨¡å—"></a>urlæ¨¡å—</h2><p>å¯ä»¥å°†urlç”Ÿæˆä¸€ä¸ªURLå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myUrl = <span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&#x27;https://example.com:8000/hello.html?id=100&amp;status=active&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myUrl);</span><br></pre></td></tr></table></figure><p>å¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">URL &#123;</span><br><span class="line">  href: <span class="string">&#x27;https://example.com:8000/hello.html?id=100&amp;status=active&#x27;</span>,</span><br><span class="line">  origin: <span class="string">&#x27;https://example.com:8000&#x27;</span>,</span><br><span class="line">  protocol: <span class="string">&#x27;https:&#x27;</span>,</span><br><span class="line">  username: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  password: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  host: <span class="string">&#x27;example.com:8000&#x27;</span>,</span><br><span class="line">  hostname: <span class="string">&#x27;example.com&#x27;</span>,</span><br><span class="line">  port: <span class="string">&#x27;8000&#x27;</span>,</span><br><span class="line">  pathname: <span class="string">&#x27;/hello.html&#x27;</span>,</span><br><span class="line">  search: <span class="string">&#x27;?id=100&amp;status=active&#x27;</span>,</span><br><span class="line">  searchParams: URLSearchParams &#123; <span class="string">&#x27;id&#x27;</span> =&gt; <span class="string">&#x27;100&#x27;</span>, <span class="string">&#x27;status&#x27;</span> =&gt; <span class="string">&#x27;active&#x27;</span> &#125;,</span><br><span class="line">  <span class="built_in">hash</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­çš„å±æ€§éƒ½å¯ä»¥ä½¿ç”¨<code>.</code>æˆ–è€…<code>[]</code>æ¥è·å–ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>parse</code>å¯¹urlè¿›è¡Œè§£æï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ˆå¦‚æœä¸ä½¿ç”¨trueå‚æ•°å¯èƒ½ä¼šæ˜¾ç¤ºå·²å¼ƒç”¨ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> url <span class="keyword">from</span> <span class="string">&quot;url&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> urlParse = url.<span class="title function_">parse</span>(</span><br><span class="line">    <span class="string">&quot;https://example.com:8000/hello.html?id=100&amp;status=active&quot;</span>,</span><br><span class="line">    <span class="literal">true</span></span><br><span class="line">);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(urlParse);</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è·å–æœ¬åœ°çš„æ–‡ä»¶ï¼Œå¯èƒ½ä¼šå‡ºç°<code>fileUrl</code>çš„å½¢å¼ï¼ˆä½¿ç”¨<code>file:///</code>ä½œä¸ºå‰ç¼€ï¼‰ï¼Œè¿™æ—¶å€™ä½¿ç”¨<code>url</code>æ¨¡å—çš„<code>fileURLToPath</code>å³å¯å°†å…¶è§£æä¸ºæœ¬åœ°æ–‡ä»¶è·¯å¾„é“¾æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>); <span class="comment">// file:///d:/Web/drNode/demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> __fileName = url.<span class="title function_">fileURLToPath</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(__fileName); <span class="comment">// d:/Web/drNode/demo.js</span></span><br></pre></td></tr></table></figure><h2 id="pathæ¨¡å—"><a href="#pathæ¨¡å—" class="headerlink" title="pathæ¨¡å—"></a>pathæ¨¡å—</h2><p>pathæ¨¡å—çš„ä½œç”¨æ˜¯å¯¹è·¯å¾„è¿›è¡Œå¤„ç†</p><p>é¦–å…ˆè¦æ³¨æ„ä¸€ä¸‹ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„è§„åˆ™æ˜¯ä¸åŒçš„ï¼Œpathæ¨¡å—ä¹Ÿç»†åˆ†ä¸ºä¸¤ä¸ªé¢†åŸŸï¼š</p><ol><li>win32 windowsç³»ç»Ÿ å¯ä»¥ä½¿ç”¨<code>path.win32</code>å¼ºåˆ¶è§„å®š</li><li>posix Linuxç³»ç»Ÿ å¯ä»¥ä½¿ç”¨<code>path.posix</code>å¼ºåˆ¶è§„å®š</li></ol><blockquote><p>å®é™…ä¸Šnodejsæ˜¯ä¼šè‡ªå·±åˆ¤æ–­æ“ä½œç³»ç»Ÿçš„ç±»å‹ï¼Œä¸éœ€è¦è‡ªå·±è®¾å®š</p></blockquote><p>ä¸»è¦æ“ä½œåˆ†ä¸ºï¼š</p><ul><li>è·å–æ–‡ä»¶åï¼ˆå¸¦æ‰©å±•åï¼‰ <code>path.basename</code></li><li>è·å–æ‰€åœ¨æ–‡ä»¶å¤¹è·¯å¾„ <code>path.dirname</code></li><li>è·å–æ‰©å±•å  <code>path.extname</code></li><li>è·¯å¾„æ‹¼æ¥ <code>path.join</code></li><li>è·¯å¾„è§£æ <code>path.parse</code></li><li>æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„ <code>path.isAbsolute</code></li><li>è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„ <code>path.basename</code></li><li>è½¬åŒ–ä¸ºç›¸å¯¹è·¯å¾„ <code>path.relative(å‚è€ƒè·¯å¾„ï¼Œå½“å‰è·¯å¾„)</code></li><li>è·¯å¾„åˆæ³•åŒ– <code>path.normalize</code></li></ul><p>ä¸€äº›æ“ä½œå±•ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&quot;path&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> url <span class="keyword">from</span> <span class="string">&quot;url&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> inputPath = url.<span class="title function_">fileURLToPath</span>(<span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> basename = path.<span class="title function_">basename</span>(inputPath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(basename); <span class="comment">// demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dirname = path.<span class="title function_">dirname</span>(inputPath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(dirname); <span class="comment">// d:\Web\drNode</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> extname = path.<span class="title function_">extname</span>(inputPath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(extname); <span class="comment">// .js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„æ‹¼æ¥</span></span><br><span class="line"><span class="keyword">let</span> joinPath = path.<span class="title function_">join</span>(dirname, basename);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(joinPath); <span class="comment">// d:\Web\drNode\demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„è§£æ</span></span><br><span class="line"><span class="keyword">let</span> parsePath = path.<span class="title function_">parse</span>(inputPath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(parsePath);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    root: &#x27;d:\\&#x27;,</span></span><br><span class="line"><span class="comment">    dir: &#x27;d:\\Web\\drNode&#x27;,</span></span><br><span class="line"><span class="comment">    base: &#x27;demo.js&#x27;,</span></span><br><span class="line"><span class="comment">    ext: &#x27;.js&#x27;,</span></span><br><span class="line"><span class="comment">    name: &#x27;demo&#x27;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬åŒ–ä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">let</span> resolvePath = path.<span class="title function_">resolve</span>(inputPath);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(resolvePath); <span class="comment">// d:\Web\drNode\demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="property">sep</span>); <span class="comment">// /</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">isAbsolute</span>(inputPath)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„åˆæ³•åŒ–</span></span><br><span class="line"><span class="keyword">let</span> normalizePath = path.<span class="title function_">normalize</span>(<span class="string">&quot;/Users/username/Documents/demo///demo.js&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(normalizePath); <span class="comment">// /Users/username/Documents/demo/demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„ç›¸å¯¹åŒ–</span></span><br><span class="line"><span class="keyword">let</span> relativePath = path.<span class="title function_">relative</span>(</span><br><span class="line">    <span class="string">&quot;/Users/username/Documents/demo&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/Users/username/Documents/demo/demo.js&quot;</span></span><br><span class="line">);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(relativePath); <span class="comment">// demo.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> url1 = path.<span class="property">win32</span>.<span class="title function_">parse</span>(<span class="string">&quot;C:\\Users\\username\\Documents\\demo\\demo.js&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(url1);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    root: &#x27;C:\\&#x27;,</span></span><br><span class="line"><span class="comment">    dir: &#x27;C:\\Users\\username\\Documents\\demo&#x27;,</span></span><br><span class="line"><span class="comment">    base: &#x27;demo.js&#x27;,</span></span><br><span class="line"><span class="comment">    ext: &#x27;.js&#x27;,</span></span><br><span class="line"><span class="comment">    name: &#x27;demo&#x27;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> url2 = path.<span class="property">posix</span>.<span class="title function_">parse</span>(<span class="string">&quot;/Users/username/Documents/demo/demo.js&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(url2);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    root: &#x27;/&#x27;,</span></span><br><span class="line"><span class="comment">    dir: &#x27;/Users/username/Documents/demo&#x27;,</span></span><br><span class="line"><span class="comment">    base: &#x27;demo.js&#x27;,</span></span><br><span class="line"><span class="comment">    ext: &#x27;.js&#x27;,</span></span><br><span class="line"><span class="comment">    name: &#x27;demo&#x27;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="Bufferæ¨¡å—"><a href="#Bufferæ¨¡å—" class="headerlink" title="Bufferæ¨¡å—"></a>Bufferæ¨¡å—</h2><p>Bufferæ˜¯ç”¨æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®(0æˆ–è€…1)çš„æ¨¡å—ï¼Œå¸¸è§çš„æ“ä½œæ˜¯å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œå°†äºŒè¿›åˆ¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼ˆå¾ˆå¤šAPIè¿”å›çš„éƒ½æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼‰ã€‚</p><p>Base64ç¼–ç æ˜¯ä¸€ç§ç”¨äºå°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºæ–‡æœ¬å­—ç¬¦ä¸²çš„ç¼–ç æ–¹æ³•ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä½¿äºŒè¿›åˆ¶æ•°æ®èƒ½å¤Ÿä»¥æ–‡æœ¬å½¢å¼è¡¨ç¤ºå’Œä¼ è¾“ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦é€šè¿‡æ–‡æœ¬åè®®ï¼ˆå¦‚HTTPã€SMTPç­‰ï¼‰ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®æ—¶éå¸¸æœ‰ç”¨ã€‚äºŒè¿›åˆ¶ä¸base64ç¼–ç ç›¸äº’è½¬åŒ–ä¹Ÿæ˜¯å¾ˆå¸¸è§çš„æ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10å­—èŠ‚ä»¥0å¡«å……çš„Buffer</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>)); <span class="comment">// &lt;Buffer 00 00 00 00 00 00 00 00 00 00&gt;</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º10å­—èŠ‚ä»¥1å¡«å……çš„Buffer</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">alloc</span>(<span class="number">10</span>, <span class="number">1</span>)); <span class="comment">// &lt;Buffer 01 01 01 01 01 01 01 01 01 01&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Name</span> = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> nameBuffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="title class_">Name</span>, <span class="string">&quot;utf-8&quot;</span>);  <span class="comment">// utf-8ç¼–ç </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameBuffer); <span class="comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–äºŒè¿›åˆ¶æ•°æ®çš„é•¿åº¦</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">byteLength</span>(nameBuffer)); <span class="comment">// 11</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(nameBuffer.<span class="property">length</span>); <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="title class_">Name</span>, <span class="string">&quot;utf-8&quot;</span>).<span class="title function_">toString</span>(<span class="string">&quot;utf-8&quot;</span>)); <span class="comment">// hello world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// base64 ç¼–ç å¸¸ç”¨äºç½‘ç»œä¼ è¾“ï¼Œç”¨æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®</span></span><br><span class="line"><span class="comment">// äºŒè¿›åˆ¶è½¬åŒ–ä¸ºbase64ç¼–ç </span></span><br><span class="line"><span class="keyword">let</span> base64 = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(<span class="string">&quot;hello world&quot;</span>).<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>); <span class="comment">//base64ç¼–ç </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(base64); <span class="comment">// aGVsbG8gd29ybGQ=</span></span><br><span class="line"><span class="comment">// å°†base64ç¼–ç è½¬åŒ–ä¸ºäºŒè¿›åˆ¶</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Buffer</span>.<span class="title function_">from</span>(base64, <span class="string">&quot;base64&quot;</span>)); <span class="comment">// &lt;Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64&gt;</span></span><br></pre></td></tr></table></figure><h2 id="fsæ¨¡å—"><a href="#fsæ¨¡å—" class="headerlink" title="fsæ¨¡å—"></a>fsæ¨¡å—</h2><p>åœ¨nodejsä¸­ï¼Œfsçš„æ“ä½œæ¨¡å—åˆ†ä¸ºä¸¤ç§æ¨¡å¼ï¼šåŒæ­¥ä¸å¼‚æ­¥ã€‚</p><p>ä¾‹å¦‚å†™å…¥æ–‡ä»¶ï¼Œåˆ†ä¸º<code>fs.writeFile</code>å’Œ<code>fs.writeFileSync</code>ä¸¤ç§å®ç°æ–¹å¼ã€‚ä¸¤è€…çš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯<code>writeFileSync</code>æ˜¯å¼‚æ­¥çš„å®ç°æ–¹å¼ï¼Œä»–ä¸ä¼šå› ç­‰å¾…è€Œé˜»å¡ï¼Œ<code>writeFileSync</code>é»˜è®¤æä¾›äº†å›è°ƒå‡½æ•°çš„å®ç°æ–¹å¼ï¼Œå…¶ä»–çš„æ“ä½œå‡½æ•°ä¹ŸåŒç†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">mkdir</span>(<span class="string">&quot;demo/css&quot;</span>, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;)</span><br><span class="line"></span><br><span class="line">fs.<span class="title function_">mkdirSync</span>(<span class="string">&quot;demo/css&quot;</span>, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory created successfully!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>JavaScriptæ˜¯è§£é‡Šæ€§è¯­è¨€ï¼Œä»–åªèƒ½æŒ‰ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºä¸€è¡Œä¸€è¡Œæ‰§è¡Œä»£ç ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„å›è°ƒå‡½æ•°æ˜¯ä¸ç¬¦åˆæ—¥å¸¸ç¼–å†™ç¨‹åºçš„é€»è¾‘çš„</strong>ï¼Œå› æ­¤fsæ¨¡å—è¿˜æä¾›äº†promiseçš„å®ç°æ–¹å¼ï¼Œè¿™å¯ä»¥ä½¿ç”¨åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥ä»£ç ï¼Œè¿™æ ·ç¨‹åºçš„æ‰§è¡Œé€»è¾‘æ‰æ›´ç¬¦åˆä¸€èˆ¬çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createDir</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">mkdir</span>(dir, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory created successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createDir</span>(<span class="string">&quot;demo/js&quot;</span>);</span><br></pre></td></tr></table></figure><p>å› æ­¤æ›´åŠ æ¨èä½¿ç”¨asyncçš„æ–¹æ³•ã€‚</p><p>fsæ¨¡å—æœ‰ä»¥ä¸‹çš„å¸¸è§æ“ä½œ:</p><ul><li>mkdir åˆ›å»ºç›®å½•ï¼Œå¦‚æœæƒ³è¦åˆ›å»ºå¤šçº§ç›®å½•è®¾ç½®<code>&#123;recursive:true&#125;</code></li><li>writeFile è¦†ç›–å†™å…¥ ä¼šè¦†ç›–ä¹‹å‰çš„å†…å®¹</li><li>appendFile è¿½åŠ å†™å…¥</li><li>readFile è¯»å–æ–‡ä»¶ï¼Œè¿”å›çš„æ˜¯bufferå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨æŒ‡å®šç¼–ç è¿›è¡Œè½¬åŒ–</li><li>access åˆ¤æ–­æ–‡ä»¶æˆ–è€…ç›®å½•æ˜¯å¦å­˜åœ¨ </li><li>stat è·å–æ–‡ä»¶æˆ–è€…ç›®å½•çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡</li><li>rename ç›®å½•æˆ–è€…æ–‡ä»¶é‡å‘½å</li><li>unlink åˆ é™¤æ–‡ä»¶ ä¸å­˜åœ¨ä¼šæŠ¥é”™</li><li>rmdir åˆ é™¤æ–‡ä»¶å¤¹ ä¸å­˜åœ¨åˆ™æŠ¥é”™</li><li>readdir è·å–å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„ç›®å½•æˆ–è€…æ–‡ä»¶</li></ul><p>ä¸€äº›æ“ä½œçš„å®ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fs, &#123; <span class="title class_">Dir</span>, <span class="title class_">Dirent</span> &#125; <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">createDir</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// recursiveæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦åº”åˆ›å»ºçˆ¶ç›®å½•ã€‚é»˜è®¤ä¸ºfalseã€‚</span></span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">mkdir</span>(dir, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory created successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// createDir(&quot;demo/js&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">writeFile</span> = <span class="keyword">async</span> (<span class="params">file, data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">writeFile</span>(file, data);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;File written successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// writeFile(&quot;demo/js/hello.txt&quot;, &quot;Hello, world!&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿½åŠ å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">appendFile</span> = <span class="keyword">async</span> (<span class="params">file, data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">appendFile</span>(file, data);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Data appended successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// appendFile(&quot;demo/js/hello.txt&quot;, &quot;\nHello, world again!&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readFile</span> = <span class="keyword">async</span> (<span class="params">file</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœä¸æŒ‡å®šè§£ç ï¼Œåˆ™è¿”å›åŸå§‹çš„bufferå¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">readFile</span>(file, &#123; <span class="attr">encoding</span>: <span class="string">&quot;utf-8&quot;</span> &#125;);</span><br><span class="line">        <span class="comment">// æˆ–è€…ä½¿ç”¨toString()æ–¹æ³•å°†å…¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// readFile(&quot;demo/js/hello.txt&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    fs.promises.constants.F_OK - æ£€æŸ¥æ–‡ä»¶æˆ–è€…ç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment">    fs.promises.constants.R_OK - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯è¯»</span></span><br><span class="line"><span class="comment">    fs.promises.constants.W_OK - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯å†™</span></span><br><span class="line"><span class="comment">    fs.promises.constants.X_OK - æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™è¿”å›undefinedï¼Œå¦åˆ™è¿”å›ä¸€ä¸ªé”™è¯¯å¯¹è±¡ã€‚</span></span><br><span class="line"><span class="comment">    Error: ENOENT: no such file or directory, access &#x27;demo/js&#x27; (å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨)</span></span><br><span class="line"><span class="comment">    EExist: file already exists, access &#x27;demo/js&#x27; (å¦‚æœæ–‡ä»¶å·²å­˜åœ¨)</span></span><br><span class="line"><span class="comment">    EACCES: permission denied, access &#x27;demo/js&#x27; (å¦‚æœæ²¡æœ‰æƒé™)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">checkDir</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">access</span>(dir, fs.<span class="property">promises</span>.<span class="property">constants</span>.<span class="property">F_OK</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory exists!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory does not exist!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// checkDir(&quot;&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ ä¹Ÿå¯ä»¥æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getFileInfo</span> = <span class="keyword">async</span> (<span class="params">file</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> stats = <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">stat</span>(file);</span><br><span class="line">        <span class="comment">// console.log(stats);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (stats.<span class="title function_">isFile</span>()) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;file&#125;</span> is a file`</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (stats.<span class="title function_">isDirectory</span>()) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;file&#125;</span> is a directory`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// getFileInfo(&quot;demo/js/hello.txt&quot;);</span></span><br><span class="line"><span class="comment">// getFileInfo(&quot;demo/js/hello2.txt&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–‡ä»¶æˆ–è€…ç›®å½•çš„é‡å‘½å</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">renameFile</span> = <span class="keyword">async</span> (<span class="params">oldPath, newPath</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">rename</span>(oldPath, newPath);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;File renamed successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// renameFile(&quot;demo/js/&quot;, &quot;demo/newjs&quot;);</span></span><br><span class="line"><span class="comment">// renameFile(&quot;demo/js/hello.txt&quot;, &quot;demo/js/hello.txt&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteFile</span> = <span class="keyword">async</span> (<span class="params">file</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">unlink</span>(file);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;File deleted successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteFile(&quot;demo/js/hello.txt&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">deleteDir</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœrecursiveä¸ºtrueï¼Œåˆ™åˆ é™¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ã€‚é»˜è®¤ä¸ºfalseã€‚</span></span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">rmdir</span>(dir, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Directory deleted successfully!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deleteDir(&quot;demo/js&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–ç›®å½•ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readDir</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// const files = await fs.promises.readdir(dir);</span></span><br><span class="line">        <span class="comment">// å…è®¸é€’å½’è¯»å–ç›®å½•</span></span><br><span class="line">        <span class="keyword">const</span> files = <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">readdir</span>(dir, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">        <span class="comment">// è¯»å–ç›®å½•ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ é€šè¿‡withFileTypesé€‰é¡¹æŒ‡å®š è¿”å›ä¸€ä¸ªDirentå¯¹è±¡æ•°ç»„ </span></span><br><span class="line">        <span class="comment">// Direntæ˜¯ä¸€ä¸ªç±»ï¼Œç”¨äºè¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿç›®å½•ä¸­çš„æ¡ç›®ã€‚å®ƒåŒ…å«æ–‡ä»¶æˆ–ç›®å½•çš„åç§°ä»¥åŠå…¶ä»–ä¿¡æ¯ã€‚</span></span><br><span class="line">        <span class="comment">// const files = await fs.promises.readdir(dir, &#123; withFileTypes: true &#125;);</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(files);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// readDir(&quot;demo&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–ç›®å½•ä¸‹çš„ç›®å½• ä¸èƒ½é€’å½’è¯»å–ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readDir2</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> files = <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">opendir</span>(dir);</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> file <span class="keyword">of</span> files) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(file.<span class="property">name</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">readDir2</span>(<span class="string">&quot;demo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯»å–ç›®å½•ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ é€’å½’è¯»å–ç›®å½•</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readDir3</span> = <span class="keyword">async</span> (<span class="params">dir</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> files = <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">opendir</span>(dir);</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> file <span class="keyword">of</span> files) &#123;</span><br><span class="line">            <span class="keyword">if</span> (file.<span class="title function_">isDirectory</span>()) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Directory: <span class="subst">$&#123;file.name&#125;</span>`</span>);</span><br><span class="line">                <span class="title function_">readDir3</span>(<span class="string">`<span class="subst">$&#123;dir&#125;</span>/<span class="subst">$&#123;file.name&#125;</span>`</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`File: <span class="subst">$&#123;file.name&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">readDir3</span>(<span class="string">&quot;demo&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="æµå¼æ“ä½œ"><a href="#æµå¼æ“ä½œ" class="headerlink" title="æµå¼æ“ä½œ"></a>æµå¼æ“ä½œ</h2><p>streamçš„ä½œç”¨æ˜¯å°†æ•°æ®æŒ‰ç…§è®¾å®šå¥½çš„å¤§å°ä¸€å—ä¸€å—çš„è¯»å–ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¯»å…¥ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜ï¼Œé™ä½æœåŠ¡å‹åŠ›ã€‚</p><ul><li>å¯¹äºè¯»å–æµï¼ˆ[<code>fs.createReadStream</code>](vscode-file:&#x2F;&#x2F;vscode-app&#x2F;e:&#x2F;microsoft vs code&#x2F;resources&#x2F;app&#x2F;out&#x2F;vs&#x2F;code&#x2F;electron-sandbox&#x2F;workbench&#x2F;workbench-apc-extension.html)ï¼‰ï¼Œé»˜è®¤ç¼“å†²åŒºå¤§å°ä¸º64KBï¼ˆ65536å­—èŠ‚ï¼‰ã€‚</li><li>å¯¹äºå†™å…¥æµï¼ˆ[<code>fs.createWriteStream</code>](vscode-file:&#x2F;&#x2F;vscode-app&#x2F;e:&#x2F;microsoft vs code&#x2F;resources&#x2F;app&#x2F;out&#x2F;vs&#x2F;code&#x2F;electron-sandbox&#x2F;workbench&#x2F;workbench-apc-extension.html)ï¼‰ï¼Œé»˜è®¤ç¼“å†²åŒºå¤§å°ä¹Ÿæ˜¯16KBï¼ˆ16384å­—èŠ‚ï¼‰</li></ul><p>å¯ä»¥é€šè¿‡å•ç‹¬è®¾ç½®<code>highWaterMark</code>å±æ€§æ¥è®¾å®šæœ€å¤§çš„æ¨¡å—å¤§å°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœªä½¿ç”¨streamå¤„ç†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">writefile</span> = <span class="keyword">async</span> (<span class="params">path, data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> fs.<span class="property">promises</span>.<span class="title function_">writeFile</span>(path, data);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ•°æ®å†™å…¥æ–‡ä»¶æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æµå¼å†™å…¥ é»˜è®¤å¤§å°ä¸º16kb 16*1024</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">writeFileStr</span> = (<span class="params">path, data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> writeStream = fs.<span class="title function_">createWriteStream</span>(path, &#123; <span class="attr">highWaterMark</span>: <span class="number">1024</span> * <span class="number">12</span>&#125;); <span class="comment">// è®¾ç½®ä¸º12kb</span></span><br><span class="line"></span><br><span class="line">    writeStream.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    writeStream.<span class="title function_">on</span>(<span class="string">&quot;finish&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¦†ç›–å†™å…¥æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    writeStream.<span class="title function_">write</span>(data, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    writeStream.<span class="title function_">end</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// writeFileStr(&quot;demo/js/hello2.txt&quot;, &quot;ä½ å¥½&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµå¼è¿½åŠ å†™å…¥</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">appendFileStr</span> = (<span class="params">path, data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> appendFileStream = fs.<span class="title function_">createWriteStream</span>(path, &#123; <span class="attr">flags</span>: <span class="string">&quot;a&quot;</span> &#125;);</span><br><span class="line"></span><br><span class="line">    appendFileStream.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    appendFileStream.<span class="title function_">on</span>(<span class="string">&quot;finish&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¿½åŠ å†™å…¥æ–‡ä»¶æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    appendFileStream.<span class="title function_">write</span>(data, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    appendFileStream.<span class="title function_">end</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// appendFileStr(&quot;demo/js/hello2.txt&quot;, &quot;\nè¿½åŠ å†™å…¥&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµå¼è¯»å– é»˜è®¤å¤§å°ä¸º64kb 64*1024</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">readFileStr</span> = (<span class="params">path</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> readFileStream = fs.<span class="title function_">createReadStream</span>(path);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> content = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    readFileStream.<span class="title function_">on</span>(<span class="string">&quot;data&quot;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chunk);</span><br><span class="line">        content += chunk.<span class="title function_">toString</span>(<span class="string">&quot;utf8&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    readFileStream.<span class="title function_">on</span>(<span class="string">&quot;end&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// console.log(&quot;è¯»å–æ–‡ä»¶æˆåŠŸ&quot;);</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(content);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    readFileStream.<span class="title function_">on</span>(<span class="string">&quot;error&quot;</span>, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">readFileStr</span>(<span class="string">&quot;demo/js/hello2.txt&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="OSæ¨¡å—"><a href="#OSæ¨¡å—" class="headerlink" title="OSæ¨¡å—"></a>OSæ¨¡å—</h2><p>OSæ¨¡å—å¸¸ç”¨äºè·å–ç³»ç»Ÿä¿¡æ¯ï¼Œå¸¸è§çš„ç³»ç»Ÿä¿¡æ¯å¦‚ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os <span class="keyword">from</span> <span class="string">&quot;os&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å†…æ ¸ç‰ˆæœ¬ï¼š&quot;</span>, os.<span class="title function_">version</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç³»ç»Ÿç±»å‹ï¼š&quot;</span>, os.<span class="title function_">type</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç³»ç»Ÿæ¶æ„ï¼š&quot;</span>, os.<span class="title function_">arch</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä¸»æœºåï¼š&quot;</span>, os.<span class="title function_">hostname</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç³»ç»Ÿå¹³å°ï¼š&quot;</span>, os.<span class="title function_">platform</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç³»ç»Ÿå‘è¡Œç‰ˆæœ¬ï¼š&quot;</span>, os.<span class="title function_">release</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;CPUæ ¸å¿ƒæ•°ï¼š&quot;</span>, os.<span class="title function_">cpus</span>().<span class="property">length</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å†…å­˜ä¿¡æ¯ï¼š&quot;</span>, os.<span class="title function_">totalmem</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç©ºé—²å†…å­˜ï¼š&quot;</span>, os.<span class="title function_">freemem</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”¨æˆ·ç›®å½•ï¼š&quot;</span>, os.<span class="title function_">homedir</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”¨æˆ·ä¿¡æ¯ï¼š&quot;</span>, os.<span class="title function_">userInfo</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä¸´æ—¶ç›®å½•ï¼š&quot;</span>, os.<span class="title function_">tmpdir</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç³»ç»Ÿè¿è¡Œæ—¶é—´ï¼š&quot;</span>, os.<span class="title function_">uptime</span>());</span><br><span class="line"><span class="comment">// console.log(&quot;ç½‘ç»œæ¥å£ä¿¡æ¯ï¼š&quot;, os.networkInterfaces());</span></span><br></pre></td></tr></table></figure><h2 id="cryptoæ¨¡å—"><a href="#cryptoæ¨¡å—" class="headerlink" title="cryptoæ¨¡å—"></a>cryptoæ¨¡å—</h2><p>æä¾›äº†åŠ å¯†å’Œè§£å¯†çš„åŠŸèƒ½</p><p>å¸¸è§çš„åŠ å¯†ç®—æ³•æœ‰MD5ï¼ŒSHA_1ï¼ŒAES-GCMç­‰ï¼Œåˆ†ä¸ºå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ã€‚å¯¹ç§°ä¸å¦åœ¨äºè§£å¯†æ—¶ä½¿ç”¨çš„å¯†åŒ™å’ŒåŠ å¯†æ˜¯å¦ç›¸åŒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> crypto <span class="keyword">from</span> <span class="string">&quot;crypto&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">md5</span> = (<span class="params">data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> hash = crypto.<span class="title function_">createHash</span>(<span class="string">&quot;md5&quot;</span>); <span class="comment">// åˆ›å»ºMD5å“ˆå¸Œå¯¹è±¡</span></span><br><span class="line">    hash.<span class="title function_">update</span>(data); <span class="comment">// æ›´æ–°å“ˆå¸Œå†…å®¹</span></span><br><span class="line">    <span class="keyword">return</span> hash.<span class="title function_">digest</span>(<span class="string">&quot;hex&quot;</span>); <span class="comment">// è®¡ç®—å¹¶ç”Ÿæˆåå…­è¿›åˆ¶çš„MD5å“ˆå¸Œå€¼</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">sha1</span> = (<span class="params">data</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> hash = crypto.<span class="title function_">createHash</span>(<span class="string">&quot;sha1&quot;</span>); <span class="comment">// åˆ›å»ºSHA-1å“ˆå¸Œ</span></span><br><span class="line">    hash.<span class="title function_">update</span>(data); <span class="comment">// æ›´æ–°å“ˆå¸Œå†…å®¹</span></span><br><span class="line">    <span class="keyword">return</span> hash.<span class="title function_">digest</span>(<span class="string">&quot;hex&quot;</span>); <span class="comment">// è®¡ç®—å¹¶ç”Ÿæˆåå…­è¿›åˆ¶çš„SHA-1å“ˆå¸Œå€¼</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;md5:&quot;</span>, <span class="title function_">md5</span>(<span class="string">&quot;Hello, world!&quot;</span>)); <span class="comment">// 6cd3556deb0da54bca060b4c39479839</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sha1:&quot;</span>, <span class="title function_">sha1</span>(<span class="string">&quot;Hello, world!&quot;</span>)); <span class="comment">// 943a702d06f34599aee1f8da8ef9f7296031d699</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆéšæœºçš„å¯†åŒ™</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">randomBytes</span> = (<span class="params">size</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å°†å…¶è½¬åŒ–ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²åˆšå¥½æ˜¯sizeçš„ä¸¤å€</span></span><br><span class="line">    <span class="comment">// å¦‚æœsizeæ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆsize/2å°±æ˜¯å°æ•°ï¼Œéœ€è¦å‘ä¸Šå–æ•´ï¼Œç¡®ä¿ä¸ä¼šä¸¢å¤±æ•°æ®</span></span><br><span class="line">    <span class="keyword">let</span> newSize = <span class="title class_">Math</span>.<span class="title function_">round</span>(size / <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// console.log(&quot;newSize:&quot;, newSize);</span></span><br><span class="line">    <span class="keyword">let</span> buffer = crypto.<span class="title function_">randomBytes</span>(newSize);</span><br><span class="line">    <span class="keyword">let</span> hexStr = buffer.<span class="title function_">toString</span>(<span class="string">&quot;hex&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> hexStr.<span class="title function_">slice</span>(<span class="number">0</span>, size); <span class="comment">// æˆªå–æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²å¹¶è¿”å›</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;éšæœºçš„ç§˜é’¥ï¼š&quot;</span>, <span class="title function_">randomBytes</span>(<span class="number">16</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹ç§°åŠ å¯†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆä¸€ä¸ªéšæœºçš„AESå¯†é’¥</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">generateAESKey</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// ç§˜é’¥çš„é•¿åº¦å¿…é¡»æ˜¯16ã€24ã€32å­—èŠ‚ï¼Œå¯¹åº”AES-128ã€AES-192ã€AES-256</span></span><br><span class="line">    <span class="keyword">return</span> crypto.<span class="title function_">randomBytes</span>(<span class="number">32</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AES-GCMæ¨¡å¼åŠ å¯†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">aesEncrypt</span> = (<span class="params">data, key</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// nonceï¼ˆNumber used ONCEï¼‰æ˜¯ä¸€ä¸ªåªèƒ½ä½¿ç”¨ä¸€æ¬¡çš„éšæœºæ•°ï¼ˆAES-GCMçš„é•¿åº¦åº”ä¸º12å­—èŠ‚ï¼‰</span></span><br><span class="line">    <span class="comment">// ç”¨äºç¡®ä¿æ¯æ¬¡åŠ å¯†çš„ç»“æœéƒ½æ˜¯ä¸åŒçš„ï¼Œé˜²æ­¢è¢«ç ´è§£ å³ä½¿æ˜¯ç›¸åŒçš„æ˜æ–‡ä¹Ÿä¼šç”Ÿæˆä¸åŒçš„å¯†æ–‡</span></span><br><span class="line">    <span class="keyword">const</span> nonce = crypto.<span class="title function_">randomBytes</span>(<span class="number">12</span>); <span class="comment">// ç”Ÿæˆä¸€ä¸ªéšæœºçš„12å­—èŠ‚çš„nonce</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªAES-GCMåŠ å¯†å™¨</span></span><br><span class="line">    <span class="keyword">const</span> cipher = crypto.<span class="title function_">createCipheriv</span>(<span class="string">&quot;aes-256-gcm&quot;</span>, key, nonce);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨åŠ å¯†å™¨å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å¹¶å°†ç»“æœè½¬åŒ–ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment">// update ç”¨äºåŠ å¯†æ•°æ®çš„ä¸»ä½“éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">let</span> encrypted = cipher.<span class="title function_">update</span>(data, <span class="string">&quot;utf8&quot;</span>, <span class="string">&quot;hex&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹æœ€åä¸€å—æ•°æ®è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">    <span class="comment">// final ç”¨äºåŠ å¯†æ•°æ®çš„ç»“å°¾éƒ¨åˆ† ç¡®ä¿æ•°æ®è¢«å®Œæ•´åŠ å¯†</span></span><br><span class="line">    encrypted += cipher.<span class="title function_">final</span>(<span class="string">&quot;hex&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–è®¤è¯æ ‡ç­¾ ç”¨äºéªŒè¯æ•°æ®å®Œæ•´æ€§å’Œæ¥æºçš„çœŸå®æ€§ï¼Œé˜²æ­¢æ•°æ®è¢«ç¯¡æ”¹</span></span><br><span class="line">    <span class="comment">// å°†å…¶æ”¹ä¸ºåå…­è¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">const</span> authTag = cipher.<span class="title function_">getAuthTag</span>().<span class="title function_">toString</span>(<span class="string">&quot;hex&quot;</span>); <span class="comment">// è·å–è®¤è¯æ ‡ç­¾</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†nonceã€åŠ å¯†åçš„æ•°æ®å’Œè®¤è¯æ ‡ç­¾ç»„åˆæˆä¸€ä¸ªJSONå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">const</span> encryJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">        <span class="attr">nonce</span>: nonce.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">        <span class="attr">encrypted</span>: encrypted,</span><br><span class="line">        <span class="attr">authTag</span>: authTag,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> encryJson;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// AESè§£å¯†</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">aesDecrypt</span> = (<span class="params">encrypted, key</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// å°†JSONå­—ç¬¦ä¸²è§£æä¸ºJSONå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> encryJson = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(encrypted);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»JSONå¯¹è±¡ä¸­è·å–nonceã€åŠ å¯†åçš„æ•°æ®å’Œè®¤è¯æ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">const</span> nonce = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(encryJson.<span class="property">nonce</span>, <span class="string">&quot;base64&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> encryptedData = encryJson.<span class="property">encrypted</span>;</span><br><span class="line">    <span class="keyword">const</span> authTag = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(encryJson.<span class="property">authTag</span>, <span class="string">&quot;hex&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªAES-GCMè§£å¯†å™¨</span></span><br><span class="line">    <span class="keyword">const</span> decipher = crypto.<span class="title function_">createDecipheriv</span>(<span class="string">&quot;aes-256-gcm&quot;</span>, key, nonce);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è®¤è¯æ ‡ç­¾</span></span><br><span class="line">    decipher.<span class="title function_">setAuthTag</span>(authTag);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨è§£å¯†å™¨å¯¹æ•°æ®è¿›è¡Œè§£å¯†å¹¶å°†ç»“æœè½¬åŒ–ä¸ºUTF-8å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">let</span> decrypted = decipher.<span class="title function_">update</span>(encryptedData, <span class="string">&quot;hex&quot;</span>, <span class="string">&quot;utf8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯¹æœ€åä¸€å—æ•°æ®è¿›è¡Œè§£å¯†</span></span><br><span class="line">    decrypted += decipher.<span class="title function_">final</span>(<span class="string">&quot;utf8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> decrypted;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆéšæœºçš„AESå¯†é’¥</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="title function_">generateAESKey</span>();</span><br><span class="line"><span class="comment">// å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†</span></span><br><span class="line"><span class="keyword">const</span> encrypted = <span class="title function_">aesEncrypt</span>(<span class="string">&quot;Hello, world!&quot;</span>, key);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;encrypted:&quot;</span>, encrypted); <span class="comment">// &#123;&quot;nonce&quot;:&quot;aJ+l/lIYtteJBeOO&quot;,&quot;encrypted&quot;:&quot;5741338b2c5a9b98d3470ab803&quot;,&quot;authTag&quot;:&quot;51236a320d094a11fdf6e8dd57481799&quot;&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;decrypted:&quot;</span>, <span class="title function_">aesDecrypt</span>(encrypted, key)); <span class="comment">// Hello, world!</span></span><br></pre></td></tr></table></figure><h2 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h2><p>nodemonç”¨æ¥ç›‘è§†node.jsåº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•æ›´æ”¹å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡ï¼Œå…¶ä¸­monæ˜¯monitorï¼ˆç›‘è§†ï¼‰çš„ç¼©å†™ã€‚</p><p>å®‰è£…nodemon</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i nodemon -g</span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ¶‰åŠåˆ°å…¨å±€å®‰è£…å’Œå±€éƒ¨å®‰è£…çš„åŒºåˆ«ï¼š</p><ol><li>å…¨å±€å®‰è£…å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä¸‹ä½¿ç”¨</li><li>å±€éƒ¨å®‰è£…åªèƒ½åœ¨å½“å‰ç›®å½•ä¸‹ä½¿ç”¨ï¼Œå‡è¢«å®‰è£…åˆ°ç›®å½•ä¸‹çš„<code>node_modules</code>æ–‡ä»¶å¤¹ä¸­</li></ol><p>åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡Œä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nodemon filename.js</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦åœ¨é¡¹ç›®ä¸­é…ç½®<code>npm run dev</code>çš„æ–¹æ³•è¿è¡Œ<code>nodemon filename.js</code>ï¼Œå¯ä»¥åœ¨package.jsonçš„<code>script</code>ä¸­æ·»åŠ å¦‚ä¸‹çš„é…ç½®é¡¹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span><span class="string">&quot;nodemon index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>ä¹‹åå¯ä»¥é€šè¿‡<code>npm run dev</code>è¿è¡Œè®¾å®šå¥½çš„<code>nodemon index.js</code>å‘½ä»¤</p><h2 id="httpæ¨¡å—"><a href="#httpæ¨¡å—" class="headerlink" title="httpæ¨¡å—"></a>httpæ¨¡å—</h2><p>httpæ¨¡å—æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºæœåŠ¡å™¨ä¸å‘é€è¯·æ±‚çš„æ¨¡å—ï¼Œå¯ä»¥é€šè¿‡åˆ›å»ºserveræ¥å¯¹æ‰€æœ‰çš„è¯·æ±‚ä½œå‡ºå›åº”</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&quot;http&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸è¦ä½¿ç”¨httpsæ¨¡å—ï¼Œå› ä¸ºå®ƒéœ€è¦è¯ä¹¦ï¼Œä¼šè¢«æµè§ˆå™¨æ‹¦æˆª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8000</span>;</span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123; <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/plain&quot;</span> &#125;);</span><br><span class="line">    <span class="comment">// res.write(&quot;Hello World&quot;);</span></span><br><span class="line">    <span class="comment">// è¿”å›å“åº”æ•°æ®</span></span><br><span class="line">    res.<span class="title function_">end</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ç«¯å£ï¼Œåˆ›å»ºæœåŠ¡å™¨</span></span><br><span class="line">server.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`server is running on http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šç¨‹åºé€šè¿‡httpæ¨¡å—åˆ›å»ºäº†ä¸€ä¸ªserverå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šä¸€ç›´ç›‘å¬è®¾å®šå¥½çš„ç«¯å£å·ï¼Œä¸€æ—¦æœ‰requsetè¯·æ±‚è¢«å‘é€åˆ°æœåŠ¡å™¨ï¼Œåˆ™æŒ‰ç…§å†™å¥½çš„é€»è¾‘å¯¹è¯·æ±‚è¿›è¡Œå›åº”ã€‚å›åº”éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯<code>res.end()</code>è¿”å›å…·ä½“çš„å“åº”ä½“ï¼Œå¦‚æœ‰å¿…è¦ï¼Œå¯ä»¥é€šè¿‡<code>res.writeHead()</code>è®¾ç½®è¯·æ±‚å¤´ã€‚ä½¿ç”¨<code>npm run dev</code>è¿è¡Œç¨‹åºåï¼Œæ‰“å¼€<code>127.0.0.1:8000</code>å¯ä»¥çœ‹åˆ°é¡µé¢æ˜¾ç¤ºHello Worldã€‚</p><h2 id="è·å–è¯·æ±‚æ•°æ®"><a href="#è·å–è¯·æ±‚æ•°æ®" class="headerlink" title="è·å–è¯·æ±‚æ•°æ®"></a>è·å–è¯·æ±‚æ•°æ®</h2><p>åœ¨ç”Ÿäº§å®é™…ä¸­ï¼Œå¾€å¾€éœ€è¦å…ˆæ ¹æ®è¯·æ±‚æ‰€å‘é€çš„ä¿¡æ¯æ¥è¿”å›å¤„ç†åçš„æ•°æ®ã€‚</p><p>åœ¨serverå¯¹è±¡ä¸­ï¼Œä½¿ç”¨reqæ¥ä½œä¸ºè¯·æ±‚å¯¹è±¡ï¼Œå¯ä»¥è·å–reqçš„å±æ€§ï¼ˆä¾‹å¦‚è¯·æ±‚æ–¹å¼ï¼Œè¯·æ±‚ä½“ï¼Œè¯·æ±‚å¤´ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&quot;http&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸è¦ä½¿ç”¨httpsæ¨¡å—ï¼Œå› ä¸ºå®ƒéœ€è¦è¯ä¹¦ï¼Œä¼šè¢«æµè§ˆå™¨æ‹¦æˆª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8000</span>;</span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;req.method&#125;</span> <span class="subst">$&#123;req.url&#125;</span>`</span>);</span><br><span class="line">    <span class="comment">// è·å–è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">headers</span>.<span class="property">referer</span>);</span><br><span class="line">    <span class="comment">// æœ‰æ•ˆåˆ’çº¿çš„æ—¶å€™ä¸èƒ½ä½¿ç”¨ç‚¹è¯­æ³•</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">headers</span>[<span class="string">&quot;user-agent&quot;</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    res.<span class="property">statusCode</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="comment">// å‘ŠçŸ¥è¯·æ±‚çš„ç±»å‹ å¦åˆ™ä¸èƒ½æ­£å¸¸æ˜¾ç¤º</span></span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/html&quot;</span>, <span class="string">&quot;charset=utf-8&quot;</span>);</span><br><span class="line">    <span class="comment">// è®¾ç½®å…è®¸è·¨åŸŸ</span></span><br><span class="line">    <span class="comment">// res.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</span></span><br><span class="line">    <span class="comment">// è¿”å›htmlæ•°æ®</span></span><br><span class="line">    res.<span class="title function_">write</span>(<span class="string">&quot;&lt;h1&gt;Hello World&lt;/h1&gt;&quot;</span>);</span><br><span class="line">    <span class="comment">// res.write(&quot;Hello World&quot;);</span></span><br><span class="line">    res.<span class="title function_">end</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ç«¯å£ï¼Œåˆ›å»ºæœåŠ¡å™¨</span></span><br><span class="line">server.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`server is running on http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è®¿é—®<code>127.0.0.1:8000</code>åæ§åˆ¶å°å¾—åˆ°çš„æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET /</span><br><span class="line">undefined</span><br><span class="line">Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">127.0</span>.<span class="number">0.0</span> Safari/<span class="number">537.36</span> Edg/<span class="number">127.0</span>.<span class="number">0.0</span></span><br><span class="line">GET /favicon.ico</span><br><span class="line">http://<span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">8000</span>/</span><br><span class="line">Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64) AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">127.0</span>.<span class="number">0.0</span> Safari/<span class="number">537.36</span> Edg/<span class="number">127.0</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤æ¬¡é‡å¤çš„æ‰“å°ç»“æœï¼Œé€šè¿‡è§‚å¯Ÿå¯ä»¥çŸ¥é“ï¼Œè¿™æ˜¯å› ä¸ºæ¯æ¬¡è¯·æ±‚çš„åŒæ—¶éƒ½ä¼šé»˜è®¤å¯¹ç½‘ç«™å›¾æ ‡è¿›è¡Œè¯·æ±‚ã€‚å¦‚æœæƒ³è¦å»æ‰è¿™ä¸ªè¯·æ±‚å¯ä»¥é€šè¿‡<code>req.url</code>å±æ€§è¿›è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span> == <span class="string">&quot;/favicon.ico&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä½™ä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥åªå¾—åˆ°ä¸€æ¬¡çš„æ‰“å°ç»“æœ</p><h2 id="ä½¿ç”¨URLè·å–è¯·æ±‚å‚æ•°"><a href="#ä½¿ç”¨URLè·å–è¯·æ±‚å‚æ•°" class="headerlink" title="ä½¿ç”¨URLè·å–è¯·æ±‚å‚æ•°"></a>ä½¿ç”¨URLè·å–è¯·æ±‚å‚æ•°</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&quot;http&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸è¦ä½¿ç”¨httpsæ¨¡å—ï¼Œå› ä¸ºå®ƒéœ€è¦è¯ä¹¦ï¼Œä¼šè¢«æµè§ˆå™¨æ‹¦æˆª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> port = <span class="number">8000</span>;</span><br><span class="line"><span class="keyword">const</span> hostname = <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> server = http.<span class="title function_">createServer</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// http://127.0.0.1:8000/?id=1&amp;web=baidu.com</span></span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">url</span> === <span class="string">&quot;/favicon.ico&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// console.log(`$&#123;req.method&#125; $&#123;req.url&#125;`);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å®Œæ•´çš„url</span></span><br><span class="line">    <span class="keyword">let</span> fullurl = <span class="string">`http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span><span class="subst">$&#123;req.url&#125;</span>`</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`fullurl:<span class="subst">$&#123;fullurl&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> urlObj = <span class="keyword">new</span> <span class="title function_">URL</span>(fullurl);</span><br><span class="line">    <span class="comment">// console.log(urlObj);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æŸ¥è¯¢å‚æ•°</span></span><br><span class="line">    <span class="keyword">const</span> queryObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(urlObj.<span class="property">search</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æŸ¥è¯¢å‚æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(queryObj);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;idï¼š&quot;</span>, queryObj.<span class="title function_">get</span>(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;webï¼š&quot;</span>, queryObj.<span class="title function_">get</span>(<span class="string">&quot;web&quot;</span>));</span><br><span class="line"></span><br><span class="line">    res.<span class="title function_">writeHead</span>(<span class="number">200</span>, &#123;</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;Application/json&quot;</span>,</span><br><span class="line">        <span class="attr">charset</span>: <span class="string">&quot;utf-8&quot;</span>,</span><br><span class="line">        <span class="comment">// &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å¾—åˆ°å‚æ•°çš„jsonæ•°æ®å¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š</span></span><br><span class="line">    <span class="keyword">let</span> result = &#123;</span><br><span class="line">        <span class="attr">id</span>: queryObj.<span class="title function_">get</span>(<span class="string">&quot;id&quot;</span>),</span><br><span class="line">        <span class="attr">web</span>: queryObj.<span class="title function_">get</span>(<span class="string">&quot;web&quot;</span>),</span><br><span class="line">    &#125;;</span><br><span class="line">    res.<span class="title function_">end</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(result));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ç«¯å£ï¼Œåˆ›å»ºæœåŠ¡å™¨</span></span><br><span class="line">server.<span class="title function_">listen</span>(port, hostname, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`server is running on http://<span class="subst">$&#123;hostname&#125;</span>:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨<code>npm run dev</code>å¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°æ•´ä¸ªURLå¯¹è±¡çš„å±æ€§ä¿¡æ¯</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">URL &#123;</span><br><span class="line">  href: <span class="string">&#x27;http://127.0.0.1:8000/?id=1&amp;web=baidu.com&#x27;</span>,</span><br><span class="line">  origin: <span class="string">&#x27;http://127.0.0.1:8000&#x27;</span>,</span><br><span class="line">  protocol: <span class="string">&#x27;http:&#x27;</span>,</span><br><span class="line">  username: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  password: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  host: <span class="string">&#x27;127.0.0.1:8000&#x27;</span>,</span><br><span class="line">  hostname: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">  port: <span class="string">&#x27;8000&#x27;</span>,</span><br><span class="line">  pathname: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">  search: <span class="string">&#x27;?id=1&amp;web=baidu.com&#x27;</span>,</span><br><span class="line">  searchParams: URLSearchParams &#123; <span class="string">&#x27;id&#x27;</span> =&gt; <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;web&#x27;</span> =&gt; <span class="string">&#x27;baidu.com&#x27;</span> &#125;,</span><br><span class="line">  hash: <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯<code>searchParams</code>è¿™ä¸ªå±æ€§å€¼</p><p>æœ‰ä¸¤ç§å¤„ç†æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨<code>urlObj.searchParams</code>è·å–</li><li>ä½¿ç”¨<code>new URLSearchParams(urlObj.search)</code>è·å–</li></ol><p>ä¹‹åå¯ä»¥åœ¨ç½‘é¡µä¸­çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;id&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;web&quot;</span>: <span class="string">&quot;baidu.com&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="readlineæ¨¡å—"><a href="#readlineæ¨¡å—" class="headerlink" title="readlineæ¨¡å—"></a>readlineæ¨¡å—</h2><p>æ˜¯ä¸€ä¸ªæ§åˆ¶å°çš„æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// ä»æ§åˆ¶å°è¯»å–ç”¨æˆ·è¾“å…¥</span></span><br><span class="line"><span class="comment">// æ§åˆ¶å°è¾“å…¥çš„å†…å®¹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">// é€šè¿‡ process.stdin æµæ¥è¯»å–ç”¨æˆ·è¾“å…¥</span></span><br><span class="line"><span class="comment">// é€šè¿‡ process.stdout æµæ¥è¾“å‡ºå†…å®¹</span></span><br><span class="line"><span class="comment">// é€šè¿‡ createInterface æ–¹æ³•åˆ›å»ºä¸€ä¸ª readline.Interface å®ä¾‹</span></span><br><span class="line"><span class="comment">// é€šè¿‡ question æ–¹æ³•å‘ç”¨æˆ·æé—®</span></span><br><span class="line"><span class="comment">// é€šè¿‡ close æ–¹æ³•å…³é—­ readline.Interface å®ä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createInterface &#125; <span class="keyword">from</span> <span class="string">&quot;readline&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&quot;fs&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rl = <span class="title function_">createInterface</span>(&#123;</span><br><span class="line">    <span class="attr">input</span>: process.<span class="property">stdin</span>,</span><br><span class="line">    <span class="attr">output</span>: process.<span class="property">stdout</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">rl.<span class="title function_">question</span>(<span class="string">&quot;What do you think of Node.js? &quot;</span>, <span class="function">(<span class="params">answer</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">        answer === <span class="string">&quot;Yes&quot;</span> ||</span><br><span class="line">        answer === <span class="string">&quot;yes&quot;</span> ||</span><br><span class="line">        answer == <span class="string">&quot;y&quot;</span> ||</span><br><span class="line">        answer == <span class="string">&quot;Y&quot;</span></span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;You are right!&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;You are wrong!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Thank you for your valuable feedback: <span class="subst">$&#123;answer&#125;</span>`</span>);</span><br><span class="line">    rl.<span class="title function_">close</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬ close äº‹ä»¶ï¼Œå½“ readline.Interface å®ä¾‹å…³é—­æ—¶è§¦å‘</span></span><br><span class="line">rl.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Readline interface closed!&quot;</span>);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šè¿°çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(base) <span class="built_in">PS</span> D:\Web\drNode&gt; node <span class="string">&quot;d:\Web\drNode\tempCodeRunnerFile.js&quot;</span></span><br><span class="line">What <span class="keyword">do</span> you think of Node.js? yes</span><br><span class="line">You are right!</span><br><span class="line">Thank you <span class="keyword">for</span> your valuable feedback: yes</span><br><span class="line">Readline interface closed!</span><br><span class="line">(base) <span class="built_in">PS</span> D:\Web\drNode&gt; node <span class="string">&quot;d:\Web\drNode\tempCodeRunnerFile.js&quot;</span></span><br><span class="line">What <span class="keyword">do</span> you think of Node.js? no</span><br><span class="line">You are wrong!</span><br><span class="line">Thank you <span class="keyword">for</span> your valuable feedback: no</span><br><span class="line">Readline interface closed!</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-æ•°æ®ç±»å‹(02)</title>
      <link href="/post/js-02-shu-ju-lei-xing/"/>
      <url>/post/js-02-shu-ju-lei-xing/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>JavaScriptä¸¥æ ¼æ¥è¯´æ€»æœ‰å…­ä¸­å±æ€§å€¼ï¼š</p><ul><li><code>number</code></li><li><code>string</code></li><li><code>boolen</code></li><li><code>underfined</code></li><li><code>null</code></li><li><code>object</code>ã€‚</li></ul><p><code>object</code>åˆåˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li>ç‹­ä¹‰çš„å¯¹è±¡</li><li>Array æ•°ç»„</li><li>function å‡½æ•°<br>åœ¨jsä¸­ï¼Œ<code>function</code>æ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œä»–å¯ä»¥è¢«èµ‹å€¼ç»™å˜é‡ï¼Œè¿™æ˜¯éå¸¸ç‰¹æ®Šçš„ä¸€ä¸ªç‚¹ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">addNum</span> = (<span class="params">a,b</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addNum</span>(<span class="number">1</span>,<span class="number">2</span>) <span class="comment">//3</span></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡ä¼šå…ˆä»‹ç»<code>null</code>,<code>undefined</code>,<code>boolen</code>ï¼Œå…¶ä½™åœ¨åç»­çš„å°èŠ‚ä»‹ç»ã€‚</p><h2 id="Typeof"><a href="#Typeof" class="headerlink" title="Typeof"></a>Typeof</h2><p>åˆ¤æ–­æ•°æ®çš„ç±»å‹æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ol><li><code>typeof</code></li><li><code>instanceof</code></li><li><code>Object.prototype.toString</code></li></ol><p>typeofä¼šè¿”å›çš„å€¼ä¸º<code>number</code>,<code>string</code>,<code>boolen</code>,<code>undefined</code>,<code>function</code></p><p>nullè¿”å›çš„æ˜¯<code>object</code>ï¼Œæ•°ç»„è¿”å›çš„ä¹Ÿæ˜¯<code>object</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// &quot;object&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> [] <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure><h2 id="nullä¸undefined"><a href="#nullä¸undefined" class="headerlink" title="nullä¸undefined"></a>nullä¸undefined</h2><p>å’Œå¸¸è¯†ä¸åŒï¼Œä¸€ä¸ªå˜é‡æ˜¯å¯ä»¥è¢«èµ‹å€¼ä¸º<code>undefined</code>çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> num); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p><code>null</code>å’Œ<code>undefined</code>éƒ½å¯ä»¥è¡¨ç¤ºæ²¡æœ‰ï¼Œè¯­æ³•æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œåœ¨<code>==</code>ä¸­ä¹Ÿè¡¨ç°ä¸ºç›¸ç­‰ï¼Œåœ¨<code>if</code>ä¸­éƒ½è¡¨ç¤º<code>false</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="literal">undefined</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;undefined is false&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// undefined is false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;null is false&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// null is false</span></span><br><span class="line"></span><br><span class="line"><span class="literal">undefined</span> == <span class="literal">null</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸¤è€…è½¬åŒ–çš„æ—¶å€™ä¸åŒï¼š</p><ul><li><code>undefined</code> è½¬åŒ–ä¸º <code>NaN</code></li><li><code>null</code> è½¬åŒ–ä¸º0</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> num2 = <span class="literal">null</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(num)); <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(num2)); <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>å…·ä½“ç†è§£ï¼Œ<code>undefined</code>è¡¨ç¤ºæœªå®šä¹‰ï¼Œ<code>null</code>è¡¨ç¤ºä¸ºå½“å‰å€¼ä¸ºç©º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å˜é‡å£°æ˜äº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼</span></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line">i <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å‡½æ•°æ—¶ï¼Œåº”è¯¥æä¾›çš„å‚æ•°æ²¡æœ‰æä¾›ï¼Œè¯¥å‚æ•°ç­‰äº undefined</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">x</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>() <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡æ²¡æœ‰èµ‹å€¼çš„å±æ€§</span></span><br><span class="line"><span class="keyword">var</span>  o = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">o.<span class="property">p</span> <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œé»˜è®¤è¿”å› undefined</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="title function_">f</span>() <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><h2 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h2><p>å¸ƒå°”å€¼åªæœ‰<code>true</code>å’Œ<code>false</code>ä¸¤ä¸ªå€¼</p><p>åœ¨æœŸæœ›å¾—åˆ°å¸ƒå°”å€¼çš„æƒ…å†µä¸‹ï¼Œä¼šè‡ªåŠ¨å°†ä¸€äº›å€¼è½¬åŒ–ä¸ºå¸ƒå°”å€¼</p><p>ä»¥ä¸‹å€¼éƒ½è¢«è½¬åŒ–ä¸º<code>false</code>:</p><ul><li><code>undefined</code></li><li><code>null</code></li><li><code>false</code></li><li><code>0</code></li><li><code>NaN</code></li><li><code>&quot;&quot;</code>æˆ–è€…<code>&#39;&#39;</code></li></ul><p>å…¶ä»–çš„å€¼éƒ½è¢«è½¬åŒ–ä¸º<code>true</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([]) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (&#123;&#125;) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-å˜é‡ä¸å¸¸è§è¯­æ³•(01)</title>
      <link href="/post/js-01-bian-liang-yu-chang-jian-yu-fa/"/>
      <url>/post/js-01-bian-liang-yu-chang-jian-yu-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬åšå®¢å®é™…ä¸Šæ›´åº”è¯¥ç®—æ˜¯ç¬”è®°ï¼Œå®é™…çš„å†…å®¹éƒ½æ¥è‡ªé˜®ä¸€å³°çš„JavaScriptæ•™ç¨‹ï¼Œç¬”è®°å‡ ä¹å°±æ˜¯æ•™ç¨‹çš„ç®€æ´ç‰ˆæœ¬ã€‚</p><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>å˜é‡çš„æœ¬è´¨æ˜¯å€¼çš„å¼•ç”¨ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å˜é‡çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯è°ƒç”¨å˜é‡å¯¹åº”çš„å€¼ã€‚</p><h2 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h2><p>JavaScript å¼•æ“çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œå…ˆè§£æä»£ç ï¼Œè·å–æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œç„¶åå†ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œã€‚è¿™æ ·ä¼šå¯¼è‡´æ‰€æœ‰ç”³æ˜å˜é‡çš„è¯­å¥éƒ½ä¼šæå‡åˆ°ä»£ç çš„å¤´éƒ¨ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡æå‡æœºåˆ¶ï¼Œç›¸å½“äºå¦‚ä¸‹ä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°undefined</span></span><br></pre></td></tr></table></figure><h2 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h2><p>ç”¨æ¥è¯†åˆ«å„ç§å€¼çš„åˆæ³•åç§°ï¼Œå¦‚å˜é‡åå’Œå‡½æ•°åã€‚JavaScriptå¯¹å¤§å°å†™é“­æ„Ÿï¼Œå› æ­¤<code>a</code>å’Œ<code>A</code>æ˜¯ä¸¤ä¸ªä¸åŒçš„æ ‡è¯†ç¬¦ã€‚</p><p>æ ‡è¯†ç¬¦ä¸åˆæ³•çš„æƒ…å†µï¼š</p><ol><li>ä»¥æ•°å­—æˆ–è€…å…¶ä»–å­—ç¬¦å¼€å¤´</li><li>å«æœ‰é™¤äº†å­—æ¯ã€ä¸‹åˆ’çº¿ã€$å’Œæ•°å­—ä»¥å¤–çš„å…¶ä»–å­—ç¬¦</li><li>ä½¿ç”¨å…³é”®å­—ä½œä¸ºæ ‡è¯†ç¬¦<blockquote><p>argumentsã€breakã€caseã€catchã€classã€constã€continueã€debuggerã€defaultã€deleteã€doã€elseã€enumã€evalã€exportã€extendsã€falseã€finallyã€forã€functionã€ifã€implementsã€importã€inã€instanceofã€interfaceã€letã€newã€nullã€packageã€privateã€protectedã€publicã€returnã€staticã€superã€switchã€thisã€throwã€trueã€tryã€typeofã€varã€voidã€whileã€withã€yieldã€‚</p></blockquote></li></ol><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><p>ä¼šè¢«JavaScriptè§£é‡Šå™¨å¿½è§†çš„éƒ¨åˆ†ï¼Œä½œç”¨æ˜¯å¯¹ä»£ç è¿›è¡Œè¯´æ˜</p><ul><li>å•è¡Œæ³¨é‡Šï¼š <code>//</code></li><li>å¤šè¡Œæ³¨é‡Šï¼š <code>/* */</code></li></ul><h2 id="åŒºå—"><a href="#åŒºå—" class="headerlink" title="åŒºå—"></a>åŒºå—</h2><p>JavaScriptä½¿ç”¨å¤§æ‹¬å·å°†è¯­å¥ç»„åˆåœ¨ä¸€èµ·ï¼Œæˆä¸ºåŒºå—ã€‚ä½†<code>var</code>æ²¡æœ‰åŒºå—çš„é™åˆ¶ï¼Œè¿™ä¼°è®¡æ˜¯å¼•å…¥<code>let</code>å’Œ<code>const</code>çš„åŸå› </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a <span class="comment">//1</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶è¯­å¥"><a href="#æ¡ä»¶è¯­å¥" class="headerlink" title="æ¡ä»¶è¯­å¥"></a>æ¡ä»¶è¯­å¥</h2><p>ï¼ˆ1ï¼‰<code>if else</code> è¯­å¥<br>   <code>else</code>ä»£ç å—æ€»æ˜¯ä¸ç¦»è‡ªå·±æœ€è¿‘çš„é‚£ä¸ªifè¯­å¥é…å¯¹ã€‚åªè¦æ¯æ¬¡éƒ½å†™<code>&#123;&#125;</code>å°±ä¸ä¼šå‡ºç°é—®é¢˜ã€‚</p>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruit = <span class="string">&quot;apple&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (fruit === <span class="string">&quot;apple&quot;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (fruit === <span class="string">&quot;banana&quot;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;banana&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (fruit === <span class="string">&quot;cherry&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;cherry&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;other&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<code>switch</code>è¯­å¥<br>   æœ¬è´¨æ˜¯ä¸ºäº†ä¸è¦å†™å¤ªå¤šçš„<code>if else</code></p>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruit = <span class="string">&#x27;apple&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (fruit)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;apple&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;apple&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;banana&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;banana&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;cherry&#x27;</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;cherry&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;default&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>   åœ¨<code>case</code>ä¸­ä½¿ç”¨çš„æ˜¯<code>===</code>è¿ç®—ç¬¦ï¼Œè¿™è¯´æ˜æ°¸è¿œä¸ä¼šå‘ç”Ÿç±»å‹è½¬åŒ–ã€‚<br>   ä¸”å¦‚æœåœ¨<code>case</code>ä¹‹åä¸æ·»åŠ <code>break</code>ï¼Œä»–å°†ä¸€ç›´æ‰§è¡Œä¸‹å»ã€‚</p>   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (x) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;x ç­‰äº1&#x27;</span>);</span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;x ç­‰äº2&#x27;</span>);</span><br><span class="line">  <span class="attr">default</span>:</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;x ç­‰äºå…¶ä»–å€¼&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// x ç­‰äº1</span></span><br><span class="line"><span class="comment">// x ç­‰äº2</span></span><br><span class="line"><span class="comment">// x ç­‰äºå…¶ä»–å€¼</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰å…ƒè¿ç®—ç¬¦"><a href="#ä¸‰å…ƒè¿ç®—ç¬¦" class="headerlink" title="ä¸‰å…ƒè¿ç®—ç¬¦"></a>ä¸‰å…ƒè¿ç®—ç¬¦</h2><p>åŸºæœ¬çš„è¯­æ³•<code>(æ¡ä»¶) ? è¡¨è¾¾å¼1 : è¡¨è¾¾å¼2</code></p><p>æ­£ç¡®æ‰§è¡Œè¡¨è¾¾å¼1ï¼Œé”™è¯¯æ‰§è¡Œè¡¨è¾¾å¼2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = (num == str) ? <span class="literal">true</span> : <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥è§†ä¸ºif â€¦â€¦ elseè¯­å¥çš„ç®€å†™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (num == str) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">true</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>ææ‡‚èµ‹å€¼<code>=</code>ä¸æ¯”è¾ƒ<code>==</code>æˆ–<code>===</code>å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;2&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (num == str) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;num == str&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;num != str&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h2><p>è¯­æ³•ä¸º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (æ¡ä»¶) &#123;</span><br><span class="line">    è¯­å¥;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¡ä»¶çš„æ‹¬å·æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœæ¡ä»¶æ˜¯æ’æˆç«‹çš„ï¼Œå³æ„æˆä¸€ä¸ªæ­»å¾ªç¯ã€‚</p><h2 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h2><p>åŸºç¡€è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (åˆå§‹åŒ–è¡¨è¾¾å¼; æ¡ä»¶; é€’å¢è¡¨è¾¾å¼) &#123;</span><br><span class="line">  è¯­å¥</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆå§‹åŒ–è¡¨è¾¾å¼:è®¾ç½®å¾ªç¯çš„åˆå§‹å€¼ </li><li>æ¡ä»¶ æ¯è½®å¾ªç¯å¼€å§‹æ—¶ï¼Œéƒ½è¦æ‰§è¡Œè¿™ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œåªæœ‰å€¼ä¸ºçœŸï¼Œæ‰ç»§ç»­è¿›è¡Œå¾ªç¯ã€‚</li><li>é€’å¢è¡¨è¾¾å¼ï¼šæ¯è½®å¾ªç¯çš„æœ€åä¸€ä¸ªæ“ä½œï¼Œé€šå¸¸ç”¨æ¥é€’å¢å¾ªç¯å˜é‡ã€‚</li></ul><p>æ‰€æœ‰forå¾ªç¯éƒ½å¯ä»¥æ”¹æˆwhileå¾ªç¯ã€‚</p><h2 id="do-whileå¾ªç¯"><a href="#do-whileå¾ªç¯" class="headerlink" title="do whileå¾ªç¯"></a>do whileå¾ªç¯</h2><p>å’Œwhileå¾ªç¯çš„å”¯ä¸€åŒºåˆ«å°±æ˜¯ä¼šæå‰æ‰§è¡Œä¸€æ¬¡ä»£ç å†åˆ¤æ–­</p><p>åŸºäºè¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    è¯­å¥;</span><br><span class="line">&#125;<span class="keyword">while</span>(æ¡ä»¶);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    i++;</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">10</span>);</span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h2><p>JavaScript è¯­è¨€å…è®¸ï¼Œè¯­å¥çš„å‰é¢æœ‰æ ‡ç­¾ï¼ˆlabelï¼‰ï¼Œç›¸å½“äºå®šä½ç¬¦ï¼Œç”¨äºè·³è½¬åˆ°ç¨‹åºçš„ä»»æ„ä½ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">label</span>:</span><br><span class="line">    è¯­å¥;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨äºè·³å‡ºä»£ç å—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">foo</span>: &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">break</span> foo;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ¬è¡Œä¸ä¼šè¾“å‡º&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-pathlibè·¯å¾„å®è·µ</title>
      <link href="/post/pathlib/"/>
      <url>/post/pathlib/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯pathlibï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯pathlibï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯pathlibï¼Ÿ"></a>ä»€ä¹ˆæ˜¯pathlibï¼Ÿ</h2><p><code>pathlib</code>æ˜¯ä»Python3.4ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€ä¸ªè·¯å¾„æ“ä½œçš„åŸºæœ¬åº“ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿ä½¿ç”¨è€…åˆ›å»ºå’Œæ“ä½œæ–‡ä»¶è·¯å¾„ã€‚</p><p>åœ¨<code>pathlib</code>æ²¡å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨<code>str</code>æˆ–è€…<code>os.path</code>è·å–è·¯å¾„ï¼Œä½†æ˜¯æœ‰äº†<code>pathlib</code>ä¹‹åï¼Œæˆ‘ä»¬ä¼šè·å¾—ä¸€ä¸ªåä¸º<code>Path</code>çš„ç±»å¯¹è±¡ï¼Œæ‹¥æœ‰è®¸å¤šå¯ä»¥å¯¹è·¯å¾„æ“ä½œçš„æ–¹æ³•ï¼Œæ¯”èµ·ä¹‹å‰ä½¿ç”¨osæ¨¡å—æ›´åŠ æ–¹ä¾¿ã€‚</p><p>ä½¿ç”¨å‰éœ€è¦å…ˆå¯¼å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br></pre></td></tr></table></figure><h2 id="è½¬åŒ–ä¸ºPathå¯¹è±¡"><a href="#è½¬åŒ–ä¸ºPathå¯¹è±¡" class="headerlink" title="è½¬åŒ–ä¸ºPathå¯¹è±¡"></a>è½¬åŒ–ä¸ºPathå¯¹è±¡</h2><p>å‡å¦‚ä½ æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œä½ æƒ³è¦å°†å®ƒè½¬åŒ–ä¸ºPathå¯¹è±¡ï¼Œåªéœ€è¦å°†å…¶æ”¾å…¥Pathä¸­ï¼Œä»–ä¼šæ ¹æ®æ“ä½œç³»ç»Ÿçš„ç±»å‹è‡ªåŠ¨å°†å…¶è½¬åŒ–ä¸ºåˆæ³•çš„è·¯å¾„ï¼ˆå³ä½¿ä½ çš„è·¯å¾„ä¸è§„èŒƒï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">path = <span class="string">&quot;D:///Python_ProjectHouse\\\Hardcore_Python\\\print_format.py&quot;</span></span><br><span class="line"></span><br><span class="line">path = Path(path)</span><br><span class="line">path <span class="comment"># WindowsPath(&#x27;D:/Python_ProjectHouse/Hardcore_Python/print_format.py&#x27;)</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ”¾å…¥äº†ä¸€ä¸ªå¥‡æ€ªçš„è·¯å¾„æ ¼å¼ï¼ŒPathæ¨¡å—ç›´æ¥å°±å°†å…¶è½¬åŒ–ä¸ºäº†<code>WindowsPath</code>å¯¹è±¡ï¼Œä¸”è·¯å¾„é—®é¢˜ä¹Ÿè¢«ä¿®å¤äº†</p><h2 id="è·¯å¾„è·å–"><a href="#è·¯å¾„è·å–" class="headerlink" title="è·¯å¾„è·å–"></a>è·¯å¾„è·å–</h2><p>æœ€å¸¸ç”¨çš„å°±æ˜¯è·å–å½“å‰æ–‡ä»¶ã€æ–‡ä»¶å¤¹çš„è·¯å¾„</p><p>Pathå†…å®ç°äº†<code>__str__</code>çš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥å¾ˆå®¹æ˜“è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–å½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">print</span>(Path.cwd()) <span class="comment"># d:\Code\Python</span></span><br><span class="line"><span class="comment"># è·å¾—å½“å‰ç”µè„‘çš„ç”¨æˆ·è·¯å¾„ </span></span><br><span class="line"><span class="built_in">print</span>(Path.home()) <span class="comment"># C:\Users\zhang</span></span><br><span class="line"><span class="comment"># è·å–å½“å‰æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"><span class="built_in">print</span>(Path(__file__)) <span class="comment"># d:\Code\Python\pathlib_demo.py</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ è¾“å…¥çš„æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆä¼šè¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å¾—ç»å¯¹è·¯å¾„</span></span><br><span class="line">path = Path(<span class="string">&quot;pathlib_demo.py&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(path.resolve()) <span class="comment"># d:\Code\Python\pathlib_demo.py</span></span><br><span class="line"><span class="built_in">print</span>(path.absolute()) <span class="comment"># d:\Code\Python\pathlib_demo.py</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¾“å…¥ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è·å¾—ç›¸å¯¹è·¯å¾„</p><p>children.relative_to(father)æ–¹æ³•æ˜¯æŒ‡childrenç›¸å¯¹äºfatherçš„è·¯å¾„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path = Path(<span class="string">&quot;pathlib_demo.py&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(path.absolute().relative_to(Path.cwd())) <span class="comment"># pathlib_demo.py</span></span><br></pre></td></tr></table></figure><h2 id="çˆ¶ä¸å­è·¯å¾„"><a href="#çˆ¶ä¸å­è·¯å¾„" class="headerlink" title="çˆ¶ä¸å­è·¯å¾„"></a>çˆ¶ä¸å­è·¯å¾„</h2><p>æœ‰äº†è·¯å¾„ä¹‹åæˆ‘ä»¬ä¸ºäº†å®ç°è·¯å¾„çš„æ‹¼æ¥ï¼Œæœ‰æ—¶å€™éœ€è¦è·å–ä¸Šä¸€çº§ç›®å½•çš„è·¯å¾„,Pathå¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥åšåˆ°çš„ã€‚</p><p>æ‰¾åˆ°çˆ¶è·¯å¾„ä½¿ç”¨çš„æ˜¯<code>parent</code>æˆ–è€…<code>parents</code>å±æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">path = path.absolute()</span><br><span class="line"><span class="comment"># è·å¾—ä¸Šä¸€çº§çš„è·¯å¾„</span></span><br><span class="line"><span class="built_in">print</span>(path.parent) <span class="comment"># d:\Code\Python</span></span><br><span class="line"><span class="comment"># å¯ä»¥æ‰“å°å‡ºæ‰€æœ‰çš„çˆ¶è·¯å¾„ æœ€ä¸Šèƒ½åˆ°ç›˜ç¬¦ </span></span><br><span class="line"><span class="built_in">print</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> path.parents]) <span class="comment"># [WindowsPath(&#x27;d:/Code&#x27;), WindowsPath(&#x27;d:/&#x27;)]</span></span><br><span class="line"><span class="comment"># è·å–è·¯å¾„ç»„æˆ</span></span><br><span class="line"><span class="built_in">print</span>(path.parts) <span class="comment"># (&#x27;d:\\&#x27;, &#x27;Code&#x27;, &#x27;Python&#x27;, &#x27;pathlib_demo.py&#x27;)</span></span><br><span class="line"><span class="comment"># è·å–è·¯å¾„çš„æ ¹ç›®å½•</span></span><br><span class="line"><span class="built_in">print</span>(path.drive) <span class="comment"># d:</span></span><br><span class="line"><span class="comment"># è·å–è·¯å¾„çš„æ ¹ç›®å½•</span></span><br><span class="line"><span class="built_in">print</span>(path.root) <span class="comment"># \</span></span><br><span class="line"><span class="comment"># è·å–è·¯å¾„çš„åç§°</span></span><br><span class="line"><span class="built_in">print</span>(path.anchor) <span class="comment"># d:\</span></span><br></pre></td></tr></table></figure><p>æ‰¾åˆ°å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨<code>iterdir()</code>ï¼Œä½†æ˜¯ä»–ä¸ä¼šé€’å½’æŸ¥æ‰¾å­æ–‡ä»¶ä¸‹çš„æ–‡ä»¶ã€‚</p><p>å¦‚æœæƒ³è¦ç­›é€‰æ–‡ä»¶çš„ç±»å‹ï¼Œä½¿ç”¨<code>gloab()</code>å’Œ<code>rglob()</code>ï¼ˆä¼šé€’å½’å¯»æ‰¾å­æ–‡ä»¶ä¸‹çš„æ–‡ä»¶ï¼‰æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰å­è·¯å¾„ ä¸ä¼šé€’å½’æœç´¢å­æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">print</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> path.iterdir()])</span><br><span class="line"><span class="comment"># Path.glob() - æ‰«æå­è·¯å¾„ ä¸ä¼šé€’å½’æœç´¢å­æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment"># Path.rglob() - é€’å½’æ‰«æå­è·¯å¾„ ä¼šé€’å½’æœç´¢å­æ–‡ä»¶å¤¹ å¯ä»¥æŒ‡å®šæ–‡ä»¶ç±»å‹</span></span><br><span class="line"><span class="built_in">print</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> path.glob(<span class="string">&quot;*.py&quot;</span>)],<span class="built_in">len</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> path.glob(<span class="string">&quot;*.py&quot;</span>)]))</span><br><span class="line"><span class="built_in">print</span>([i <span class="keyword">for</span> i <span class="keyword">in</span> path.rglob(<span class="string">&quot;*&quot;</span>)])</span><br></pre></td></tr></table></figure><h2 id="è·¯å¾„æ‹¼æ¥"><a href="#è·¯å¾„æ‹¼æ¥" class="headerlink" title="è·¯å¾„æ‹¼æ¥"></a>è·¯å¾„æ‹¼æ¥</h2><p>Pathå¯¹è±¡ç›¸æ¯”<code>os.path.join()</code>æ–¹æ³•æ‹¼æ¥è·¯å¾„è¦æ–¹ä¾¿å¾—å¤šï¼Œç›´æ¥åœ¨å­—ç¬¦ä¸²å’ŒPathå¯¹è±¡ä¹‹é—´ä½¿ç”¨<code>/</code>å³å¯æ‹¼æ¥ã€‚</p><p>å¦‚æœæƒ³è¦æ›´åŠ çš„ç›´è§‚ï¼Œå¯ä»¥ä½¿ç”¨<code>Path.joinpath()</code>çš„æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">path = Path.cwd() <span class="comment">#  d:\Code\Python</span></span><br><span class="line"><span class="built_in">print</span>(path / <span class="string">&quot;test&quot;</span> / <span class="string">&quot;test1&quot;</span>) <span class="comment"># d:\Code\Python\test\test1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(path.joinpath(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;test1&quot;</span>)) <span class="comment"># d:\Code\Python\test\test1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(path.joinpath(<span class="string">&quot;test/test1&quot;</span>)) <span class="comment"># d:\Code\Python\test\test1</span></span><br></pre></td></tr></table></figure><h2 id="è·¯å¾„åˆæ³•æ£€æŸ¥"><a href="#è·¯å¾„åˆæ³•æ£€æŸ¥" class="headerlink" title="è·¯å¾„åˆæ³•æ£€æŸ¥"></a>è·¯å¾„åˆæ³•æ£€æŸ¥</h2><p>è·å¾—äº†ä¸€ä¸ªè·¯å¾„ï¼ŒPathä¼šè‡ªåŠ¨åˆæ³•åŒ–è·¯å¾„ï¼Œä½†æ˜¯ä¸ä¼šæ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œè¿™æ—¶å€™éœ€è¦è‡ªè¡Œåˆ¤æ–­æ˜¯å¦ä¸ºå­˜åœ¨ã€‚</p><p>ä½¿ç”¨åˆ¤æ–­æ–¹æ³•åä¼šæ ¹æ®æƒ…å†µè¿”å›ä¸€ä¸ªboolå€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="built_in">print</span>(path.exists()) <span class="comment"># true</span></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">print</span>(path.is_file()) <span class="comment"># true</span></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line"><span class="built_in">print</span>(path.is_dir()) <span class="comment"># false</span></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">print</span>(path.is_absolute()) <span class="comment"># false</span></span><br><span class="line"><span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯è½¯é“¾æ¥</span></span><br><span class="line"><span class="built_in">print</span>(path.is_symlink()) <span class="comment"># false</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶å±æ€§"><a href="#æ–‡ä»¶å±æ€§" class="headerlink" title="æ–‡ä»¶å±æ€§"></a>æ–‡ä»¶å±æ€§</h2><p>å¦‚æœå½“å‰è·¯å¾„ä¸ºæ–‡ä»¶è·¯å¾„ä¸”å­˜åœ¨çš„è¯ï¼ŒPathè¿˜æä¾›äº†ä¸€äº›æ–¹æ³•æ¥è·å¾—æ–‡ä»¶çš„åŸºæœ¬å±æ€§</p><p>æ–‡ä»¶çš„å…·ä½“ä¿¡æ¯ä½¿ç”¨çš„æ˜¯<code>stat()</code>æ–¹æ³•ï¼Œä»–ä¼šè¿”å›æ–‡ä»¶çš„æ‰€æœ‰å±æ€§ä¿¡æ¯ï¼Œå¸¸ç”¨çš„æœ‰ï¼š</p><ul><li>st_size æ–‡ä»¶å¤§å° å•ä½æ˜¯byte</li><li>st_ctime åœ¨ Windows ç³»ç»Ÿä¸­ï¼Œè¿™æ˜¯æ–‡ä»¶åˆ›å»ºçš„æ—¶é—´ã€‚å•ä½æ˜¯ç§’</li><li>st_mtime æ–‡ä»¶æœ€åä¿®æ”¹çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</li><li>st_atime æ–‡ä»¶æœ€åè®¿é—®çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</li></ul><p>è·å¾—æ—¶é—´å¤§å°éƒ½æ˜¯ä» 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC å¼€å§‹è®¡ç®—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å¾—æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">print</span>(path.name)</span><br><span class="line"><span class="comment"># è·å¾—æ–‡ä»¶åç¼€</span></span><br><span class="line"><span class="built_in">print</span>(path.suffix)</span><br><span class="line"><span class="comment"># è·å¾—æ–‡ä»¶åä¸å¸¦åç¼€</span></span><br><span class="line"><span class="built_in">print</span>(path.stem)</span><br><span class="line"><span class="comment"># è·å¾—æ–‡ä»¶å…·ä½“ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(path.stat())</span><br><span class="line"><span class="comment"># è·å–æ–‡ä»¶å¤§å° å•ä½byte</span></span><br><span class="line"><span class="built_in">print</span>(path.stat().st_size)</span><br><span class="line"><span class="comment"># è·å–æ–‡ä»¶åˆ›å»ºæ—¶é—´ æ—¶é—´æˆ³</span></span><br><span class="line"><span class="built_in">print</span>(path.stat().st_ctime)</span><br><span class="line"><span class="comment"># è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´ æ—¶é—´æˆ³</span></span><br><span class="line"><span class="built_in">print</span>(path.stat().st_mtime)</span><br><span class="line"><span class="comment"># è·å–æ–‡ä»¶è®¿é—®æ—¶é—´ æ—¶é—´æˆ³</span></span><br><span class="line"><span class="built_in">print</span>(path.stat().st_atime)</span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ˜¯<code>stat()</code>ä¸­è¿”å›çš„æ—¶é—´æ˜¯æ—¶é—´æˆ³çš„å½¢å¼ï¼Œå¦‚æœè¦æ ¼å¼åŒ–ï¼Œå¯ä»¥ä½¿ç”¨<code>datetime</code>æ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è½¬åŒ–ä¸ºè§„åˆ™æ—¶é—´</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="built_in">print</span>(datetime.fromtimestamp(path.stat().st_ctime)) <span class="comment"># 2024-04-10 18:13:35.900849</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰äº›ä¸å¸¸ç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ä¿®æ”¹æ–‡ä»¶åå’Œæ–‡ä»¶åç¼€ï¼ˆåªæ˜¯ä¿®æ”¹äº†Pathçš„å€¼ï¼ŒçœŸå®çš„æ–‡ä»¶åå’Œåç¼€æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œè¦çœŸæ­£ä¿®æ”¹éœ€è¦ä½¿ç”¨<code>path.rename()</code>æ–¹æ³•ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹æ–‡ä»¶åç¼€</span></span><br><span class="line"><span class="built_in">print</span>(path.with_suffix(<span class="string">&quot;.txt&quot;</span>)) <span class="comment"># d:\Code\Python\pathlib_demo.txt</span></span><br><span class="line"><span class="comment"># ä¿®æ”¹æ–‡ä»¶å</span></span><br><span class="line"><span class="built_in">print</span>(path.with_name(<span class="string">&quot;new_name.py&quot;</span>)) <span class="comment"># d:\Code\Python\new_name.py</span></span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h2><p>Pathä¸ä»…æ”¯æŒå¯¹ç°æœ‰è·¯å¾„çš„æ“ä½œï¼Œæ”¯æŒä½¿ç”¨<code>touch()</code>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æˆ–ä½¿ç”¨<code>mkdir()</code>åˆ›å»ºä¸€ä¸ªç›®å½•</p><p>åˆ é™¤ç›®å½•ä¹‹å‰ï¼Œæœ€å¥½è¦ä½¿ç”¨<code>path.exists()</code>æ¥åˆ¤æ–­ä¸€ä¸‹å½“å‰æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">path = Path(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line">path.touch()</span><br><span class="line"><span class="comment"># åˆ é™¤æ–‡ä»¶</span></span><br><span class="line">path.unlink()</span><br><span class="line"></span><br><span class="line">path = Path(<span class="string">&quot;test&quot;</span>)</span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½• ç›®å½•ä¸èƒ½å­˜åœ¨ å­˜åœ¨ä¼šæŠ¥é”™</span></span><br><span class="line">path.mkdir()</span><br><span class="line"><span class="comment"># åˆ é™¤ç›®å½•</span></span><br><span class="line">path.rmdir()</span><br><span class="line"><span class="comment"># é‡å‘½å</span></span><br><span class="line">path = Path(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">path.rename(<span class="string">&quot;test1&quot;</span>)</span><br><span class="line"><span class="comment"># è½¬ç§»</span></span><br><span class="line">path = Path(<span class="string">&quot;test1&quot;</span>)</span><br><span class="line">path.replace(<span class="string">&quot;test&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="æ‰“å¼€å’Œå†™å…¥æ–‡ä»¶"><a href="#æ‰“å¼€å’Œå†™å…¥æ–‡ä»¶" class="headerlink" title="æ‰“å¼€å’Œå†™å…¥æ–‡ä»¶"></a>æ‰“å¼€å’Œå†™å…¥æ–‡ä»¶</h2><p>Pathè¿˜æ”¯æŒæ‰“å¼€æ–‡ä»¶,è€Œä¸”è¿˜æ”¯æŒ<code>with</code>è¿™ç§ä¸Šä¸‹æ–‡æ‰“å¼€çš„æ–¹å¼ã€‚</p><p>å¸¸è§çš„æ‰“å¼€æ¨¡å¼éƒ½æ˜¯æ”¯æŒçš„</p><ul><li>w å†™å…¥ ä¼šè¦†ç›–ä¹‹å‰çš„è®°å½•</li><li>a è¿½åŠ  åœ¨åŸè®°å½•ä¹‹ä¸‹è¿½åŠ ä¿¡æ¯</li><li>r è¯»å– åªè¯»å–æ–‡ä»¶</li></ul><p>å†™å…¥å’Œè¯»å–éƒ½æ”¯æŒ<code>write_text()</code>å’Œ<code>write_bytes()</code>è¿™ä¸¤ç§æ–¹å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">path = Path(<span class="string">&quot;test.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Path.write_text() - å†™å…¥æ–‡ä»¶ ä¼šè¦†ç›–åŸæ–‡ä»¶</span></span><br><span class="line">path.write_text(<span class="string">&quot;test text&quot;</span>)</span><br><span class="line"><span class="comment"># Path.read_text() - è¯»å–æ–‡ä»¶ æ–‡æœ¬</span></span><br><span class="line"><span class="built_in">print</span>(path.read_text()) <span class="comment"># test text</span></span><br><span class="line"><span class="comment"># Path.write_bytes() - å†™å…¥æ–‡ä»¶ ä¼šè¦†ç›–åŸæ–‡ä»¶</span></span><br><span class="line">path.write_bytes(<span class="string">b&quot;test bytes&quot;</span>) </span><br><span class="line"><span class="comment"># Path.read_bytes() - è¯»å–æ–‡ä»¶ äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(path.read_bytes()) <span class="comment"># b&quot;test bytes&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path.open() - æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">with</span> path.<span class="built_in">open</span>(<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> path.<span class="built_in">open</span>(<span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(f.read()) <span class="comment"># hello world</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> è·¯å¾„æ“ä½œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-è¾“å‡ºæ ¼å¼åŒ–</title>
      <link href="/post/print-format/"/>
      <url>/post/print-format/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä»¬åœ¨ä½¿ç”¨<code>print</code>è¾“å‡ºç»“æœçš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ä¼šéœ€è¦æŒ‡å®šç‰¹å®šçš„æ ¼å¼ã€‚æ¯”å¦‚æ‰“å°ä¿ç•™ä¸¤ä½å°æ•°ï¼Œè¿™æ—¶å€™å¯èƒ½ä¼šç›´æ¥æƒ³åˆ°<code>round</code>æ–¹æ³•å°†ç»“æœå¤šè¿›è¡Œä¸€æ¬¡å¤„ç†ã€‚äº‹å®ä¸Šè¿˜æœ‰æ›´ç®€å•çš„æ ¼å¼åŒ–æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num1:<span class="number">.2</span>f&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æœ¬ç¯‡åšå®¢ä¼šæ€»ç»“ä¸€äº›å¸¸ç”¨çš„è¾“å‡ºæ ¼å¼åŒ–å½¢å¼ã€‚</p><h2 id="å¤§æ•°å­—æ ¼å¼åŒ–"><a href="#å¤§æ•°å­—æ ¼å¼åŒ–" class="headerlink" title="å¤§æ•°å­—æ ¼å¼åŒ–"></a>å¤§æ•°å­—æ ¼å¼åŒ–</h2><p>å‡è®¾ä½ å®šä¹‰äº†ä¸€ä¸ªå€¼ä¸º<code>10000000000</code>çš„å˜é‡ã€‚å¦‚æœç›´æ¥è¾“å‡ºçš„è¯éå¸¸ä¸ç›´è§‚ï¼Œå› ä¸ºä½ å¾ˆéš¾ä¸€æ¬¡æ€§çœ‹æ¸…åˆ°åº•æœ‰å¤šå°‘ä¸ªé›¶ã€‚</p><p>åœ¨ç”Ÿæ´»ä¸­æˆ‘ä»¬å¸¸è§å¤„ç†æ–¹æ³•æ˜¯æ¯ä¸‰ä¸ªé›¶æ·»åŠ ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œå¦‚<code>10,000,000,000</code></p><p>Pythonä¸­ä¹Ÿæä¾›äº†ç›¸åº”çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">num: <span class="built_in">int</span> = <span class="number">10000000000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:,&#125;</span>&#x27;</span>) <span class="comment"># 10,000,000,000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:_&#125;</span>&#x27;</span>) <span class="comment"># 10_000_000_000</span></span><br></pre></td></tr></table></figure><blockquote><p>äº‹å®ä¸Šé»˜è®¤åªæ”¯æŒè¿™ä¸¤ä¸ªåˆ†éš”ç¬¦</p></blockquote><h2 id="å­—ç¬¦ä¸²æ ¼å¼åŒ–"><a href="#å­—ç¬¦ä¸²æ ¼å¼åŒ–" class="headerlink" title="å­—ç¬¦ä¸²æ ¼å¼åŒ–"></a>å­—ç¬¦ä¸²æ ¼å¼åŒ–</h2><p>æœ‰æ—¶å€™å­—ç¬¦ä¸²è¾“å‡ºé•¿çŸ­ä¸ä¸€ï¼Œä¸ºäº†ç¾è§‚è¾“å‡ºï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨<code>\t</code>åˆ¶è¡¨ç¬¦(ç›¸å½“äºå…«ä¸ªå­—ç¬¦é•¿åº¦)æ¥å¡«å……å­—ç¬¦æ¥è¾¾åˆ°æ•´é½æ ¼å¼è¾“å‡ºçš„æ•ˆæœã€‚</p><p>ç°åœ¨æœ‰äº†æ›´åŠ ç®€ä¾¿çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var: <span class="built_in">str</span> = <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:^<span class="number">10</span>&#125;</span>World&#x27;</span>) <span class="comment">#    Hello   World</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ•°å­—10è¡¨ç¤ºå°†è¾“å‡ºå¡«å……åˆ°10ä¸ªå­—ç¬¦ï¼Œå‡å¦‚å­—ç¬¦ä¸²ä¸åˆ°10ä¸ªå­—ç¬¦ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¿›è¡Œå¡«å……ï¼Œä¹Ÿå¯ä»¥åœ¨å†’å·åæŒ‡å®šç¬¦å·è¿›è¡Œå¡«å……ï¼Œå¦‚ï¼š<code>_</code>,<code>.</code>,<code>*</code>ã€‚</p><p>ä¸­é—´çš„ç¬¦å·å«ä¹‰ä¸ºï¼š</p><ul><li>^ å±…ä¸­å¯¹é½</li><li>&lt; å·¦å¯¹é½</li><li>&gt; å³å¯¹é½</li></ul><p>è¿™æ ·å¯ä»¥çµæ´»å®šåˆ¶å„ç§è¾“å‡ºæ ¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;var:_&gt;<span class="number">10</span>&#125;</span>World&quot;</span>) <span class="comment"># _____HelloWorld</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:.&lt;<span class="number">10</span>&#125;</span>World&#x27;</span>) <span class="comment"># Hello.....World</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var:*^<span class="number">10</span>&#125;</span>World&#x27;</span>) <span class="comment"># **Hello***World</span></span><br></pre></td></tr></table></figure><h2 id="æ—¥æœŸæ ¼å¼åŒ–"><a href="#æ—¥æœŸæ ¼å¼åŒ–" class="headerlink" title="æ—¥æœŸæ ¼å¼åŒ–"></a>æ—¥æœŸæ ¼å¼åŒ–</h2><p>æˆ‘ä»¬ä½¿ç”¨å„ç§æ—¶é—´åº“è·å–çš„æ—¶é—´éƒ½æ˜¯æ—¶é—´æˆ³çš„å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨å„ç§å“­å°†å…¶è½¬åŒ–ä¸ºæˆ‘ä»¬æƒ³è¦çš„æ ¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> babel.dates <span class="keyword">import</span> format_datetime</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> strftime</span><br><span class="line"></span><br><span class="line">now: datetime = datetime.now()</span><br><span class="line"><span class="built_in">print</span>(format_datetime(now, <span class="string">&#x27;yyyy-MM-dd HH:mm:ss&#x27;</span>, locale=<span class="string">&#x27;en&#x27;</span>)) <span class="comment"># 2024-05-23 16:44:10</span></span><br><span class="line"><span class="built_in">print</span>(strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)) <span class="comment"># 2024-05-23 16:44:10</span></span><br><span class="line"><span class="built_in">print</span>(datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)) <span class="comment"># 2024-05-23 16:44:10</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåªæƒ³è¾“å‡ºçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨æ›´åŠ ç®€å•çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">now: datetime = datetime.now()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%Y-%m-%d %H:%M:%S&#125;</span>&#x27;</span>) <span class="comment"># 2024-05-23 16:44:10</span></span><br></pre></td></tr></table></figure><p>å…³é”®å‚æ•°çš„è§£é‡Šï¼š</p><ul><li>%Y-%m-%d ä¾æ¬¡ä¸º å¹´-æœˆ-æ—¥ </li><li>%H:%M:%S ä¾æ¬¡ä¸º æ—¶-åˆ†-ç§’ é»˜è®¤ä¸º24å°æ—¶åˆ¶</li><li>%p è¡¨ç¤ºä¸Šåˆæˆ–ä¸‹åˆçš„æ ‡è¯†ï¼ŒAM æˆ– PMã€‚</li><li>%c è¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´çš„å®Œæ•´æ ¼å¼ï¼Œä¾‹å¦‚ï¼šâ€™Tue Aug 16 21:30:00 1988â€™ã€‚</li><li>%x è¡¨ç¤ºæ—¥æœŸï¼ˆæœˆ&#x2F;æ—¥&#x2F;å¹´ï¼‰çš„æ ¼å¼</li><li>%I è¡¨ç¤º12å°æ—¶åˆ¶</li><li>%H è¡¨ç¤º24å°æ—¶åˆ¶</li><li>%A è¡¨ç¤ºæ˜ŸæœŸ</li></ul><p>å¯ä»¥ä½¿ç”¨è¿™äº›å‚æ•°çµæ´»è¾“å‡ºæ—¶é—´ä¿¡æ¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%Y-%m-%d %I:%M:%S %p&#125;</span>&#x27;</span>) <span class="comment"># 2024-05-23 04:44:10 PM</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%Y-%m-%d&#125;</span>&#x27;</span>) <span class="comment"># 2024-05-23</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%c&#125;</span>&#x27;</span>) <span class="comment"># Tue May 23 16:44:10 2024</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%x&#125;</span>&#x27;</span>) <span class="comment"># 05/23/24</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%A&#125;</span>&#x27;</span>) <span class="comment"># Tuesday</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%I%p&#125;</span>&#x27;</span>) <span class="comment"># 04PM</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;now:%H%p&#125;</span>&#x27;</span>) <span class="comment"># 16PM</span></span><br></pre></td></tr></table></figure><h2 id="æµ®ç‚¹æ•°æ ¼å¼åŒ–"><a href="#æµ®ç‚¹æ•°æ ¼å¼åŒ–" class="headerlink" title="æµ®ç‚¹æ•°æ ¼å¼åŒ–"></a>æµ®ç‚¹æ•°æ ¼å¼åŒ–</h2><p>æ ¹æ®é¡¹ç›®è¦æ±‚çš„ç²¾åº¦çš„ä¸åŒï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸åŒçš„ç²¾åº¦æ ¼å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">n: <span class="built_in">float</span> = <span class="number">1234.5678</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:,<span class="number">.2</span>f&#125;</span>&#x27;</span>) <span class="comment"># 1,234.57</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.2</span>%&#125;</span>&#x27;</span>)  <span class="comment"># 123456.78%</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;n:<span class="number">.2</span>e&#125;</span>&#x27;</span>) <span class="comment"># 1.23e+03</span></span><br></pre></td></tr></table></figure><p>ç”šè‡³æ”¯æŒè¿›åˆ¶çš„ç›¸äº’è½¬åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">num: <span class="built_in">int</span> = <span class="number">10000000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°å†™16è¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:x&#125;</span>&#x27;</span>) <span class="comment"># 2540be400</span></span><br><span class="line"><span class="comment"># å¤§å†™16è¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:X&#125;</span>&#x27;</span>) <span class="comment"># 2540BE400</span></span><br><span class="line"><span class="comment"># äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:b&#125;</span>&#x27;</span>) <span class="comment"># 101111101000000110101000000000000</span></span><br><span class="line"><span class="comment"># å…«è¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:o&#125;</span>&#x27;</span>) <span class="comment"># 113705140000</span></span><br><span class="line"><span class="comment"># åè¿›åˆ¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;num:d&#125;</span>&#x27;</span>) <span class="comment"># 10000000000</span></span><br></pre></td></tr></table></figure><h2 id="å¥‡æ€ªçš„ç‰¹æ€§"><a href="#å¥‡æ€ªçš„ç‰¹æ€§" class="headerlink" title="å¥‡æ€ªçš„ç‰¹æ€§"></a>å¥‡æ€ªçš„ç‰¹æ€§</h2><p>æˆ‘ä»¬åœ¨è¾“å‡ºç­‰å¼çš„æ—¶å€™ä¸€èˆ¬éƒ½ä¼šè¿™ä¹ˆåš</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a:<span class="built_in">int</span> = <span class="number">2</span></span><br><span class="line">b:<span class="built_in">int</span> = <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;a+b = <span class="subst">&#123;a+b&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure><p>äº‹å®ä¸Šåœ¨Python3.8ä¹‹åå¼•å…¥äº†ä¸€ä¸ªæ–°çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥çœå»å‰é¢çš„è¯´æ˜æ–‡å­—ï¼Œç›´æ¥ä½¿ç”¨<code>&#123;è¡¨è¾¾å¼=&#125;</code>çš„å½¢å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a: <span class="built_in">int</span> = <span class="number">5</span></span><br><span class="line">b: <span class="built_in">int</span> = <span class="number">10</span></span><br><span class="line">my_var: <span class="built_in">str</span> = <span class="string">&#x27;Format Hit&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;a+b=&#125;</span>&quot;</span>) <span class="comment"># a+b=15</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;<span class="built_in">bool</span>(a) = &#125;</span>&quot;</span>) <span class="comment"># bool(a) = True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;my_var = &#125;</span>&quot;</span>) <span class="comment"># my_var = &#x27;Format Hit&#x27;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> format </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python-Typingç±»å‹æ³¨é‡Šå®è·µ</title>
      <link href="/post/typing/"/>
      <url>/post/typing/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒPythonæ˜¯ä¸€é—¨åŠ¨æ€ç±»å‹çš„è¯­è¨€ï¼Œå®ƒä¸éœ€è¦ä½ æŒ‡å®šå˜é‡çš„ç±»å‹ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨çš„ç±»å‹åˆ¤æ–­ï¼Œè¿™æ–¹ä¾¿äº†å­¦ä¹ è€…å’Œä»£ç ç¼–å†™è€…ï¼Œä½†æ˜¯å½“é¡¹ç›®è¶Šæ¥è¶Šåºå¤§çš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå¿˜è®°ä¹‹å‰ç¼–å†™çš„å˜é‡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„é”™è¯¯ã€‚</p><p>å¦å¤–ï¼Œæˆ‘ä»¬åœ¨æ—¥å¸¸çš„ç¼–ç¨‹ä¸­å…¶å®ä¹Ÿç»å¸¸é‡åˆ°ï¼Œå˜é‡åµŒå¥—ä½¿ç”¨å¤šäº†ä¹‹åå‘ç°IDEå·²ç»æ— æ³•ç»™å‡ºæ–¹æ³•è¡¥å…¨æç¤ºï¼Œè¿™æ˜¯å› ä¸ºPythonè§£é‡Šå™¨å·²ç»æ— æ³•å¾—çŸ¥å˜é‡çš„åˆå§‹ç±»å‹ï¼Œé»˜è®¤å°†ç±»å‹å®šä¹‰ä¸º<code>Any</code>ã€‚åŠ ä¸Šç±»å‹æ³¨é‡Šåï¼Œå°±èƒ½æ­£ç¡®å¾—åˆ°ç›¸åº”çš„æ–¹æ³•è¡¥å…¨æç¤ºã€‚</p><h2 id="ä»€ä¹ˆæ˜¯typingï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯typingï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯typingï¼Ÿ"></a>ä»€ä¹ˆæ˜¯typingï¼Ÿ</h2><p>ç®€å•æ¥è¯´å°±æ˜¯Pythonå®˜æ–¹ç”¨æ¥åŠ å¼ºé™æ€ç±»å‹æ£€æŸ¥çš„ä¸€ä¸ªåº“ï¼Œæœ‰å¾ˆå¤šå¥½å¤„ï¼Œæœ¬èº«æ›´å¤šæ˜¯ä¸ºäº†åœ¨å¤§å‹é¡¹ç›®è§„èŒƒæ•°æ®çš„ç±»å‹ï¼Œä»¥æ–¹ä¾¿å¼€å‘ã€‚</p><ul><li>å¯ä»¥è¿è¡Œå‰æå‰å‘ç°ç¼–å†™ä»£ç æ—¶å‡ºç°çš„é”™è¯¯ï¼Œé€šè¿‡<code>Pylance</code>å’Œ<code>Mypy</code>ç­‰é™æ€æ£€æŸ¥å™¨å¯ä»¥æ£€æŸ¥å‡ºé”™è¯¯</li><li>å¯ä»¥é™åˆ¶ç”¨æˆ·çš„è¾“å…¥,æ‚¬åœå¯ä»¥å¾—åˆ°å‡½æ•°çš„æ–‡æ¡£æç¤º</li><li>å†™ä»£ç æ—¶å¯ä»¥æœ‰æç¤ºè¡¥å…¨ï¼ˆå¦‚æœä¸å†™å˜é‡çš„ç±»å‹ï¼Œé»˜è®¤ä¸º<code>Any</code>ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a:<span class="built_in">int</span>,b:<span class="built_in">int</span></span>)-&gt;<span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line"></span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="typing-å’Œtyping-extensions"><a href="#typing-å’Œtyping-extensions" class="headerlink" title="typing å’Œtyping_extensions"></a>typing å’Œtyping_extensions</h2><p><code>typing</code>æ˜¯<code>Python3.5</code>å¼•å…¥çš„é»˜è®¤åº“ï¼Œå¯ä»¥ç›´æ¥å¯¼å…¥ã€‚ä¸ºäº†è®©å…¶ä»–ç‰ˆæœ¬ä¹Ÿèƒ½ä½¿ç”¨typingï¼Œå®˜æ–¹åˆ›å»ºäº†ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“<code>typing_extension</code>æ¥å‘ä¸‹å…¼å®¹</p><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install typing_extensions -U</span><br></pre></td></tr></table></figure><h2 id="VsCodeè®¾ç½®ç±»å‹æ£€æŸ¥"><a href="#VsCodeè®¾ç½®ç±»å‹æ£€æŸ¥" class="headerlink" title="VsCodeè®¾ç½®ç±»å‹æ£€æŸ¥"></a>VsCodeè®¾ç½®ç±»å‹æ£€æŸ¥</h2><p>åœ¨Pylanceæ‰©å±•ä¸­å°† <code>Type Checking Mode</code> ä» off â€“&gt; basic</p><p>åœ¨Pythonæ‰©å±•ä¸­å°†<code>Language Serve</code>æ”¹ä¸ºPylance</p><blockquote><p>PyCharmä¸éœ€è¦è‡ªå·±è®¾ç½®</p></blockquote><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>ç±»å‹æ³¨è§£å†™åœ¨å˜é‡æˆ–è€…å‡½æ•°çš„åé¢ï¼Œå˜é‡éœ€è¦åŠ ä¸Š<code>:</code>ï¼Œå‡½æ•°è¿”å›å€¼éœ€è¦åŠ ä¸Š<code>-&gt;</code></p><p>åŸºç¡€çš„ç±»å‹åˆ†ä¸º</p><ul><li>int</li><li>float</li><li>bool</li><li>str</li><li>bytes</li><li>Any</li><li>Tuple</li><li>List,</li><li>Dict</li></ul><p>åœ¨Python3.9ä¹‹å‰ï¼Œåªèƒ½é€šè¿‡å¯¼å…¥<code>List[int]</code>å’Œ<code>Dict[int]</code>æ¥å®šä¹‰listå’Œdictç±»å‹ï¼ŒPython3.9ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨<code>list[int]</code>å’Œ<code>dict[str,int]</code>æ¥åšå®šä¹‰ç±»å‹(å‰é¢æ˜¯é”®ï¼Œåé¢æ˜¯å€¼)ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Dict</span></span><br><span class="line"></span><br><span class="line">my_dict: <span class="type">Dict</span>[<span class="built_in">str</span>, <span class="built_in">int</span>] = &#123;<span class="string">&quot;å£¹&quot;</span>: <span class="number">1</span>, <span class="string">&quot;è´°&quot;</span>: <span class="number">2</span>, <span class="string">&quot;å&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_dict)</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç±»ä½œä¸ºæ³¨è§£"><a href="#ä½¿ç”¨ç±»ä½œä¸ºæ³¨è§£" class="headerlink" title="ä½¿ç”¨ç±»ä½œä¸ºæ³¨è§£"></a>ä½¿ç”¨ç±»ä½œä¸ºæ³¨è§£</h2><p>å¦‚æœç±»éƒ½æ˜¯åœ¨ä¸€ä¸ªå®Œæ•´çš„Pythonæ–‡ä»¶ä¸­å®šä¹‰ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ç±»åå³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ç‹è€å¸ˆ&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_teacher_name</span>(<span class="params">self, student</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> student.get_name()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å¼ ä¸‰&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_teacher_name</span>(<span class="params">self, teacher: Teacher</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> teacher.get_name()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">t = Teacher()</span><br><span class="line"><span class="built_in">print</span>(s.get_name()) <span class="comment"># å¼ ä¸‰</span></span><br><span class="line"><span class="built_in">print</span>(s.get_teacher_name(t)) <span class="comment"># ç‹è€å¸ˆ</span></span><br></pre></td></tr></table></figure><p>å¦‚æœ<code>Teacher</code>åœ¨å¦ä¸€ä¸ªPythonæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨å…¶ä»–çš„æ–¹æ³•ã€‚</p><p>å¦‚ä¸‹éœ€è¦ç»™<code>get_student_name</code>å†™ä¸Šç±»å‹æç¤ºï¼Œå¦‚æœç›´æ¥å¯¼å…¥<code>Student</code>ä¼šå‡ºç°<code>most likely due to a circular import</code>çš„æŠ¥é”™ï¼Œè¿™æ—¶å€™éœ€è¦ä½¿ç”¨<code>TYPE_CHECKING</code>æ¥è™šå‡å¯¼å…¥ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸å¯¼å…¥çš„æƒ…å†µä¸‹è·å¾—ç±»å‹çš„æç¤ºã€‚</p><p>å› ä¸ºæ˜¯è™šå‡å¯¼å…¥ï¼Œä¿®æ”¹åæŠ¥é”™ä¸º<code>NameError: name &#39;Student&#39; is not defined</code>ï¼Œè¿™æ—¶å€™å¯ä»¥ç»™<code>Student</code>åŠ ä¸Šâ€™â€™æ¥æ¶ˆé™¤æŠ¥é”™ã€‚</p><p>æœ€ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•æ˜¯åœ¨å¼€å¤´ï¼ˆä¸€å®šè¦åœ¨å¼€å¤´ï¼‰å¯¼å…¥<code>from __future__ import annotations</code>ï¼Œè¿™æ ·å°±ä¸éœ€è¦å†™â€™â€™ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> annotations</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> TYPE_CHECKING</span><br><span class="line"></span><br><span class="line"><span class="comment"># TYPE_CHECKINGé»˜è®¤ä¸ºFalse</span></span><br><span class="line"><span class="keyword">if</span> TYPE_CHECKING:</span><br><span class="line">    <span class="comment"># è™šå‡å¯¼å…¥</span></span><br><span class="line">    <span class="keyword">from</span> student <span class="keyword">import</span> Student</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ç‹è€å¸ˆ&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_student_name</span>(<span class="params">self, student:Student</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> student.get_name()</span><br></pre></td></tr></table></figure><h2 id="finalå’ŒFinal"><a href="#finalå’ŒFinal" class="headerlink" title="finalå’ŒFinal"></a>finalå’ŒFinal</h2><p><code>Final</code>æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè¡¨ç¤ºå€¼ä¸å¯è¢«ä¿®æ”¹ï¼ˆå®é™…ä¸Šä¹Ÿåªæ˜¯ä¸€ä¸ªè­¦å‘Šï¼Œä¿®æ”¹è¿˜æ˜¯èƒ½æˆåŠŸçš„ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A: Final[<span class="built_in">int</span>] = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">A = <span class="number">11</span> <span class="comment"># å‡ºç°è­¦å‘Š</span></span><br></pre></td></tr></table></figure><p><code>final</code>æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œç”¨å®ç°ç±»ä¸­ä¸å¯é‡å†™çš„æ–¹æ³•ï¼Œä¸€æ—¦è¢«é‡å†™å°±ä¼šå‡ºç°è­¦å‘Šã€‚ï¼ˆè¿™ä¸ªè­¦å‘Šéœ€è¦å°†<code>Pylance</code>çš„æ£€æŸ¥ç­‰çº§ä¸Šå‡åˆ°standardï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"><span class="meta">    @final</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Person</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>: <span class="comment"># è­¦å‘Š</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å¼ ä¸‰&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_teacher_name</span>(<span class="params">self, teacher: Teacher</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> teacher.get_name()</span><br></pre></td></tr></table></figure><h2 id="castå¼ºåˆ¶ç±»å‹è½¬åŒ–"><a href="#castå¼ºåˆ¶ç±»å‹è½¬åŒ–" class="headerlink" title="castå¼ºåˆ¶ç±»å‹è½¬åŒ–"></a>castå¼ºåˆ¶ç±»å‹è½¬åŒ–</h2><p>å®é™…ä¸Šæ˜¯æ¬ºéª—ç±»å‹æ£€æŸ¥å™¨çš„ã€‚</p><p>éœ€è¦å…ˆä»<code>typing</code>ä¸­å¯¼å…¥<code>cast</code>ã€‚</p><p><code>cast</code>æœ‰ä¸¤ä¸ªå‚æ•°</p><ol><li>ç¬¬ä¸€ä¸ª - ç±»å‹æ£€æŸ¥å™¨å¸Œæœ›å¾—åˆ°çš„ç±»å‹</li><li>ç¬¬äºŒä¸ª - å®é™…è¿”å›çš„ç±»å‹</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> cast</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Person</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_name</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="comment"># return None</span></span><br><span class="line">        <span class="keyword">return</span> cast(<span class="built_in">str</span>, <span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_teacher_name</span>(<span class="params">self, teacher: Teacher</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> teacher.get_name()</span><br></pre></td></tr></table></figure><h2 id="ç±»å‹æ³¨è§£é€‰é¡¹"><a href="#ç±»å‹æ³¨è§£é€‰é¡¹" class="headerlink" title="ç±»å‹æ³¨è§£é€‰é¡¹"></a>ç±»å‹æ³¨è§£é€‰é¡¹</h2><p>å¸¸ç”¨åœ¨è¾“å…¥çš„å€¼å¯ä»¥æ˜¯å¤šä¸ªç±»å‹çš„æ—¶å€™</p><ul><li><code>Union[T1,T2]</code> è¡¨ç¤ºæ—¢å¯ä»¥æ˜¯T1ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯T2ç±»å‹</li><li><code>Optional[T]</code> è¡¨ç¤ºæ—¢å¯ä»¥æ˜¯Tç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯Noneç±»å‹(åªèƒ½å†™ä¸€ä¸ªå‚æ•°ç±»å‹)</li></ul><p>å¦‚æœæ˜¯åœ¨Python3.10çš„ç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>T1|T2</code>æ¥è¡¨ç¤ºå¯ä»¥æ˜¯T1ä¹Ÿå¯ä»¥æ˜¯T2ç±»å‹</p><blockquote><p>å®é™…ä¸ŠOptional[T]ç­‰ä»·äºUnion[T, None]</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Final, final, cast, <span class="type">Union</span>,<span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Person</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        <span class="comment"># ä¸‰ç§å†™æ³•ç­‰ä»·</span></span><br><span class="line">        <span class="comment"># self._teacher: Optional[Teacher] = None</span></span><br><span class="line">        <span class="comment"># self._teacher: Union[Teacher,None] = None</span></span><br><span class="line">        self._teacher: Teacher|<span class="literal">None</span> = <span class="literal">None</span></span><br></pre></td></tr></table></figure><h2 id="ç‰¹æ®Šçš„ç±»å‹"><a href="#ç‰¹æ®Šçš„ç±»å‹" class="headerlink" title="ç‰¹æ®Šçš„ç±»å‹"></a>ç‰¹æ®Šçš„ç±»å‹</h2><ul><li><code>Self</code> - è¿”å›ç±»æœ¬èº« å¤šç”¨äºé“¾å¼ç¼–ç¨‹</li><li><code>ClassVar</code> - æç¤ºclasså±æ€§å€¼è¢«å®ä¾‹åŒ–å¯¹è±¡ä¿®æ”¹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Self, ClassVar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Number</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self._num: <span class="built_in">int</span> = num</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_one</span>(<span class="params">self</span>) -&gt; Self:</span><br><span class="line">        self._num += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">multiply_two</span>(<span class="params">self</span>) -&gt; Self:</span><br><span class="line">        self._num *= <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">str</span>(self._num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">n: Number = Number(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(n.add_one().multiply_two().add_one()) <span class="comment"># 23</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ClassVaråï¼Œç±»çš„å±æ€§å€¼å°±åªèƒ½è¢«ç±»è‡ªèº«ä¿®æ”¹ï¼Œè€Œä¸èƒ½è¢«å®ä¾‹åŒ–ä¿®æ”¹ï¼ˆå®é™…ä¸Šè¿˜æ˜¯å¯ä»¥æˆåŠŸä¿®æ”¹ï¼Œåªæ˜¯ä¼šæœ‰è­¦å‘Šï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> ClassVar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    name: ClassVar[<span class="built_in">str</span>] = <span class="string">&quot;å¼ ä¸‰&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    p: Person = Person()</span><br><span class="line">    <span class="built_in">print</span>(p.name)  <span class="comment"># å¼ ä¸‰</span></span><br><span class="line">    p.name = <span class="string">&quot;æå››&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(p.name)  <span class="comment"># æå››</span></span><br><span class="line">    <span class="built_in">print</span>(Person.name)  <span class="comment"># å¼ ä¸‰</span></span><br></pre></td></tr></table></figure><h2 id="Literalå­—ç¬¦ä¸²è¡¥å…¨"><a href="#Literalå­—ç¬¦ä¸²è¡¥å…¨" class="headerlink" title="Literalå­—ç¬¦ä¸²è¡¥å…¨"></a>Literalå­—ç¬¦ä¸²è¡¥å…¨</h2><p>ç›¸æ¯”ä¹‹å‰çš„ç±»å‹å®šä¹‰åªèƒ½è¿›è¡Œæ£€æŸ¥ï¼Œ<code>Literal</code>å¯ä»¥åœ¨æˆ‘ä»¬è¾“å…¥çš„æ—¶å€™ç›´æ¥ç»™å‡º<strong>é¢„è®¾çš„ç±»å‹è¡¥å…¨</strong>ï¼ˆåªèƒ½æ˜¯é¢„è®¾çš„ç±»å‹ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Literal</span>,<span class="type">Any</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_data</span>(<span class="params">data_type:<span class="type">Literal</span>[<span class="string">&quot;json&quot;</span>,<span class="string">&quot;csv&quot;</span>]</span>)-&gt;<span class="type">Any</span>:</span><br><span class="line">    <span class="keyword">if</span> data_type == <span class="string">&quot;json&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;data&quot;</span>:<span class="string">&quot;json data&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">elif</span> data_type == <span class="string">&quot;csv&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;data&quot;</span>:<span class="string">&quot;csv data&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">&quot;Invalid data type&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">get_data(<span class="string">&quot;json&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><ul><li><code>TypeVar</code> ç¡®ä¿å‰åçš„ç±»å‹ä¸€è‡´æ€§</li><li><code>Generic</code> å®ä¾‹åŒ–çš„æ—¶å€™æ‰æŒ‡å®šå¯¹åº”çš„ç±»å‹</li></ul><p><code>TyperVar</code>å®é™…ä¸Šæ˜¯ä¸ºäº†è§£å†³<code>Union</code>å‰åä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¦‚ä¸‹é¢çš„ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span></span><br><span class="line"></span><br><span class="line">U = <span class="type">Union</span>[<span class="built_in">int</span>, <span class="built_in">str</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_data</span>(<span class="params">a: U, b: U</span>) -&gt; U:</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br></pre></td></tr></table></figure><p>åœ¨ä¸€å¼€å§‹å°±å·²ç»æŠ¥é”™ä¸ºé¢„æœŸç±»å‹ä¸ºâ€œUâ€æ—¶ï¼Œç±»å‹â€œintâ€å’Œâ€œstrâ€ä¸æ”¯æŒè¿ç®—ç¬¦â€œ+â€ã€‚é¢„æœŸç±»å‹ä¸ºâ€œUâ€æ—¶ï¼Œç±»å‹â€œstrâ€å’Œâ€œintâ€ä¸æ”¯æŒè¿ç®—ç¬¦â€œ+â€</p><p><strong>è¿™è¯´æ˜å‰åçš„ç±»å‹ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œaçš„ç±»å‹æ˜¯intçš„æ—¶å€™ï¼Œbçš„ç±»å‹å¯ä»¥æ˜¯intä¹Ÿå¯ä»¥æ˜¯str</strong>ã€‚è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨<code>TypeVar</code>ï¼Œä»–å¯ä»¥å®ç°å‰åä¸¥æ ¼çš„ä¸€ä¸€å¯¹åº”å…³ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span>, TypeVar</span><br><span class="line"></span><br><span class="line">T = TypeVar(<span class="string">&quot;T&quot;</span>, <span class="built_in">int</span>, <span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_data</span>(<span class="params">a: T, b: T</span>) -&gt; T:</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">get_data(<span class="number">1</span>, <span class="number">2</span>) <span class="comment"># 3</span></span><br><span class="line">get_data(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>) <span class="comment"># &quot;ab&quot;</span></span><br></pre></td></tr></table></figure><p><code>Generic</code>ä¸»è¦ç”¨äºå®šä¹‰æ³›å‹ç±»ï¼Œæ³›å‹ç±»æ˜¯æŒ‡ç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•çš„ç±»å‹ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯å¯ä»¥æ ¹æ®å®ä¾‹åŒ–æ—¶ä¼ å…¥çš„ç±»å‹æ¥ç¡®å®šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span>, TypeVar, <span class="type">Generic</span>, <span class="type">List</span></span><br><span class="line"></span><br><span class="line">T = TypeVar(<span class="string">&quot;T&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨Genericä¸»è¦ç”¨äºå®šä¹‰æ³›å‹ç±»ï¼Œ</span></span><br><span class="line"><span class="comment"># æ³›å‹ç±»æ˜¯æŒ‡ç±»ä¸­çš„å±æ€§æˆ–æ–¹æ³•çš„ç±»å‹ä¸æ˜¯å›ºå®šçš„ï¼Œ</span></span><br><span class="line"><span class="comment"># è€Œæ˜¯å¯ä»¥æ ¹æ®å®ä¾‹åŒ–æ—¶ä¼ å…¥çš„ç±»å‹æ¥ç¡®å®šã€‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mylist</span>(<span class="type">Generic</span>[T]):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, items: <span class="type">List</span>[T]</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.items = items</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">append</span>(<span class="params">self, item: T</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.items.append(item)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">str</span>(self.items)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    my_list: Mylist[<span class="built_in">int</span>] = Mylist([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    my_list.append(<span class="number">4</span>)</span><br><span class="line">    <span class="built_in">print</span>(my_list)</span><br><span class="line"></span><br><span class="line">    my_list2: Mylist[<span class="built_in">str</span>] = Mylist([<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>])</span><br><span class="line">    my_list2.append(<span class="string">&quot;d&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(my_list2)</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><ol><li>Literal å¦‚æœéœ€è¦é™åˆ¶å˜é‡çš„å€¼å¹¶æç¤ºï¼Œå¯ä»¥ä½¿ç”¨Literal</li><li>TypeVar å¦‚æœéœ€è¦è¡¨ç¤ºâ€ä»»æ„ç±»å‹â€ï¼Œå¯ä»¥ä½¿ç”¨TypeVarï¼Œç›¸æ¯”Unionå¯ä»¥ç¡®ä¿ç±»å‹çš„ä¸€è‡´æ€§</li><li>Generic å¦‚æœéœ€è¦å®šä¹‰æ³›å‹ç±»ï¼Œå¯ä»¥ä½¿ç”¨Genericï¼Œåœ¨å®šä¹‰çš„æ—¶å€™ä¸ç›´æ¥æŒ‡å®šç±»å‹ï¼Œè€Œæ˜¯ä½¿ç”¨Genericï¼Œä½¿ç”¨çš„æ—¶å€™åœ¨è¿›è¡ŒæŒ‡å®š</li></ol><h2 id="é‡è½½"><a href="#é‡è½½" class="headerlink" title="é‡è½½"></a>é‡è½½</h2><p>é‡è½½ä¸€èˆ¬éƒ½æ„å‘³ç€åœ¨ä¸€å®šçš„è§„åˆ™ä¸Šè¿›è¡Œæ”¹å†™ã€‚</p><ul><li><code>overload</code> ç”¨æ¥é‡å†™å‡½æ•°ç­¾å</li><li><code>override</code> ç”¨æ¥æ£€æŸ¥å­ç±»é‡å†™å‡½æ•°åæ˜¯å¦åˆ™æ­£ç¡®</li></ul><p><code>overload</code>è£…é¥°å™¨ç”¨äºå£°æ˜å‡½æ•°çš„é‡è½½ï¼Œå¯ä»¥åœ¨ä¸æ”¹å†™æ–¹æ³•ä½“çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œç­¾åçš„é‡è½½ï¼ˆä¹Ÿå°±æ˜¯æç¤ºï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> overload</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">overloadè£…é¥°å™¨ç”¨äºå£°æ˜å‡½æ•°çš„é‡è½½</span></span><br><span class="line"><span class="string">å¦‚ä¸‹é¢çš„addå‡½æ•°ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ç­¾åï¼Œ</span></span><br><span class="line"><span class="string">ä¸€ä¸ªç”¨äºæ•´æ•°ç›¸åŠ ï¼Œä¸€ä¸ªç”¨äºå­—ç¬¦ä¸²ç›¸åŠ </span></span><br><span class="line"><span class="string">ç„¶åå†å®šä¹‰ä¸€ä¸ªä¸å¸¦è£…é¥°å™¨çš„addå‡½æ•°ï¼Œç”¨äºå®é™…çš„å®ç°</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@overload</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">int</span>, b: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”¨äºä¸¤ä¸ªæ•´æ•°ç›¸åŠ </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@overload</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a: <span class="built_in">str</span>, b: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    ç”¨äºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a, b</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># ä¸¤ä¸ªå‡½æ•°æ‰€å¾—åˆ°çš„æç¤ºä¿¡æ¯æ˜¯ä¸åŒçš„</span></span><br><span class="line">    add(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>)</span><br><span class="line">    add(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p><code>override</code>ä½¿ç”¨æ¥æ£€æŸ¥å­ç±»ç»§æ‰¿çš„å‡½æ•°åæ˜¯å¦æ­£ç¡®çš„æ£€æŸ¥ï¼Œä»–å¯ä»¥è®©é‡å†™æ–¹æ³•å˜å¾—æ›´åŠ çš„è§„èŒƒï¼Œå¦‚ä¸‹é¢çš„<code>make_sound</code>å‡½æ•°ï¼Œå¦‚æœå­ç±»ä¸­å†™æˆ<code>make_sounds</code>å°±ä¼šæŠ¥é”™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing_extensions <span class="keyword">import</span> overload, override</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name: <span class="built_in">str</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_sound</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name: <span class="built_in">str</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @override</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_sound</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="built_in">print</span>(self.name)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ±ªæ±ªæ±ª&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name: <span class="built_in">str</span></span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @override</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">make_sound</span>(<span class="params">self</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å–µå–µå–µ&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">d: Dog = Dog(<span class="string">&quot;dog&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(d.make_sound())</span><br><span class="line"></span><br><span class="line">c: Cat = Cat(<span class="string">&quot;cat&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(c.make_sound())</span><br></pre></td></tr></table></figure><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><p><code>Protocol</code>æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®ƒçš„ä½œç”¨æ˜¯ç”¨æ¥å®šä¹‰åè®®ã€‚å®ƒçš„å­ç±»å¯ä»¥ç”¨æ¥è¡¨ç¤ºåè®®ï¼Œåœ¨å®ç°çš„è¿‡ç¨‹ä¸­å­ç±»çš„æ–¹æ³•å¿…é¡»å’Œçˆ¶ç±»å®Œå…¨ä¸€è‡´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing_extensions <span class="keyword">import</span> Protocol</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">Protocol</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sleep</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Dog eat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sleep</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Dog sleep&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Cat eat&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sleep</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Cat sleep&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">animal_do</span>(<span class="params">animal: Animal</span>):</span><br><span class="line">    animal.eat()</span><br><span class="line">    animal.sleep()</span><br><span class="line"></span><br><span class="line">animal_do(Dog())</span><br><span class="line">animal_do(Cat())</span><br></pre></td></tr></table></figure><h2 id="TypeDict"><a href="#TypeDict" class="headerlink" title="TypeDict"></a>TypeDict</h2><p><code>TypeDict</code>ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œä»–å¯ä»¥ç”¨æ¥å®šä¹‰å­—å…¸çš„é”®å’Œå€¼çš„ç±»å‹ï¼ˆå’Œæ•°æ®ç±»å¾ˆç›¸ä¼¼ï¼‰</p><p>è¿™è¾¹ä½¿ç”¨äº†<code>Required</code>å’Œ<code>NotRequired</code>æ¥è¡¨ç¤ºå¯é€‰å­—æ®µä¸å¿…é¡»å­—æ®µ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing_extensions <span class="keyword">import</span> TypedDict</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Required, NotRequired</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Requiredè¡¨ç¤ºå¿…é¡»çš„å­—æ®µ</span></span><br><span class="line"><span class="string">NotRequiredè¡¨ç¤ºå¯é€‰çš„å­—æ®µ</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">TypedDict</span>):</span><br><span class="line">    name: Required[<span class="built_in">str</span>]</span><br><span class="line">    age: Required[<span class="built_in">int</span>]</span><br><span class="line">    email: NotRequired[<span class="built_in">str</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_dict:Student = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_dict[<span class="string">&quot;name&quot;</span>])</span><br></pre></td></tr></table></figure><p>æ•°æ®ç±»<code>dataclass</code>çš„å®ç°æ–¹æ³•ä¹Ÿå›å¿†ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@dataclass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>:</span><br><span class="line">    name:<span class="built_in">str</span></span><br><span class="line">    age:<span class="built_in">int</span></span><br><span class="line">    email:<span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">teacher:Teacher = Teacher(name=<span class="string">&quot;Tom&quot;</span>, age=<span class="number">18</span>)</span><br></pre></td></tr></table></figure><h2 id="unpackè§£åŒ…"><a href="#unpackè§£åŒ…" class="headerlink" title="unpackè§£åŒ…"></a>unpackè§£åŒ…</h2><p><code>unpack</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œä»–å¯ä»¥ç”¨æ¥è§£åŒ…ä¸€ä¸ªå­—å…¸ã€‚å¯ä»¥ç»™<code>**kwargs</code>æä¾›æ›´åŠ ç²¾ç¡®çš„ç±»å‹æç¤ºï¼Œå¯ä»¥æä¾›ç±»å‹æ³¨è§£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing_extensions <span class="keyword">import</span> TypedDict, Unpack</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Required, NotRequired, AnyStr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>(<span class="title class_ inherited__">TypedDict</span>):</span><br><span class="line">    name: Required[<span class="built_in">str</span>]</span><br><span class="line">    age: Required[<span class="built_in">int</span>]</span><br><span class="line">    email: NotRequired[<span class="built_in">str</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_information</span>(<span class="params">*args, **kwargs: Unpack[Teacher]</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Name:<span class="subst">&#123;kwargs[<span class="string">&#x27;name&#x27;</span>]&#125;</span>,Age:<span class="subst">&#123;kwargs[<span class="string">&#x27;age&#x27;</span>]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">my_dict: Teacher = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(get_information(**my_dict))</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€å¯¼å…¥"><a href="#åŠ¨æ€å¯¼å…¥" class="headerlink" title="åŠ¨æ€å¯¼å…¥"></a>åŠ¨æ€å¯¼å…¥</h2><p>å¦‚æœå†™ä¸€ä¸ªé¡¹ç›®ä¸å¤ªæ¸…æ¥šç”¨æˆ·ä½¿ç”¨çš„æ˜¯å¦æ”¯æŒtypingåº“ï¼Œå¯ä»¥ä½¿ç”¨<code>import_module</code>è¿›è¡ŒåŠ¨æ€å¯¼å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> importlib <span class="keyword">import</span> import_module</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    typing = import_module(<span class="string">&#x27;typing&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    typing = import_module(<span class="string">&#x27;typing_extensions&#x27;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> typing </tag>
            
            <tag> ç±»å‹æ³¨è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3-ElementPlusç»„ä»¶åº“</title>
      <link href="/post/element-plus/"/>
      <url>/post/element-plus/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ElementUIæ˜¯åŸºäºVueæ¡†æ¶çš„ç»„ä»¶åº“ï¼Œç”±é¥¿äº†ä¹ˆå›¢é˜Ÿå¼€æºï¼Œå…·æœ‰éå¸¸å…¨é¢çš„ç»„ä»¶æ•°é‡ï¼ŒVue3åæ”¹åä¸ºElementPlusã€‚æœ¬æ–‡åªä¼šä»‹ç»å¸¸ç”¨çš„ç»„ä»¶ã€‚</p><blockquote><p><a href="https://element-plus.org/zh-CN/#/zh-CN">ä¸€ä¸ª Vue 3 UI æ¡†æ¶ | Element Plus (element-plus.org)</a></p></blockquote><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>å®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸåå¯ä»¥åœ¨<code>package.json</code>ä¸­çœ‹åˆ°ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;elementui&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;element-plus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.7.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>main.js</code>ä¸­å¯¼å…¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“çš„æ‰€æœ‰ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ELementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“æ‰€éœ€è¦çš„å…¨å±€æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-plus/dist/index.full.min.mjs&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"><span class="comment">// å°†æ’ä»¶æ³¨å†Œåˆ° app ä¸­</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ELementPlus</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¹‹åå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨elementPlusç»„ä»¶ã€‚</p><h2 id="VsCodeæ’ä»¶"><a href="#VsCodeæ’ä»¶" class="headerlink" title="VsCodeæ’ä»¶"></a>VsCodeæ’ä»¶</h2><p>å¯¹äºç»„ä»¶æ¥è¯´ï¼Œå¯èƒ½æœ‰éå¸¸å¤šçš„å±æ€§ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦å»å®˜ç½‘æŸ¥çœ‹ç›¸åº”çš„å±æ€§å€¼å°±å¤ªéº»çƒ¦äº†ï¼Œå¦‚æœä½¿ç”¨ElementPlusæ¨èä½¿ç”¨<code>element-ui-helper</code>æ’ä»¶ï¼Œä½œè€…æ˜¯èƒ¡æµªã€‚</p><p>å®‰è£…åé¼ æ ‡æ‚¬åœåœ¨ç»„ä»¶æ ‡ç­¾ä¸Šå³å¯çœ‹åˆ°æ‰€æœ‰çš„å±æ€§æç¤ºï¼Œå¯¹äºä¸€äº›ç®€å•çš„å°±ä¸éœ€è¦å»å®˜ç½‘æŸ¥çœ‹ã€‚</p><h2 id="æŒ‰é’®-button"><a href="#æŒ‰é’®-button" class="headerlink" title="æŒ‰é’® button"></a>æŒ‰é’® button</h2><p>å¸¸ç”¨çš„å±æ€§æœ‰æ ·å¼ã€å½¢çŠ¶å’Œå¤§å°ã€‚</p><p>åœ¨<code>App.vue</code>ä¸­ç¼–å†™ç»„ä»¶æ ‡ç­¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æŒ‰é’®ç»„ä»¶<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span>æŒ‰é’®1<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æŒ‰é’®å½¢çŠ¶<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">round</span>&gt;</span>round<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">circle</span>&gt;</span>circle<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">plain</span>&gt;</span>plain<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">loading</span>&gt;</span>loading<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">disabled</span>&gt;</span>disabled<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä¹Ÿå¯ä»¥ç»„åˆèµ·æ¥ä½¿ç”¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">round</span> <span class="attr">loading</span>&gt;</span>round loading<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æŒ‰é’®å°ºå¯¸<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>default<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;el-button size=&quot;mini&quot;&gt;mini&lt;/el-button&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span>&gt;</span>small<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;medium&quot;</span>&gt;</span>medium<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span>&gt;</span>large<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å›¾æ ‡-icon"><a href="#å›¾æ ‡-icon" class="headerlink" title="å›¾æ ‡ icon"></a>å›¾æ ‡ icon</h2><p>éœ€è¦å…ˆåœ¨<code>main.js</code>ä¸­å¯¼å…¥å›¾æ ‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“çš„æ‰€æœ‰ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ELementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“æ‰€éœ€è¦çš„å…¨å±€æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-plus/dist/index.css&quot;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥å›¾æ ‡åº“</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">ELementPlusIconsVue</span> <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œå›¾æ ‡åº“</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key,component] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="title class_">ELementPlusIconsVue</span>))&#123;</span><br><span class="line">    app.<span class="title function_">component</span>(key,component)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ’ä»¶æ³¨å†Œåˆ° app ä¸­</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ELementPlus</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹‹åå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ç¼–å†™ä»£ç ï¼Œä¹Ÿå¯ä»¥å°†å›¾æ ‡å’ŒæŒ‰é’®ç»„åˆèµ·æ¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å›¾æ ‡<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Plus</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Delete</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Setting</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Upload</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Download</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Back</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Close</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Check</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">More</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å±æ€§<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">size</span>=<span class="string">&quot;large&quot;</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Plus</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">size</span>=<span class="string">&quot;medium&quot;</span> <span class="attr">color</span>=<span class="string">&quot;blue&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-icon</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">color</span>=<span class="string">&quot;green&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Delete</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æŒ‰é’®å’Œå›¾æ ‡ç»„åˆ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary &quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">circle</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;span&gt;æœç´¢&lt;/span&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æŒ‰é’®ç»„<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Back</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>è¿”å›<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Close</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…³é—­<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Check</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç¡®å®š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><img src="./Element_Plusimage/image-20240517174814516.png" alt="image-20240517174814516" style="zoom:80%;" /><h2 id="æç¤ºæ¡†-Message"><a href="#æç¤ºæ¡†-Message" class="headerlink" title="æç¤ºæ¡† Message"></a>æç¤ºæ¡† Message</h2><p>æœ‰ä¸‰ç§å¸¸è§çš„æç¤ºæ¡†ï¼š</p><ul><li>ElMessage -  ä¸Šä¾§æ»‘ä¸‹çš„æ¶ˆæ¯æ¡</li><li>ElMessageBox - æ¶ˆæ¯ç»„åˆæ¡† å¯é€‰æ‹©ç¡®è®¤æˆ–è€…å–æ¶ˆ</li><li>ElNotification - å³ä¾§å‡ºæ¥çš„æ¶ˆæ¯å¼¹çª—</li></ul><p>typeéƒ½é»˜è®¤æœ‰å››ç§ï¼šsuccess | info | error | warning</p><p>å¯ä»¥å’ŒæŒ‰é’®å›¾æ ‡ç»„åˆæ¥å±•ç¤ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; <span class="title class_">ElMessage</span>, <span class="title class_">ElMessageBox</span>, <span class="title class_">ElNotification</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">openMessage</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">ElMessage</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">message</span>: <span class="string">&#x27;æ‰“å¼€æˆåŠŸ&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// å±•ç¤ºå…³é—­æŒ‰é’®</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">showClose</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// è‡ªå®šä¹‰å›¾æ ‡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">shapeFlag</span>: <span class="string">&#x27;el-icon-success&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// æŒç»­æ—¶é—´</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">duration</span>: <span class="number">2000</span></span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">closeConfirm</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">ElMessageBox</span>.<span class="title function_">confirm</span>(<span class="string">&#x27;æ˜¯å¦å…³é—­&#x27;</span>, <span class="string">&#x27;æ ‡é¢˜&#x27;</span>, &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®å®š&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessage</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;å…³é—­æˆåŠŸ&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">ElMessage</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">message</span>: <span class="string">&#x27;å·²å–æ¶ˆå…³é—­&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>: <span class="string">&#x27;info&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">openNotification</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">ElNotification</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">title</span>: <span class="string">&#x27;æ ‡é¢˜&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">message</span>: <span class="string">&#x27;æ‰“å¼€æˆåŠŸ&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">duration</span>: <span class="number">2000</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">position</span>: <span class="string">&#x27;top-right&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">openNotification2</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title class_">ElNotification</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">title</span>: <span class="string">&#x27;æ ‡é¢˜&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">message</span>: <span class="string">&#x27;æ‰“å¼€å¤±è´¥&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">type</span>: <span class="string">&#x27;error&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">duration</span>: <span class="number">2000</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">position</span>: <span class="string">&#x27;bottom-right&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;openMessage&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Open</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ‰“å¼€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;closeConfirm&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Close</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å…³é—­<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;info&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;openNotification&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">More</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>é€šçŸ¥1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;openNotification2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Setting</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>é€šçŸ¥2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¯¼èˆª-menu"><a href="#å¯¼èˆª-menu" class="headerlink" title="å¯¼èˆª menu"></a>å¯¼èˆª menu</h2><p>å¸¸ç”¨çš„å¯¼èˆªåˆ†ä¸º<code>menu</code>ã€<code>breadcrumb</code>å’Œ<code>dropdown</code>ä¸‰ç§</p><p>å…·ä½“çš„å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> selectedIndex = <span class="title function_">ref</span>(<span class="string">&quot;1&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// é»˜è®¤å±•å¼€çš„å­èœå•</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> defaultOpeneds = <span class="title function_">ref</span>([<span class="string">&quot;1&quot;</span>,<span class="string">&quot;3&quot;</span>])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">selected</span> = (<span class="params">index, indexPath</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// indexPathæ˜¯æ ‡ç­¾çš„ç´¢å¼•è·¯å¾„ï¼Œindexæ˜¯å½“å‰æ ‡ç­¾çš„ç´¢å¼•</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;index:&quot;</span>, index, <span class="string">&quot;indexPath:&quot;</span>, indexPath)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">userCommand</span> = (<span class="params">command</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;command:&quot;</span>,command)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å‚ç›´å¯¼èˆª<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é»˜è®¤çš„å®½åº¦ä¸º100% --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">mode</span>=<span class="string">&quot;vertical&quot;</span> <span class="attr">:default-active</span>=<span class="string">&quot;selectedIndex&quot;</span> @<span class="attr">select</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">background-color</span>=<span class="string">&quot;#545c64&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">text-color</span>=<span class="string">&quot;#fff&quot;</span> <span class="attr">active-text-color</span>=<span class="string">&quot;#ffd04b&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>About<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-1&quot;</span>&gt;</span>Company<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-2&quot;</span>&gt;</span>Team<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2-3&quot;</span>&gt;</span>Careers<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;3&quot;</span>&gt;</span>Contact<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;4&quot;</span>&gt;</span>Blog<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>é¢åŒ…å±‘<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-breadcrumb</span> <span class="attr">separator</span>=<span class="string">&quot;/&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>about<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>Company<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-breadcrumb-item</span>&gt;</span>Me<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-breadcrumb</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸‹æ‹‰èœå•<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-dropdown</span> @<span class="attr">command</span>=<span class="string">&quot;userCommand&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">      ä¸ªäººä¸­å¿ƒ<span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">User</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">dropdown</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;order&quot;</span>&gt;</span>è®¢å•<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-dropdown-item</span> <span class="attr">command</span>=<span class="string">&quot;logout&quot;</span>&gt;</span>é€€å‡º<span class="tag">&lt;/<span class="name">el-dropdown-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-dropdown</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å‚ç›´å¯¼èˆª-é»˜è®¤å±•å¼€å’Œè‡ªå®šä¹‰æ ·å¼<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-active</span>=<span class="string">&quot;selectedIndex&quot;</span> @<span class="attr">select</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">:default-openeds</span>=<span class="string">&quot;defaultOpeneds&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">background-color</span>=<span class="string">&quot;#545c64&quot;</span> <span class="attr">text-color</span>=<span class="string">&quot;#fff&quot;</span> <span class="attr">active-text-color</span>=<span class="string">&quot;#ffd04b&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å¯¼èˆªä¸€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item-group</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;1-2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item-group</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Edit</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>å¯¼èˆªäºŒ<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-sub-menu</span> <span class="attr">index</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>å¯¼èˆªä¸‰<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-menu-item-group</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;3-1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;3-2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">el-menu-item-group</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-sub-menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;4&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Setting</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">template</span> #<span class="attr">title</span>&gt;</span>å¯¼èˆªå››<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ ‡ç­¾é¡µ-tabs"><a href="#æ ‡ç­¾é¡µ-tabs" class="headerlink" title="æ ‡ç­¾é¡µ tabs"></a>æ ‡ç­¾é¡µ tabs</h2><p>æ ‡ç­¾é¡µæœ€é‡è¦çš„æ˜¯åŠ¨æ€æ·»åŠ å’Œåˆ é™¤çš„é€»è¾‘ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// é»˜è®¤é€‰ä¸­çš„æ ‡ç­¾é¡µ</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> selectedName = <span class="title function_">ref</span>(<span class="string">&#x27;2&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">tabClick</span> = (<span class="params">tab, event</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;tab&quot;</span>, tab.<span class="property">props</span>, <span class="string">&quot;event&quot;</span>, event);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> tab = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">arr</span>: [</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">name</span>: <span class="number">1</span>, <span class="attr">label</span>: <span class="string">&quot;ä¸»é¡µ&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;å†…å®¹1&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">name</span>: <span class="number">2</span>, <span class="attr">label</span>: <span class="string">&quot;æˆ‘&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;å†…å®¹2&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">name</span>: <span class="number">3</span>, <span class="attr">label</span>: <span class="string">&quot;è®¢å•&quot;</span>, <span class="attr">content</span>: <span class="string">&quot;å†…å®¹3&quot;</span> &#125;</span></span><br><span class="line"><span class="language-javascript">  ]</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">tabAdd</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">let</span> index = tab.<span class="property">arr</span>.<span class="property">length</span> + <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">  tab.<span class="property">arr</span>.<span class="title function_">push</span>(</span></span><br><span class="line"><span class="language-javascript">    &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">name</span>: index,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">label</span>: <span class="string">`æ ‡ç­¾<span class="subst">$&#123;index&#125;</span>`</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">content</span>: <span class="string">`å†…å®¹<span class="subst">$&#123;index&#125;</span>`</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  );</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">tabRemove</span> = (<span class="params">name</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name&quot;</span>, name);</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> index = tab.<span class="property">arr</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">name</span> === name);</span></span><br><span class="line"><span class="language-javascript">  tab.<span class="property">arr</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ ‡ç­¾é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tabs</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedName&quot;</span> @<span class="attr">tab-click</span>=<span class="string">&quot;tabClick&quot;</span> <span class="attr">type</span>=<span class="string">&quot;border-card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;ä¸»é¡µ&quot;</span> <span class="attr">name</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å†…å®¹1<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;æˆ‘&quot;</span> <span class="attr">name</span>=<span class="string">&quot;2&quot;</span>&gt;</span>å†…å®¹2<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">label</span>=<span class="string">&quot;è®¢å•&quot;</span> <span class="attr">name</span>=<span class="string">&quot;3&quot;</span>&gt;</span>å†…å®¹3<span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-tabs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åŠ¨æ€æ·»åŠ /åˆ é™¤<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;tabAdd&quot;</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-tabs</span> <span class="attr">v-model</span>=<span class="string">&quot;selectedName&quot;</span> <span class="attr">closable</span> @<span class="attr">tab-remove</span>=<span class="string">&quot;tabRemove&quot;</span> <span class="attr">type</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-tab-pane</span> <span class="attr">v-for</span>=<span class="string">&quot;item in tab.arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.name&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;item.label&quot;</span> <span class="attr">:name</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.content &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-tab-pane</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-tabs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è¾“å…¥æ¡†-input"><a href="#è¾“å…¥æ¡†-input" class="headerlink" title="è¾“å…¥æ¡† input"></a>è¾“å…¥æ¡† input</h2><p>è¾“å…¥æ¡†ä¸»ç§ç±»ç¹å¤šã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; el &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus/es/locales.mjs&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> name = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> password = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> content = <span class="title function_">ref</span>(<span class="string">&#x27;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> selected = <span class="title function_">ref</span>(<span class="string">&#x27;1&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 400px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¾“å…¥æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- clearable: æ˜¯å¦å¯æ¸…ç©º --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">clearable</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¯†ç æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- show-password: æ˜¯å¦æ˜¾ç¤ºåˆ‡æ¢å¯†ç æ˜¾ç¤ºéšè—çš„æŒ‰é’® --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;password&quot;</span> <span class="attr">show-password</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ–‡æœ¬åŸŸ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- rows: æ–‡æœ¬åŸŸé»˜è®¤è¡Œæ•° --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span> <span class="attr">rows</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¾“å…¥æ¡†-è¾“å…¥å†…å®¹çš„é™åˆ¶<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">maxlength</span>=<span class="string">&quot;10&quot;</span> <span class="attr">show-word-limit</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ–‡æœ¬åŸŸ-è¾“å…¥å†…å®¹çš„é™åˆ¶<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;content&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;10&quot;</span> <span class="attr">show-word-limit</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å‰ç½®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">prepend</span>&gt;</span>http://<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åç½®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">append</span>&gt;</span>.com<span class="tag">&lt;/<span class="name">template</span>&gt;</span>ã€</span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å‰ç½®åŠ åç½®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">prepend</span>&gt;</span>http://<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">append</span>&gt;</span>.com<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ··åˆæ¡ˆä¾‹<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥ä½ çš„é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">prepend</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å‰ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;åç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;æœåŠ¡ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">append</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">Search</span>/&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å•é€‰æ¡†ã€å¤é€‰æ¡†-radio-checkbox"><a href="#å•é€‰æ¡†ã€å¤é€‰æ¡†-radio-checkbox" class="headerlink" title="å•é€‰æ¡†ã€å¤é€‰æ¡† radio checkbox"></a>å•é€‰æ¡†ã€å¤é€‰æ¡† radio checkbox</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> radio = <span class="title function_">ref</span>(<span class="string">&quot;3&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> radio2 = <span class="title function_">ref</span>(<span class="string">&quot;c&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> radio3 = <span class="title function_">ref</span>(<span class="string">&quot;C&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> check = <span class="title function_">ref</span>([<span class="string">&quot;1&quot;</span>])</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> check2 = <span class="title function_">ref</span>([<span class="string">&quot;2&quot;</span>])</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">changeRadio</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;radio value change&quot;</span>, value)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">checkGroupChange</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ•°ç»„</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;check value change&quot;</span>, value)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å•é€‰æ¡† <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å‰ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>åç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>æœåŠ¡ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å•é€‰æ¡†-äº‹ä»¶ç»‘å®š<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;a&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;changeRadio&quot;</span>&gt;</span>å‰ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;b&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;changeRadio&quot;</span>&gt;</span>åç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">v-model</span>=<span class="string">&quot;radio2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;c&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;changeRadio&quot;</span>&gt;</span>æœåŠ¡ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å•é€‰æ¡†ç»„<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åªéœ€è¦å¯¹el-radio-groupç»‘å®šv-modelå³å¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-radio-group</span> <span class="attr">v-model</span>=<span class="string">&quot;radio3&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;changeRadio&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;A&quot;</span>&gt;</span>å‰ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;B&quot;</span>&gt;</span>åç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;C&quot;</span>&gt;</span>æœåŠ¡ç«¯<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-radio-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¤é€‰æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">&quot;check&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å‰ç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>åç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>æœåŠ¡ç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¤é€‰æ¡†-äº‹ä»¶ç»‘å®š<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">&quot;check2&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;checkGroupChange&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å‰ç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>åç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>æœåŠ¡ç«¯<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‹æ‹‰æ¡†-select"><a href="#ä¸‹æ‹‰æ¡†-select" class="headerlink" title="ä¸‹æ‹‰æ¡† select"></a>ä¸‹æ‹‰æ¡† select</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> checked = <span class="title function_">ref</span>(<span class="string">&quot;2&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> checked2 = <span class="title function_">ref</span>(<span class="string">&quot;C&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">selectChange</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é€‰ä¸­çš„å€¼&quot;</span>, val);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">options</span>: [</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">label</span>: <span class="string">&quot;å‰ç«¯&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;A&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">label</span>: <span class="string">&quot;åç«¯&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;B&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">label</span>: <span class="string">&quot;æœåŠ¡ç«¯&quot;</span>, <span class="attr">value</span>: <span class="string">&quot;C&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">  ]</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">selectMultipleChange</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é€‰ä¸­çš„å€¼&quot;</span>, val);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸‹æ‹‰æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å‰ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;åç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;æœåŠ¡ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸‹æ‹‰æ¡†-ç»‘å®šäº‹ä»¶<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;selectChange&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å‰ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;åç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;æœåŠ¡ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>åŠ¨æ€ä¸‹æ‹‰æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">v-for</span>=<span class="string">&quot;item in data.options&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.value&quot;</span> <span class="attr">:label</span>=<span class="string">&quot;item.label&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item.value&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; item.label &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸‹æ‹‰æ¡†å¤šé€‰<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- åªéœ€è¦æ·»åŠ ä¸€ä¸ªå±æ€§ multiple å³å¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span> <span class="attr">multiple</span> @<span class="attr">change</span>=<span class="string">&quot;selectMultipleChange&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;å‰ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;åç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;æœåŠ¡ç«¯&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ—¥æœŸé€‰æ‹©å™¨-date-picker"><a href="#æ—¥æœŸé€‰æ‹©å™¨-date-picker" class="headerlink" title="æ—¥æœŸé€‰æ‹©å™¨ date-picker"></a>æ—¥æœŸé€‰æ‹©å™¨ date-picker</h2><p>æ—¥æœŸçš„è·å–å¦‚æœä¸ä½¿ç”¨<code>value-format</code>ï¼Œé‚£ä¹ˆæ§åˆ¶å°æ‰“å°çš„å°±æ˜¯æ—¶é—´æˆ³çš„å½¢å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> date = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">dateChenge</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;change&quot;</span>, val)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ—¥æœŸ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©æ—¥æœŸ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ—¥æœŸæ—¶é—´<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;datetime&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©æ—¥æœŸæ—¶é—´&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>äº‹ä»¶ç»‘å®š<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ä¸æ·»åŠ value-formatå±æ€§ï¼Œè¿”å›çš„æ˜¯æ—¶é—´æˆ³ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;datetime&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©æ—¥æœŸ&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">change</span>=<span class="string">&quot;dateChenge&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°†æ§ä»¶è½¬åŒ–ä¸ºä¸­æ–‡çš„å½¢å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“çš„æ‰€æœ‰ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ELementPlus</span> <span class="keyword">from</span> <span class="string">&#x27;element-plus&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶åº“æ‰€éœ€è¦çš„å…¨å±€æ ·å¼</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-plus/dist/index.css&quot;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥å›¾æ ‡åº“</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">ELementPlusIconsVue</span> <span class="keyword">from</span> <span class="string">&#x27;@element-plus/icons-vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; zhCn &#125; <span class="keyword">from</span> <span class="string">&#x27;element-plus/es/locales.mjs&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œå›¾æ ‡åº“</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> [key,component] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(<span class="title class_">ELementPlusIconsVue</span>))&#123;</span><br><span class="line">    app.<span class="title function_">component</span>(key,component)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ’ä»¶æ³¨å†Œåˆ° app ä¸­</span></span><br><span class="line"><span class="comment">// app.use(ELementPlus)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®åŒºåŸŸè¯­è¨€ä¸ºä¸­æ–‡ç®€ä½“</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title class_">ELementPlus</span>,&#123;<span class="attr">locale</span>:zhCn&#125;)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è¡¨å•-form"><a href="#è¡¨å•-form" class="headerlink" title="è¡¨å• form"></a>è¡¨å• form</h2><p>å°†ä¹‹å‰çš„æ‰€æœ‰æ§ä»¶ä½¿ç”¨<code>el-form-item</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">radio</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">checkbox</span>: [],</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">select</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">date</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">multipleSelect</span>: [],</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">textarea</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">reset</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  data.<span class="property">value</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">radio</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">checkbox</span>: [],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">select</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">date</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">multipleSelect</span>: [],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">textarea</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡æœ¬æ¡†&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;data.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·å¡«å†™åç§°&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å•é€‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-radio-group</span> <span class="attr">v-model</span>=<span class="string">&quot;data.radio&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">label</span>=<span class="string">&quot;1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">label</span>=<span class="string">&quot;2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">label</span>=<span class="string">&quot;3&quot;</span>&gt;</span>é€‰é¡¹3<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-radio-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å¤é€‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkbox&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">label</span>=<span class="string">&quot;3&quot;</span>&gt;</span>é€‰é¡¹3<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸé€‰æ‹©å™¨&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;data.date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ä¸‹æ‹‰é€‰æ‹©æ¡†&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.select&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å¤šé€‰ä¸‹æ‹‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.multipleSelect&quot;</span> <span class="attr">multiple</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡æœ¬åŸŸ&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.textarea&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;reset&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¯¹è¯æ¡†-dialog"><a href="#å¯¹è¯æ¡†-dialog" class="headerlink" title="å¯¹è¯æ¡† dialog"></a>å¯¹è¯æ¡† dialog</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="title function_">ref</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">radio</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">checkbox</span>: [],</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">select</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">date</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">multipleSelect</span>: [],</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">textarea</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">value</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">reset</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  data.<span class="property">value</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">radio</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">checkbox</span>: [],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">select</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">date</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">multipleSelect</span>: [],</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">textarea</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> dialog = <span class="title function_">ref</span>(<span class="literal">false</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">openDialog</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  dialog.<span class="property">value</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ‰“å¼€&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">dialogClose</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  dialog.<span class="property">value</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å…³é—­&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¯¹è¯æ¡†<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;openDialog&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">Open</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>æ‰“å¼€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- å¦‚æœè¦æ‹–æ‹½ draggable --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">v-model</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">draggable</span> @<span class="attr">close</span>=<span class="string">&quot;dialogClose&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-form</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡æœ¬æ¡†&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;data.name&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·å¡«å†™åç§°&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å•é€‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-radio-group</span> <span class="attr">v-model</span>=<span class="string">&quot;data.radio&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-radio</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>é€‰é¡¹3<span class="tag">&lt;/<span class="name">el-radio</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-radio-group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å¤é€‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-checkbox-group</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkbox&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>é€‰é¡¹1<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>é€‰é¡¹2<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-checkbox</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>é€‰é¡¹3<span class="tag">&lt;/<span class="name">el-checkbox</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-checkbox-group</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸé€‰æ‹©å™¨&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-date-picker</span> <span class="attr">v-model</span>=<span class="string">&quot;data.date&quot;</span> <span class="attr">type</span>=<span class="string">&quot;date&quot;</span> <span class="attr">value-format</span>=<span class="string">&quot;YYYY-MM-DD&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-date-picker</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ä¸‹æ‹‰é€‰æ‹©æ¡†&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.select&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;å¤šé€‰ä¸‹æ‹‰æ¡†&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.multipleSelect&quot;</span> <span class="attr">multiple</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·é€‰æ‹©&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-option</span> <span class="attr">label</span>=<span class="string">&quot;é€‰é¡¹3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-select</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡æœ¬åŸŸ&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;textarea&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.textarea&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥å†…å®¹&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;reset&quot;</span>&gt;</span>é‡ç½®<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åˆ†é¡µ-pagination"><a href="#åˆ†é¡µ-pagination" class="headerlink" title="åˆ†é¡µ pagination"></a>åˆ†é¡µ pagination</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> currentPage = <span class="title function_">ref</span>(<span class="number">3</span>);</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">current_change</span> = (<span class="params">val</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å½“å‰é¡µ: &quot;</span>, val);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>page-size:æ¯é¡µæ˜¾ç¤ºè®°å½•æ•° total:æ€»è®°å½•æ•°<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">layout</span>=<span class="string">&quot;prev,pager,next&quot;</span> <span class="attr">:page-size</span>=<span class="string">&quot;10&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;50&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>background:èƒŒæ™¯è‰²<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">background</span> <span class="attr">layout</span>=<span class="string">&quot;prev,pager,next&quot;</span> <span class="attr">:page-size</span>=<span class="string">&quot;5&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;50&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è·³è½¬å’Œæ€»æ•° æ‰“å°å½“å‰çš„é¡µç  é»˜è®¤çš„é¡µç <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">:current-page</span>=<span class="string">&quot;currentPage&quot;</span> <span class="attr">background</span> <span class="attr">layout</span>=<span class="string">&quot;prev,pager,next,jumper,total&quot;</span> <span class="attr">:page-size</span>=<span class="string">&quot;5&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;50&quot;</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">current-change</span>=<span class="string">&quot;current_change&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è¡¨æ ¼-table"><a href="#è¡¨æ ¼-table" class="headerlink" title="è¡¨æ ¼ table"></a>è¡¨æ ¼ table</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> idArr = []</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">selected</span> = (<span class="params">data</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// console.log(&quot;data&quot;, data)</span></span></span><br><span class="line"><span class="language-javascript">  idArr = []</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">    idArr.<span class="title function_">push</span>(data[i].<span class="property">id</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;idArr&quot;</span>, idArr)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">arr</span>: [</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-01&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;æå››&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-02&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;ç‹äº”&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-03&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;èµµå…­&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-04&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">  ]</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">edit</span> = (<span class="params">index, row</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;index:&quot;</span>, index, <span class="string">&quot;row:&quot;</span>, row)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">del</span> = (<span class="params">index</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  data.<span class="property">arr</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">currentChange</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;value&quot;</span>, value)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¡¨æ ¼<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;data.arr&quot;</span> <span class="attr">border</span> <span class="attr">height</span>=<span class="string">&quot;120&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç¼–å·&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç½‘ç«™&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;web&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸ&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¤šé€‰<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¡¨æ ¼<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span> <span class="attr">:data</span>=<span class="string">&quot;data.arr&quot;</span> <span class="attr">border</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç¼–å·&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç½‘ç«™&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;web&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸ&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¡¨æ ¼+åˆ†é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- select-changeæ˜¯å¤šé€‰æ¡†çš„äº‹ä»¶ï¼Œcurrent-changeç‚¹å‡»è¡Œçš„äº‹ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span> @<span class="attr">selection-change</span>=<span class="string">&quot;selected&quot;</span> @<span class="attr">current-change</span>=<span class="string">&quot;currentChange&quot;</span> <span class="attr">:data</span>=<span class="string">&quot;data.arr&quot;</span> <span class="attr">border</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç¼–å·&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç½‘ç«™&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;web&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸ&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;edit(scope.$index, scope.row)&quot;</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;del&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">layout</span>=<span class="string">&quot;prev, pager, next&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;400&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æŒ‰éœ€å¯¼å…¥"><a href="#æŒ‰éœ€å¯¼å…¥" class="headerlink" title="æŒ‰éœ€å¯¼å…¥"></a>æŒ‰éœ€å¯¼å…¥</h2><p>å¯¹äºç»„ä»¶éœ€è¦å®‰è£…æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨<code>package.json</code>æ–‡ä»¶ä¸­çœ‹åˆ°æ•ˆæœ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;elementui&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;element-plus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.7.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-auto-import&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.17.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-vue-components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.27.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¹‹åéœ€è¦é…ç½®<code>vite.config.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&quot;vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line"></span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="comment">// è‡ªåŠ¨å¯¼å…¥ Vue ç›¸å…³å‡½æ•°ï¼Œå¦‚ï¼šref, reactive, toRef ç­‰</span></span><br><span class="line">      <span class="attr">imports</span>: [<span class="string">&quot;vue&quot;</span>],</span><br><span class="line"></span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨æ³¨å†Œå›¾æ ‡ç»„ä»¶</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¹‹åä¿®æ”¹<code>main.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¯¹äºç»„ä»¶æ¥è¯´ï¼Œä¹Ÿéœ€è¦å®‰è£…æ’ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-icons</span><br></pre></td></tr></table></figure><p><code>package.json</code>:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;elementui&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;element-plus&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.7.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-auto-import&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.17.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-icons&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.19.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;unplugin-vue-components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^0.27.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨<code>vite.config.js</code>ä¸­æ·»åŠ ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineConfig &#125; <span class="keyword">from</span> <span class="string">&quot;vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> vue <span class="keyword">from</span> <span class="string">&quot;@vitejs/plugin-vue&quot;</span>;</span><br><span class="line"><span class="comment">// å¯¼å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Icons</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-icons/vite&#x27;</span> <span class="comment">//å›¾æ ‡</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">IconsResolver</span> <span class="keyword">from</span> <span class="string">&#x27;unplugin-icons/resolver&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line"></span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="comment">// è‡ªåŠ¨å¯¼å…¥ Vue ç›¸å…³å‡½æ•°ï¼Œå¦‚ï¼šref, reactive, toRef ç­‰</span></span><br><span class="line">      <span class="attr">imports</span>: [<span class="string">&quot;vue&quot;</span>],</span><br><span class="line"></span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨å¯¼å…¥å›¾æ ‡ç»„ä»¶</span></span><br><span class="line">        <span class="title class_">IconsResolver</span>(),</span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(),</span><br><span class="line">        <span class="comment">// è‡ªåŠ¨æ³¨å†Œå›¾æ ‡ç»„ä»¶</span></span><br><span class="line">        <span class="title class_">IconsResolver</span>(&#123;</span><br><span class="line">          <span class="attr">enabledCollections</span>: [<span class="string">&quot;ep&quot;</span>],</span><br><span class="line">        &#125;),</span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Icons</span>(&#123;</span><br><span class="line">      <span class="attr">autoInstall</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æ‰€æœ‰å›¾æ ‡çš„å‰é¢åŠ ä¸Š<code>i-ep-</code></p><p>å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; ref, reactive &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> idArr = []</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">selected</span> = (<span class="params">data</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// console.log(&quot;data&quot;, data)</span></span></span><br><span class="line"><span class="language-javascript">  idArr = []</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">    idArr.<span class="title function_">push</span>(data[i].<span class="property">id</span>)</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;idArr&quot;</span>, idArr)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">arr</span>: [</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-01&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;æå››&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-02&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">&#x27;ç‹äº”&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-03&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">&#x27;èµµå…­&#x27;</span>, <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>, <span class="attr">date</span>: <span class="string">&#x27;2021-09-04&#x27;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">  ]</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">edit</span> = (<span class="params">index, row</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;index:&quot;</span>, index, <span class="string">&quot;row:&quot;</span>, row)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">del</span> = (<span class="params">index</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  data.<span class="property">arr</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">currentChange</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;value&quot;</span>, value)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è¡¨æ ¼+åˆ†é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- select-changeæ˜¯å¤šé€‰æ¡†çš„äº‹ä»¶ï¼Œcurrent-changeç‚¹å‡»è¡Œçš„äº‹ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-table</span> @<span class="attr">selection-change</span>=<span class="string">&quot;selected&quot;</span> @<span class="attr">current-change</span>=<span class="string">&quot;currentChange&quot;</span> <span class="attr">:data</span>=<span class="string">&quot;data.arr&quot;</span> <span class="attr">border</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç¼–å·&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;å§“å&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;name&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;ç½‘ç«™&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;web&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ—¥æœŸ&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œ&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>=<span class="string">&quot;scope&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;edit(scope.$index, scope.row)&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">i-ep-Edit</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ç¼–è¾‘<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">size</span>=<span class="string">&quot;small&quot;</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;del&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">i-ep-Delete</span> /&gt;</span><span class="tag">&lt;/<span class="name">el-icon</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-pagination</span> <span class="attr">layout</span>=<span class="string">&quot;prev, pager, next&quot;</span> <span class="attr">:total</span>=<span class="string">&quot;400&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue3 </tag>
            
            <tag> ElementPlus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3-è·¯ç”±é…ç½®å®è·µ</title>
      <link href="/post/vuerouter/"/>
      <url>/post/vuerouter/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘ä»¬ç¼–å†™å‰ç«¯çš„æ—¶å€™è‚¯å®šä¸åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæœ‰å¤šä¸ªé¡µé¢çš„æ—¶å€™éœ€è¦ä½¿ç”¨è·¯ç”±é…ç½®å°†ç”¨æˆ·å¼•å¯¼åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨Routeræ’ä»¶ã€‚Vueå¯ä»¥ä½¿ç”¨å®˜æ–¹çš„VueRouteræ’ä»¶ã€‚</p><blockquote><p><a href="https://router.vuejs.org/zh/">Vue Router | Vue.js çš„å®˜æ–¹è·¯ç”± (vuejs.org)</a></p></blockquote><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@4</span><br></pre></td></tr></table></figure><p>åœ¨<code>package.json</code>ä¸­å¯çœ‹åˆ°å¯¹åº”çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;demo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pinia&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pinia-plugin-persistedstate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.3.2&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œ<code>views</code>ç”¨æ¥å­˜æ”¾é¡µé¢ç»„ä»¶ï¼Œ<code>router</code>ç”¨æ¥å­˜æ”¾è·¯ç”±ä¿¡æ¯ï¼Œåœ¨<code>Router</code>æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code>index.js</code>,</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createRouter, createWebHistory&#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–å†™è·¯ç”±é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/index.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè·¯ç”±å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="title function_">createRouter</span>(&#123;</span><br><span class="line">    <span class="attr">history</span>: <span class="title function_">createWebHistory</span>(),</span><br><span class="line">    routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºè·¯ç”±å®ä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><p><code>routes</code>çš„<code>component</code>ä¸­æ‰€å¯¼å…¥çš„å°±æ˜¯<code>views</code>ä¸­çš„é¡µé¢ç»„ä»¶ã€‚å¯¹äº<code>createRouter</code>ä¸­çš„<code>history</code>å‚æ•°ä¸€èˆ¬æœ‰<code>createWebHistory</code>å’Œ<code>createWebHashHistory</code>ï¼ˆåœ¨é“¾æ¥åé¢å¤šäº†ä¸ª#ï¼‰é€‰æ‹©ã€‚</p><p>ä¹‹ååœ¨<code>main.js</code>ä¸­å¯¼å…¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router/index.js&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æœ€ååœ¨<code>App.vue</code>ä¸­æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œé¡¹ç›®ï¼Œåœ¨<code>http://localhost:5173</code>æ˜¾ç¤ºçš„æ˜¯<code>index.vue</code>ï¼Œåœ¨<code>http://localhost:5173/content/</code>æ˜¾ç¤ºçš„æ˜¯<code>content.vue</code></p><h2 id="é…ç½®è·¯å¾„åˆ«å"><a href="#é…ç½®è·¯å¾„åˆ«å" class="headerlink" title="é…ç½®è·¯å¾„åˆ«å @"></a>é…ç½®è·¯å¾„åˆ«å @</h2><p>åœ¨å®è·µä¸­å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ä½¿ç”¨srcç›®å½•çš„æ¬¡æ•°æ˜¯æœ€ä¸ºé¢‘ç¹çš„ï¼Œä¸ºäº†çœå»éº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªåˆ«å<code>@</code>æ¥ä»£æ›¿<code>../</code></p><p>é¦–å…ˆåœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ–‡ä»¶å¤¹ä¸‹çš„<code>vite.config.js</code>ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span> <span class="comment">// pathæ¥è‡ªnode.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://vitejs.dev/config/</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">vue</span>()],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å°±å°†<code>src</code>æ¢æˆäº†<code>@</code>ï¼Œ</p><p>è¿™æ—¶å€™å°±å¯ä»¥å°†ä¹‹å‰åœ¨<code>index.js</code>ä¸­ç¼–å†™çš„è·¯å¾„æ”¹ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ä½†è¿™æ—¶å€™å‘ç°ä½¿ç”¨<code>@</code>æ²¡æœ‰è·¯å¾„æç¤ºï¼Œåœ¨æ ¹ç›®å½•ä¸‹å†åˆ›å»ºä¸€ä¸ª<code>jsconfig.json</code>çš„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/*&quot;</span><span class="punctuation">]</span> <span class="comment">// é…ç½® @ ç¬¦å·æŒ‡å‘ src ç›®å½•åŠå…¶å­ç›®å½•</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬ä½¿ç”¨<code>@</code>çš„æ—¶å€™å°±æœ‰æç¤ºäº†ã€‚</p><h2 id="æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè·¯å¾„ä¼ å‚"><a href="#æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè·¯å¾„ä¼ å‚" class="headerlink" title="æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè·¯å¾„ä¼ å‚"></a>æŸ¥è¯¢å­—ç¬¦ä¸²å’Œè·¯å¾„ä¼ å‚</h2><p>æŸ¥è¯¢å­—ç¬¦ä¸²ä¼ å‚æ˜¯ä¸€ä¸ªå¸¸è§çš„ä¼ å‚æ–¹æ³•ï¼Œåœ¨é“¾æ¥ä¹‹åæ·»åŠ ?åä¼ é€’å‚æ•°ï¼Œæœ€ç»å…¸çš„ä¸€ä¸ªä¾‹å­ï¼š<code>https://vuejobs.com/?ref=vuejs</code>ï¼Œé€šè¿‡ï¼Ÿå‘åç«¯ä¼ é€’äº†<code>ref:vuejs</code>å‚æ•°ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å¯¹åº”é¡µé¢çš„ç»„ä»¶ä¸­ä½¿ç”¨<code>$route.query.å±æ€§å</code>è·å¾—å®ƒçš„å€¼ï¼Œå¦‚åœ¨<code>index.js</code>ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    id:&#123;&#123; $route.query.id &#125;&#125;</span><br><span class="line">    name:&#123;&#123; $route.query.name &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è®¿é—®<code>http://localhost:5173/?id=1&amp;name=gc</code>ï¼Œä¼šçœ‹åˆ°é¡µé¢æ˜¾ç¤ºå‡ºidå’Œnameã€‚</p><p>è·¯å¾„ä¼ å‚ä¹Ÿæ˜¯å¸¸ç”¨çš„ä¸€ä¸ªåšæ³•ï¼Œæ¯”å¦‚å¾®åšçš„å›¾ç‰‡é“¾æ¥ï¼š<code>https://wx4.sinaimg.cn/mw2000/008B0C4dly1himvdwnl32j31hc0sak6i.jpg</code>ã€‚ä¾‹å¦‚è®¿é—®contenté¡µé¢éœ€è¦ä¼ é€’idå’Œtitleä¸¤ä¸ªå‚æ•°ã€‚</p><p>é¦–å…ˆéœ€è¦ä¿®æ”¹è·¯ç”±è§„åˆ™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content/id/:id/title/:title&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åœ¨ç»„ä»¶ä¸­éœ€è¦é€šè¿‡<code>$route.params.å±æ€§å</code>æ¥è·å¾—ä¼ é€’çš„å€¼ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å†…å®¹é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    id:&#123;&#123; $route.params.id &#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    name:&#123;&#123; $route.params.title &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡<code>http://localhost:5173/content/id/1/title/vuerouter</code>å³å¯è®¿é—®ä¸”çœ‹åˆ°ä¼ é€’çš„æ•°æ®ã€‚</p><blockquote><p>åç»­è®¿é—®<code>http://localhost:5173/content</code>ä¼šå‡ºç°æŠ¥é”™<code>vue-router.mjs:35  [Vue Router warn]: No match found for location with path &quot;/content&quot;</code>ã€‚</p></blockquote><p>å¦‚æœç›¸è®¾ç½®éä¸¥æ ¼ä¼ é€’ï¼Œå¯ä»¥åœ¨å‚æ•°åæ·»åŠ ?ï¼Œè¿™è¡¨ç¤ºè¿™ä¸ªå‚æ•°ä¸æ˜¯å¿…é¡»ä¼ é€’çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content/id/:id/title/:title?&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="è·¯ç”±åˆ«å-alias"><a href="#è·¯ç”±åˆ«å-alias" class="headerlink" title="è·¯ç”±åˆ«å alias"></a>è·¯ç”±åˆ«å alias</h2><p>é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç»™å½“å‰çš„è·¯ç”±æ·»åŠ ä¸€ä¸ªæ–°çš„é“¾æ¥ï¼Œè¿™ä¸¤ä¸ªé“¾æ¥è®¿é—®çš„é¡µé¢å®Œå…¨ä¸€è‡´ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ«å</span></span><br><span class="line">        <span class="attr">alias</span>: [<span class="string">&#x27;/home&#x27;</span>,<span class="string">&#x27;index&#x27;</span>],</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content/id/:id/title/:title?&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ä¹‹åæ— è®ºæ˜¯è®¿é—®<code>/</code>ï¼Œ<code>/home</code>å’Œ<code>/index</code>å°±éƒ½ä¼šæ˜¯<code>index.vue</code>ç»„ä»¶</p><h2 id="å®šä¹‰è·¯ç”±åç§°-name"><a href="#å®šä¹‰è·¯ç”±åç§°-name" class="headerlink" title="å®šä¹‰è·¯ç”±åç§° name"></a>å®šä¹‰è·¯ç”±åç§° name</h2><p>å…¶å®å°±æ˜¯ç»™è·¯ç”±è®¾ç½®ä¸€ä¸ªå”¯ä¸€çš„åå­—ï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿åç»­ä½¿ç”¨router-linkè¿›è¡Œé“¾æ¥ä¼ å‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ«å</span></span><br><span class="line">        <span class="attr">alias</span>: [<span class="string">&#x27;/home&#x27;</span>,<span class="string">&#x27;/index&#x27;</span>],</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content/id/:id/title/:title?&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="Router-link"><a href="#Router-link" class="headerlink" title="Router-link"></a>Router-link</h2><p>router-linkæ˜¯ç”¨æ¥è¿›è¡Œé“¾æ¥è½¬ç§»çš„ï¼Œæœ¬è´¨æ˜¯ç”Ÿæˆä¸€ä¸ªaæ ‡ç­¾ã€‚</p><p>ä¸ºäº†æ›´å¥½æ¼”ç¤ºåˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶<code>user.vue</code>å’Œæ–°çš„è·¯ç”±è§„åˆ™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ«å</span></span><br><span class="line">        <span class="attr">alias</span>: [<span class="string">&#x27;/home&#x27;</span>,<span class="string">&#x27;/index&#x27;</span>],</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/user/id/:id/name/:name?&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;user&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/user.vue&#x27;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>åœ¨<code>index.vue</code>ä¸­åˆ›å»ºrouter-linkï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    id:&#123;&#123; $route.query.id &#125;&#125;</span><br><span class="line">    name:&#123;&#123; $route.query.name &#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/content/?id=1&amp;title=vue&quot;</span>&gt;</span>å†…å®¹é¡µ1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/user/id/1/name/å¼ ä¸‰&quot;</span>&gt;</span>ç”¨æˆ·é¡µï¼šå¼ ä¸‰<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç‚¹å‡»åå¯ä»¥æ­£å¸¸è·³è½¬ï¼Œæ‰“å¼€è°ƒè¯•å·¥å…·å‘ç°æœ¬è´¨æ˜¯ç”Ÿæˆaæ ‡ç­¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/content/?id=1<span class="symbol">&amp;amp;</span>title=vue&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span>å†…å®¹é¡µ1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/user/id/1/name/å¼ ä¸‰&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>&gt;</span>ç”¨æˆ·é¡µï¼šå¼ ä¸‰<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥å°†è¿æ¥å†™æˆ<strong>åŠ¨æ€å±æ€§ç»‘å®š</strong>çš„å½¢å¼ï¼Œå¾—åˆ°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;path:&#x27;/content&#x27;,query:&#123;id:2,title:&#x27;vuerouter&#x27;&#125;&#125;&quot;</span> &gt;</span>å†…å®¹2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;user&#x27;,params:&#123;id:2,name:&#x27;æå››&#x27;&#125;&#125;&quot;</span>&gt;</span>ç”¨æˆ·é¡µï¼šæå››<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¯ä»¥çœ‹åˆ°å¯¹äºé“¾æ¥å¼ä¼ å‚ï¼Œéœ€è¦æä¾›nameï¼Œè€Œä¸æ˜¯path</strong>ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç¼–ç¨‹å¼çš„æ–¹å¼ï¼Œä½¿ç”¨<code>useRouter</code>è¿›è¡Œè·³è½¬ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; useRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> route  = <span class="title function_">useRouter</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">goTo1</span> =(<span class="params"></span>)=&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">        route.<span class="title function_">push</span>(&#123;<span class="attr">path</span>:<span class="string">&#x27;/content&#x27;</span>,<span class="attr">query</span>:&#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">title</span>:<span class="string">&#x27;vue&#x27;</span>&#125;&#125;); <span class="comment">// è·³è½¬åˆ°å†…å®¹é¡µ</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">goTo2</span> =(<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        route.<span class="title function_">push</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;user&#x27;</span>,<span class="attr">params</span>:&#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>&#125;&#125;); <span class="comment">// è·³è½¬åˆ°ç”¨æˆ·é¡µ</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸»é¡µ<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    id:&#123;&#123; $route.query.id &#125;&#125;</span><br><span class="line">    name:&#123;&#123; $route.query.name &#125;&#125; <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/content/?id=1&amp;title=vue&quot;</span>&gt;</span>å†…å®¹é¡µ1<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/user/id/1/name/å¼ ä¸‰&quot;</span>&gt;</span>ç”¨æˆ·é¡µï¼šå¼ ä¸‰<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;path:&#x27;/content&#x27;,query:&#123;id:2,title:&#x27;vuerouter&#x27;&#125;&#125;&quot;</span> &gt;</span>å†…å®¹2<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;user&#x27;,params:&#123;id:2,name:&#x27;æå››&#x27;&#125;&#125;&quot;</span>&gt;</span>ç”¨æˆ·é¡µï¼šæå››<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;goTo1&quot;</span>&gt;</span>è·³è½¬åˆ°å†…å®¹é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;goTo2&quot;</span>&gt;</span>è·³è½¬åˆ°ç”¨æˆ·é¡µ<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åµŒå¥—è·¯ç”±-children"><a href="#åµŒå¥—è·¯ç”±-children" class="headerlink" title="åµŒå¥—è·¯ç”± children"></a>åµŒå¥—è·¯ç”± children</h2><p>æ–°å»ºä¸€ä¸ª<code>vip</code>æ–‡ä»¶å¤¹ï¼Œåœ¨æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>default.vue</code>ã€<code>info.vue</code>ã€<code>order.vue</code>ï¼Œå¹¶åœ¨<code>src</code>ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>vip.vue</code>ä½œä¸ºæ‰€æœ‰ç»„ä»¶çš„çˆ¶ç»„ä»¶ã€‚ç­‰äºæ–°å»ºäº†ä¸€ä¸ªå®Œæ•´çš„æ–°é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢ä¸‹æœ‰å¾ˆå¤šå…¶ä»–åŠŸèƒ½éœ€è¦å®ç°ï¼Œé‚£å°±éœ€è¦ä½¿ç”¨åµŒå¥—è·¯ç”±ã€‚</p><p>é¦–å…ˆæ–°å»ºè·¯ç”±åŒ¹é…ï¼Œéœ€è¦å®šä¹‰å­è·¯ç”±:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼–å†™è·¯ç”±é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="comment">// http://localhost:5173/</span></span><br><span class="line">        <span class="comment">// æ·»åŠ åˆ«å</span></span><br><span class="line">        <span class="attr">alias</span>: [<span class="string">&#x27;/home&#x27;</span>,<span class="string">&#x27;/index&#x27;</span>],</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/index.vue&quot;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/content&#x27;</span>, <span class="comment">// http://localhost:5173/content</span></span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/content.vue&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&quot;/vip&quot;</span>, <span class="comment">// http://localhost:5173/vip</span></span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/vip.vue&#x27;</span>),</span><br><span class="line">        <span class="attr">children</span>:[</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// é»˜è®¤é¡µé¢</span></span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// http://localhost:5173/vip</span></span><br><span class="line">                <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/vip/default.vue&#x27;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;order&#x27;</span>, <span class="comment">// http://localhost:5173/vip/order</span></span><br><span class="line">                <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/vip/order.vue&#x27;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&#x27;info&#x27;</span>, <span class="comment">// http://localhost:5173/vip/info</span></span><br><span class="line">                <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/vip/info.vue&#x27;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>éœ€è¦åœ¨<code>vip.vue</code>ç¼–å†™å¦‚ä¸‹ä»£ç ï¼Œä½¿ç”¨<code> &lt;router-view/&gt;</code>è¿›è¡Œæ¸²æŸ“ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/header.vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/footer.vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Footer</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„<code>&lt;Header /&gt;</code>å’Œ<code>&lt;Footer /&gt;</code>æ˜¯å¯ä»¥ç›´æ¥ç»§æ‰¿åˆ°å­é¡µé¢çš„ï¼Œä¸éœ€è¦æ¯ä¸ªç»„ä»¶éƒ½è¿›è¡Œå¯¼å…¥ã€‚</p><h2 id="é‡å®šå‘-redirect"><a href="#é‡å®šå‘-redirect" class="headerlink" title="é‡å®šå‘ redirect"></a>é‡å®šå‘ redirect</h2><p>åªéœ€è¦åœ¨è·¯ç”±é…ç½®çš„æ—¶å€™æ·»åŠ <code>redirect</code>å±æ€§</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    path : <span class="string">&#x27;/svip&#x27;</span>,</span><br><span class="line">        <span class="comment">// redirect: &#x27;/vip&#x27;, è·³è½¬åˆ°http://localhost:5173/vip</span></span><br><span class="line">        <span class="attr">redirect</span>: &#123;<span class="attr">path</span>:<span class="string">&#x27;/content&#x27;</span>,<span class="attr">query</span>:&#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">title</span>:<span class="string">&#x27;vuerouter&#x27;</span>&#125;&#125;, <span class="comment">// è·³è½¬åˆ°http://localhost:5173/content?id=2&amp;title=vuerouter</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹åè®¿é—®<code>/svip</code>å°±ä¼šè·³è½¬åˆ°<code>/vip</code>ï¼Œå¦‚æœæƒ³è¦ä¼ é€’å‚æ•°é‡å®šå‘ï¼Œå¯ä»¥å‚è€ƒä¸Šè¿°<code>router-link</code>ä¸­çš„<code>:to</code>çš„å†™æ³•ã€‚</p><h2 id="å…¨å±€å‰ç½®å®ˆå«"><a href="#å…¨å±€å‰ç½®å®ˆå«" class="headerlink" title="å…¨å±€å‰ç½®å®ˆå«"></a>å…¨å±€å‰ç½®å®ˆå«</h2><p>åç«¯ä¸€èˆ¬å«å®ƒå…¨å±€ä¸­é—´ä»¶ï¼Œæ˜¯ç”¨æ¥æ‹¦æˆªè¯·æ±‚çš„ï¼Œå…¨å±€çš„æ„æ€æ˜¯åœ¨æ•´ä¸ªé¡¹ç›®ä¸­è¿›è¡Œæ‹¦æˆªã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router/index.js&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;to:&#x27;</span>, to) <span class="comment">// to:è¦å»çš„è·¯ç”±</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;from:&#x27;</span>, <span class="keyword">from</span>) <span class="comment">// from:ä»å“ªæ¥çš„è·¯ç”±</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&#x27;/vip/&#x27;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;éœ€è¦ç™»å½•&#x27;</span>)</span><br><span class="line">        <span class="title function_">next</span>(<span class="literal">false</span>) <span class="comment">// æ‹¦æˆª</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (to.<span class="property">name</span> === <span class="string">&#x27;content&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;/vip&#x27;</span> &#125;) <span class="comment">// è·³è½¬åˆ°http://localhost:5173/vip</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">next</span>() <span class="comment">// æ”¾è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(router)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬ä½¿ç”¨<code>path</code>å’Œ<code>name</code>è¿›è¡Œåˆ¤æ–­</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue3 </tag>
            
            <tag> Router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3-PiniaæŒä¹…åŒ–æ’ä»¶</title>
      <link href="/post/pinia/"/>
      <url>/post/pinia/</url>
      
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯Piniaï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Piniaï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Piniaï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Piniaï¼Ÿ</h2><p>Piniaæ˜¯ä¸€ä¸ªè½»é‡çº§çš„çŠ¶æ€ç®¡ç†åº“ï¼Œç”¨æ¥ç®¡ç†å…¨å±€çŠ¶æ€çš„å·¥å…·ã€‚</p><blockquote><p><a href="https://pinia.vuejs.org/zh/">Pinia | The intuitive store for Vue.js (vuejs.org)</a></p></blockquote><p>å®ƒèƒ½å¤Ÿè§£å†³å¦‚ä¸‹é—®é¢˜ï¼š</p><ol><li>å…¨å±€çŠ¶æ€ç®¡ç†ï¼šæ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥è®¿é—®å’Œä¿®æ”¹çŠ¶æ€ï¼Œä¸ç”¨åœ¨æ¯ä¸ªç»„ä»¶çš„å†…éƒ¨è¿›è¡Œç®¡ç†</li><li>ç®€åŒ–ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼šé¿å…ä½¿ç”¨å¤§é‡çš„propå’Œprovide</li><li>çŠ¶æ€æŒä¹…åŒ–ï¼šå¯ä»¥å°†æ•°æ®å‚¨å­˜åœ¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œåœ¨åº”ç”¨é‡å¯åä»ç„¶ä¼šä¿ç•™çŠ¶æ€ï¼Œæœ¬è´¨æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨LocalStorageä¸­ã€‚</li></ol><p>å¸¸è§çš„åº”ç”¨åœ¨ä¿æŒç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€‚</p><p>Piniaå’ŒLocalStorageæœ‰ä¸€äº›åŒºåˆ«ï¼š</p><ul><li>LocalStorageåªå…è®¸å­˜å‚¨å­—ç¬¦ä¸²ç±»å‹ï¼Œå¤§å°é™åˆ¶ä¸º5MBï¼ˆé€‚åˆç®€å•åœºæ™¯ï¼‰</li><li>Piniaå¯ä»¥å­˜å‚¨ä»»ä½•çš„æ•°æ®ç±»å‹ï¼Œæ²¡æœ‰æ•°æ®å¤§å°çš„é™åˆ¶ï¼ˆé€‚åˆå¤æ‚åœºæ™¯ï¼‰</li></ul><h2 id="å®‰è£…Pinia"><a href="#å®‰è£…Pinia" class="headerlink" title="å®‰è£…Pinia"></a>å®‰è£…Pinia</h2><p>åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pinia</span><br></pre></td></tr></table></figure><p>ä¹‹ååœ¨<code>package.json</code>æ–‡ä»¶ä¸­å°±å¯ä»¥æ‰¾åˆ°piniaçš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;demo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pinia&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>å®‰è£…ä¹‹åå°±å¯ä»¥åœ¨<code>main.js</code>ä¸­åˆ›å»ºä¸€ä¸ªpiniaå®ä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ä¹‹åæˆ‘ä»¬åœ¨<code>src</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>stores</code>çš„æ–‡ä»¶å¤¹ï¼Œåˆ›å»ºä¸€ä¸ª<code>web.js</code>æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªstoreå¯¹è±¡.</p><p>defineStoreæœ‰ä¸¤ä¸ªå‚æ•°:idï¼ˆæœ€å¥½å’Œjsæ–‡ä»¶åç›¸åŒï¼‰å’Œsetupå‡½æ•°ï¼ˆæˆ–è€…æ˜¯Optionå¯¹è±¡ï¼‰</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; reactive,ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">defineStore</span>(<span class="string">&quot;web&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&quot;ç™¾åº¦&quot;</span>,</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&quot;https://www.baidu.com&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> users = <span class="title function_">ref</span>(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">userAdd</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        users.<span class="property">value</span>++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        web,</span><br><span class="line">        users,</span><br><span class="line">        userAdd</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å®šä¹‰åä½¿ç”¨<code>export</code>å¯¼å‡ºï¼Œå˜é‡çš„å‘½åæ˜¯ç”±<code>use</code>+<code>Id</code>+<code>Store</code>ç»„æˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useWebStore = <span class="title function_">defineStore</span>(<span class="string">&quot;web&quot;</span>,â€¦â€¦)</span><br></pre></td></tr></table></figure><p>å¯¼å‡ºåå°±å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; useWebStore &#125; <span class="keyword">from</span> <span class="string">&#x27;./stores/web&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> useWeb = <span class="title function_">useWebStore</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(useWeb.<span class="property">web</span>.<span class="property">title</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(useWeb.<span class="property">users</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    &#123;&#123; useWeb.web.title &#125;&#125;</span><br><span class="line">    &#123;&#123; useWeb.users &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;useWeb.userAdd&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºpiniaå°±æ˜¯å°†çŠ¶æ€ç»„ä»¶è¿›è¡Œäº†é›†ä¸­çš„ç®¡ç†ã€‚</p><h2 id="æŒä¹…åŒ–å­˜å‚¨"><a href="#æŒä¹…åŒ–å­˜å‚¨" class="headerlink" title="æŒä¹…åŒ–å­˜å‚¨"></a>æŒä¹…åŒ–å­˜å‚¨</h2><p>ä¸ºäº†å…³é—­æµè§ˆå™¨çš„æ—¶å€™ç”¨æˆ·çš„çŠ¶æ€ä¸å‘ç”Ÿä¸¢å¤±ï¼Œéœ€è¦ä½¿ç”¨localStorageå°†æ•°æ®ä¿å­˜ä¸‹æ¥ã€‚</p><p>è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ°ä¸€ä¸ªæœ¬åœ°æŒä¹…åŒ–å­˜å‚¨æ’ä»¶ï¼špinia-plugin-persistedstate</p><blockquote><p><a href="https://prazdevs.github.io/pinia-plugin-persistedstate/zh/">Home | pinia-plugin-persistedstate (prazdevs.github.io)</a></p></blockquote><p>é¦–å…ˆè¦å®‰è£…æ’ä»¶:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i pinia-plugin-persistedstate</span><br></pre></td></tr></table></figure><p>å®‰è£…ååœ¨<code>package.json</code>ä¸­å¯ä»¥å¯çœ‹åˆ°å¯¹åº”çš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;demo&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;module&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preview&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vite preview&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;pinia&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.7&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pinia-plugin-persistedstate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.2.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.4.21&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vitejs/plugin-vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.0.4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vite&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.2.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä¹‹ååœ¨<code>main.js</code>ä¸­åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä½œç”¨äºpiniaï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPersistedState &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia-plugin-persistedstate&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line">pinia.<span class="title function_">use</span>(<span class="title function_">createPersistedState</span>())</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åœ¨<code>web.js</code>çš„<code>defineStore</code>çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå‚æ•°:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&quot;pinia&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; reactive,ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> useWebStore = <span class="title function_">defineStore</span>(<span class="string">&quot;web&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>:<span class="string">&quot;ç™¾åº¦&quot;</span>,</span><br><span class="line">        <span class="attr">url</span>:<span class="string">&quot;https://www.baidu.com&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> users = <span class="title function_">ref</span>(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">userAdd</span> = (<span class="params"></span>)=&gt;&#123;</span><br><span class="line">        users.<span class="property">value</span>++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        web,</span><br><span class="line">        users,</span><br><span class="line">        userAdd</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">persist</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¼€å¯äº†æŒä¹…åŒ–å­˜å‚¨ï¼Œåœ¨æµè§ˆå™¨è°ƒè¯•å·¥å…·çš„åº”ç”¨ç¨‹åºä¸­çš„æœ¬åœ°å­˜å‚¨å³å¯çœ‹åˆ°æ•°æ®çš„å†…å®¹ï¼Œä¸”åˆ·æ–°åå†…å®¹ä¸ä¸¢å¤±ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue3 </tag>
            
            <tag> Pinia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3-Viteé¡¹ç›®åˆè¯†</title>
      <link href="/post/vite/"/>
      <url>/post/vite/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç”±äºhexoä¸å•ç‹¬æ”¯æŒvueçš„è¯­æ³•é«˜äº®ï¼Œå› æ­¤éƒ¨åˆ†vueçš„é«˜äº®ä½¿ç”¨çš„æ˜¯htmlã€‚</p><h2 id="ä»€ä¹ˆæ˜¯Viteï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Viteï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Viteï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Viteï¼Ÿ</h2><p>viteæ˜¯ä¸€ä¸ªç°åœ¨åŒ–çš„å‰ç«¯å¼€å‘æ„å»ºå·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…æ›´åŠ ä¾¿æ·ç®¡ç†å®‰è£…çš„npmåŒ…ï¼Œæ›´å¿«çš„å¯åŠ¨å’Œæ›´æ–°ä¿®æ”¹åçš„å‰ç«¯é¡µé¢ï¼Œæ˜¯Vueå®˜æ–¹ä¸»æ¨çš„æ„å»ºå·¥å…·ã€‚</p><blockquote><p><a href="https://cn.vitejs.dev/">Vite | ä¸‹ä¸€ä»£çš„å‰ç«¯å·¥å…·é“¾ (vitejs.dev)</a></p></blockquote><h2 id="åˆ›å»ºä¸€ä¸ªViteé¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªViteé¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªViteé¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªViteé¡¹ç›®</h2><p>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ä½¿ç”¨å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vite@latest</span><br></pre></td></tr></table></figure><p>è¾“å…¥åä¼šè®©æˆ‘ä»¬è¾“å…¥ä¸€äº›æŒ‡ä»¤ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥å³å¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">D:\Web\vite_test&gt;npm create vite@latest</span><br><span class="line">âˆš Project name: ... demo</span><br><span class="line">âˆš Select a framework: Â» Vue</span><br><span class="line">âˆš Select a variant: Â» JavaScript</span><br><span class="line"></span><br><span class="line">Scaffolding project <span class="keyword">in</span> D:\Web\vite_test\demo...</span><br><span class="line"></span><br><span class="line">Done. Now run:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span> demo</span><br><span class="line">  npm install</span><br><span class="line">  npm run dev</span><br></pre></td></tr></table></figure><p>ä¹‹åå°±ä¼šçœ‹è§ä¸€ä¸ªåä¸ºdemoçš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­çš„æ–‡ä»¶ä¸º</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â”€demo</span><br><span class="line">    â”œâ”€.vscode</span><br><span class="line">    â”œâ”€public</span><br><span class="line">    â””â”€src</span><br><span class="line">        â”œâ”€assets</span><br><span class="line">        â””â”€components</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æç¤ºç»§ç»­è¾“å…¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">D:\Web\vite_test&gt;<span class="built_in">cd</span> demo</span><br><span class="line"></span><br><span class="line">D:\Web\vite_test\demo&gt;npm install</span><br><span class="line"></span><br><span class="line">added 27 packages <span class="keyword">in</span> 6s</span><br><span class="line"></span><br><span class="line">D:\Web\vite_test\demo&gt;npm run dev</span><br><span class="line"></span><br><span class="line">&gt; demo@0.0.0 dev</span><br><span class="line">&gt; vite</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  VITE v5.2.11  ready <span class="keyword">in</span> 467 ms</span><br><span class="line"></span><br><span class="line">  âœ  Local:   http://localhost:5173/</span><br><span class="line">  âœ  Network: use --host to expose</span><br><span class="line">  âœ  press h + enter to show <span class="built_in">help</span></span><br></pre></td></tr></table></figure><p>ç‚¹å‡»é“¾æ¥æ‰“å¼€æœ¬åœ°æœåŠ¡å™¨å³å¯çœ‹åˆ°viteçš„åŸå§‹ç•Œé¢ã€‚</p><p>ä¹‹åå¯ä»¥å°†é»˜è®¤çš„HelloWorld.vueå’Œstyle.cssåˆ é™¤ï¼Œå¹¶åœ¨main.jså’ŒApp.vueä¸­åˆ é™¤å¯¼å…¥å³å¯ã€‚</p><p>ä¹‹åä½ å°±ä¼šå¾—åˆ°ä¸€ä¸ªç©ºçš„vueæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="VSCodeæ’ä»¶"><a href="#VSCodeæ’ä»¶" class="headerlink" title="VSCodeæ’ä»¶"></a>VSCodeæ’ä»¶</h2><p>VSCodeæœ¬èº«å…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¦‚æœæƒ³è¦è®©ä»–æ”¯æŒvueçš„å¼€å‘ï¼Œé‚£ä¹ˆå¿…é¡»ä¸‹è½½ä¸€äº›å…¶ä»–çš„æ’ä»¶ã€‚</p><ol><li>Vue-Official - æ”¯æŒVueè¯­æ³•é«˜äº®</li><li>Vue VSCode Snippets - å¿«é€Ÿç”Ÿæˆvue3æ¨¡ç‰ˆ</li><li>åˆ«åè·¯å¾„è·³è½¬  - æ›¿æ¢@å’Œ&#x2F;</li></ol><p>å®‰è£…äº†2ä¹‹åå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºåˆå§‹æ¨¡ç‰ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vbase-3-setup</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªå¦‚ä¸‹çš„ç©ºæ¨¡ç‰ˆ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ç°åœ¨vueé»˜è®¤çš„æ¨¡ç‰ˆä¸­templateå·²ç»ä¸éœ€è¦divåŒ…è£¹äº†ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹æ’ä»¶çš„æ ¼å¼,è¿›å…¥<code>C:\Users\ç”¨æˆ·å\.vscode\extensions\sdras.vue-vscode-snippets-3.1.1\snippets</code>ï¼Œæ‰¾åˆ°<code>vue.json</code>,æœç´¢<code>vbase-3-setup</code>å’Œ<code>vbase-3-ts-setup</code>ï¼Œå°†<code>div</code>å’Œ<code>lang=&quot;scss&quot;</code>åˆ é™¤ï¼Œå°†templateå’Œscriptè°ƒæ¢ä½ç½®ã€‚</p><p>ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;Vue Single File Component Setup Composition API&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vbase-3-setup&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;&lt;script setup&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/script&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;template&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/template&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;style scoped&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/style&gt;&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Base for Vue File Setup Composition API with SCSS&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;Vue Single File Component Setup Composition API with Typescript&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vbase-3-ts-setup&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;&lt;script setup lang=\&quot;ts\&quot;&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/script&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;template&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/template&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;style scoped&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;&lt;/style&gt;&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Base for Vue File Setup Composition API - Typescript&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¿®æ”¹å®Œè®°å¾—é‡å¯VSCode</p></blockquote><p>æ¥ä¸‹æ¥åœ¨vueæ–‡ä»¶ä¸­ç¼–å†™htmlæ ‡ç­¾ä¼šå‡ºç°æ²¡æœ‰æç¤ºçš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯ä»¥åœ¨è®¾ç½®ä¸­æœç´¢<code>includeLanguages</code>,åœ¨<code>Emmet</code>ä¸­æ·»åŠ è‡³å¦‚ä¸‹å‚æ•°,é‡å¯åç¼–å†™å°±æœ‰æç¤ºã€‚</p><img src="./Viteimage/image-20240510163949692.png" alt="image-20240510163949692" style="zoom: 67%;" /><p>æˆ–è€…ç›´æ¥åœ¨<code>settings.json</code>ä¸­æ·»åŠ å¦‚ä¸‹è®¾ç½®æ–‡ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;emmet.includeLanguages&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;vue-html&quot;</span><span class="punctuation">:</span> <span class="string">&quot;html&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;html&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™å¦‚æœè¿”å›å»æ‰“å¼€å…¶ä»–htmlæ–‡ä»¶ä¼šå‘ç°<code>ts-plugin</code>è¿™ä¸ªæ’ä»¶å¯¼è‡´å…¨éƒ¨Codeå†’çº¢ï¼Œè¿™æ—¶å€™åœ¨åœ¨è®¾ç½®ä¸­æœç´¢<code>Validate</code>ï¼Œç„¶åå…³é—­TyScriptçš„è¯­æ³•æ£€æŸ¥ã€‚</p><blockquote><p>è¿™ä¸ªæ’ä»¶å¼€å¯åVSCodeçš„æ‰€æœ‰htmléƒ½ä¼šå†’çº¢</p></blockquote><h2 id="ä»£ç è¿ç§»åˆ°Vue"><a href="#ä»£ç è¿ç§»åˆ°Vue" class="headerlink" title="ä»£ç è¿ç§»åˆ°Vue"></a>ä»£ç è¿ç§»åˆ°Vue</h2><p>ä¹‹å‰ä½¿ç”¨htmlç¼–å†™vueä»£ç ï¼Œå¯ä»¥ä½“ä¼šåˆ°è¿˜æ˜¯å¾ˆéº»çƒ¦çš„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;web.show&#125;&#125;</span><br><span class="line">    <span class="comment">&lt;!--    v-showæœ¬è´¨æ˜¯ç”Ÿæˆäº†cssçš„displayå±æ€§--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span>gcnanmuå­¦Vue<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">toggle</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                web.<span class="property">show</span> = !web.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                web,</span></span><br><span class="line"><span class="language-javascript">                toggle</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å°†å…¶è¿ç§»åˆ°vueæ–‡ä»¶ä¸­åªéœ€è¦è¿™æ ·ç¼–å†™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">toggle</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    web.<span class="property">show</span> = !web.<span class="property">show</span>;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    &#123;&#123; web.show &#125;&#125;</span><br><span class="line">    <span class="comment">&lt;!--    v-showæœ¬è´¨æ˜¯ç”Ÿæˆäº†cssçš„displayå±æ€§--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span>gcnanmuå­¦Vue<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°</p><ol><li>ä¸å†éœ€è¦ç¼–å†™return å’Œ setup</li><li>å¯¼å…¥çš„æ—¶å€™åªéœ€è¦æŒ‡å®š<code>vue</code>ï¼Œä¸å†éœ€è¦æŒ‡å®šåˆ°ç‰¹å®šçš„<code>vue.js</code></li><li>æƒ³è¦é¢„è§ˆéœ€è¦åœ¨ç»ˆç«¯ä½¿ç”¨<code>npm run dev</code>å‘½ä»¤</li></ol><h2 id="çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶"><a href="#çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶" class="headerlink" title="çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶"></a>çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶</h2><p>åœ¨Viteä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½å°†vueç»„ä»¶æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸­ï¼Œç»„ä»¶å…¶å®å°±æ˜¯vueæ–‡ä»¶ï¼Œæˆ‘ä»¬å…ˆåœ¨<code>components</code>ä¸­åˆ›å»º<code>header.vue</code>å’Œ<code>footer.vue</code>ä¸¤ä¸ªç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- headerç»„ä»¶å†™header --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>header<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- footerç»„ä»¶å†™footer --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹‹ååœ¨<code>App.vue</code>ä¸­å¯¼å…¥ä¸¤ä¸ªç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&quot;./components/header&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&quot;./components/footer&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span> /&gt;</span></span><br><span class="line">    hello world</span><br><span class="line">    <span class="tag">&lt;<span class="name">Footer</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¯¼å…¥å’Œåœ¨templateä¸­ä½¿ç”¨çš„æ—¶å€™<strong>ç»„ä»¶çš„åå­—éœ€è¦å¤§å†™</strong>ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>App.vue</code>æ˜¯çˆ¶ç»„ä»¶ï¼Œ<code>header.vue</code>å’Œ<code>footer.vue</code>æ˜¯å­ç»„ä»¶ã€‚</p><p>ä½¿ç”¨<code>npm run dev</code>å‘½ä»¤è¿è¡Œï¼Œå¯ä»¥åœ¨æ˜¾ç¤ºå‡ºçš„é¡µé¢ä¸­çœ‹åˆ°æ•ˆæœã€‚</p><h2 id="çˆ¶å­ç»„ä»¶ä¼ å€¼"><a href="#çˆ¶å­ç»„ä»¶ä¼ å€¼" class="headerlink" title="çˆ¶å­ç»„ä»¶ä¼ å€¼"></a>çˆ¶å­ç»„ä»¶ä¼ å€¼</h2><h3 id="çˆ¶ä¼ å­-defineProps"><a href="#çˆ¶ä¼ å­-defineProps" class="headerlink" title="çˆ¶ä¼ å­ defineProps"></a>çˆ¶ä¼ å­ defineProps</h3><p>ä½¿ç”¨è¯­æ³•ä¸ºï¼š</p><p>çˆ¶ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Header</span> <span class="attr">propsName</span>=<span class="string">&quot;ç™¾åº¦&quot;</span> <span class="attr">propWeb</span>=<span class="string">&quot;baidu.com&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;userAdd&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¼ é€’å“åº”å¼æ•°æ® --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;Footer v-bind=&quot;propWeb&quot;/&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Footer</span> <span class="attr">:</span>=<span class="string">&quot;propWeb&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> props = <span class="title function_">defineProps</span>([<span class="string">&quot;propsName&quot;</span>, <span class="string">&quot;propWeb&quot;</span>]);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ä»¥å¯¹è±¡çš„æ–¹å¼æ¥æ”¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">users</span>:<span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">url</span>:<span class="title class_">String</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props.<span class="property">users</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(props.<span class="property">url</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åœ¨ç»„ä»¶ä¸­è®¾å®šä¸€äº›ä¼ é€’çš„è§„åˆ™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">users</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">url</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">type</span>: <span class="title class_">String</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è®¾ç½®ä¸ºå¿…ä¼ çš„å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">required</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// è®¾ç½®åˆå§‹å€¼</span></span></span><br><span class="line"><span class="language-javascript">            <span class="attr">default</span>: <span class="string">&quot;baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&quot;./components/header.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&quot;./components/footer.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> propWeb = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">users</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">url</span>: <span class="string">&quot;www.baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">userAdd</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    propWeb.<span class="property">users</span>++;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(propWeb.<span class="property">users</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span> <span class="attr">propsName</span>=<span class="string">&quot;ç™¾åº¦&quot;</span> <span class="attr">propWeb</span>=<span class="string">&quot;baidu.com&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;userAdd&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¼ é€’å“åº”å¼æ•°æ® --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;Footer v-bind=&quot;propWeb&quot;/&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Footer</span> <span class="attr">:</span>=<span class="string">&quot;propWeb&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Header.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> props = <span class="title function_">defineProps</span>([<span class="string">&quot;propsName&quot;</span>, <span class="string">&quot;propWeb&quot;</span>]);</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>header<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Footer.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> props = <span class="title function_">defineProps</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">users</span>: <span class="title class_">Number</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">url</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">type</span>: <span class="title class_">String</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// è®¾ç½®ä¸ºå¿…ä¼ çš„å±æ€§</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">required</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// è®¾ç½®åˆå§‹å€¼</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">default</span>: <span class="string">&quot;baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(props);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- headerç»„ä»¶å†™header --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> &#123;&#123; props.users &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å­ä¼ çˆ¶-defineEmits"><a href="#å­ä¼ çˆ¶-defineEmits" class="headerlink" title="å­ä¼ çˆ¶ defineEmits"></a>å­ä¼ çˆ¶ defineEmits</h3><p>è¯­æ³•ä¸ºï¼š</p><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> emits = <span class="title function_">defineEmits</span>([<span class="string">&quot;getWeb&quot;</span>,<span class="string">&quot;addUser&quot;</span>])</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">emits</span>(<span class="string">&quot;getWeb&quot;</span>,<span class="string">&quot;www.baidu.com&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">emits</span>(<span class="string">&quot;addUser&quot;</span>,<span class="number">10</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span> @<span class="attr">getWeb</span>=<span class="string">&quot;emitsGetWeb&quot;</span> @<span class="attr">addUser</span>=<span class="string">&quot;emitsUserAdd&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&quot;./components/header.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive,ref &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>:<span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">url</span>: <span class="string">&quot;baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> users = <span class="title function_">ref</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">emitsGetWeb</span> = (<span class="params">data</span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">    web.<span class="property">url</span> = data;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(web.<span class="property">url</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">emitsUserAdd</span> = (<span class="params">data</span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">    users.<span class="property">value</span> += data;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(users.<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span> @<span class="attr">getWeb</span>=<span class="string">&quot;emitsGetWeb&quot;</span> @<span class="attr">addUser</span>=<span class="string">&quot;emitsUserAdd&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    &#123;&#123; web.url &#125;&#125;</span><br><span class="line">    &#123;&#123; users &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>header.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> emits = <span class="title function_">defineEmits</span>([<span class="string">&quot;getWeb&quot;</span>,<span class="string">&quot;addUser&quot;</span>])</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">emits</span>(<span class="string">&quot;getWeb&quot;</span>,<span class="string">&quot;www.baidu.com&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt;&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">emits</span>(<span class="string">&quot;addUser&quot;</span>,<span class="number">10</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>header<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è·¨ç»„ä»¶é€šä¿¡-provide-inject"><a href="#è·¨ç»„ä»¶é€šä¿¡-provide-inject" class="headerlink" title="è·¨ç»„ä»¶é€šä¿¡ provide inject"></a>è·¨ç»„ä»¶é€šä¿¡ provide inject</h2><p>è¿™ä¸ªæ–¹æ³•åªèƒ½å®ç°çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œçˆ¶ç»„ä»¶ä½¿ç”¨provideï¼Œå­ç»„ä»¶ä½¿ç”¨çš„æ˜¯inject</p><p>è¯­æ³•ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&quot;./components/header.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; reactive, ref, provide &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">url</span>: <span class="string">&quot;baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">provide</span>(<span class="string">&quot;provideWeb&quot;</span>, web);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> users = <span class="title function_">ref</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> <span class="title function_">userAdd</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        users.<span class="property">value</span>++;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">provide</span>(<span class="string">&quot;provideFuncUserAdd&quot;</span>, userAdd);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶è¯­æ³•ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;inject&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> web = <span class="title function_">inject</span>(<span class="string">&quot;provideWeb&quot;</span>);   </span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> funcUserAdd = <span class="title function_">inject</span>(<span class="string">&quot;provideFuncUserAdd&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ä¸ºï¼š</p><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&quot;./components/header.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive, ref, provide &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">url</span>: <span class="string">&quot;baidu.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">provide</span>(<span class="string">&quot;provideWeb&quot;</span>, web);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> users = <span class="title function_">ref</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> <span class="title function_">userAdd</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">    users.<span class="property">value</span>++;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">provide</span>(<span class="string">&quot;provideFuncUserAdd&quot;</span>, userAdd);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>App top<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    users:&#123;&#123; users &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Header</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>header.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> <span class="title class_">Nav</span> <span class="keyword">from</span> <span class="string">&quot;./nav.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> funcUserAdd = <span class="title function_">inject</span>(<span class="string">&quot;provideFuncUserAdd&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;funcUserAdd&quot;</span>, funcUserAdd);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>header middle<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Nav</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;funcUserAdd&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>nav.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;inject&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> web = <span class="title function_">inject</span>(<span class="string">&quot;provideWeb&quot;</span>);   </span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;provideWeb&quot;</span>,web);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>nav button<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åŒ¿åæ’æ§½-v-slot"><a href="#åŒ¿åæ’æ§½-v-slot" class="headerlink" title="åŒ¿åæ’æ§½ v-slot"></a>åŒ¿åæ’æ§½ v-slot</h2><p>æˆ‘ä»¬ä¸€å¼€å§‹æ¸²æŸ“å­ç»„ä»¶ä½¿ç”¨çš„éƒ½æ˜¯è‡ªé—­å’Œçš„å½¢å¼<code>&lt;Header /&gt;</code>å’Œ<code>&lt;Footer /&gt;</code>ï¼Œæ’æ§½å³ä¸º<code>&lt;Header&gt;&lt;Header/&gt;</code></p><p>åŒ¿åæ’æ§½çš„è¯­æ³•ä¸ºï¼š</p><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Header</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slot</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ä½¿ç”¨nameè¿›è¡Œæ ‡ç­¾çš„å®šä¹‰ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Footer</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;template v-slot:url&gt; --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tencent.com&quot;</span>&gt;</span>è…¾æ—­<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Footer</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç ï¼š</p><p>App.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Header</span> <span class="keyword">from</span> <span class="string">&#x27;./components/header.vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">Footer</span> <span class="keyword">from</span> <span class="string">&#x27;./components/footer.vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>App vue<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;www.baidu.com&quot;</span>&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Header</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Footer</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;template v-slot:url&gt; --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- å¯ä»¥ç®€å†™ä¸ºå¦‚ä¸‹å½¢å¼ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> #<span class="attr">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tencent.com&quot;</span>&gt;</span>è…¾æ—­<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Header.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>header vue<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Footer.vue</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>footer vue<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä½œç”¨åŸŸæ’æ§½-name"><a href="#ä½œç”¨åŸŸæ’æ§½-name" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½ #name"></a>ä½œç”¨åŸŸæ’æ§½ #name</h2><p>ä»–çš„ä½œç”¨æ˜¯æ¥è®©å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå¹¶åœ¨çˆ¶ç»„ä»¶çš„æ¨¡ç‰ˆä¸­æ¸²æŸ“</p><p>è¯­æ³•ä¸ºï¼š</p><p>å­ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">title</span>=<span class="string">&quot;vue&quot;</span> <span class="attr">url</span>=<span class="string">&quot;vuejs.org&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &lt;template #url=&quot;data&quot;&gt; --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &#123;&#123; data.title &#125;&#125;</span></span><br><span class="line"><span class="comment">&#123;&#123; data.url &#125;&#125; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> #<span class="attr">url</span>=<span class="string">&quot;&#123;title, url&#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; title &#125;&#125;</span><br><span class="line">    &#123;&#123; url &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;tencent.com&quot;</span>&gt;</span>è…¾æ—­<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°"><a href="#ç”Ÿå‘½å‘¨æœŸå‡½æ•°" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸå‡½æ•°"></a>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2><ul><li>æŒ‚è½½é˜¶æ®µ - onMounted onBeforeMount</li><li>æ›´æ–°é˜¶æ®µ - onBeforeUpdate onUpdated</li><li>å¸è½½é˜¶æ®µ - onBeforeUnmout onUnmounted</li><li>é”™è¯¯å¤„ç† - onErrorCoptured</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæŒ‚è½½å’Œæ›´æ–°çš„ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123; onMounted,onUpdated,ref &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;App.vue mounted&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">onUpdated</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;App.vue updated&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> user  =<span class="title function_">ref</span>(<span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;user:&quot;</span>,user);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    &#123;&#123; user &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;user++&quot;</span>&gt;</span>æ·»åŠ ç”¨æˆ·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å½“ç½‘é¡µåˆšåŠ è½½æ—¶ï¼Œä¼šæ‰“å°â€œApp.vue mountedâ€ï¼Œå½“æŒ‰é’®è¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šæ‰“å°å‡ºå¤šæ¬¡â€App.vue updatedâ€ã€‚</p><h2 id="toRefå’ŒtoRefs"><a href="#toRefå’ŒtoRefs" class="headerlink" title="toRefå’ŒtoRefs"></a>toRefå’ŒtoRefs</h2><p>è¿™ä¸¤ä¸ªæ–¹å¼æ˜¯ä¸ºäº†å°†å“åº”å¼å¯¹è±¡çš„å±æ€§è½¬åŒ–ä¸ºRefå¯¹è±¡ã€‚</p><ul><li>toRef - å°†å•ä¸ªå±æ€§è½¬åŒ–</li><li>toRefs - å°†æ•´ä¸ªå¯¹è±¡è½¬åŒ–</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> &#123; reactive, toRefs, toRef &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">name</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">url</span>: <span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// ç»“æ„åæ‰“å°å¾—åˆ°çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> web.<span class="property">url</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// å°†æ•´ä¸ªå¯¹è±¡è½¬åŒ–ä¸ºtoRefs</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">let</span> &#123; name, url &#125; = <span class="title function_">toRefs</span>(web)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// ç»“æ„åæ‰“å°å¾—åˆ°çš„ç±»å‹æ˜¯å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name:&quot;</span>, name, <span class="string">&quot;url:&quot;</span>, url)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="comment">// å°†æ•´ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> changeUrl = <span class="title function_">toRef</span>(web.<span class="property">name</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">    &#123;&#123; web.url &#125;&#125;</span><br><span class="line">    &#123;&#123; changeUrl &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue3 </tag>
            
            <tag> Vite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-ES6å…¥é—¨</title>
      <link href="/post/js-es6/"/>
      <url>/post/js-es6/</url>
      
        <content type="html"><![CDATA[<h2 id="ECMAScriptæ˜¯ä»€ä¹ˆ"><a href="#ECMAScriptæ˜¯ä»€ä¹ˆ" class="headerlink" title="ECMAScriptæ˜¯ä»€ä¹ˆ"></a>ECMAScriptæ˜¯ä»€ä¹ˆ</h2><p>ç®€å•æ¥è¯´å°±æ˜¯JavaScriptå…·æœ‰åˆ’æ—¶ä»£æ„ä¹‰çš„ä¸€ä¸ªç‰ˆæœ¬ï¼ˆ2015 å¹´ 6 æœˆæ­£å¼å‘å¸ƒï¼‰ï¼Œå…·ä½“ä¸ºä»€ä¹ˆå«ECMAScriptï¼Œå¯ä»¥çœ‹é˜®ä¸€å³°çš„<a href="https://es6.ruanyifeng.com/#docs/intro">ã€ŠECMAScript6å…¥é—¨ã€‹</a>ã€‚</p><p>æœ¬æ–‡çš„å†™ä½œç›®çš„å…¶å®æ˜¯å›å¿†èµ·ä¸€äº›å¸¸ç”¨çš„ES6å˜é‡ã€æ–¹æ³•ï¼Œä½œä¸ºä¸€ä¸ªä¸ªäººçš„å­¦ä¹ è®°å½•ã€‚æœ¬æœºä½¿ç”¨çš„æ˜¯<code>Node.js v18.15.0</code></p><blockquote><p>å…³äºç‰ˆæœ¬çš„å…¼å®¹æ€§é—®é¢˜å¯ä»¥çœ‹ï¼š <a href="https://compat-table.github.io/compat-table/es6">https://compat-table.github.io/compat-table/es6</a></p></blockquote><h2 id="å˜é‡ä¸å¸¸é‡-let-const"><a href="#å˜é‡ä¸å¸¸é‡-let-const" class="headerlink" title="å˜é‡ä¸å¸¸é‡ let const"></a>å˜é‡ä¸å¸¸é‡ let const</h2><p>æ—©æœŸå­¦ä¹ è¿‡jsæˆ–è€…çœ‹äº†è€èµ„æ–™çš„éƒ½çœ‹è¿‡ä¸€ä¸ªå…³é”®å­—â€”â€”<code>var</code>ï¼Œè¿™ä¸ªå…³é”®å­—å­˜åœ¨å˜é‡æå‡çš„é—®é¢˜ï¼Œè¿™æ—¶å€™å°±å®¹æ˜“å‡ºç°æŒ‡é’ˆæ··ä¹±ã€‚</p><p>åœ¨ES6ä¸­ä½¿ç”¨æ›´åŠ è§„èŒƒçš„<code>const</code>å’Œ<code>let</code>ä½œä¸º<code>var</code>å…³é”®å­—çš„æ›¿ä»£ï¼Œå°†å£°æ˜çš„å˜é‡éƒ½é™åˆ¶åœ¨ä»£ç å—ä¸­ä¸”ä¸å…è®¸å˜é‡çš„æå‡ã€‚</p><ul><li>let å˜é‡ å¯åæœŸä¿®æ”¹ï¼ŒåªæœåŠ¡äºå½“å‰çš„å—çº§ä½œç”¨åŸŸ{ }</li><li>const å¸¸é‡ ä¸å¯åæœŸä¿®æ”¹ï¼Œåœ¨å£°æ˜åå³å¯ä½¿ç”¨</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å˜é‡ ç»å¸¸æ”¹å˜çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;gcnanmu&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> balance = <span class="number">100</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(balance)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> balance)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¸é‡</span></span><br><span class="line"><span class="keyword">const</span> pi = <span class="number">3.14</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;PI&quot;</span>,pi)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸¸é‡ä¸å˜é‡çš„åŒºåˆ«</span></span><br><span class="line">name = <span class="string">&quot;gcnanmu2&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line">pi=<span class="number">3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pi)</span><br></pre></td></tr></table></figure><blockquote><p>æä¸€å˜´ï¼Œåœ¨ES6ä¹‹åéƒ½ä¸ç”¨åœ¨ä»£ç çš„æœ«å°¾æ·»åŠ ;</p></blockquote><h2 id="æ•°æ®ç±»å‹-typeof"><a href="#æ•°æ®ç±»å‹-typeof" class="headerlink" title="æ•°æ®ç±»å‹ typeof"></a>æ•°æ®ç±»å‹ typeof</h2><p>æˆ‘ä»¬æ—¥å¸¸è¯´ES6åŸºæœ¬æŒ‡çš„æ˜¯2015å¹´ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬ï¼Œæ‰€ä»¥ç½‘ä¸Šå¯¹ES6æœ‰å‡ ç§æ•°æ®ç±»å‹è¯´æ³•å¾ˆå¤šï¼Œä½†æ˜¯å¸¸ç”¨çš„å°±é‚£ä¹ˆå‡ ä¸ªæ•°æ®ç±»å‹ï¼Œåˆ†åˆ«æ˜¯æ•°ç»„ï¼ˆarrayï¼‰ï¼Œæ•°å­—ï¼ˆnumberï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstringï¼‰ã€å¯¹è±¡ï¼ˆobjectï¼‰ã€é›†åˆï¼ˆsetï¼‰ã€å¸ƒå°”ï¼ˆboolenï¼‰ï¼Œå‡½æ•°ï¼ˆfunctionï¼‰ï¼Œç±»ï¼ˆclassï¼‰ï¼Œmapç­‰å…«ç§ç±»å‹ã€‚</p><blockquote><p>æƒ³è¦æŸ¥çœ‹å½“å‰çš„æ•°æ®ç±»å‹ï¼Œæœ‰ä¸‰ç§å¸¸ç”¨çš„æ–¹æ³•ï¼š</p><ol><li>typeof å˜é‡</li><li>Object.prototype.toString.call(å˜é‡)</li><li>å˜é‡.constructor</li></ol></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;gcnanmu&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="comment">// jsæ²¡æœ‰æµ®ç‚¹æ•°ç±»å‹çš„è¯´æ³•</span></span><br><span class="line"><span class="keyword">let</span> balance = -<span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> weight = <span class="number">60.5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// boolen true/false</span></span><br><span class="line"><span class="keyword">let</span> tv1 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> tv2 = <span class="literal">false</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;tv1&quot;</span>, tv1, <span class="keyword">typeof</span> tv1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;tv2&quot;</span>, tv2, <span class="keyword">typeof</span> tv2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// object</span></span><br><span class="line"><span class="comment">// å¯ä»¥åŒ…è£¹å…¶ä»–æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªé›†åˆä½“</span></span><br><span class="line"><span class="comment">// æœ‰å¤šä¸ªé”®å€¼å¯¹ç»„æˆ æ¯ä¸ªé”®å€¼å¯¹ä¹‹é—´è¦ä½¿ç”¨é€—å·åˆ†éš”</span></span><br><span class="line"><span class="keyword">let</span> boy = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">weight</span>: <span class="number">60.5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;boy&quot;</span>, boy, <span class="keyword">typeof</span> boy)</span><br><span class="line"></span><br><span class="line"><span class="comment">// mapé›†åˆ</span></span><br><span class="line"><span class="comment">// ç”¨äºå‚¨å­˜é”®å€¼å¯¹çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç®­å¤´è¿›è¡ŒæŒ‡å‘ æ‰“å°å‡ºçš„ç±»å‹è¿˜æ˜¯object</span></span><br><span class="line"><span class="keyword">let</span> girl = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;luna&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;age&quot;</span>, <span class="number">18</span>]</span><br><span class="line">])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;girl&quot;</span>, girl, <span class="keyword">typeof</span> girl)</span><br><span class="line"></span><br><span class="line"><span class="comment">// set</span></span><br><span class="line"><span class="comment">// å…ƒç´ æ˜¯ä¸èƒ½é‡å¤çš„</span></span><br><span class="line"><span class="keyword">let</span> number = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="string">&quot;2&quot;</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;number&quot;</span>, number, <span class="keyword">typeof</span> number)</span><br><span class="line"></span><br><span class="line"><span class="comment">// array</span></span><br><span class="line"><span class="comment">// å¯ä»¥æ·»åŠ é‡å¤çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, arr, <span class="keyword">typeof</span> arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// function</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b)</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="title function_">myFunction</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;result&quot;</span>, result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// class</span></span><br><span class="line"><span class="comment">// åˆ›å»ºç›¸åŒå±æ€§çš„å’Œæ–¹æ³•çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// constructoræ˜¯æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">info</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name&quot;</span>, <span class="variable language_">this</span>.<span class="property">name</span>, <span class="string">&quot;age&quot;</span>, <span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> my = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;gcnanmu&quot;</span>, <span class="number">23</span>)</span><br><span class="line">my.<span class="title function_">info</span>()</span><br></pre></td></tr></table></figure><p>å…¶ä¸­æ•°æ®ç±»å‹åˆå¯ä»¥ç»§ç»­åˆ’åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šnumberï¼Œstringï¼Œboolenç­‰</li><li>å¼•ç”¨æ•°æ®ç±»å‹ï¼šobjectï¼Œmapï¼Œfunctionç­‰</li></ul><p>å¯¹äºè¿™ä¸¤ç§æ•°æ®ç±»å‹ï¼Œ<strong>éœ€è¦æ³¨æ„çš„å°±æ˜¯å¼•ç”¨æ•°æ®ç±»å‹çš„èµ‹å€¼æ“ä½œèµ‹å€¼çš„æ˜¯åœ°å€ï¼Œè€Œä¸æ˜¯æ•°æ®æœ¬èº«ã€‚</strong></p><h2 id="å‡½æ•°-function"><a href="#å‡½æ•°-function" class="headerlink" title="å‡½æ•° function"></a>å‡½æ•° function</h2><p>å‡½æ•°å¾ˆåƒæ•°å­¦çš„æ¦‚å¿µï¼Œè¾“å…¥ä¸€ä¸ªxï¼Œæ ¹æ®ç¼–å†™çš„é€»è¾‘å¤„ç†å¾—åˆ°ä¸€ä¸ªæ–°çš„å€¼ã€‚åœ¨ES6ä¸­ä¸ºäº†æ–¹ä¾¿å‡½æ•°çš„ä¹¦å†™ï¼ˆå·æ‡’ï¼‰ï¼Œå¼•å…¥äº†ç®­å¤´å‡½æ•°å’Œéšå£«è¿”å›ä¸¤ä¸ªæ–°ç‰¹æ€§ã€‚</p><p>ç®­å¤´å‡½æ•°æ˜¯ä¸ºäº†æ–¹ä¾¿åŒ¿åå‡½æ•°ä¹¦å†™çš„ï¼Œæœ‰äº†ç®­å¤´å‡½æ•°åï¼Œå¯ä»¥å°†åŒ¿åå‡½æ•°çœç•¥å¤§åŠï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šçš„å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> sub = <span class="keyword">function</span> (<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x - y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">plus</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ åªæœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥è¿›ä¸€æ­¥å°†returnçœç•¥ï¼ˆå³éšå£«è¿”å›ï¼‰:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çœç•¥å‰</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">plus</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥å</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">plus</span> = (<span class="params">a , b</span>) =&gt; (a+b)</span><br></pre></td></tr></table></figure><h2 id="æ•°ç»„-Array"><a href="#æ•°ç»„-Array" class="headerlink" title="æ•°ç»„ Array"></a>æ•°ç»„ Array</h2><p>æ•°ç»„å¯èƒ½æ˜¯æˆ‘ä»¬ç¼–å†™å‡½æ•°æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ã€‚å› ä¸ºä½¿ç”¨çš„è¯„ç‡å¤ªé«˜ï¼Œæ‰€ä»¥æ–¹æ³•éƒ½å¿…é¡»è¦ç‰¢è®°ã€‚åŸºæœ¬æ“ä½œåˆ†ä¸ºå¢åˆ æ”¹æŸ¥å’Œæ’åºã€‚å¸¸ç”¨çš„å±æ€§ä¸ºlengthã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">10</span>, <span class="number">11</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// push å‘æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œè¿”å›æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> arrlength = arr.<span class="title function_">push</span>(<span class="number">12</span>, <span class="number">13</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrlength&quot;</span>, arrlength)</span><br><span class="line"></span><br><span class="line"><span class="comment">// unshift å‘å¼€å¤´æ·»åŠ å…ƒç´ ï¼Œè¿”å›æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">arrlength = arr.<span class="title function_">unshift</span>(<span class="number">8</span>, <span class="number">9</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, arr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arrlength&quot;</span>, arrlength)</span><br><span class="line"></span><br><span class="line"><span class="comment">// shift åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">let</span> delElement = arr.<span class="title function_">shift</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;delElement&quot;</span>, delElement)</span><br><span class="line"></span><br><span class="line"><span class="comment">// pop åˆ é™¤æœ«å°¾çš„ä¸€ä¸ªå…ƒç´  è¿”å›è¢«åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line">delElement = arr.<span class="title function_">pop</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;delElement&quot;</span>, delElement)</span><br><span class="line"></span><br><span class="line"><span class="comment">// splice åˆ é™¤æŒ‡å®šçš„å…ƒç´  è¿”å›è¢«åˆ é™¤å…ƒç´ çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> delArr = arr.<span class="title function_">splice</span>(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, delArr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// reverse é¢ å€’å…ƒç´  æ— è¿”å›å€¼</span></span><br><span class="line">arr.<span class="title function_">reverse</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr&quot;</span>, arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// sort æŒ‰ç…§é¦–å­—æ¯æ’åˆ—</span></span><br><span class="line"><span class="comment">// æ³¨æ„å¯¹æ•°ç»„è¿›è¡Œæ’åºçš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰ç…§é¦–å­—æ¯æ¥æ’åºçš„</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">&quot;banana&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>]</span><br><span class="line">arr2.<span class="title function_">sort</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr2&quot;</span>, arr2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ç…§æ•°å­—å¤§å°æ’åº</span></span><br><span class="line"><span class="keyword">let</span> arr3 = [<span class="number">5</span>, <span class="number">20</span>, <span class="number">13</span>, <span class="number">1</span>, <span class="number">4</span>]</span><br><span class="line">arr3.<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (a - b))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;arr3&quot;</span>, arr3)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­›é€‰ç¬¦åˆæ¡ä»¶çš„æ•°ç»„ è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arr4 = [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>]</span><br><span class="line"><span class="keyword">let</span> newArr = arr4.<span class="title function_">filter</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> value &gt; <span class="number">12</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newArr&quot;</span>, newArr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// forå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> arr2) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// eachæ–¹æ³•</span></span><br><span class="line">arr2.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index, value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„åˆ‡ç‰‡</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">1</span>)); <span class="comment">//apple</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">2</span>)); <span class="comment">//apple banana</span></span><br></pre></td></tr></table></figure><p>è¿™è¾¹è¦æä¸€å˜´ä¸¤ä¸ªä¸åŒçš„forå¾ªç¯ï¼š</p><ul><li><p>for of å–å‡ºçš„æ˜¯å…¶ä¸­çš„å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">of</span> number) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>for in æŒ‰é¡ºåºéå†ä¸‹æ ‡ï¼Œè€Œä¸æ˜¯å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> num <span class="keyword">in</span> number) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(number[num]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç­‰ä»·</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; number.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(number[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>åœ¨å¾ˆå¤šå…¬å¸çš„é¢è¯•é¢˜ä¸­è¿˜å‡ºç°äº†reduceæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¸¸è§çš„ç”¨æ³•æ˜¯ç´¯è®¡çš„è®¡ç®—ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = number.<span class="title function_">reduce</span>(<span class="function">(<span class="params">pre, cur</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(pre, cur);</span><br><span class="line">    <span class="keyword">return</span> pre + cur;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1 1</span><br><span class="line">2 2</span><br><span class="line">4 3</span><br><span class="line">7</span><br></pre></td></tr></table></figure><blockquote><p>å¦å¤–ï¼Œä¸ªäººæ„Ÿè§‰jsçš„å¾ªç¯ä¹ŸæŒºåç›´è§‰çš„ï¼Œä¸€èˆ¬çš„è¯­è¨€éƒ½æ˜¯(index,key,value)ç»„åˆï¼Œè€Œjsæ˜¯(value,key,index)</p></blockquote><h2 id="é›†åˆ-Set"><a href="#é›†åˆ-Set" class="headerlink" title="é›†åˆ Set"></a>é›†åˆ Set</h2><p>é›†åˆå’Œæ•°å­¦ä¸Šçš„é›†åˆä¸€æ ·ï¼Œå¸¸ç”¨æ¥å­˜å‚¨ç®€å•çš„æ•°æ®ç±»å‹ï¼Œé‡Œé¢ä¸å­˜åœ¨é‡å¤çš„å…ƒç´ ï¼Œå¸¸è§çš„ç”¨æ³•æ˜¯ç”¨æ¥å»é‡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fruits = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;orange&quot;</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits)</span><br><span class="line"></span><br><span class="line"><span class="comment">// add</span></span><br><span class="line">fruits.<span class="title function_">add</span>(<span class="string">&quot;mango&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits)</span><br><span class="line"></span><br><span class="line"><span class="comment">// delete</span></span><br><span class="line">fruits.<span class="title function_">delete</span>(<span class="string">&quot;banana&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits)</span><br><span class="line"></span><br><span class="line"><span class="comment">// has æ˜¯å¦åœ¨é›†åˆä¹‹å†…</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="title function_">has</span>(<span class="string">&quot;apple&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="title function_">has</span>(<span class="string">&quot;banana&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// size</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits.<span class="property">size</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// change to array</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> fruits)</span><br><span class="line"><span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(fruits)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±•è¿ç®—ç¬¦ å±•å¼€å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> web = <span class="string">&quot;gcnanmu3125.xyz&quot;</span></span><br><span class="line"><span class="keyword">let</span> web2 = <span class="string">&quot;å·¥ç¨‹æ¥ æœ¨&quot;</span></span><br><span class="line"><span class="keyword">let</span> webArr = [...web]</span><br><span class="line"><span class="keyword">let</span> webArr2 = [...web2]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(webArr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(webArr2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å°†setè½¬åŒ–ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...fruits])</span><br><span class="line"></span><br><span class="line"><span class="comment">// for</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> fruits) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// seté›†åˆæ²¡æœ‰ç´¢å¼• ç´¢å¼•è¿˜æ˜¯ä»–è‡ªèº«</span></span><br><span class="line">fruits.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index, value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ•°ç»„å»é‡</span></span><br><span class="line"><span class="keyword">let</span> numberArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> numberSet = <span class="keyword">new</span> <span class="title class_">Set</span>(numberArr)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    numberSet</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿™è¾¹æœ‰æåˆ°ä¸€ä¸ªæ‰“æ•£çš„è¯­æ³•ï¼Œå¯ä»¥å°†stringè¿™ç§å¯¹è±¡ç›´æ¥æ‰“æ•£ä¸ºåˆ—è¡¨å½¢å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;gcnanmu&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...name]);</span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  &#x27;g&#x27;, &#x27;c&#x27;, &#x27;n&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;a&#x27;, &#x27;n&#x27;, &#x27;m&#x27;,</span></span><br><span class="line"><span class="comment">  &#x27;u&#x27;</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²-String"><a href="#å­—ç¬¦ä¸²-String" class="headerlink" title="å­—ç¬¦ä¸² String"></a>å­—ç¬¦ä¸² String</h2><p>å­—ç¬¦ä¸²å’Œarrayçš„ä½¿ç”¨é¢‘ç‡å·®ä¸äº†å¤ªå¤šï¼Œå› æ­¤ä¹Ÿéœ€è¦å•ç‹¬è®°å¿†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> web = <span class="string">&quot;www.BaiDu.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// length</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(web.<span class="property">length</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬å°å†™</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(web.<span class="title function_">toLowerCase</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬å¤§å†™</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(web.<span class="title function_">toUpperCase</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">// å–ç‰¹å®šä½ç½®çš„å­—ç¬¦</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(web[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“æ•£è½¬åŒ–ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> strArr = [...web]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(strArr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬åŒ–ä¸ºint</span></span><br><span class="line"><span class="keyword">let</span> number = <span class="built_in">parseInt</span>(<span class="string">&quot;168&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(number)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²æ›¿ä»£</span></span><br><span class="line"><span class="keyword">let</span> str1 = web.<span class="title function_">replaceAll</span>(<span class="string">&quot;co&quot;</span>, <span class="string">&quot;y&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ›¿æ¢å…¨éƒ¨&quot;</span>, str1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str2 = web.<span class="title function_">replace</span>(<span class="string">&quot;co&quot;</span>, <span class="string">&quot;y&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ›¿æ¢ç¬¬ä¸€ä¸ªå‡ºç°&quot;</span>, str2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å»æ‰ä¸¤ä¾§æŒ‡å®šå­—ç¬¦</span></span><br><span class="line"><span class="keyword">let</span> str3 = <span class="string">&quot;   baidu.com   &quot;</span>.<span class="title function_">trim</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str3)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> result = web.<span class="title function_">includes</span>(<span class="string">&quot;Baidu&quot;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ˜¯å¦åŒ…å«æŸä¸ªå­—ç¬¦ä¸²:&quot;</span>, result)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æŸä¸ªå­—ç¬¦ä¸²çš„ä½ç½®,è‹¥ä¸å­˜åœ¨åˆ™è¿”å›-1</span></span><br><span class="line"><span class="keyword">let</span> result2 = web.<span class="title function_">indexOf</span>(<span class="string">&quot;Baidu&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¿”å›å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æŸä¸ªå­—ç¬¦ä¸²çš„ä½ç½®:&quot;</span>, result2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å¤´</span></span><br><span class="line"><span class="keyword">let</span> result4 = <span class="string">&quot;www.baidu.com&quot;</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;www&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å¤´:&quot;</span>, result4)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾</span></span><br><span class="line"><span class="keyword">let</span> result5 = <span class="string">&quot;www.baidu.com&quot;</span>.<span class="title function_">endsWith</span>(<span class="string">&quot;net&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“å°¾:&quot;</span>, result5)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å­—ç¬¦ä¸²åˆ†å‰²ä¸ºæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="string">&quot;a,b,c,d&quot;</span>.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å°†å­—ç¬¦ä¸²æŒ‰ç…§æŒ‡å®šå­—ç¬¦åˆ†å‰²æˆæ•°ç»„:&quot;</span>, arr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²æˆªå– substr(å¼€å§‹ä½ç½®,æˆªå–é•¿åº¦)</span></span><br><span class="line"><span class="keyword">let</span> subStr = web.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">7</span>) <span class="comment">//dengrui</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆªå–å­—ç¬¦ä¸²çš„å‰7ä¸ªå­—ç¬¦:&quot;</span>, subStr)</span><br><span class="line"></span><br><span class="line"><span class="comment">// subStringä¸æ¥æ”¶è´Ÿæ•°</span></span><br><span class="line"><span class="keyword">let</span> subStr2 = web.<span class="title function_">substring</span>(web.<span class="property">length</span> - <span class="number">3</span>) <span class="comment">//com</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æˆªå–å­—ç¬¦ä¸²çš„æœ€å3ä¸ªå­—ç¬¦:&quot;</span>, subStr2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> subStr3 = web.<span class="title function_">substring</span>(<span class="number">4</span>) <span class="comment">//baidu.com [å­—ç¬¦ä¸²ä¸‹æ ‡æ˜¯ä» 0 å¼€å§‹]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ä»å­—ç¬¦ä¸²çš„ç¬¬5ä¸ªä½ç½®å¼€å§‹æˆªå–ç›´è‡³å­—ç¬¦ä¸²æœ«å°¾:&quot;</span>, subStr3)</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡å¤å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> repeatstr = <span class="string">&quot;David&quot;</span>.<span class="title function_">repeat</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;é‡å¤3æ¬¡å­—ç¬¦ä¸²&quot;</span>, repeatstr)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å­—ç¬¦ä¸²å‰æ·»åŠ æŒ‡å®šæ•°é‡çš„å¡«å……å­—ç¬¦, ç›´åˆ°è¯¥å­—ç¬¦ä¸²è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> padStart = <span class="string">&quot;David&quot;</span>.<span class="title function_">padStart</span>(<span class="number">15</span>, <span class="string">&quot;-&quot;</span>) <span class="comment">//ç”±äº David å  5 ä¸ªå­—ç¬¦, å› æ­¤åªéœ€è¦å†æ·»åŠ  10 ä¸ªæ¨ªçº¿, å³å¯è¾¾åˆ°æ€»é•¿åº¦ 15</span></span><br><span class="line"><span class="comment">//let padStart = &quot;David&quot;.padStart(15) //é»˜è®¤ç©ºæ ¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;padStart:&quot;</span>, padStart)</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å­—ç¬¦ä¸²åæ·»åŠ æŒ‡å®šæ•°é‡çš„å¡«å……å­—ç¬¦, ç›´åˆ°è¯¥å­—ç¬¦ä¸²è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> padEnd = <span class="string">&quot;David&quot;</span>.<span class="title function_">padEnd</span>(<span class="number">15</span>, <span class="string">&quot;-&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;padEnd:&quot;</span>, padEnd)</span><br></pre></td></tr></table></figure><h2 id="é›†åˆ-Map"><a href="#é›†åˆ-Map" class="headerlink" title="é›†åˆ Map"></a>é›†åˆ Map</h2><p>Mapé›†åˆå­˜å‚¨é”®å€¼å¯¹çš„æ•°ç»„ï¼Œä½¿ç”¨é”®å€¼å¯¹æ¥å­˜å‚¨ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> website = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;ç™¾åº¦&quot;</span>, <span class="string">&quot;https://www.baidu.com&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;è°·æ­Œ&quot;</span>, <span class="string">&quot;https://www.google.com&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;bing&quot;</span>, <span class="string">&quot;https://www.bing.com&quot;</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›çš„éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(website.<span class="title function_">keys</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(website.<span class="title function_">values</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(website.<span class="title function_">entries</span>());</span><br></pre></td></tr></table></figure><p>æ‰“å°çš„è¾“å‡ºä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Map Iterator] &#123; <span class="string">&#x27;ç™¾åº¦&#x27;</span>, <span class="string">&#x27;è°·æ­Œ&#x27;</span>, <span class="string">&#x27;bing&#x27;</span> &#125;</span><br><span class="line">[Map Iterator] &#123;</span><br><span class="line">  <span class="string">&#x27;https://www.baidu.com&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;https://www.google.com&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;https://www.bing.com&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">[Map Entries] &#123;</span><br><span class="line">  [ <span class="string">&#x27;ç™¾åº¦&#x27;</span>, <span class="string">&#x27;https://www.baidu.com&#x27;</span> ],</span><br><span class="line">  [ <span class="string">&#x27;è°·æ­Œ&#x27;</span>, <span class="string">&#x27;https://www.google.com&#x27;</span> ],</span><br><span class="line">  [ <span class="string">&#x27;bing&#x27;</span>, <span class="string">&#x27;https://www.bing.com&#x27;</span> ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€äº›å¸¸è§çš„æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­˜å‚¨é”®å€¼å¯¹çš„æ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> teacher = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;gcnanmu&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;gender&quot;</span>, <span class="string">&quot;man&quot;</span>],</span><br><span class="line">    [<span class="string">&quot;web&quot;</span>, <span class="string">&quot;baidu.com&quot;</span>]</span><br><span class="line">])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// add</span></span><br><span class="line">teacher.<span class="title function_">set</span>(<span class="string">&quot;height&quot;</span>, <span class="number">175</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// delete</span></span><br><span class="line">teacher.<span class="title function_">delete</span>(<span class="string">&quot;gender&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// has</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="title function_">has</span>(<span class="string">&quot;gender&quot;</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="title function_">has</span>(<span class="string">&quot;web&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// edit</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªé”®éƒ½æ˜¯å”¯ä¸€çš„</span></span><br><span class="line">teacher.<span class="title function_">set</span>(<span class="string">&quot;web&quot;</span>, <span class="string">&quot;www.baidu.com&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// size</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher.<span class="property">size</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// change to array</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="title function_">from</span>(teacher)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = [...teacher]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// for å°†é”®å€¼å¯¹è½¬åŒ–ä¸ºæ•°ç»„å¹¶æ‰“å°</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> teacher) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ„</span></span><br><span class="line"><span class="comment">// æœ‰é”®å€¼å¯¹å¯ä»¥è¿›è¡Œè§£æ„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> teacher) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// each è®°ä½indexæ˜¯å†™åœ¨åé¢çš„</span></span><br><span class="line">teacher.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// clear</span></span><br><span class="line">teacher.<span class="title function_">clear</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br></pre></td></tr></table></figure><h2 id="å¯¹è±¡-object"><a href="#å¯¹è±¡-object" class="headerlink" title="å¯¹è±¡ object"></a>å¯¹è±¡ object</h2><p>è¿™ä¸ªå¯¹è±¡æŒºåƒPythonä¸­çš„dictï¼Œæ›´åƒPythonçš„æ•°æ®ç±»ï¼ˆ@dataclassï¼‰ï¼Œä½¿ç”¨.æ¥è·å–å±æ€§å€¼ï¼Œå®ƒæ˜¯ä¸å¯è¿­ä»£çš„ï¼Œå†™æ³•ä¹Ÿå¾ˆç®€å•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> teacher = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">    <span class="attr">web</span>: <span class="string">&quot;baidu.com&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// add</span></span><br><span class="line">teacher.<span class="property">height</span> = <span class="number">175</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// edit</span></span><br><span class="line">teacher.<span class="property">web</span> = <span class="string">&quot;www.baidu.com&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// delete</span></span><br><span class="line"><span class="keyword">delete</span> teacher.<span class="property">gender</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br><span class="line"></span><br><span class="line"><span class="comment">// container</span></span><br><span class="line"><span class="keyword">let</span> has = <span class="string">&quot;gender&quot;</span> <span class="keyword">in</span> teacher</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(has)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> has2 = <span class="string">&quot;name&quot;</span> <span class="keyword">in</span> teacher</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(has2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å°å¯¹è±¡çš„å±æ€§å</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(teacher));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(teacher).<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†</span></span><br><span class="line"><span class="comment">// ä¸å¯ä»¥ä½¿ç”¨ofè¿›è¡Œ å› ä¸ºä¸å¯è¿­ä»£</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> teacher) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;forâ€¦â€¦in key&quot;</span>, key, teacher[key])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬åŒ–ä¸ºé”®å€¼å¯¹æ•°ç»„</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(teacher));</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">entries</span>(teacher).<span class="title function_">forEach</span>(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;foreach &quot;</span>,key, value)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// clear</span></span><br><span class="line">teacher =  &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(teacher)</span><br></pre></td></tr></table></figure><h2 id="ç±»å’Œç§æœ‰å±æ€§-class"><a href="#ç±»å’Œç§æœ‰å±æ€§-class" class="headerlink" title="ç±»å’Œç§æœ‰å±æ€§ class"></a>ç±»å’Œç§æœ‰å±æ€§ class</h2><p>ç±»æ˜¯é¢å‘å¯¹è±¡çš„èµ·å§‹æ–¹æ³•ï¼Œç”¨äºå°†å…·æœ‰ç›¸åŒå±æ€§æˆ–ç›¸åŒæ–¹æ³•çš„æ•°æ®ç»“æ„æ”¾åœ¨ä¸€èµ·,ä¸€èˆ¬æ¥è¯´æ„é€ æ–¹æ³•ï¼ˆconstructorï¼‰å†…éƒ½æ˜¯å¯è®¿é—®çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¯­æ³•å°†å…¶ç§æœ‰åŒ–ã€‚</p><p>æ–¹æ³•æœ‰ä¸¤ç§ï¼š</p><ol><li>å˜é‡åå‰åŠ #ï¼Œæ­¤æ–¹æ³•å‰é¢ä¸èƒ½åŠ this</li><li>å˜é‡å‰åŠ _</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    #web = <span class="string">&quot;www.baidu.com&quot;</span>;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="comment">// å°†ageè®¾ä¸ºç§æœ‰å˜é‡</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">            <span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, I am <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old.`</span></span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ ä¸Šåç§æœ‰å˜é‡å°±ä¼šå¤±æ•ˆ</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">web</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#web;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">web</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.#web = value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿å¤–ç•Œèƒ½å¤Ÿè®¿é—®ç§æœ‰å˜é‡</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">age</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_age</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">age</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_age</span> = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯­æ³•å’ŒPythonååˆ†ç›¸ä¼¼ï¼Œç”šè‡³ç§æœ‰åŒ–ä¹Ÿéå¸¸ç›¸ä¼¼ã€‚</p><h2 id="ç±»çš„ç»§æ‰¿-extends"><a href="#ç±»çš„ç»§æ‰¿-extends" class="headerlink" title="ç±»çš„ç»§æ‰¿ extends"></a>ç±»çš„ç»§æ‰¿ extends</h2><p>åœ¨æ•°å­¦ä¸­ï¼Œé›†åˆä¸é›†åˆä¹‹é—´è‚¯å®šå­˜åœ¨äº¤é›†çš„æƒ…å†µï¼Œç±»ä¸ç±»ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œæ¯”å¦‚æˆ‘å±äºPersonç±»ï¼Œæˆ‘æœ‰äººä¸€äº›å…±æœ‰çš„å±æ€§ï¼Œæ¯”å¦‚æˆ‘è¦åƒé¥­å’Œç¡è§‰ï¼Œè¿™æ—¶å€™å°±ä¸éœ€è¦å†é‡å†™ç¼–å†™ç›¸åº”çš„å‡½æ•°ï¼Œåªéœ€è¦ä»çˆ¶ç±»ä¸­ç»§æ‰¿å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    name</span><br><span class="line">    gender</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, gender</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">gender</span> = gender</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>ä¼‘æ¯ä¸­â€¦â€¦`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Me</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    web</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, gender, web</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, gender);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">web</span> = web</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">eat</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨åƒé¥­â€¦â€¦`</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sleep</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>åœ¨ç¡è§‰â€¦â€¦`</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="title class_">Me</span>(<span class="string">&quot;wo&quot;</span>, <span class="string">&quot;ç”·&quot;</span>, <span class="string">&quot;baidu.com&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">eat</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">sleep</span>())</span><br></pre></td></tr></table></figure><p>æ‰“å°çš„ç»“æœæ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wo</span><br><span class="line">woåœ¨åƒé¥­â€¦â€¦</span><br><span class="line">woåœ¨ç¡è§‰â€¦â€¦</span><br></pre></td></tr></table></figure><h2 id="è§£æ„-å±æ€§å"><a href="#è§£æ„-å±æ€§å" class="headerlink" title="è§£æ„ {å±æ€§å}"></a>è§£æ„ {å±æ€§å}</h2><p>è§£æ„çš„ä½œç”¨æ˜¯å°†å¯¹è±¡ä¸­çš„éƒ¨åˆ†å…ƒç´ æˆ–è€…æ•°ç»„é€šè¿‡å‘½åæå–çš„æ–¹æ³•æ¥å–å‡ºä¸ªåˆ«å…ƒç´ ï¼ˆå¯éè¿ç»­ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªæ•°ç»„å¹¶èµ‹å€¼ç»™xï¼Œy</span></span><br><span class="line"><span class="keyword">let</span> [x, y] = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`x:<span class="subst">$&#123;x&#125;</span> y:<span class="subst">$&#123;y&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [, , c] = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;c&quot;</span>, c)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [A, ...B] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(A, B)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x2, y2 = <span class="number">200</span>] = [<span class="number">100</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x2, y2)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸¤æ•°äº¤æ¢</span></span><br><span class="line"><span class="keyword">let</span> x3 = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> y3 = <span class="number">20</span>;<span class="comment">// ä¸åŠ åˆ†å·ä¼šæŠ¥é”™</span></span><br><span class="line">[x3, y3] = [y3, x3]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x3, y3)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡ç»“æ„</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span>,</span><br><span class="line">    <span class="attr">web</span>: <span class="string">&quot;baidu.com&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name&#125; = person</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨äº†å¯¹è±¡é‡å‘½å</span></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>: userName, gender, web&#125; = person</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(userName, gender, web)</span><br></pre></td></tr></table></figure><h2 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h2><p>promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹æ“ä½œå‡½æ•°ï¼Œå’ŒPythonçš„tryç”¨æ³•ç›¸åŒã€‚promiseæ˜¯é€šè¿‡fulfilledå’Œrejectæ¥åˆ¤æ–­æ˜¯å¦æˆåŠŸè¿è¡Œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä¸å†™ï¼Œäº¤ç»™å‡½æ•°æ¥åˆ¤æ–­ã€‚</p><ul><li>fulfill - èµ°thenï¼ˆresolveï¼‰</li><li>reject - èµ°catchï¼ˆrejectï¼‰</li><li>pending  - æ­£åœ¨å¤„ç†ä¸­</li><li>finally - æ— è®ºæ˜¯fulfillè¿˜æ˜¯rejectéƒ½ä¼šæ‰§è¡Œ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯ä»¥ç›´æ¥æ‹¼æ¥åœ¨ä¸€èµ·</span></span><br><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// fulfilled-æ‰§è¡ŒæˆåŠŸ å¯ä»¥è¿›ä¸€æ­¥æ‰§è¡Œthenå‡½æ•°</span></span><br><span class="line">    <span class="comment">// resolve(&quot;è¿˜é’±äº†&quot;)</span></span><br><span class="line">    <span class="comment">// reject - æ‰§è¡Œé”™è¯¯ å¯ä»¥è¿›ä¸€æ­¥è¿›å…¥catchå‡½æ•°</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="string">&quot;æ²¡æœ‰è¿˜é’±&quot;</span>)</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è¿”å›çš„ç»“æœå°±æ˜¯resolveä¸­çš„ç»“æœ</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¼‚æ­¥æ‰§è¡Œç»“æŸ&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸å†™</span></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¼‚æ­¥æ‰§è¡Œç»“æŸ&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><p>fetch æ˜¯ç”¨äºå¼‚æ­¥ç½‘ç»œè¯·æ±‚çš„å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è·å–æˆ–å‘é€æ•°æ®ï¼Œæ¥æ”¶åä¼šè¿”å›promiseå¯¹è±¡ã€‚å¸¸è§çš„è¯·æ±‚æ–¹å¼æœ‰getå’Œpostä¸¤ç§ï¼Œå› ä¸ºç½‘ç»œä¸­ä¸€èˆ¬éƒ½å‘é€jsonæ ¼å¼çš„æ•°æ®ï¼Œæ¥æ”¶åè¿˜éœ€è¦è½¬åŒ–ä¸€ä¸‹æ ¼å¼ã€‚</p><p>è¿™é‡Œéœ€è¦å±•ç¤ºä¸€ä¸‹APIè¯·æ±‚å·¥å…·ï¼Œæ¥è‡ªé‚“ç‘ã€‚</p><p>è®¿é—®<a href="http://127.0.0.1/get%E5%8F%AF%E7%9C%8B%E5%88%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A0%BC%E5%BC%8F%EF%BC%9A">http://127.0.0.1/getå¯çœ‹åˆ°æ•°æ®çš„æ ¼å¼ï¼š</a></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;gender&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ç”·&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;é‚“ç‘&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;web&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dengruicode.com&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;getè¯·æ±‚&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="string">&quot;success&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>dataä¸ºå…·ä½“çš„æ•°æ®ï¼Œmsgä¸ºè¯·æ±‚çš„æè¿°ï¼Œstatusç”¨æ¥å±•ç¤ºè¯·æ±‚æ˜¯å¦æœ‰æ•ˆ</p><ul><li><p>è·å–æ¥æ”¶getè¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost/get&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get-data&quot;</span>, data)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get-error&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get-finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å‘é€postè¯·æ±‚</p><p>postè¯·æ±‚ä¸€èˆ¬æ˜¯é”®å€¼å¯¹çš„å½¢å¼ï¼Œå¯ä»¥ä½¿ç”¨<code>URLSearchParams</code>æ¥è·å¾—é”®å€¼å¯¹æ•°æ®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;http://localhost/post&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºå®šä¹‰</span></span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//URLSearchParams ç”¨äºå¤„ç†é”®å€¼å¯¹ç±»å‹çš„æ•°æ®,å¹¶å°†å…¶ç¼–ç ä¸ºurlæŸ¥è¯¢å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="attr">body</span>: <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;ç™¾åº¦&#x27;</span>,</span><br><span class="line">        <span class="attr">web</span>: <span class="string">&#x27;baidu.com&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.data:&quot;</span>, data)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.error:&quot;</span>, error.<span class="property">message</span>)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦ç›´æ¥è·å¾—Jsonæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code>JSON.stringify</code>å¯¹è±¡ï¼Œä¸”åœ¨äºè¯·æ±‚å¤´è¯·æ±‚ç±»å‹ä¸åŒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// jsonå‚æ•°</span></span><br><span class="line"><span class="comment">//postè¯·æ±‚ postJson</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;http://127.0.0.1/postJson&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">body</span>: <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;<span class="comment">//JSON.stringify ç”¨äºå°†å¯¹è±¡è½¬æ¢ä¸ºjsonå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;ç™¾åº¦&#x27;</span>,</span><br><span class="line">        <span class="attr">web</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="title function_">json</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.data:&quot;</span>, data)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.error:&quot;</span>, error.<span class="property">message</span>)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h2 id="å®‰è£…Node-js"><a href="#å®‰è£…Node-js" class="headerlink" title="å®‰è£…Node.js"></a>å®‰è£…Node.js</h2><p>Node.jså…¶å®æ˜¯JavaScriptçš„ä¸€ä¸ªè§£é‡Šå™¨ï¼Œnpmåˆ™æ˜¯Node Package Managerçš„ç¼©å†™ï¼Œå°±æ˜¯ä¸€ä¸ªNode.jsçš„ä¸€ä¸ªç®¡ç†åŒ…çš„å·¥å…·ï¼Œç½‘ç«™ä¸º<a href="https://www.npmjs.com/">npmjs.com</a>ï¼Œå¯ä»¥ä»ä¸Šé¢ä¸‹è½½åŒ…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œä¸‹è½½ã€‚</p><p>ä¸‹è½½Node.js,LTSæ˜¯ç¨³å®šç‰ˆï¼ŒCurrentæ˜¯æœ€æ–°å‘è¡Œç‰ˆã€‚</p><blockquote><p><a href="https://nodejs.org/en/download">Node.js â€” Download Node.jsÂ® (nodejs.org)</a></p></blockquote><p>ä¸‹è½½åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹node.jsç‰ˆæœ¬å’Œnpmç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å½“å‰npmçš„é•œåƒæºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm get registry</span><br></pre></td></tr></table></figure><blockquote><p>é»˜è®¤è¾“å‡ºæ˜¯ <a href="https://registry.npmjs.org/">https://registry.npmjs.org</a></p></blockquote><p>å’ŒPythonä¸€æ ·ï¼Œå¦‚æœæƒ³è¦è®¿é—®é»˜è®¤çš„é•œåƒæºä¸‹è½½ï¼Œå¾ˆå®¹æ˜“å‡ºç°è¶…æ—¶çš„é—®é¢˜ï¼Œè¿™é‡Œæ¨èæ›´æ¢é•œåƒæºã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com/</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ›´æ¢çš„æ˜¯æ·˜å®çš„é•œåƒæºã€‚</p><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><p>axiosæ˜¯åŸºäºpromiseçš„è¯·æ±‚åº“ï¼Œä»–å¯ä»¥å‘é€httpè¯·æ±‚å¹¶æ¥å—æœåŠ¡å™¨è¿”å›ç›¸åº”çš„æ•°æ®ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ æ—¢å¯ä»¥åº”ç”¨äºæµè§ˆå™¨ï¼Œä¹Ÿå¯ç”¨äº[Node.js](<a href="https://nodejs.org/en">Node.js â€” Run JavaScript Everywhere (nodejs.org)</a>)ã€‚</p><p>å¯ä»¥é€šè¿‡npmå‘½ä»¤è¿›è¡Œä¸‹è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure><p>å¯èƒ½å‘ç°ä¸‹è½½äº†å¾ˆå¤šæ¨¡å—ï¼Œåªéœ€è¦å¯¼å…¥åä¸º<code>axios.min.js</code>æ–‡ä»¶å³å¯ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨cdn</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>è·å–get</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/get&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸éœ€è¦å†è¿”å›jsonæ ¼å¼ é»˜è®¤å°±æ˜¯jsonæ ¼å¼</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.data:&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.error:&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>è·å–postè¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//postè¯·æ±‚ post</span></span><br><span class="line"><span class="keyword">let</span> data = &#123; <span class="comment">//å‚æ•°</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;ç™¾åº¦&#x27;</span>,</span><br><span class="line">    <span class="attr">web</span>: <span class="string">&#x27;baidu.com&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸éœ€è¦å†å°†æ•°æ®è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸² ç›´æ¥ä¼ é€’</span></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;http://127.0.0.1/post&#x27;</span>, data, &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.data:&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.error:&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å› ä¸ºaxios çš„é»˜è®¤è¯·æ±‚å¤´æ˜¯ application&#x2F;jsonï¼Œå› æ­¤å¯ä»¥ä¸ç”¨æŒ‡å®šheaders</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;http://127.0.0.1/postJson&#x27;</span>, data).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.data:&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.error:&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;postJson.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ¨¡å—åŒ–å¼€å‘-export-import"><a href="#æ¨¡å—åŒ–å¼€å‘-export-import" class="headerlink" title="æ¨¡å—åŒ–å¼€å‘ export import"></a>æ¨¡å—åŒ–å¼€å‘ export import</h2><p>æ¨¡å—åŒ–å¼€å‘çš„æœ¬è´¨å°±æ˜¯å°†éœ€è¦ä½¿ç”¨çš„æ•°æ®æˆ–æ–¹æ³•ä½¿ç”¨exportå¯¼å‡ºï¼Œåç»­å°±å¯ä»¥åœ¨å…¶ä»–jsä¸­ä½¿ç”¨importå¯¼å…¥exportå¯¼å‡ºçš„æ•°æ®æˆ–è€…æ–¹æ³•</p><p>å…ˆåˆ›å»ºä¸€ä¸ªindex.jsæ–‡ä»¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> title = <span class="string">&quot;ç™¾åº¦&quot;</span></span><br><span class="line"><span class="keyword">let</span> web = <span class="string">&quot;baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getWeb</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`title: <span class="subst">$&#123;title&#125;</span>, web: <span class="subst">$&#123;web&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;title,web,getWeb&#125; </span><br></pre></td></tr></table></figure><p>åç»­ä¾¿å¯ä»¥åœ¨htmlæ¨¡ç‰ˆä¸­å¯¼å…¥ï¼ˆNode.jsä¸æ”¯æŒåœ¨æ¨¡ç‰ˆä¹‹å¤–çš„å…¶ä»–åœ°æ–¹ä½¿ç”¨importï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;title <span class="keyword">as</span> webTitle, web, getWeb&#125; <span class="keyword">from</span> <span class="string">&quot;./index.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(webTitle)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(web)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getWeb</span>())</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæƒ³è¦å°†å¯¼å…¥çš„æ•°æ®ä½œä¸ºä¸€ä¸ªå¯¹è±¡æ•´ä½“ä½¿ç”¨å¯ä»¥åœ¨å¯¼å…¥æ—¶å€™ä½œä¸ºä¸€ä¸ªobjï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">&quot;./index.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">title</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">web</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">getWeb</span>())</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä¿®æ”¹index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> title = <span class="string">&quot;ç™¾åº¦&quot;</span></span><br><span class="line"><span class="keyword">let</span> web = <span class="string">&quot;baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">getWeb</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`title: <span class="subst">$&#123;title&#125;</span>, web: <span class="subst">$&#123;web&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;title,web,getWeb&#125; </span><br></pre></td></tr></table></figure><p>åç»­å°±å¯ä»¥ç›´æ¥å¯¼å…¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> obj <span class="keyword">from</span> <span class="string">&quot;./index.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">title</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">web</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">getWeb</span>())</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å¼‚æ­¥-async"><a href="#å¼‚æ­¥-async" class="headerlink" title="å¼‚æ­¥ async"></a>å¼‚æ­¥ async</h2><p>asyncå…³é”®å­—ä¸€èˆ¬è¦é…åˆawaitå…³é”®å­—ä½¿ç”¨ï¼Œç”¨æ¥å®Œæˆå¼‚æ­¥è¯·æ±‚æ“ä½œã€‚ä½¿ç”¨å¼‚æ­¥çš„å¥½å¤„æ˜¯ä¸ä¼šå› ä¸ºç­‰å¾…è€—æ—¶çš„æ“ä½œè€Œå½±å“ä¸»çº¿ç¨‹çš„æ‰§è¡Œï¼ˆä¸»çº¿ç¨‹é˜»å¡ï¼‰ã€‚å¯ä»¥ä½¿ç”¨åŒæ­¥çš„æ–¹å¼ç¼–å†™å¼‚æ­¥ä»£ç ã€‚</p><ol><li>å½“ä¸€ä¸ªå‡½æ•°è¢«æ ‡è®°ä¸ºasyncåï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡</li><li>awaitåªèƒ½åœ¨asyncå†…éƒ¨ä½¿ç”¨ï¼ŒåŠ ä¸Šawaitå…³é”®å­—åï¼Œä¼šæ‰§è¡Œåˆ°è¿™ä¸€è¡Œæš‚åœå‡½æ•°çš„éƒ¨åˆ†</li><li>ç­‰åˆ°ç½‘ç»œè¯·æ±‚å®Œæˆï¼Œç„¶åç»§ç»­æ‰§è¡Œå¹¶è·å–åˆ°è¯·æ±‚è¿”å›çš„æ•°æ®</li></ol><p>éå¼‚æ­¥æ“ä½œçš„è¯æ˜¯è¿™æ ·å†™çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;https://localhost/get&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get_data&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get_error&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å¼‚æ­¥å…³é”®å­—ï¼Œå¯æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&quot;https://localhost/get&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get.data&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get_error&quot;</span>, error)</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get.finally&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯é¿å…å›è°ƒåœ°ç‹±ï¼Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/get&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.data:&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">web</span> == <span class="string">&quot;dengruicode.com&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//getè¯·æ±‚2</span></span><br><span class="line">        <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/article/get/id/1&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response2</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get2.data:&quot;</span>, response2.<span class="property">data</span>)</span><br><span class="line">            <span class="keyword">if</span> (response2.<span class="property">data</span>.<span class="property">data</span>.<span class="property">name</span> == <span class="string">&quot;é‚“ç‘&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//getè¯·æ±‚3</span></span><br><span class="line">                <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/article/get/search/title/å…¥é—¨&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response3</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get3.data:&quot;</span>, response3.<span class="property">data</span>)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.error:&quot;</span>, error)</span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨asyncå’Œwaitåä¼šå˜æˆå¦‚ä¸‹ï¼Œç®€æ´äº†ä¸å°‘ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//async/await ä½¿ç”¨åŒæ­¥çš„æ–¹å¼ç¼–å†™å¼‚æ­¥ä»£ç , é¿å…å›è°ƒåœ°ç‹±</span></span><br><span class="line"><span class="comment">//ä¼˜åŠ¿ åœ¨å¤„ç†å¤šä¸ªå¼‚æ­¥æ“ä½œçš„æƒ…å†µä¸‹, å¯ä»¥ä½¿ä»£ç æ›´ç®€æ´æ˜“è¯»</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//getè¯·æ±‚</span></span><br><span class="line">        <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/get&#x27;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get.data:&quot;</span>, response.<span class="property">data</span>)</span><br><span class="line">        <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">web</span> === <span class="string">&quot;dengruicode.com&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//getè¯·æ±‚2</span></span><br><span class="line">            <span class="keyword">const</span> response2 = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/article/get/id/1&#x27;</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get2.data:&quot;</span>, response2.<span class="property">data</span>)</span><br><span class="line">            <span class="keyword">if</span> (response2.<span class="property">data</span>.<span class="property">data</span>.<span class="property">name</span> === <span class="string">&quot;é‚“ç‘&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//getè¯·æ±‚3</span></span><br><span class="line">                <span class="keyword">const</span> response3 = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;http://127.0.0.1/article/get/search/title/å…¥é—¨&#x27;</span>)</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get3.data:&quot;</span>, response3.<span class="property">data</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get.error:&quot;</span>, error)</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;async.get.finally&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">getData</span>()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JavaScript </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3-åŸºç¡€è¯­æ³•ç¬”è®°</title>
      <link href="/post/vue-xue-xi-bi-ji/"/>
      <url>/post/vue-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç»ˆäºå†™å®Œäº†æ¯•ä¸šè®ºæ–‡ï¼ŒåŒ†å¿™çš„ä¸€å¤©çªç„¶ç©ºé—²ä¸‹æ¥ï¼Œç»ˆäºæœ‰æ—¶é—´å°†å‰æœŸå­¦ä¹ çš„ä¸œè¥¿ä½œä¸ºç¬”è®°æ¬ä¸Šåšå®¢äº†ã€‚è¿™ä¸ªæœˆå‘ç”Ÿäº†å¾ˆå¤šäº‹ï¼Œä¸‹é¢è¿™äº›Vueçš„ç›¸å…³çŸ¥è¯†ä¹Ÿæ˜¯æˆ‘åœ¨åŒ†å¿™ä¹‹ä¸­å­¦ä¹ çš„ï¼Œæœ‰é”™è¯¯çš„è¯·è§è°…ã€‚</p><h2 id="Vueæ˜¯ä»€ä¹ˆ"><a href="#Vueæ˜¯ä»€ä¹ˆ" class="headerlink" title="Vueæ˜¯ä»€ä¹ˆ"></a>Vueæ˜¯ä»€ä¹ˆ</h2><p>ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªJavaScriptæ¡†æ¶ï¼Œä½†æ˜¯ä»–æœ‰ä¸ªç‰¹ç‚¹å«<strong>æ¸è¿›å¼</strong>ï¼Œå³ä¸éœ€è¦ä¸€æ¬¡æ€§å­¦ä¼šæ‰€æœ‰çš„å†…å®¹ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©å­¦ä¹ ï¼Œæ˜¯ä¸€ä¸ªæ˜“å­¦æ˜“ç”¨ï¼Œæ€§èƒ½å‡ºè‰²ï¼Œä½¿ç”¨åœºæ™¯ä¸°å¯Œçš„Webå‰ç«¯æ¡†æ¶ã€‚ç›¸æ¯”äºReactï¼Œå®ƒå…³æ³¨äºæ•°æ®çš„æµå‘ï¼Œè€Œä¸æ˜¯æ•°æ®çš„æ ·å¼ã€‚</p><blockquote><p><a href="https://cn.vuejs.org/">Vue.js - æ¸è¿›å¼ JavaScript æ¡†æ¶ | Vue.js (vuejs.org)</a></p></blockquote><h2 id="å¿«é€Ÿä¸Šæ‰‹"><a href="#å¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="å¿«é€Ÿä¸Šæ‰‹"></a>å¿«é€Ÿä¸Šæ‰‹</h2><p>å’Œæˆ‘ä»¬å­¦å…¶ä»–å‰ç«¯ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨çº¿ä¸Šçš„CNDé“¾æ¥ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½åä½¿ç”¨ç¦»çº¿çš„ç‰ˆæœ¬ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--CDNçš„å½¢å¼--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯éminçš„å½¢å¼ï¼Œä¹Ÿå¯ä»¥ä¸‹è½½minçš„å½¢å¼ï¼ˆæœ¬è´¨å°±æ˜¯å°†æ¢è¡Œå»é™¤ï¼‰</p><p>ç„¶åå°±å¯ä»¥å¼€å§‹åˆ›å»ºVueåº”ç”¨ï¼Œéƒ½æ˜¯å›ºå®šçš„å†™æ³•ï¼Œæœ€åçš„<code>mount(&quot;#app&quot;)</code>åˆ«å¿˜å†™ï¼Œä»–ç¡®å®å®¹æ˜“è®©äººå¿˜è®°ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/vue3.global.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    æ’å€¼è¡¨è¾¾å¼--&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;web.title&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.url&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// import &#123;createApp, reactive, ref&#125; from &quot;vue&quot;;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> msg = <span class="title class_">Vue</span>.<span class="title function_">ref</span>(<span class="string">&quot;success&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title class_">Vue</span>.<span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">title</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">web</span>: web,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: msg</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ç†Ÿæ‚‰ES6ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨è§£æ„çš„å†™æ³•ï¼Œå°†<code>createApp</code>, <code>reactive</code>ç»“æ„å‡ºæ¥ï¼Œè¿™æ ·å°±å¯ä»¥ä¸ç”¨å†å†™Vueè¿™ä¸ªå‰ç¼€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ„èµ‹å€¼è¯­æ³• å»é™¤Vue</span></span><br><span class="line"><span class="keyword">const</span> &#123;createApp, reactive&#125; = <span class="title class_">Vue</span></span><br><span class="line"><span class="title function_">createApp</span>(&#123;</span><br><span class="line">    <span class="comment">// setupé€‰é¡¹ ç”¨äºè®¾ç½®å“åº”å¼æ•°æ®ä¸æ–¹æ³•</span></span><br><span class="line">    <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// è¿”å›æ˜¯ä¸€ä¸ªå¯¹è±¡ ä½¿ç”¨reactive</span></span><br><span class="line">        <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&quot;gcnanmucode&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿”å›æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">            <span class="attr">web</span>: web</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span><br><span class="line"><span class="comment">// ä¸idè¿›è¡Œç»‘å®š</span></span><br></pre></td></tr></table></figure><p>è¿™è¾¹å‡ºç°äº†æ¨¡ç‰ˆè¯­æ³•å’Œå“åº”å¼æ•°æ®çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬åœ¨åé¢ä¼šå­¦ä¹ åˆ°ï¼Œå¯¹äºæ¨¡ç‰ˆæ’å€¼è¯­æ³•ï¼Œä½¿ç”¨è¿‡åç«¯æ¡†æ¶çš„äººåº”è¯¥å·²ç»è§è¿‡äº†ã€‚</p><h2 id="æ¨¡å—åŒ–å¼€å‘-import"><a href="#æ¨¡å—åŒ–å¼€å‘-import" class="headerlink" title="æ¨¡å—åŒ–å¼€å‘ import"></a>æ¨¡å—åŒ–å¼€å‘ import</h2><p>ä¸Šè¿°åˆ›å»ºvueåº”ç”¨çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨<code>vue3.global.js</code>å…¨å±€å¯¼å…¥çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬å¹¶ä¸éœ€è¦ä½¿ç”¨å®ƒå…¨éƒ¨çš„æ¨¡å—ï¼Œå­¦è¿‡es6ä¹‹åæˆ‘ä»¬äº†è§£åˆ°ç›¸å…³æ¨¡å—å¯ä»¥ä½¿ç”¨<code>import</code>æŒ‰éœ€å¯¼å…¥ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨æŒ‰éœ€å¯¼å…¥å¯ä»¥ä½¿ç”¨<code>vue.esm-browser.js</code>è¿™ä¸ªjsæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/vue.esm-browser.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰“å¼€æ–‡ä»¶åˆ’åˆ°æœ€ä¸‹é¢å¯ä»¥å‘ç°<code>export</code>ï¼Œå¯¼å‡ºäº†æ‰€æœ‰çš„æ¨¡å—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123; &#123; msg &#125; &#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.url&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">title</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> (&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&quot;success&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                web</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ’å€¼è¡¨è¾¾å¼"><a href="#æ’å€¼è¡¨è¾¾å¼" class="headerlink" title="æ’å€¼è¡¨è¾¾å¼"></a>æ’å€¼è¡¨è¾¾å¼</h2><p>åˆç§°æ¨¡ç‰ˆè¯­æ³•ï¼Œæ˜¯ä¸€ç§ç”¨æ¥åœ¨htmlæ ‡ç­¾ä¸­ç»™æ•°æ®å ä½çš„ä¸€ç§è¯­æ³•ã€‚åœ¨vueä¸­å¸¸ç”¨çš„æœ‰ä¸‰ç§</p><ol><li><p>æ–‡æœ¬æ’å€¼ <code>&#123; &#123; &#125; &#125;</code> é»˜è®¤æ˜¯çº¯æ–‡æœ¬çš„å½¢å¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Message: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>çº¯æ–‡æœ¬æ•°æ® v-text å’Œ<code>&#123;&#123;&#125;&#125;</code>çš„ç”¨æ³•å¾ˆåƒ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;xxx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åŸå§‹HTML v-html ä¼šå°†æ–‡æœ¬æ¸²æŸ“ä¸ºHTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-html</span>=<span class="string">&quot;web.url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    ä»¥å‰éƒ½æ˜¯ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼æ¥å®ç°æ•°æ®ç«™ä½--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    vueä¸­æä¾›äº†v-textå’Œv-htmlæ¥å®ç°æ•°æ®çš„æ¸²æŸ“--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;web.title&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-text</span>=<span class="string">&quot;web.title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-html</span>=<span class="string">&quot;web.url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">title</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;&lt;i style=&#x27;color:red;&#x27;&gt;www.baidu.com&lt;/i&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                web</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å“åº”å¼æ•°æ®-ref-reactive"><a href="#å“åº”å¼æ•°æ®-ref-reactive" class="headerlink" title="å“åº”å¼æ•°æ® ref reactive"></a>å“åº”å¼æ•°æ® ref reactive</h2><p>åŸºæœ¬è¯­æ³•ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> number = <span class="title function_">ref</span>(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;www.baidu.com&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å“åº”å¼æ•°æ®é¡¾åæ€ä¹‰ï¼Œé€šä¿—çš„ç†è§£å°±æ˜¯æºæ•°æ®ä¼šé¡ºåº”å®æ—¶ä¿®æ”¹è€Œå˜åŒ–ï¼Œå¦‚æœå­¦è¿‡å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘è§‰å¾—å¯ä»¥ç†è§£æˆjså°è£…å¥½çš„ç‰¹æ®Šå¯¹è±¡ã€‚</p><p>æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ol><li>ref ç”¨äºå­˜å‚¨åŸºæœ¬çš„æ•°æ®ç±»å‹ è¿™å¹¶ä¸æ„å‘³ç€refåªèƒ½å­˜å‚¨å•ä¸ªæ•°æ®ï¼Œå¦‚æœæƒ³è¦ä¿®æ”¹å“åº”å¼æ•°æ®çš„å€¼ï¼Œéœ€è¦ä½¿ç”¨<code>value</code>å±æ€§ã€‚</li><li>reactive ç”¨äºå­˜å‚¨å¤æ‚çš„æ•°æ®ç±»å‹ <strong>å¯ä»¥ç›´æ¥ä¿®æ”¹å…¶ä¸­çš„å€¼</strong>ã€‚</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.url&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;number&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;arr&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive, ref&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// refç”¨äºå­˜å‚¨åŸºæœ¬çš„æ•°æ®ç±»å‹ å•ä¸ªç±»å‹çš„æ•°æ®</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> number = <span class="title function_">ref</span>(<span class="number">10</span>)</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ä¿®æ”¹å€¼</span></span></span><br><span class="line"><span class="language-javascript">            number.<span class="property">value</span> = <span class="number">20</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> arr = <span class="title function_">ref</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span></span><br><span class="line"><span class="language-javascript">            arr.<span class="property">value</span>[<span class="number">1</span>] = <span class="number">4</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// reactiveç”¨äºå­˜å‚¨å¤æ‚çš„æ•°æ®ç±»å‹</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">title</span>: <span class="string">&quot;é‚“ç¿ç¼–ç¨‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;dengruicode.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            web.<span class="property">url</span> = <span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&quot;success&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                web,</span></span><br><span class="line"><span class="language-javascript">                number,</span></span><br><span class="line"><span class="language-javascript">                arr</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€å±æ€§ç»‘å®š-v-bind"><a href="#åŠ¨æ€å±æ€§ç»‘å®š-v-bind" class="headerlink" title="åŠ¨æ€å±æ€§ç»‘å®š v-bind"></a>åŠ¨æ€å±æ€§ç»‘å®š v-bind</h2><p>ä»¥inputæ ‡ç­¾ä½œä¸ºä¾‹å­ï¼ŒæŒ‡ä»¤ä¹¦å†™çš„æ ¼å¼ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;web.url&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç¼©å†™ä¸º<code>:</code>ï¼Œ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;web.url&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.textColor</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: lightblue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>dengruicode<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;dengruicode.com&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>v-bind:value=&quot;web.url&quot;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;web.url&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>src=&quot;./img/äºŒä¸“.jpg&quot;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./img/äºŒä¸“.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>v-bind:src=&quot;web.url&quot;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;web.img&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>class=&quot;textColor&quot;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span> <span class="attr">class</span>=<span class="string">&quot;textColor&quot;</span>&gt;</span>é‚“ç‘ç¼–ç¨‹<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>:class=&quot;&#123;textColor:web.fontStatus&#125;&quot;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">b</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;textColor:web.fontStatus&#125;&quot;</span>&gt;</span>é‚“ç‘ç¼–ç¨‹<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;wwww.dengruicode.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">img</span>: <span class="string">&quot;./img/äºŒä¸“.jpg&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">fontStatus</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                web</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="äº‹ä»¶ç»‘å®š-v-on"><a href="#äº‹ä»¶ç»‘å®š-v-on" class="headerlink" title="äº‹ä»¶ç»‘å®š v-on"></a>äº‹ä»¶ç»‘å®š v-on</h2><p>ä»¥buttonæ ‡ç­¾ä¸ºä¾‹å­ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;edit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¯ç¼©å†™ä¸º@--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;edit&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>click</code>æ¥ç›‘å¬DOMçš„ç‚¹å‡»äº‹ä»¶çš„ï¼Œæœ¬è´¨å°±æ˜¯ä½¿ç”¨äº†å°†jsåŸç”Ÿçš„ä¸€äº›æ–¹æ³•ç»‘å®šåˆ°Vueå‡½æ•°ä¸Šï¼Œå¦‚æœä½ çš„å¤„ç†æ¯”è¾ƒç®€å•ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨å†…è”å¼ï¼Œåœ¨htmlæ ‡ç­¾å¤„å°±å®Œæˆæ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> count = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;count++&quot;</span>&gt;</span>Add 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¿˜æƒ³è¦åŒæ—¶ä¼ å…¥æ•°æ®å’ŒåŸç”ŸDOMäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>$event</code>å˜é‡</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨ç‰¹æ®Šçš„ $event å˜é‡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;warn(&#x27;Form cannot be submitted yet.&#x27;, $event)&quot;</span>&gt;</span></span><br><span class="line">  Submit</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨å†…è”ç®­å¤´å‡½æ•° --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;(event) =&gt; warn(&#x27;Form cannot be submitted yet.&#x27;, event)&quot;</span>&gt;</span></span><br><span class="line">  Submit</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">warn</span>(<span class="params">message, event</span>) &#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶</span></span><br><span class="line">  <span class="keyword">if</span> (event) &#123;</span><br><span class="line">    event.<span class="title function_">preventDefault</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">alert</span>(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Vueç”šè‡³è¿˜æä¾›äº†å¯¹é”®ç›˜çš„ç›‘å¬ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ä¸¤ç§:</p><ol><li>keydown æŒ‰ä¸‹é”®ç›˜å°±è§¦å‘</li><li>keyup æŒ‰ä¸‹åå›å¼¹æ‰è§¦å‘</li></ol><p>åœ¨<code>keydown</code>å’Œ<code>keyup</code>åé¢å¯ä»¥æ·»åŠ é”®ç›˜å­—ç¬¦åï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å­—ç¬¦é”®ç›˜ï¼š</p><table><thead><tr><th>åˆ«å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>.enter</code></td><td>å›è½¦</td></tr><tr><td><code>.tab</code></td><td>tab</td></tr><tr><td><code>.delete</code></td><td>deleteå’Œbackspace</td></tr><tr><td><code>.esc</code></td><td>esc</td></tr><tr><td><code>.space</code></td><td>ç©ºæ ¼</td></tr><tr><td><code>.ctrl</code></td><td>ctrl</td></tr><tr><td><code>.alt</code></td><td>alt</td></tr><tr><td><code>.meta</code></td><td>åœ¨ Mac é”®ç›˜ä¸Šï¼Œmeta æ˜¯ Command é”® (âŒ˜)ã€‚åœ¨ Windows é”®ç›˜ä¸Šï¼Œmeta é”®æ˜¯ Windows é”® (âŠ)</td></tr></tbody></table><p>ä»¥ä¸Šçš„ç›‘å¬æ˜¯éä¸¥æ ¼ç›‘å¬ï¼Œæ„æ€æ˜¯å¦‚æœä½ æŒ‰ä¸‹å…¶ä¸­æŸä¸€ä¸ªé”®ï¼Œå…¶ä½™çš„é”®åŒæ—¶æŒ‰ä¸‹ä¹Ÿä¼šè§¦å‘ï¼Œå¦‚æœæƒ³è¦ä¸¥æ ¼ç›‘å¬ï¼Œå¯ä»¥åœ¨æœ«å°¾åŠ ä¸Š<code>.exact</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å½“æŒ‰ä¸‹ Ctrl æ—¶ï¼Œå³ä½¿åŒæ—¶æŒ‰ä¸‹ Alt æˆ– Shift ä¹Ÿä¼šè§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.ctrl</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä»…å½“æŒ‰ä¸‹ Ctrl ä¸”æœªæŒ‰ä»»ä½•å…¶ä»–é”®æ—¶æ‰ä¼šè§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.ctrl.exact</span>=<span class="string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä»…å½“æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•ç³»ç»ŸæŒ‰é”®æ—¶è§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.exact</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>çœ‹äº†ä¸Šé¢çš„ä¾‹å­ï¼Œä½ åº”è¯¥æ˜ç™½ä»–ä¹Ÿæ”¯æŒç»„åˆé”®ç›‘å¬</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.ctrl.enter</span>=<span class="string">&quot;add(40, 60)&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;msg&#125;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.url&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;web.user&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;edit&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;edit&quot;</span>&gt;</span>@ä¿®æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--keydownæ˜¯æŒ‰ä¸‹å°±ç›´æ¥è§¦å‘--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:keyup.enter</span>=<span class="string">&quot;add(40,60)&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å›è½¦<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;add(40,60)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    ç©ºæ ¼ <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.space</span>=<span class="string">&quot;add(20, 30)&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Tab <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keydown.tab</span>=<span class="string">&quot;add(10, 20)&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    w <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.w</span>=<span class="string">&quot;add(5, 10)&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- ç»„åˆå¿«æ·é”® --&gt;</span></span><br><span class="line">    Ctrl + Enter <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.ctrl.enter</span>=<span class="string">&quot;add(40, 60)&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Ctrl + A <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.ctrl.a</span>=<span class="string">&quot;add(20, 30)&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">url</span>: <span class="string">&quot;dengruicode.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">edit</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                web.<span class="property">url</span> = <span class="string">&quot;www.baidu.com&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">a, b</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                web.<span class="property">user</span> += a + b</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">msg</span>: <span class="string">&quot;success&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                web,</span></span><br><span class="line"><span class="language-javascript">                edit,</span></span><br><span class="line"><span class="language-javascript">                add</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºä¸éšè—-v-show"><a href="#æ˜¾ç¤ºä¸éšè—-v-show" class="headerlink" title="æ˜¾ç¤ºä¸éšè— v-show"></a>æ˜¾ç¤ºä¸éšè— v-show</h2><p>ä»¥inputæ ‡ç­¾ä½œä¸ºä¾‹å­ï¼Œè¯­æ³•ä¸ºï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ¬è´¨ä¸Šæ˜¯é€šè¿‡æ“ä½œcsså±æ€§ä¸­çš„displayå±æ€§æ¥æ§åˆ¶æ ‡ç­¾çš„æ˜¾ç¤ºä¸å¦ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœä¸ºtrueå°±æ˜¾ç¤ºï¼Œfalseå³ä¸æ˜¾ç¤ºã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;web.show&#125;&#125;</span><br><span class="line">    <span class="comment">&lt;!-- v-showæœ¬è´¨æ˜¯ç”Ÿæˆäº†cssçš„displayå±æ€§--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span>gcnanmuå­¦Vue<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">toggle</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                web.<span class="property">show</span> = !web.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                web,</span></span><br><span class="line"><span class="language-javascript">                toggle</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶æ¸²æŸ“-v-if"><a href="#æ¡ä»¶æ¸²æŸ“-v-if" class="headerlink" title="æ¡ä»¶æ¸²æŸ“ v-if"></a>æ¡ä»¶æ¸²æŸ“ v-if</h2><p>ä»¥pæ ‡ç­¾ä½œä¸ºä¾‹å­ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;web.user &lt; 1000&quot;</span>&gt;</span>æ–°ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;web.user &gt;= 1000 &amp;&amp; web.user &lt; 10000&quot;</span>&gt;</span>ä¼˜ç§€ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>èµ„æ·±ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯­æ³•å’Œ<code>v-show</code>å¾ˆåƒï¼Œå¦‚æœä¸æ»¡è¶³åˆ¤æ–­çš„æ¡ä»¶å°±ä¼šä¸æ˜¾ç¤ºæ ‡ç­¾ï¼Œ<strong>ä½†æ˜¯è¿™ä¸v-showæ“ä½œdisplayå±æ€§ä¸å¤ªä¸€æ ·ï¼Œä»–ä¼šç›´æ¥å°†æ ‡ç­¾åˆ é™¤</strong>ï¼Œå› æ­¤ä¼šé€ æˆå¾ˆå¤§çš„æ€§èƒ½å¼€é”€ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123;web.show&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span>ç™¾åº¦ baidu.com<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    ç›¸æ¯”v-show v-ifç›´æ¥å°†å…ƒç´ è¿›è¡Œäº†å‰”é™¤--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    ä¸é€‚åˆé¢‘ç¹åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;web.show&quot;</span>&gt;</span>github github.com<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span>åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;web.user &lt; 1000&quot;</span>&gt;</span>æ–°ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else-if</span>=<span class="string">&quot;web.user &gt;= 1000 &amp;&amp; web.user &lt; 10000&quot;</span>&gt;</span>ä¼˜ç§€ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>èµ„æ·±ç½‘ç«™<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> web = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>: <span class="number">20000</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">toggle</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                web.<span class="property">show</span> = !web.<span class="property">show</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                web,</span></span><br><span class="line"><span class="language-javascript">                toggle</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="éå†-v-for"><a href="#éå†-v-for" class="headerlink" title="éå† v-for"></a>éå† v-for</h2><p>ä»¥liæ ‡ç­¾ä½œä¸ºä¾‹å­ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><p>å¯¹äºæ•°ç»„å¯¹è±¡ï¼Œå¯ä»¥æ‹¿åˆ°indexå’Œvalueä¸¤ä¸ªå€¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.number&quot;</span>&gt;</span></span><br><span class="line">        index:&#123;&#123;index&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºè‡ªå®šä¹‰å¯¹è±¡ï¼Œå¯ä»¥æ‹¿åˆ°index,key,indexä¸‰ä¸ªå€¼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key,index) in data.user&quot;</span>&gt;</span></span><br><span class="line">        index:&#123;&#123;index&#125;&#125; key:&#123;&#123;key&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;value in data.number&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;value&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.number&quot;</span>&gt;</span></span><br><span class="line">            index:&#123;&#123;index&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key) in data.user&quot;</span>&gt;</span></span><br><span class="line">            key:&#123;&#123;key&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key,index) in data.user&quot;</span>&gt;</span></span><br><span class="line">            index:&#123;&#123;index&#125;&#125; key:&#123;&#123;key&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,key,index) in data.user&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-if</span>=<span class="string">&quot;index == 1&quot;</span>&gt;</span></span><br><span class="line">                index:&#123;&#123;index&#125;&#125; key:&#123;&#123;key&#125;&#125; value:&#123;&#123;value&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.teacher&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ä½¿ç”¨åŠ¨æ€å±æ€§æ¥è®¾å®šæ ‡ç­¾å±æ€§ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">:title</span>=<span class="string">&quot;value.name&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;value.id&quot;</span>&gt;</span></span><br><span class="line">                index:&#123;&#123;index&#125;&#125; id:&#123;&#123;value.id&#125;&#125; name:&#123;&#123;value.name&#125;&#125; web:&#123;&#123;value.web&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">number</span>: [<span class="string">&quot;å&quot;</span>, <span class="string">&quot;åä¸€&quot;</span>, <span class="string">&quot;åäºŒ&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">name</span>: <span class="string">&quot;gcnanmu&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">gender</span>: <span class="string">&quot;man&quot;</span></span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">teacher</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">id</span>: <span class="number">100</span>, <span class="attr">name</span>: <span class="string">&quot;ç™¾åº¦&quot;</span>, <span class="attr">web</span>: <span class="string">&quot;baidu.com&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">id</span>: <span class="number">101</span>, <span class="attr">name</span>: <span class="string">&quot;ç äº‘&quot;</span>, <span class="attr">web</span>: <span class="string">&quot;gitee.com&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="åŒå‘æ•°æ®ç»‘å®š-v-model"><a href="#åŒå‘æ•°æ®ç»‘å®š-v-model" class="headerlink" title="åŒå‘æ•°æ®ç»‘å®š v-model"></a>åŒå‘æ•°æ®ç»‘å®š v-model</h2><p>è™½ç„¶<code>ref</code>å’Œ<code>reactive</code>ç¡®ä¿äº†æ•°æ®çš„å“åº”å¼ï¼Œä½†æ˜¯å®ƒä»¬æœ¬èº«å¹¶ä¸å®ç°è‡ªåŠ¨æ”¶é›†ç”¨æˆ·è¾“å…¥å¹¶æ›´æ–°çŠ¶æ€çš„é€»è¾‘ã€‚<code>v-model</code>æ­£æ˜¯ä¸ºäº†ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼šå®ƒè‡ªåŠ¨æ›´æ–°ç»‘å®šçš„å“åº”å¼å˜é‡ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™äº‹ä»¶ç›‘å¬å™¨å’Œæ•°æ®æ›´æ–°é€»è¾‘ã€‚è¿™å¯¹äºè¡¨å•æ•°æ®çš„ç»‘å®šå°¤å…¶æœ‰ç”¨ï¼Œå¯ä»¥æå¤§ç®€åŒ–ä»£ç ã€‚</p><p>åŒºåˆ«åœ¨äº</p><ul><li>å•å‘æ•°æ®ç»‘å®š å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶, è§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°. ä½†ç”¨æˆ·æ‰‹åŠ¨æ›´æ”¹ input çš„å€¼, æ•°æ®ä¸ä¼šè‡ªåŠ¨æ›´æ–°</li><li>åŒå‘æ•°æ®ç»‘å®š å½“æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶, è§†å›¾ä¼šè‡ªåŠ¨æ›´æ–°. å½“ç”¨æˆ·æ‰‹åŠ¨æ›´æ”¹ input çš„å€¼, æ•°æ®ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°</li></ul><p>ä»¥inputæ ‡ç­¾ä½œä¸ºä¾‹å­ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.radio&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ–‡æœ¬æ¡†ï¼š&#123;&#123;data.text&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å•é€‰æ¡†ï¼š&#123;&#123;data.radio&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>å¤šé€‰æ¡†ï¼š&#123;&#123;data.checkbox&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>è®°ä½å¯†ç ï¼š&#123;&#123;data.remember&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>ä¸‹æ‹‰æ¡†ï¼š&#123;&#123;data.select&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    å•é¡¹æ•°æ®ç»‘å®šï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;data.text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    åŒå‘æ•°æ®ç»‘å®š:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;one&quot;</span>&gt;</span>å†™ä½œ<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;two&quot;</span>&gt;</span>ç”»ç”»<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkbox&quot;</span>&gt;</span>å†™ä½œ</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkbox&quot;</span>&gt;</span>ç”»ç”»</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkbox&quot;</span>&gt;</span>ç¼–ç¨‹</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.remember&quot;</span>&gt;</span>è®°ä½å¯†ç </span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.select&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;A&quot;</span>&gt;</span>å†™ä½œ<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;B&quot;</span>&gt;</span>ç”»ç”»<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;C&quot;</span>&gt;</span>è¿åŠ¨<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">&quot;dengruicode.com&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">radio</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">checkbox</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">remember</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">select</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è®¡ç®—å±æ€§-computed"><a href="#è®¡ç®—å±æ€§-computed" class="headerlink" title="è®¡ç®—å±æ€§ computed"></a>è®¡ç®—å±æ€§ computed</h2><p><code>computed</code>æ˜¯Vueä¸­ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œè¯­æ³•ä¸ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sub = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> data.<span class="property">x</span> - data.<span class="property">y</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä»–ä½œç”¨æ˜¯ä¸ºè®¡ç®—æ·»åŠ æœ¬åœ°ç¼“å­˜ï¼Œç›¸æ¯”æ— ç¼“å­˜çš„è®¡ç®—ï¼Œå¦‚æœå‡ºç°ç›¸åŒçš„è®¡ç®—è¡¨è¾¾å¼ï¼Œå°±ä¸éœ€è¦é‡å¤è®¡ç®—ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>add:&#123;&#123;add()&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>add:&#123;&#123;add()&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>add:&#123;&#123;sub&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>add:&#123;&#123;sub&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- å¦‚æœä¸ä½¿ç”¨v-model.numberè¿”å›çš„å€¼æ˜¯strç±»å‹--&gt;</span></span><br><span class="line">    x <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;data.x&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    y <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;data.y&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive, computed&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">x</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">y</span>: <span class="number">20</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æ— ç¼“å­˜</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;add&quot;</span>) <span class="comment">// æ‰“å°ä¸¤æ¬¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> data.<span class="property">x</span> + data.<span class="property">y</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æœ‰ç¼“å­˜ è®¡ç®—å±æ€§æ ¹æ®å…¶ä¾èµ–çš„å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–è€Œé‡æ–°è®¡ç®—</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æœ‰ç¼“å­˜ä¸éœ€è¦é‡å¤è®¡ç®—</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> sub = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sub&quot;</span>) <span class="comment">//æ‰“å°ä¸€æ¬¡</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> data.<span class="property">x</span> - data.<span class="property">y</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data,</span></span><br><span class="line"><span class="language-javascript">                add,</span></span><br><span class="line"><span class="language-javascript">                sub</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ç›‘å¬å™¨-watch"><a href="#ç›‘å¬å™¨-watch" class="headerlink" title="ç›‘å¬å™¨ watch"></a>ç›‘å¬å™¨ watch</h2><p><code>watch</code>æ˜¯Vueä¸­ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡ç›‘å¬hobbyå˜é‡å¯ä»¥çŸ¥é“æ˜¯å¦é€‰æ‹©å‘ç”Ÿäº†æ”¹å˜</span></span><br><span class="line"><span class="title function_">watch</span>(hobby, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newValue&quot;</span>, newValue, <span class="string">&quot;oldValue&quot;</span>, oldValue)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬dateçš„yearå˜åŒ–</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">() =&gt;</span> date.<span class="property">year</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;oldValue&quot;</span>, oldValue, <span class="string">&quot;newValue&quot;</span>, newValue)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if (date.year === &quot;2024&quot;) &#123;</span></span><br><span class="line">    <span class="comment">//     console.log(&quot;2024&quot;)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (newValue === <span class="string">&quot;2024&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2024&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å®ƒå¯ä»¥ç›‘å¬ç»‘å®šå˜é‡çš„æ•°æ®å˜åŒ–æƒ…å†µï¼Œéœ€è¦è‡ªå·±æ‰‹åŠ¨å®‰è£…æŒ‡å®šè¦ç›‘å¬çš„å˜é‡æˆ–è€…æ•°æ®ï¼Œå¯ä»¥å®æ—¶æŸ¥çœ‹å€¼æ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å†™ä½œ<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ç”»ç”»<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>è¿åŠ¨<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    å¹´</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;date.year&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2023&quot;</span>&gt;</span>2023<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2024&quot;</span>&gt;</span>2024<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2025&quot;</span>&gt;</span>2025<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    æœˆ</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;date.month&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;11&quot;</span>&gt;</span>11<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;12&quot;</span>&gt;</span>12<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive, ref&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;watch&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> hobby = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>) <span class="comment">// çˆ±å¥½</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> date = <span class="title function_">reactive</span>(&#123; <span class="comment">// æ—¥æœŸ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">year</span>: <span class="string">&quot;2023&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">month</span>: <span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// é€šè¿‡ç›‘å¬å¯ä»¥çŸ¥é“æ˜¯å¦é€‰æ‹©å‘ç”Ÿäº†æ”¹å˜</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watch</span>(hobby, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newValue&quot;</span>, newValue, <span class="string">&quot;oldValue&quot;</span>, oldValue)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (newValue === <span class="string">&quot;2&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”»ç”»&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// JSä¸­å¯¹è±¡å’Œæ•°ç»„æ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’çš„ï¼Œè€Œä¸æ˜¯é€šè¿‡å€¼ä¼ é€’</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å½“ä¿®æ”¹å¯¹è±¡æˆ–æ•°ç»„çš„å€¼æ—¶ï¼Œå®é™…ä¸Šä¿®æ”¹çš„æ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æˆ–æ•°ç»„</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// æ‰€ä»¥ï¼Œå¦‚æœä¿®æ”¹äº†å¯¹è±¡æˆ–æ•°ç»„çš„å€¼ï¼Œé‚£ä¹ˆæ‰“å°å‡ºæ¥çš„ç»“æœåˆ™æ˜¯ä¿®æ”¹åçš„å€¼</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watch</span>(date, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newValue&quot;</span>, newValue, <span class="string">&quot;oldValue&quot;</span>, oldValue)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (newValue.<span class="property">year</span> === <span class="string">&quot;2025&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2025</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (newValue.<span class="property">month</span> === <span class="string">&quot;11&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;11&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç›‘å¬æŸä¸ªå±æ€§</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watch</span>(<span class="function">() =&gt;</span> date.<span class="property">year</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;oldValue&quot;</span>, oldValue, <span class="string">&quot;newValue&quot;</span>, newValue)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// if (date.year === &quot;2024&quot;) &#123;</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//     console.log(&quot;2024&quot;)</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (newValue === <span class="string">&quot;2024&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2024&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                hobby,</span></span><br><span class="line"><span class="language-javascript">                date</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="è‡ªåŠ¨ç›‘å¬å™¨-watchEffect"><a href="#è‡ªåŠ¨ç›‘å¬å™¨-watchEffect" class="headerlink" title="è‡ªåŠ¨ç›‘å¬å™¨ watchEffect"></a>è‡ªåŠ¨ç›‘å¬å™¨ watchEffect</h2><p>å®ƒæ˜¯ç›¸å¯¹äº<code>watch</code>æ¨¡å—éœ€è¦æ‰‹åŠ¨ç›‘å¬çš„ç‰¹ç‚¹åè¿‡æ¥æä¾›ä¸€ç§è‡ªåŠ¨ç›‘å¬çš„Vueå‡½æ•°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;------ ç›‘å¬å¼€å§‹&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (hobby.<span class="property">value</span> == <span class="string">&quot;2&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”»ç”»&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (date.<span class="property">year</span> == <span class="string">&quot;2025&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2025&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (date.<span class="property">month</span> == <span class="string">&quot;11&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;11&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;------ ç›‘å¬ç»“æŸ&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>ä»–ä¼šç›‘å¬ç½‘ç«™ä¸Šçš„æ‰€æœ‰æ•°æ®å˜åŒ–ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;hobby&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>å†™ä½œ<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>ç”»ç”»<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;3&quot;</span>&gt;</span>è¿åŠ¨<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    å¹´</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;date.year&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2023&quot;</span>&gt;</span>2023<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2024&quot;</span>&gt;</span>2024<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2025&quot;</span>&gt;</span>2025<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    æœˆ</span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;date.month&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;11&quot;</span>&gt;</span>11<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;12&quot;</span>&gt;</span>12<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive, ref, watchEffect&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> hobby = <span class="title function_">ref</span>(<span class="string">&quot;&quot;</span>) <span class="comment">// çˆ±å¥½</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> date = <span class="title function_">reactive</span>(&#123; <span class="comment">// æ—¥æœŸ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">year</span>: <span class="string">&quot;2023&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">month</span>: <span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//è‡ªåŠ¨ç›‘å¬</span></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// ç½‘é¡µå·²åŠ è½½å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ</span></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watchEffect</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;------ ç›‘å¬å¼€å§‹&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (hobby.<span class="property">value</span> == <span class="string">&quot;2&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ç”»ç”»&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (date.<span class="property">year</span> == <span class="string">&quot;2025&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;2025&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (date.<span class="property">month</span> == <span class="string">&quot;11&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;11&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;------ ç›‘å¬ç»“æŸ&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                hobby,</span></span><br><span class="line"><span class="language-javascript">                date</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vueæ¡ˆä¾‹"><a href="#Vueæ¡ˆä¾‹" class="headerlink" title="Vueæ¡ˆä¾‹"></a>Vueæ¡ˆä¾‹</h2><p>å­¦äº†å¾ˆå¤šçŸ¥è¯†åï¼Œä¸ºäº†æ–¹ä¾¿èæ±‡è´¯é€šæœ€å¥½è¿˜æ˜¯è¦åšç‚¹ç»¼åˆæ¡ˆä¾‹æ¥æ£€æµ‹è‡ªå·±çš„å­¦ä¹ çš„çŸ¥è¯†æ˜¯å¦ç‰¢å›ºã€‚</p><h3 id="å›¾ç‰‡è½®æ’­å›¾"><a href="#å›¾ç‰‡è½®æ’­å›¾" class="headerlink" title="å›¾ç‰‡è½®æ’­å›¾"></a>å›¾ç‰‡è½®æ’­å›¾</h3><p>åœ¨æ²¡æœ‰ä½¿ç”¨å‰ç«¯æ¡†æ¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¤§æ®µçš„jsä»£ç å»ä¿®æ”¹å›¾ç‰‡çš„é“¾æ¥ï¼Œä½†æ˜¯æœ‰äº†Vueä¹‹åï¼Œä»£ç å°±æ˜¾å¾—éå¸¸ç®€å•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-text</span>=<span class="string">&quot;å½“å‰ä¸ºnum&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=`<span class="attr">.</span>/<span class="attr">img</span>/$&#123;<span class="attr">num</span>&#125;<span class="attr">.png</span>` <span class="attr">:alt</span>=<span class="string">&quot;num&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height: 200px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>ä¸Šä¸€å¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>ä¸‹ä¸€å¼ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    $event.targetæ˜¯å¾—åˆ°è§¦å‘äº‹ä»¶åçš„å…ƒç´ æœ¬èº«å³inputæ ‡ç­¾--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;jump($event.target.value)&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;num&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in 4&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;jump(value)&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, ref&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> num = <span class="title function_">ref</span>(<span class="number">3</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (num.<span class="property">value</span> &lt; <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span>++</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span> = <span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">sub</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (num.<span class="property">value</span> &gt;= <span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span>--</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span> = <span class="number">4</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">jump</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">const</span> numValue = <span class="built_in">parseInt</span>(value); <span class="comment">// å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (<span class="built_in">isNaN</span>(numValue)) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">return</span>; <span class="comment">// å¦‚æœè½¬æ¢ç»“æœæ˜¯ NaNï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œ</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (numValue &gt; <span class="number">4</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span> = <span class="number">4</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (numValue &lt; <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span> = <span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    num.<span class="property">value</span> = numValue; <span class="comment">// ç¡®ä¿ num.value è¢«æ›´æ–°ä¸ºæ•°å­—ç±»å‹çš„å€¼</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                num,</span></span><br><span class="line"><span class="language-javascript">                add,</span></span><br><span class="line"><span class="language-javascript">                sub,</span></span><br><span class="line"><span class="language-javascript">                jump</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è®°äº‹æœ¬"><a href="#è®°äº‹æœ¬" class="headerlink" title="è®°äº‹æœ¬"></a>è®°äº‹æœ¬</h3><p>å¦‚æœæ˜¯åœ¨ä½¿ç”¨vueæ¡†æ¶ä¹‹å‰ï¼Œå¦‚æœæƒ³è¦å®Œæˆä¸€ä¸ªtodolistçš„æ•ˆæœï¼Œéœ€è¦ä½¿ç”¨å¤§é‡çš„jsæ“ä½œdomçš„å‡½æ•°ï¼Œä½†æ˜¯æœ‰äº†vueä¹‹åï¼Œæˆ‘ä»¬åªéœ€è¦é€šè¿‡åŒå‘æ•°æ®ç»‘å®šæ“ä½œåŸæœ¬çš„æ•°æ®ï¼Œå†å°†æ•°æ®é€šè¿‡v-foræ¥å±•ç¤ºåœ¨ç•Œé¢ä¸Šå³å¯ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.list&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;value&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;del(index)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;data.list.length&#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;clear&quot;</span>&gt;</span>æ¸…ç©º<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">content</span>: <span class="string">&quot;é‚“ç‘ç¼–ç¨‹&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: [<span class="string">&quot;baidu.net&quot;</span>, <span class="string">&quot;www.github.com&quot;</span>]</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">// å°†æ–‡æœ¬è¾“å…¥æ¡†çš„å€¼ç»‘å®šä¸ºä¸€ä¸ªæ•°æ®åŒå‘ç»‘å®šçš„å€¼</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span>.<span class="title function_">push</span>(data.<span class="property">content</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">del</span> = (<span class="params">index</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">list</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">clear</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span> = []</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data,</span></span><br><span class="line"><span class="language-javascript">                add,</span></span><br><span class="line"><span class="language-javascript">                del,</span></span><br><span class="line"><span class="language-javascript">                clear</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è´­ç‰©è½¦"><a href="#è´­ç‰©è½¦" class="headerlink" title="è´­ç‰©è½¦"></a>è´­ç‰©è½¦</h3><p>è¿™ä¸ªæ¡ˆä¾‹å°±ç¨å¾®å¤æ‚å¾ˆå¤šï¼ŒåŠ å…¥äº†å¤šé€‰æ¡†ä¹‹åè¦åˆ¤æ–­çš„æƒ…å†µä¼šè¾ƒå¤šï¼Œä½†æ˜¯ä¾ç„¶èƒ½ä½“ä¼šåˆ°vueæ¡†æ¶çš„ä¾¿æ·ä¹‹å¤„ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#8f8e8e</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> <span class="selector-tag">thead</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#F5F5F5</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> <span class="selector-tag">tr</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ececec</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.selected&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;selectAll&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•†å“<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•ä»·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>åº“å­˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- ç›¸é‚»è¾¹æ¡†åˆå¹¶ä¸ºå•ä¸€è¾¹æ¡†--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä» data.list ä¸­åˆ é™¤ä¸€ä¸ªé¡¹ç›®æ—¶ï¼ŒVue.js çš„å“åº”å¼ç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–° DOMï¼Œä»¥åæ˜ æ•°æ®çš„å˜åŒ–ã€‚--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.list&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--  éœ€è¦ç‰¹å®šçš„valueä½œä¸ºå”¯ä¸€çš„æ ‡è¯†  --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--  Vue.js å†…éƒ¨ä¼šæ ¹æ® v-model ç»‘å®šçš„æ•°ç»„å’Œå½“å‰å¤é€‰æ¡†çš„å€¼æ¥å†³å®šå¤é€‰æ¡†æ˜¯å¦åº”è¯¥è¢«å‹¾é€‰  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;value&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkboxList&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;checkSelect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.price&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.stock&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub(value)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                &#123;&#123;value.number&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add(value)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;del(index,value.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ€»ä»·&#123;&#123;totalPrice()&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">selectAll</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">selected</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (data.<span class="property">selected</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">checkboxList</span> = data.<span class="property">list</span></span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">checkboxList</span> = []</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å¦‚æœå•†å“è¢«åˆ å®Œäº†å°±å–æ¶ˆå…¨é€‰çŠ¶æ€</span></span></span><br><span class="line"><span class="language-javascript">                <span class="title function_">checkSelect</span>()</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">checkSelect</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">checkboxList</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// è¿™é‡Œè¦æ³¨æ„è´­ç‰©è½¦ä¸ºç©ºçš„æƒ…å†µ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (data.<span class="property">checkboxList</span>.<span class="property">length</span> === data.<span class="property">list</span>.<span class="property">length</span> &amp;&amp; data.<span class="property">list</span>.<span class="property">length</span> !== <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">selected</span> = <span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">selected</span> = <span class="literal">false</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">del</span> = (<span class="params">index, id</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å…¶å®æ˜¯ä¸ç”¨è‡ªå·±å»åˆ é™¤checklistä¸­çš„æ•°æ®çš„</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// ç”±äº data.checkboxList æ˜¯é€šè¿‡ v-model ä¸å¤é€‰æ¡†ç»‘å®šçš„ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.js ä¼šè‡ªåŠ¨å¤„ç† data.checkboxList ä¸å¤é€‰æ¡†çš„åŒæ­¥ã€‚</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å½“ data.list æ›´æ–°æ—¶ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.js ä¼šæ£€æŸ¥ data.checkboxList ä¸­çš„æ¯ä¸€é¡¹æ˜¯å¦ä»ç„¶å­˜åœ¨äº data.list ä¸­ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å¦‚æœä¸å­˜åœ¨ï¼Œç›¸åº”çš„å¤é€‰æ¡†å°†ä¸å†è¢«å‹¾é€‰ã€‚</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selected</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">checkboxList</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é“…ç¬”&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é¼ æ ‡&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">5</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é”®ç›˜&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">6</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">totalPrice</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">let</span> total = <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">checkboxList</span>.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                    total += data.<span class="property">checkboxList</span>[i].<span class="property">price</span> * data.<span class="property">checkboxList</span>[i].<span class="property">number</span></span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> total</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">sub</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (value.<span class="property">number</span> &gt; <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    value.<span class="property">number</span>--</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (value.<span class="property">number</span> &lt; value.<span class="property">stock</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    value.<span class="property">number</span>++</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data,</span></span><br><span class="line"><span class="language-javascript">                selectAll,</span></span><br><span class="line"><span class="language-javascript">                checkSelect,</span></span><br><span class="line"><span class="language-javascript">                totalPrice,</span></span><br><span class="line"><span class="language-javascript">                sub,</span></span><br><span class="line"><span class="language-javascript">                add,</span></span><br><span class="line"><span class="language-javascript">                del</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è´­ç‰©è½¦ï¼ˆä¼˜åŒ–ï¼‰"><a href="#è´­ç‰©è½¦ï¼ˆä¼˜åŒ–ï¼‰" class="headerlink" title="è´­ç‰©è½¦ï¼ˆä¼˜åŒ–ï¼‰"></a>è´­ç‰©è½¦ï¼ˆä¼˜åŒ–ï¼‰</h3><p>æˆ‘ä»¬ä¸å†å•ç‹¬å†™å‡½æ•°æ¥å¤„ç†æ•°æ®çš„å˜åŒ–ï¼Œä½¿ç”¨watchå‡½æ•°æ¥ç›‘å¬æ•°æ®çš„å˜åŒ–å¹¶åšå‡ºååº”ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#8f8e8e</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border-collapse</span>: collapse;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> <span class="selector-tag">thead</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background</span>: <span class="number">#F5F5F5</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">table</span> <span class="selector-tag">tr</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ececec</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--            &lt;td&gt;&lt;input type=&quot;checkbox&quot; v-model=&quot;data.selected&quot; @change=&quot;selectAll&quot;&gt;&lt;/td&gt;--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.selected&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•†å“<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•ä»·<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>åº“å­˜<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span> <span class="attr">colspan</span>=<span class="string">&quot;2&quot;</span>&gt;</span>æ“ä½œ<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ä» data.list ä¸­åˆ é™¤ä¸€ä¸ªé¡¹ç›®æ—¶ï¼ŒVue.js çš„å“åº”å¼ç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–° DOMï¼Œä»¥åæ˜ æ•°æ®çš„å˜åŒ–ã€‚--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.list&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--  éœ€è¦ç‰¹å®šçš„valueä½œä¸ºå”¯ä¸€çš„æ ‡è¯†  --&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--  Vue.js å†…éƒ¨ä¼šæ ¹æ® v-model ç»‘å®šçš„æ•°ç»„å’Œå½“å‰å¤é€‰æ¡†çš„å€¼æ¥å†³å®šå¤é€‰æ¡†æ˜¯å¦åº”è¯¥è¢«å‹¾é€‰  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;value&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.checkboxList&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;checkSelect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.name&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.price&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123;value.stock&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub(value)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                &#123;&#123;value.number&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add(value)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;del(index,value.id)&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>æ€»ä»·&#123;&#123;totalPrice&#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive, watch, computed&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">del</span> = (<span class="params">index, id</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å…¶å®æ˜¯ä¸ç”¨è‡ªå·±å»åˆ é™¤checklistä¸­çš„æ•°æ®çš„</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// ç”±äº data.checkboxList æ˜¯é€šè¿‡ v-model ä¸å¤é€‰æ¡†ç»‘å®šçš„ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.js ä¼šè‡ªåŠ¨å¤„ç† data.checkboxList ä¸å¤é€‰æ¡†çš„åŒæ­¥ã€‚</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å½“ data.list æ›´æ–°æ—¶ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// Vue.js ä¼šæ£€æŸ¥ data.checkboxList ä¸­çš„æ¯ä¸€é¡¹æ˜¯å¦ä»ç„¶å­˜åœ¨äº data.list ä¸­ï¼Œ</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// å¦‚æœä¸å­˜åœ¨ï¼Œç›¸åº”çš„å¤é€‰æ¡†å°†ä¸å†è¢«å‹¾é€‰ã€‚</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">selected</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">checkboxList</span>: [],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é“…ç¬”&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">3</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é¼ æ ‡&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">20</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">5</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">id</span>: <span class="number">3</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">name</span>: <span class="string">&quot;é”®ç›˜&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">price</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">number</span>: <span class="number">1</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stock</span>: <span class="number">6</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> totalPrice = <span class="title function_">computed</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                * reduceï¼šç”¨äºå¯¹æ•°ç»„å…ƒç´ ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè¿­ä»£æ“ä½œï¼Œå¹¶å°†æ¯æ¬¡æ“ä½œç´¯åŠ åˆ°ä¸€ä¸ªåˆå§‹å€¼ä¸Š</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                * æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ç´¯åŠ å‡½æ•°ã€å¦ä¸€ä¸ªæ˜¯åˆå€¼</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                * reduceå°†data.checkboxListæ•°ç»„ä¸­çš„æ¯ä¸ªcheckboxå¯¹è±¡çš„priceå’Œnumberå±æ€§è¿›è¡Œç›¸ä¹˜</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                * å¹¶å°†ç»“æœç´¯åŠ åˆ°åˆå§‹å€¼0ä¸Šï¼Œæœ€åè¿”å›ç›¸åŠ çš„ç»“æœ</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                * */</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">return</span> data.<span class="property">checkboxList</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, item</span>) =&gt;</span> total + item.<span class="property">price</span> * item.<span class="property">number</span>, <span class="number">0</span>)</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">sub</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (value.<span class="property">number</span> &gt; <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    value.<span class="property">number</span>--</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params">value</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (value.<span class="property">number</span> &lt; value.<span class="property">stock</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    value.<span class="property">number</span>++</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watch</span>(<span class="function">() =&gt;</span> data.<span class="property">selected</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(&quot;newValue&quot;, newValue, &quot;oldValue&quot;, oldValue)</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (newValue) &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">checkboxList</span> = data.<span class="property">list</span></span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                    data.<span class="property">checkboxList</span> = []</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">watch</span>(<span class="function">() =&gt;</span> data.<span class="property">checkboxList</span>, <span class="function">(<span class="params">newValue, oldValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;newValue&quot;</span>, newValue, <span class="string">&quot;oldValue&quot;</span>, oldValue)</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// è¿™å¥ä¸ç”¨å†™ï¼Œå®é™…å·²ç»å˜ä¸ºäº†æ–°å€¼</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// data.checkboxList = newValue</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data,</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// selectAll,</span></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// checkSelect,</span></span></span><br><span class="line"><span class="language-javascript">                totalPrice,</span></span><br><span class="line"><span class="language-javascript">                sub,</span></span><br><span class="line"><span class="language-javascript">                add,</span></span><br><span class="line"><span class="language-javascript">                del</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ–‡ç« æœç´¢"><a href="#æ–‡ç« æœç´¢" class="headerlink" title="æ–‡ç« æœç´¢"></a>æ–‡ç« æœç´¢</h3><p>ä¸€èˆ¬æ¥è¯´ç½‘é¡µçš„æ•°æ®éƒ½æ˜¯é€šè¿‡APIæ–‡æ¡£å‘é€çš„ï¼ŒAPIä¸­çš„æ ¼å¼ä¸€èˆ¬ä¸ºjsonæ ¼å¼ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªé€šè¿‡APIæ¥å®ç°æ–‡ç« æœç´¢çš„æ¡ˆä¾‹ã€‚</p><p>è¯·æ±‚çš„æ–¹å¼ä¹Ÿåˆ†ä¸ºgetå’Œpostè¯·æ±‚ä¸¤ç§ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;js/axios.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;data.type&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;0&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;data.content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;search()&quot;</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value,index) in data.list&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;value&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">import</span> &#123;createApp, reactive&#125; <span class="keyword">from</span> <span class="string">&quot;./js/vue.esm-browser.js&quot;</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">createApp</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> data = <span class="title function_">reactive</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">&quot;0&quot;</span>, <span class="comment">// æœç´¢ç±»å‹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">content</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// æœç´¢å†…å®¹</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: []</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> <span class="title function_">search</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æœç´¢ç±»å‹&quot;</span>, data.<span class="property">type</span>, <span class="string">&quot;æœç´¢å†…å®¹&quot;</span>, data.<span class="property">content</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                data.<span class="property">list</span> = []</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span> (data.<span class="property">type</span> === <span class="string">&quot;1&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> id = data.<span class="property">content</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    axios.<span class="title function_">get</span>(<span class="string">`http://localhost/article/get/id/<span class="subst">$&#123;id&#125;</span>`</span>).<span class="title function_">then</span>(</span></span><br><span class="line"><span class="language-javascript">                        <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get,data&quot;</span>, response.<span class="property">data</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">status</span> === <span class="string">&quot;success&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                                data.<span class="property">list</span>.<span class="title function_">push</span>(response.<span class="property">data</span>.<span class="property">data</span>)</span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;get.error&quot;</span>, error)</span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.<span class="property">type</span> === <span class="string">&quot;2&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">let</span> param = &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">title</span>: data.<span class="property">content</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    axios.<span class="title function_">post</span>(<span class="string">&#x27;http://127.0.0.1/article/postJson/search&#x27;</span>, param).<span class="title function_">then</span>(</span></span><br><span class="line"><span class="language-javascript">                        <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.data&quot;</span>, response.<span class="property">data</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            <span class="keyword">if</span> (response.<span class="property">data</span>.<span class="property">status</span> === <span class="string">&quot;success&quot;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                                <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">                                    data.<span class="property">list</span>.<span class="title function_">push</span>(response.<span class="property">data</span>.<span class="property">data</span>[i])</span></span><br><span class="line"><span class="language-javascript">                                &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                            &#125;</span></span><br><span class="line"><span class="language-javascript">                        &#125;</span></span><br><span class="line"><span class="language-javascript">                    ).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;post.error&quot;</span>, error)</span></span><br><span class="line"><span class="language-javascript">                    &#125;)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">                data,</span></span><br><span class="line"><span class="language-javascript">                search</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;).<span class="title function_">mount</span>(<span class="string">&quot;#app&quot;</span>)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS-æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/post/zheng-ze-biao-da-shi/"/>
      <url>/post/zheng-ze-biao-da-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è·ç¦»ä¸Šä¸€æ¬¡æ›´æ–°å·²ç»æ˜¯äº”ä¸ªæœˆä»¥å‰äº†ï¼Œæ—¶å…‰èè‹’ï¼Œå·²ç»åˆ°2024å¹´äº†ã€‚ç”±äºè‡ªå·±ä¼šçš„æ˜¯Pythonï¼Œæ‰€ä»¥ä¸å¤ªæ¸…æ¥šè‡ªå·±èƒ½å¦æ‰¾åˆ°åˆé€‚çš„å·¥ä½œï¼Œæ€æ¥æƒ³å»è¿˜æ˜¯å‡†å¤‡å­¦ä¹ ä¸€ä¸‹å‰ç«¯çš„çŸ¥è¯†ï¼Œå¸Œæœ›èƒ½åœ¨å½“å‰è‰°éš¾çš„å¤§ç¯å¢ƒä¸‹ç”Ÿå­˜ä¸‹æ¥ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼å…¶å®å°±æ˜¯å­—ç¬¦ä¸²çš„ä¸€ä¸ªåŒ¹é…è§„åˆ™ï¼Œèƒ½æ–¹ä¾¿åŒ¹é…ä¸€ç³»åˆ—ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œè®©å¼€å‘æ•ˆç‡å˜é«˜ï¼Œè¿™æ¬¡ä¹Ÿæ˜¯è¶ç€å­¦å®Œäº†æ¥åšä¸ªç¬”è®°è®°å½•ä¸€ä¸‹ï¼Œæ¯•ç«Ÿå¦‚æœåç»­ä¸å¸¸ç”¨è¿˜æ˜¯å®¹æ˜“å¿˜è®°ã€‚<strong>ä»¥ä¸‹éƒ¨åˆ†å‡ä»¥Javascriptä½œä¸ºç¤ºèŒƒè¯­è¨€ï¼ŒPythonè¯­è¨€å®é™…ä¹Ÿå¤§å·®ä¸å·®ã€‚</strong></p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŒ¹é…24å°æ—¶æ—¶é—´çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg4 = <span class="regexp">/^(([01][0-9])|([2][0123])):[0-5][0-9]$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;23:59&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;00:00&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;24:00&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;23:60&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>/^(([01][0-9])|([2][0123])):[0-5][0-9]$/</code>å³ä¸ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ç”±<code>//</code>åŒ…è£¹ï¼Œåœ¨ç¬¬äºŒä¸ª&#x2F;ä¹‹åå¯æ·»åŠ ä¿®é¥°ç¬¦æ¥çº¦æŸæ­£åˆ™ä¸­æ‰§è¡Œçš„æŸäº›ç»†èŠ‚ï¼Œå¦‚<code>//g</code>ï¼Œè¡¨ç¤ºå…¨å±€åŒ¹é…ã€‚</p><h2 id="å¸¸è§çš„å­—ç¬¦ä¸²åŒ¹é…å‡½æ•°"><a href="#å¸¸è§çš„å­—ç¬¦ä¸²åŒ¹é…å‡½æ•°" class="headerlink" title="å¸¸è§çš„å­—ç¬¦ä¸²åŒ¹é…å‡½æ•°"></a>å¸¸è§çš„å­—ç¬¦ä¸²åŒ¹é…å‡½æ•°</h2><p>åœ¨å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£jsä¸­ä¸€äº›å¸¸ç”¨çš„å­—ç¬¦ä¸²åŒ¹é…æ–¹æ³•ï¼Œè¿™æ ·æ‰èƒ½æ–¹ä¾¿åç»­å­¦ä¹ æ—¶çš„æµ‹è¯•ã€‚</p><p>æœ¬æ®µè½ä½¿ç”¨çš„æµ‹è¯•å­—ç¬¦ä¸²ä¸ºï¼š<code>&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</code>ï¼Œå›ºå®šçš„æ­£åˆ™è¡¨è¾¾å¼ä¸ºï¼š<code>/å‰ç«¯/g</code>ï¼Œå³åœ¨å­—ç¬¦ä¸²ä¸­åŒ¹é…å‰ç«¯è¿™ä¸¤ä¸ªå­—ç¬¦ï¼Œgçš„å«ä¹‰ä¸ºå…¨å±€åŒ¹é…ï¼Œè¿™é‡Œä¸å¿…æ·±ç©¶ã€‚</p><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªæ–¹æ³•ï¼ˆå¹¶éå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œåç»­å­¦ä¹ è®°å¾—åŒºåˆ†ä¸€ä¸‹ï¼‰ã€‚ç”¨æ¥æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼Œå¦‚æœç¬¦åˆè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;å‰ç«¯å¼€å‘&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;Javaå¼€å‘&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è¿™è¾¹æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ã€‚</p><p>test æ–¹æ³•åœ¨è¢«è¿ç»­è°ƒç”¨æ—¶ä¼šä»ä¸Šä¸€æ¬¡åŒ¹é…çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ä»ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹åŒ¹é…ï¼Œå¦‚æœä¸æ³¨æ„å¯èƒ½ä¼šå‡ºç°åå¸¸çš„ç»“æœï¼Œå¦‚ä¸‹çš„ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">reg.<span class="title function_">test</span>(<span class="string">&#x27;å‰ç«¯å¼€å‘,ç”¨js&#x27;</span>)</span><br><span class="line"><span class="comment">// èƒ½åŒ¹é…åˆ°å¯ä»¥è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;å‰ç«¯å¼€å‘&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;Javaå¼€å‘&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºtestæ–¹æ³•åœ¨è¢«è¿ç»­è°ƒç”¨æ—¶ä¼šä»ä¸Šä¸€æ¬¡åŒ¹é…çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œå½“<code>reg.test(&#39;å‰ç«¯å¼€å‘,ç”¨js&#39;)</code>æ‰§è¡Œåï¼Œç¬¬äºŒæ¬¡è°ƒç”¨ test æ–¹æ³•æ—¶å°†ä»å­—ç¬¦ä¸²çš„ç¬¬3ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œè€Œä¸æ˜¯ä»ç¬¬ 0 ä¸ªå­—ç¬¦å¼€å§‹ï¼Œå› æ­¤å‡ºç°äº†åå¸¸çš„é”™è¯¯ã€‚</p><h3 id="exec"><a href="#exec" class="headerlink" title="exec"></a>exec</h3><p>æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½œç”¨æ˜¯æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">exec</span>(<span class="string">&quot;å‰ç«¯å¼€å‘&quot;</span>));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š<code>[ &#39;å‰ç«¯&#39;, index: 0, input: &#39;å‰ç«¯å¼€å‘&#39;, groups: undefined ]</code></p><p>è¿”å›å€¼ä¸ºæ•°ç»„ï¼Œå¦‚æœåŒ¹é…å¤±è´¥åˆ™è¿”å›<code>NULL</code>ï¼ŒåŒ¹é…æˆåŠŸçš„è¿”å›å€¼æœ‰ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>ç¬¬ä¸€é¡¹ä¸ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² â€˜å‰ç«¯â€™</li><li>ç¬¬äºŒé¡¹ä¸ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„ç´¢å¼• index:0</li><li>ç¬¬ä¸‰é¡¹ä¸ºåŸå­—ç¬¦ä¸² input: â€˜å‰ç«¯å¼€å‘â€™</li></ul><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯execæ–¹æ³•ä¹Ÿä¼šä»ä¸Šä¸€æ¬¡åŒ¹é…çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹æŸ¥æ‰¾ï¼Œè¿™ç‚¹å’Œtextä¸€æ ·ã€‚</p></blockquote><h3 id="replace"><a href="#replace" class="headerlink" title="replace"></a>replace</h3><p><strong>æ˜¯å­—ç¬¦ä¸²çš„æ–¹æ³•</strong>ï¼ˆä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•ï¼‰ï¼Œæ›¿æ¢å­—ç¬¦ä¸²ä¸­ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</span>;</span><br><span class="line">str.<span class="title function_">replace</span>(reg, <span class="string">&quot;åç«¯&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">replace</span>(reg, <span class="string">&quot;åç«¯&quot;</span>));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸º<code>åç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œåç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œåç«¯å·¥èµ„é«˜</code></p><h3 id="match"><a href="#match" class="headerlink" title="match"></a>match</h3><p><strong>æ˜¯å­—ç¬¦ä¸²çš„æ–¹æ³•</strong>ï¼ŒæŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(reg));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š<code>[ &#39;å‰ç«¯&#39;, &#39;å‰ç«¯&#39;, &#39;å‰ç«¯&#39; ]</code></p><p>åŒ¹é…æˆåŠŸè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ¹é…å¤±è´¥è¿”å›Noneã€‚</p><blockquote><p>æ›´å¤šå…³æ³¨è¿”å›å€¼æ˜¯å¦ä¸ºNoneï¼Œä¸testçš„åŒºåˆ«åœ¨äºæ–¹æ³•è°ƒç”¨å¯¹è±¡ä¸åŒï¼Œä¸”matchæ–¹æ³•æ˜æ˜¾æ¯”testå®‰å…¨ï¼Œä¹Ÿæ›´ç¬¦åˆä¸€èˆ¬ä»£ç é€»è¾‘ã€‚</p></blockquote><h2 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h2><p>æ”¾åœ¨ç¬¬äºŒä¸ª&#x2F;ä¹‹åï¼Œä½œç”¨æ˜¯çº¦æŸæ­£åˆ™ä¸­æ‰§è¡Œçš„æŸäº›ç»†èŠ‚ï¼Œå¸¸è§çš„æœ‰ä¸‰ä¸ªå–å€¼ã€‚</p><table><thead><tr><th align="center">sign</th><th align="center">function</th></tr></thead><tbody><tr><td align="center">i</td><td align="center">æ‰§è¡Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…</td></tr><tr><td align="center">g</td><td align="center">æ‰§è¡Œå…¨å±€åŒ¹é…ï¼ˆæŸ¥æ‰¾æ‰€æœ‰åŒ¹é…è€Œéåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ååœæ­¢ï¼‰</td></tr><tr><td align="center">m</td><td align="center">æ‰§è¡Œå¤šè¡ŒåŒ¹é…ï¼ˆåº”ç”¨åœºæ™¯è¾ƒå°‘ï¼‰</td></tr></tbody></table><ol><li><p>å¤§å°å†™è„±æ•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg1 = <span class="regexp">/a/i</span>;</span><br><span class="line"><span class="keyword">const</span> reg2 = <span class="regexp">/a/</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;A&quot;</span>; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg1.<span class="title function_">test</span>(str)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(str)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>å…¨å±€åŒ¹é…</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg1 = <span class="regexp">/å‰ç«¯/</span>;</span><br><span class="line"><span class="keyword">const</span> reg2 = <span class="regexp">/å‰ç«¯/g</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(reg1)); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(reg2));</span><br></pre></td></tr></table></figure><ul><li>reg1:<code>[   &#39;å‰ç«¯&#39;,   index: 0,   input: &#39;å‰ç«¯å¼€å‘ï¼Œå¿…é¡»æŒæ¡æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‰ç«¯å°±ä¸šå‰æ™¯å¥½ï¼Œå‰ç«¯å·¥èµ„é«˜&#39;,    groups: undefined ]</code></li><li>reg2:<code>[ &#39;å‰ç«¯&#39;, &#39;å‰ç«¯&#39;, &#39;å‰ç«¯&#39; ]</code></li></ul></li><li><p>ä½¿ç”¨å¤šä¸ªä¿®é¥°ç¬¦</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg3 = <span class="regexp">/Java/gi</span>;</span><br><span class="line"><span class="keyword">const</span> message = <span class="string">&quot;å­¦Javaï¼Œjavaå·¥èµ„é«˜ï¼Œjavaå‰æ™¯å¥½&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message.<span class="title function_">replace</span>(reg3, <span class="string">&quot;Python&quot;</span>));</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š<code>å­¦Pythonï¼ŒPythonå·¥èµ„é«˜ï¼ŒPythonå‰æ™¯å¥½</code></p></li></ol><h2 id="å…ƒå­—ç¬¦"><a href="#å…ƒå­—ç¬¦" class="headerlink" title="å…ƒå­—ç¬¦"></a>å…ƒå­—ç¬¦</h2><p>å³å…·æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œç»™ä¸æ­£åˆ™è¡¨è¾¾å¼æ›´åŠ å¤šæ ·çµæ´»çš„ç»„åˆã€‚</p><h3 id="è¾¹ç•Œç¬¦"><a href="#è¾¹ç•Œç¬¦" class="headerlink" title="è¾¹ç•Œç¬¦"></a>è¾¹ç•Œç¬¦</h3><p>å³ä¸ºè§„å®šè¡¨è¾¾å¼çš„è¾¹ç•Œéƒ¨åˆ†ï¼Œå¸¸è§æœ‰å•è¯è¾¹ç•Œã€å­—ç¬¦ä¸²è¾¹ç•Œã€ç²¾ç¡®åŒ¹é…ä¸‰ç§æƒ…å†µã€‚</p><ol><li><p>å•è¯è¾¹ç•Œ</p><p>åœ¨å­—ç¬¦ä¸²å¤´å°¾åŠ ä¸Š<code>\b</code> æ„æˆå•è¯çš„éƒ¨åˆ†ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ ä¸Š\b æ„æˆå•è¯çš„éƒ¨åˆ†</span></span><br><span class="line"><span class="keyword">const</span> reg1 = <span class="regexp">/cat/g</span>;</span><br><span class="line"><span class="keyword">const</span> reg2 = <span class="regexp">/\bcat\b/g</span>;</span><br><span class="line"><span class="keyword">const</span> message = <span class="string">&quot;The cat scattered his food all over the room.&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message.<span class="title function_">replace</span>(reg1, <span class="string">&quot;dog&quot;</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message.<span class="title function_">replace</span>(reg2, <span class="string">&quot;dog&quot;</span>));</span><br></pre></td></tr></table></figure><ul><li>reg1:<code>The dog sdogtered his food all over the room.</code></li><li>reg2:<code>The dog scattered his food all over the room.</code></li></ul><p>å¯ä»¥çœ‹åˆ°ç”±äºreg1å¹¶æœªæ·»åŠ å•è¯è¾¹ç•Œï¼Œå¯¼è‡´scatteredä¸­çš„â€œcatâ€éƒ¨åˆ†ä¹Ÿä¼šè¢«åŒ¹é…ä¸Šï¼Œå‡ºç°äº†å¤§ç›¸å¾„åº­çš„ç»“æœã€‚</p></li><li><p>å­—ç¬¦ä¸²è¾¹ç•Œ</p><p>ä½¿ç”¨<code>^</code>ä½œä¸ºå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ<code>$</code>ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg5 = <span class="regexp">/^a/i</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg5.<span class="title function_">test</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg5.<span class="title function_">test</span>(<span class="string">&quot;abc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg5.<span class="title function_">test</span>(<span class="string">&quot;bcd&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reg6 = <span class="regexp">/c$/i</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg6.<span class="title function_">test</span>(<span class="string">&quot;c&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg6.<span class="title function_">test</span>(<span class="string">&quot;cb&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg6.<span class="title function_">test</span>(<span class="string">&quot;C&quot;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>ç²¾ç¡®åŒ¹é…</p><p>å¦‚æœåŒæ—¶åœ¨å¼€å¤´ä¸ç»“å°¾åŠ ä¸Š<code>^ $</code>åœ¨ä¸€å—ï¼Œé‚£ä¹ˆå°±ç¼–ç¨‹äº†ç²¾ç¡®åŒ¹é…ï¼Œå³å­—ç¬¦ä¸²å¿…é¡»å®Œå…¨æ»¡è¶³æ­£åˆ™çš„å…¨éƒ¨è¦æ±‚ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg7 = <span class="regexp">/^a$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg7.<span class="title function_">test</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg7.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="é‡è¯"><a href="#é‡è¯" class="headerlink" title="é‡è¯"></a>é‡è¯</h3><p>é¡¾åæ€ä¹‰ï¼Œå³è§„å®šå­—ç¬¦å‡ºç°çš„é¢‘ç‡ã€‚</p><table><thead><tr><th align="center">sign</th><th align="center">function</th></tr></thead><tbody><tr><td align="center">*</td><td align="center">è¡¨ç¤º0æ¬¡æˆ–è€…å¤šæ¬¡</td></tr><tr><td align="center">+</td><td align="center">è¡¨ç¤ºä¸€æ¬¡æˆ–è€…å¤šæ¬¡</td></tr><tr><td align="center">?</td><td align="center">è¡¨ç¤ºé›¶æ¬¡ä¸ä¸€æ¬¡</td></tr><tr><td align="center">{n}</td><td align="center">åªèƒ½æœ‰næ¬¡</td></tr><tr><td align="center">{n,m}</td><td align="center">è¡¨ç¤ºä»nåˆ°mæ¬¡ï¼ˆåŒ…æ‹¬nä¸mï¼‰</td></tr></tbody></table><ol><li><ul><li></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg8 = <span class="regexp">/^a*$/i</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg8.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg8.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><ul><li></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg8 = <span class="regexp">/^a+$/i</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg8.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg8.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>?</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg_1 = <span class="regexp">/^a?$/i</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg_1.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg_1.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>{n}</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg9 = <span class="regexp">/^a&#123;3&#125;$/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>{n,m}</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg9 = <span class="regexp">/^a&#123;1,3&#125;$/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;a&quot;</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;aaa&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h3><p>æ—¥å¸¸ç”Ÿæ´»ä¸­ç»å¸¸å‡ºç°ä¸€äº›å­—ç¬¦ä¸²ä¸åŒä½†æ˜¯ç­‰æ•ˆçš„æƒ…å†µï¼Œå¦‚<code>Python</code>ä¸<code>python</code>ï¼Œ<code>color</code>ä¸<code>colour</code>ï¼Œå¹¿ä¹‰æ¥è¯´å³ä¸ºå¤šä¸ªå­—ç¬¦éƒ½ç¬¦åˆåŒ¹é…è¦æ±‚ï¼Œå¯ä»¥å‡ºç°æ›¿æ¢çš„æƒ…å†µã€‚</p><p>å¦‚ï¼š<code>/[abc]/</code>ï¼Œæ„å‘³ç€æˆ‘è¦åŒ¹é…çš„å­—ç¬¦ä¸²å…¶ä¸­æœ‰aæˆ–bæˆ–cï¼›<code>/[Pp]thon/</code>ä¸ºåŒ¹é…<code>Python</code>ä¸<code>python</code>ã€‚</p><p>å¸¸è§çš„å­—ç¬¦ç±»æƒ…å†µä¸ºï¼š</p><table><thead><tr><th align="left">sign</th><th>function</th></tr></thead><tbody><tr><td align="left">[a-z]</td><td>è¡¨ç¤ºaåˆ°zï¼Œ26ä¸ªå°å†™çš„è‹±æ–‡å­—æ¯</td></tr><tr><td align="left">[A-Z]</td><td>è¡¨ç¤ºAåˆ°Zï¼Œ26ä¸ªå¤§å†™çš„è‹±æ–‡å­—æ¯</td></tr><tr><td align="left">[0-9]</td><td>è¡¨ç¤º0-9åä¸ªæ•°å­—</td></tr><tr><td align="left">.</td><td>åŒ¹é…é™¤äº†æ¢è¡Œç¬¦(\nä¸\r)å¤–çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td align="left">[^]</td><td>è¡¨ç¤ºå–åï¼Œä¸[]åˆå¹¶ä½¿ç”¨ï¼Œæ³¨æ„è¦å†™åœ¨[]é‡Œé¢</td></tr></tbody></table><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä¾‹å­ï¼š</p><ol><li><p>å¯†ç åŒ¹é…(6-16ä½å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆ)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/[a-zA-Z0-9_]&#123;6,16&#125;/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;123456&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;1234567&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;12345&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li><li><p>æ›¿æ¢Pythonä¸ºJava</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/[Pp]ython/</span>;</span><br><span class="line"><span class="keyword">const</span> str1 = <span class="string">&quot;äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Python&quot;</span></span><br><span class="line"><span class="keyword">const</span> str2 = <span class="string">&quot;äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Python&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="title function_">replace</span>(reg,<span class="string">&quot;Java&quot;</span>)); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2.<span class="title function_">replace</span>(reg,<span class="string">&quot;Java&quot;</span>)); </span><br></pre></td></tr></table></figure><p>è¾“å‡ºéƒ½ä¸ºï¼š<code>äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘å­¦Java</code></p></li><li><p>åŒ¹é…çˆ±åé¢æ²¡æœ‰ä½ çš„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/çˆ±[^ä½ ]/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;ä¸çˆ±ä½ &quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;çˆ±ä½ ä¸€ä¸‡å¹´&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">test</span>(<span class="string">&quot;æˆ‘çˆ±æˆ‘&quot;</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>.åŒ¹é…çš„ä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg14 = <span class="regexp">/./</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg14.<span class="title function_">test</span>(<span class="string">&quot;&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg14.<span class="title function_">test</span>(<span class="string">&quot;\n&quot;</span>)) <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg14.<span class="title function_">test</span>(<span class="string">&quot;\r&quot;</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="é¢„å®šä¹‰"><a href="#é¢„å®šä¹‰" class="headerlink" title="é¢„å®šä¹‰"></a>é¢„å®šä¹‰</h3><p>å¯¹äºä¸€äº›æ—¢å®šçš„å­—ç¬¦ç±»æ¥è¯´ï¼Œè¿˜æœ‰ç®€åŒ–çš„å†™æ³•ï¼Œè¿™äº›ç®€åŒ–çš„å†™æ³•å°±æ˜¯é¢„å®šä¹‰ã€‚</p><table><thead><tr><th>sign</th><th>Same meaning</th><th>function</th></tr></thead><tbody><tr><td>\d</td><td>[0-9]</td><td>å°å†™æ•°å­—0-9</td></tr><tr><td>\D</td><td>[^0-9]</td><td>é™¤äº†æ•°å­—çš„éƒ¨åˆ†</td></tr><tr><td>\w</td><td>[a-zA-Z0-9_]</td><td>åŒ¹é…ä»»æ„çš„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</td></tr><tr><td>\W</td><td>[^a-zA-Z0-9_]</td><td>åŒ¹é…ä»»æ„éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</td></tr><tr><td>\s</td><td>[\t\r\n\v\f]</td><td>åŒ¹é…ç©ºæ ¼ï¼ˆåŒ…å«æ¢è¡Œã€ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ï¼‰</td></tr><tr><td>\S</td><td>[^\t\r\n\v\f]</td><td>åŒ¹é…éç©ºæ ¼</td></tr></tbody></table><p><strong>å¤§å†™å…¶å®å°±æ˜¯å°å†™çš„å–åæ•ˆæœ</strong>ã€‚</p><h2 id="åˆ†ç»„ä¸é€‰æ‹©"><a href="#åˆ†ç»„ä¸é€‰æ‹©" class="headerlink" title="åˆ†ç»„ä¸é€‰æ‹©"></a>åˆ†ç»„ä¸é€‰æ‹©</h2><h3 id="åˆ†ç»„"><a href="#åˆ†ç»„" class="headerlink" title="åˆ†ç»„"></a>åˆ†ç»„</h3><p>åˆ†ç»„å°±æ˜¯å°†æ•°æ®çš„ä¸åŒéƒ¨åˆ†åˆ†å¼€ä»¥é€‚åº”ä¸åŒçš„è§„åˆ™ï¼Œä½¿ç”¨<code>()</code>ï¼Œæ¯ä¸€ä¸ªå°æ‹¬å·å°±æ˜¯ä¸€ä¸ªåˆ†ç»„ã€‚</p><p>ä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹ä¸ºï¼šå°†æ—¥æœŸ<code>2020-10-10</code>æ ¼å¼è½¬åŒ–ä¸º<code>10/10/2020</code>çš„æ ¼å¼ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦å°†åŒ¹é…æˆåŠŸçš„å¹´ã€æœˆã€æ—¥éƒ¨åˆ†å•ç‹¬æ‹¿å‡ºæ¥ä½¿ç”¨ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨åˆ†ç»„çš„æ–¹æ³•ï¼ŒåŒ¹é…ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/^(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)$/</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;2020-10-10&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(reg))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š<code>[   &#39;2020-10-10&#39;,   &#39;2020&#39;,   &#39;10&#39;,   &#39;10&#39;,   index: 0,   input: &#39;2020-10-10&#39;,   groups: undefined ]</code></p><p>å¯ä»¥çœ‹åˆ°å®é™…ä¸ŠmatchæŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åˆ†ç»„çš„æƒ³æ³•ï¼ˆä¸€ä¸ªå°æ‹¬å·ä¸€ç»„ï¼‰å°†åŒ¹é…ç»“æœåˆ†ä¸ºäº†ä¸‰ç»„ï¼ˆå¹´ã€æœˆã€æ—¥ï¼‰ï¼Œå…¶ä¸­å°†æ•´ä¸ªæ—¥æœŸä½œä¸ºä¸€ä¸ªgroupåŒ¹é…èµ·æ¥ï¼Œæˆ‘ä»¬ç§°å…¶ä¸ºgroup0ã€‚</p><blockquote><p>2020-10-10 group0</p><p>2020 group1</p><p>10 group2</p><p>10 group3</p></blockquote><p>åœ¨replaceä¸­æ”¯æŒä½¿ç”¨<code>$n</code>æ¥è·å–å…¶ä¸­çš„åˆ†ç»„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/^(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)$/</span></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;2020-10-10&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">replace</span>(reg,<span class="string">&quot;$1å¹´$2æœˆ$3æ—¥&quot;</span>))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸ºï¼š<code>2020å¹´10æœˆ10æ—¥</code></p><h3 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h3><p>ä½¿ç”¨<code>|</code>æ¥è¡¨ç¤ºæˆ–è€…ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg17 = <span class="regexp">/^good|nice$/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg17.<span class="title function_">test</span>(<span class="string">&quot;good&quot;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg17.<span class="title function_">test</span>(<span class="string">&quot;nice&quot;</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ä¸<code>[\bnice\b\bgood\b]</code>ã€<code>/[(nice)(good)]/</code>æ•ˆæœç›¸åŒã€‚</p><blockquote><p>åˆ†æ”¯ä¸å¯é€‰[]æ•ˆæœå®é™…ç›¸åŒï¼Œä½†å¯é€‰ä¸€èˆ¬ç”¨äºä¸¤è€…ä¹‹é—´ï¼Œè€Œé€‰æ‹©ä¸€èˆ¬ç”¨äºå¤šè€…ä¹‹é—´</p></blockquote><h3 id="éåˆ†ç»„åŒ¹é…"><a href="#éåˆ†ç»„åŒ¹é…" class="headerlink" title="éåˆ†ç»„åŒ¹é…"></a>éåˆ†ç»„åŒ¹é…</h3><p>åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ç”¨äºå°†å¤šä¸ªè¡¨è¾¾å¼ç»„åˆæˆä¸€ä¸ªå•å…ƒï¼Œä½†æ˜¯ä¸æ™®é€šçš„æ‹¬å·ä¸åŒï¼Œå®ƒä¸ä¼šä¿å­˜åŒ¹é…çš„å†…å®¹ç”¨äºåç»­çš„å¼•ç”¨ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨éæ•è·ç»„æ¥åº”ç”¨é‡è¯ï¼ˆå¦‚ <code>+</code> æˆ– <code>*</code>ï¼‰åˆ°æ•´ä¸ªç»„åˆçš„æ¨¡å¼ä¸Šï¼Œè€Œä¸ä¼šæ•è·è¯¥ç»„çš„åŒ¹é…ç»“æœã€‚</p><p>æˆ‘çš„ç†è§£æ˜¯å¸®åŠ©ä½ æ‰¾å‡ºæˆå¯¹æˆ–ç»„åˆçš„æ¨¡å¼å‡ºç°çš„æ¬¡æ•°ï¼Œä½†ä¸éœ€è¦å…·ä½“çš„æ•è·å†…å®¹ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ•è·HTMLæ ‡ç­¾çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> text = <span class="string">&quot;This is a &lt;b&gt;bold&lt;b&gt; word and this is an &lt;i&gt;italic&lt;/i&gt; word.&quot;</span></span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/(?:&lt;.&gt;)/g</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(text.<span class="title function_">match</span>(reg))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºä¸º<code>[ &#39;&lt;b&gt;&#39;, &#39;&lt;b&gt;&#39;, &#39;&lt;i&gt;&#39; ]</code></p><blockquote><p>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªä¸œè¥¿æ²¡ä»€ä¹ˆç”¨</p></blockquote><h2 id="ä¸€äº›é›¶ç¢çŸ¥è¯†"><a href="#ä¸€äº›é›¶ç¢çŸ¥è¯†" class="headerlink" title="ä¸€äº›é›¶ç¢çŸ¥è¯†"></a>ä¸€äº›é›¶ç¢çŸ¥è¯†</h2><ol><li><p>å¯é€‰å­—ç¬¦</p><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦åŒ¹é…ä¸€ä¸ªå•è¯çš„ä¸åŒå†™æ³•ï¼Œæ¯”å¦‚colorå’Œcolourï¼Œæˆ–è€…honorä¸honour</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg19 = <span class="regexp">/colou?r/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg19.<span class="title function_">test</span>(<span class="string">&quot;color&quot;</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg19.<span class="title function_">test</span>(<span class="string">&quot;colour&quot;</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸­?ä»£è¡¨uå¯æœ‰å¯æ— ã€‚</p></li><li><p>é‡å¤åŒºé—´</p><p>ç®—æ˜¯ä¸€äº›ç»†èŠ‚çš„è¡¥å……ï¼Œå› ä¸ºæ­£åˆ™è¡¨è¾¾å¼é»˜è®¤æ˜¯è´ªå©ªæ¨¡å¼ï¼Œå³å°½å¯èƒ½çš„åŒ¹é…æ›´å¤šå­—ç¬¦ï¼Œäºæ˜¯ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š</p><blockquote><p>{M,} - è¡¨ç¤ºè‡³å°‘Mæ¬¡</p><p>{,N} - è¡¨ç¤ºè‡³å¤šNæ¬¡</p><p>{M} - è¡¨ç¤ºæ°å¥½Mæ¬¡</p></blockquote><p>è€Œè¦ä½¿ç”¨éè´ªå©ªæ¨¡å¼ï¼Œæˆ‘ä»¬è¦åœ¨è¡¨è¾¾å¼åé¢åŠ ä¸Š<code>?</code>å·ã€‚</p></li></ol><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="å¯†ç åŒ¹é…"><a href="#å¯†ç åŒ¹é…" class="headerlink" title="å¯†ç åŒ¹é…"></a>å¯†ç åŒ¹é…</h3><p>å¯†ç åŒ¹é…(6-16ä½å­—æ¯ã€æ•°å­—æˆ–è€…ä¸‹åˆ’çº¿ç»„æˆ)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/[a-zA-Z0-9_]&#123;6,16&#125;/</span>;</span><br><span class="line"><span class="keyword">const</span> reg2 = <span class="regexp">/^\w&#123;6,16&#125;$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;123456&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;1234567&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg2.<span class="title function_">test</span>(<span class="string">&quot;12345&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼"><a href="#åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼" class="headerlink" title="åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼"></a>åŒ¹é…16è¿›åˆ¶é¢œè‰²å€¼</h3><p>å¦‚<code>#ffffff</code>ï¼Œ<code>#fff</code>ã€‚</p><p>å¯ä»¥çœ‹å‡ºæ•°å­—çš„ä¸ªæ•°ä¸º6ä¸ªæˆ–è€…3ä¸ªï¼Œå¯ä»¥ä½¿ç”¨åˆ†æ”¯ç»“æ„ï¼Œå¦å¤–ï¼Œæ¯ä¸ªå­—ç¬¦çš„å–å€¼èŒƒå›´åœ¨0-9ä¸a-fï¼ˆåŒ…æ‹¬å¤§å†™ï¼‰ä¹‹é—´,è¿™å¯ä»¥ä½¿ç”¨é€‰æ‹©[]ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg3 = <span class="regexp">/^#([0-9a-fA-F]&#123;3&#125;|[0-9A-Fa-f]&#123;6&#125;)$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&quot;#ccc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&quot;#cccccc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg3.<span class="title function_">test</span>(<span class="string">&quot;#cc&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="åŒ¹é…24å°æ—¶æ—¶é—´"><a href="#åŒ¹é…24å°æ—¶æ—¶é—´" class="headerlink" title="åŒ¹é…24å°æ—¶æ—¶é—´"></a>åŒ¹é…24å°æ—¶æ—¶é—´</h3><p>è¿™ä¸ªåˆ†ä¸ºå°æ—¶ä¸åˆ†é’Ÿä¸¤éƒ¨åˆ†è¿›è¡Œåˆ†æã€‚</p><p>å°æ—¶éƒ¨åˆ†ï¼š</p><ol><li>å½“ç¬¬ä¸€ä¸ªæ•°å­—ä¸º0æˆ–1çš„æ—¶å€™ï¼Œç¬¬äºŒä¸ªæ•°å­—ä¸º0-9</li><li>å½“ç¬¬ä¸€ä¸ªæ•°å­—ä¸º2æ—¶ï¼Œç¬¬äºŒä¸ªæ•°å­—ä¸º0-3</li></ol><p>åˆ†é’Ÿéƒ¨åˆ†ï¼š</p><ol><li>ç¬¬ä¸€ä¸ªæ•°å­—ä¸º0-5</li><li>ç¬¬äºŒä¸ªæ•°å­—ä¸º0-9</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg4 = <span class="regexp">/^(([01][0-9])|([2][0123])):[0-5][0-9]$/</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;23:59&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;00:00&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;24:00&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg4.<span class="title function_">test</span>(<span class="string">&quot;23:60&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="æ‰‹æœºå·è„±æ•"><a href="#æ‰‹æœºå·è„±æ•" class="headerlink" title="æ‰‹æœºå·è„±æ•"></a>æ‰‹æœºå·è„±æ•</h3><p>å°†11ä½æ‰‹æœºå·ä¸­é—´4ä½æ›¿æ¢ä¸º*ï¼Œä¾‹å¦‚<code>13812341234</code>æ›¿æ¢ä¸º<code>*138****1234*</code>,è¿™é‡Œå°±å¯ä»¥æŠŠå¤´ä¸‰ä¸ªæ•°ä¸å°¾å››ä¸ªæ•°å„åˆ†ä¸ºä¸€ç»„ï¼Œåç»­å°±å¯ä»¥ä½¿ç”¨<code>$</code>è·å–æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;13812341234&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">3</span>) + <span class="string">&quot;****&quot;</span> + str.<span class="title function_">substring</span>(<span class="number">7</span>,<span class="number">11</span>));</span><br><span class="line"><span class="keyword">const</span> reg6 = <span class="regexp">/^(1[3-9]\d&#123;1&#125;)\d&#123;4&#125;(\d&#123;4&#125;)$/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">replace</span>(reg6, <span class="string">&quot;$1****$2&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="åŒ¹é…ç”µè¯å·ç "><a href="#åŒ¹é…ç”µè¯å·ç " class="headerlink" title="åŒ¹é…ç”µè¯å·ç "></a>åŒ¹é…ç”µè¯å·ç </h3><p><em>å‡è®¾ç”µè¯å·ç å¯ä»¥æœ‰ä¸‹åˆ—ä¸¤ç§æ–¹å¼ï¼š</em></p><ul><li><p>0XX-XXXXXXXï¼Œä¾‹å¦‚020-8810456ï¼›</p></li><li><p>0XXXXXXXXXï¼Œä¾‹å¦‚0208810456</p></li></ul><p>020 ä»£è¡¨åŒºå·ï¼Œ8810456æ˜¯ç”µè¯å·ç ï¼ŒåŒºå·ç¬¬ä¸€ä¸ªæ•°å­—å¿…é¡»æ˜¯0ï¼Œç”µè¯å·ç çš„ç¬¬ä¸€ä¸ªæ•°å­—å¿…é¡»å¤§äºç­‰äº1ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg9 = <span class="regexp">/^0[0-9]&#123;2&#125;-?[1-9]\d&#123;6&#125;$/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;020-8810456&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;0208810456&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;020-88104XX&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg9.<span class="title function_">test</span>(<span class="string">&quot;3208810456&quot;</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ­£åˆ™è¡¨è¾¾å¼åŠŸèƒ½å¼ºå¤§ï¼Œè™½ç„¶åœ¨å¹³æ—¶å¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½å¯ä»¥ç›´æ¥é æœç´¢å¼•æ“è§£å†³éœ€æ±‚ï¼ˆå¦‚ï¼šæ‰‹æœºå·ï¼Œèº«ä»½è¯ç­‰ï¼‰ï¼ŒVsCodeä¸­ä¹Ÿæœ‰åä¸º<code>any-rule</code>çš„æ­£åˆ™æ’ä»¶ï¼Œå‡ ä¹æ¶µç›–äº†å¼€å‘ä¸­å¤§éƒ¨åˆ†çš„éœ€æ±‚ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°ä¸€äº›ç‰¹æ®Šæƒ…å†µè¦æ±‚é‡æ–°ç¼–å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾åŒ¹é…ï¼Œé‚£å°±éœ€è¦è‡ªå·±åŠ¨æ‰‹å®ç°äº†ï¼Œæ¯”å¦‚åŒ¹é…ç‰¹å®šçš„ç½‘ç«™é“¾æ¥æ˜¯å¦åˆæ³•ã€‚</p><p>æœ€åæ‰¾åˆ°ä¸¤ä¸ªéå¸¸å¥½ç”¨çš„ç½‘ç«™ï¼š</p><ol><li>ç¼–ç¨‹èƒ¶å›Š:<a href="https://codejiaonang.com/#/">ç¼–ç¨‹èƒ¶å›Š-æ‰“é€ å­¦ä¹ ç¼–ç¨‹çš„æœ€å¥½ç³»ç»Ÿ (codejiaonang.com)</a></li><li>æ­£åˆ™å¯è§†åŒ–:<a href="https://regexper.com/">Regexper</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> string </tag>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GithubPage-è‡ªå®šä¹‰åŸŸå</title>
      <link href="/post/github-page-zi-ding-yi-yu-ming/"/>
      <url>/post/github-page-zi-ding-yi-yu-ming/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¦‚æœå°†é™æ€åšå®¢æ­å»ºåˆ°Github Pageä¸Šï¼Œä½ ä¼šé»˜è®¤è·å¾—<code>ç”¨æˆ·å.github.io</code>çš„åˆå§‹åŸŸåã€‚</p><p>åˆå§‹åŸŸåæœ¬èº«ä¹Ÿå…·æœ‰ä¸€å®šçš„æ˜“è¯»ä¸æ˜“è®°çš„ç‰¹æ€§ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ä¸æ–¹ä¾¿ä¹‹å¤„ã€‚ä¸€æ–¹é¢ï¼Œå¯¹äºç†Ÿç»œgithubçš„è®¿é—®è€…æ¥è¯´ï¼Œå®ƒä¼šé€éœ²ä½ çš„githubç”¨æˆ·åï¼›å¦ä¸€æ–¹é¢ï¼Œå¯¹äºä¸ç†Ÿç»œgithubçš„è®¿é—®è€…æ¥è¯´ï¼Œä»–å¾ˆéš¾é€šè¿‡è¿™ä¸ªè§„å¾‹å»ç†Ÿè®°è¿™ä¸ªåŸŸåã€‚å¦‚æœå‡ºäºä¸€äº›ç†ç”±ï¼Œé‚£ä¹ˆè‡ªå®šä¹‰åŸŸåå°±æ˜¾å¾—å¾ˆæœ‰å¿…è¦ã€‚</p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><blockquote><p><a href="https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">å…³äºè‡ªå®šä¹‰åŸŸåå’Œ GitHub é¡µé¢ - GitHub æ–‡æ¡£</a></p></blockquote><p>å¦‚æœä½ å»æœç´¢æ­¤ç±»å…³é”®å­—ï¼Œä½ ä¼šå‘ç°å¤§éƒ¨åˆ†æ–‡ç« çš„æ ‡é¢˜éƒ½æ˜¯â€œæ›´æ¢åŸŸåâ€ï¼Œè¿™å®é™…æ˜¯æœ‰ç‚¹ä¸ä¸¥è°¨çš„ã€‚githubçš„å®˜æ–¹æ–‡æ¡£çš„æ ‡é¢˜æ˜¯â€œè‡ªå®šä¹‰åŸŸåâ€ï¼Œé˜…è¯»å®˜æ–¹æ–‡æ¡£åä¼šå‘ç°ï¼Œå®é™…ä¸Šè¿™åªæ˜¯åšäº†ä¸€ä¸ª<strong>åŸŸåçš„æ˜ å°„</strong>ã€‚å¯¹äºæœ¬åšå®¢ï¼Œä½¿ç”¨<code>ldm0715.github.io</code>ä¹Ÿæ˜¯èƒ½å¤Ÿè®¿é—®çš„ï¼Œåªæ˜¯è®¿é—®æ—¶ä¼šè‡ªåŠ¨å°†<code>ldm0715.github.io</code>æ˜ å°„åˆ°<code>hexo.gcnanmu3125.xyz</code>ä¸Šï¼Œä¹Ÿå°±æ˜¯è¯´<strong>Github Pageçš„é»˜è®¤åŸŸåå…¶å®å¹¶æ²¡æœ‰å¤±æ•ˆï¼Œä¸¥æ ¼æ¥è¯´ä¸èƒ½ç®—æ›´æ¢çš„èŒƒç•´</strong>ã€‚å®˜æ–¹æ–‡æ¡£ä¸­è¯´æ˜çš„â€œè‡ªå®šä¹‰åŸŸåâ€ï¼Œå®é™…ä¸Šå°±æ˜¯æ·»åŠ äº†ä¸€ä¸ªé‡å®šå‘çš„æ­¥éª¤ã€‚</p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>éœ€è¦æå‰è¯´æ˜çš„æ˜¯ï¼Œå®˜æ–¹æ–‡æ¡£æä¾›äº†åŸºæœ¬çš„ä¸¤ç§åŸŸåçš„é‡å®šå‘æ•™ç¨‹ã€‚</p><ul><li><p><code>apexåŸŸ</code>ï¼Œä¹Ÿç§°ä¸ºä¸€çº§åŸŸåï¼Œä¾‹å¦‚ï¼š<code>example.com</code>å’Œ<code>123.xyz</code>ã€‚</p></li><li><p><code>å­åŸŸ</code>ï¼Œä¹Ÿç§°ä¸ºäºŒçº§åŸŸåã€‚ä¾‹å¦‚ï¼š<code>www.example.com</code>å’Œ<code>blog.123.xyz</code>ã€‚</p></li></ul><p>ç½‘ä¸Šå¾ˆå¤šæ–‡ç« å®é™…ä¸Šæ ¹æœ¬æ²¡æœ‰å¯¹æ­¤è¿›è¡Œæ“ä½œä¸Šçš„åŒºåˆ†ï¼Œè€Œæ˜¯å°†å®˜æ–¹ä½“ç°çš„ä¸¤ç§æ–¹å¼éƒ½å®è·µäº†ï¼Œ<strong>è¿™æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä¹Ÿæ˜¯å®Œå…¨æ²¡å¿…è¦çš„</strong>ã€‚ä¸ªäºº<strong>åªæ¨èä½¿ç”¨å­åŸŸ</strong>,å¯¹äºç›¸å¯¹æ­£å¼çš„è¦æ±‚ï¼ˆä»¥<code>example.com</code>ä¸ºä¾‹ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨<code>www.example.com</code>ï¼Œè€Œä¸æ¨èç›´æ¥ä½¿ç”¨ä¸€çº§åŸŸåã€‚æ¥ä¸‹æ¥åªä¼šå±•ç¤º<strong>ä½¿ç”¨å­åŸŸçš„æ­¥éª¤</strong>ã€‚</p><hr><ol><li><p>åœ¨Hexoåšå®¢æ ¹ç›®å½•çš„<code>source</code>æ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸€ä¸ªåä¸º<code>CNAME</code>çš„æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­å†™å…¥éœ€è¦æ˜ å°„çš„åŸŸåã€‚</p><div align="center">    <img src="https://z4a.net/images/2023/08/18/create_CNAME.png" alt="åˆ›å»ºä¸€ä¸ªCNAMEæ–‡ä»¶" width=57%></div></li><li><p>Hexoä¸‰è¿ä¸Šä¼ åˆ°githubç«™ç‚¹ä»“åº“ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><div align="center">    <img src="https://z4a.net/images/2023/08/18/find_CNAME.png" alt="å¯åœ¨ç«™ç‚¹ä»“åº“ä¸­æ‰¾åˆ°" width=75%></div></li><li><p>å»DNSå¤„æ·»åŠ ä¸€ä¸ªç±»å‹ä¸º<code>CNAME</code>çš„è§£æã€‚</p><p>ä»¥<code>Cloudflare</code>ä¸ºä¾‹ï¼Œä»¥ä¸‹ä¸ºæœ¬ç«™çš„ä¾‹å­ï¼š</p><ul><li><code>Type</code>ï¼šCNAME</li><li><code>Name</code>ï¼šhexo</li><li><code>Target</code>: ldm0715.github.io</li></ul><div align="center">    <img src="https://z4a.net/images/2023/08/18/create_aCNAME_DNS.png" alt="æ·»åŠ ä¸€ä¸ªCNAMEæ–‡ä»¶" width=75%></div></li><li><p>æ‰“å¼€ç«™ç‚¹ä»“åº“ -&gt; <code>Settings</code> -&gt; <code>Pages</code>  -&gt; <code>Custom domain</code>ã€‚</p><div align="center">    <img src="https://z4a.net/images/2023/08/18/page_settings.png" alt="è¿›è¡ŒPagesçš„è®¾ç½®" width=75%></div><p>åœ¨<code>Custom domain</code>ä¸­å¡«å…¥<code>CNAME</code>æ–‡ä»¶ä¸­å†™å…¥çš„åŸŸåï¼Œç­‰å¾…Githubçš„DNSéªŒè¯é€šè¿‡å³å¯ã€‚</p></li></ol><h2 id="æ›´æ”¹SSL-x2F-TLSçš„åŠ å¯†æ¨¡å¼"><a href="#æ›´æ”¹SSL-x2F-TLSçš„åŠ å¯†æ¨¡å¼" class="headerlink" title="æ›´æ”¹SSL&#x2F;TLSçš„åŠ å¯†æ¨¡å¼"></a>æ›´æ”¹SSL&#x2F;TLSçš„åŠ å¯†æ¨¡å¼</h2><p>åœ¨è‡ªå®šä¹‰äº†åŸŸåä¹‹åï¼Œå¦‚æœå‡ºç°å¤šæ¬¡æ¶æ€§çš„<code>é‡å®šå‘æ¬¡æ•°è¿‡å¤š</code>å¯¼è‡´æ— æ³•è®¿é—®çš„é”™è¯¯çš„è¯ï¼Œå¤šåŠæ˜¯å› ä¸ºSSLçš„é—®é¢˜äº†ï¼Œå› ä¸ºå¤§éƒ¨åˆ†äººéƒ½ä¼šå‹¾é€‰<code>å¼ºåˆ¶https</code>çš„ï¼Œä½†æ˜¯ç”±äºåŸŸåè§£æå›æºä½¿ç”¨çš„æ˜¯HTTPé“¾æ¥ï¼Œå°±ä¼šå¯¼è‡´æ— ä¼‘æ­¢çš„é‡å®šå‘ã€‚</p><p>ä»¥<code>Cloudflare</code>ä¸ºä¾‹ï¼Œåªéœ€è¦åœ¨<code>SSL/TLS</code>åŠ å¯†é€‰é¡¹ä¸­ï¼Œå°†<code>Flex</code>ç­–ç•¥è½¬å˜ä¸º<code>Full</code>å³å¯ã€‚</p><div align="center">    <img src="https://z4a.net/images/2023/08/18/change_SSL.png" alt="è½¬å˜SSLåŠ å¯†ç­–ç•¥ä¸ºFull" style="zoom:67%;" /></div><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>å¦‚æœç›´æ¥åœ¨ç«™ç‚¹ä»“åº“ä¸­åˆ›å»º<code>CNAME</code>æ–‡ä»¶ï¼Œç­‰åˆ°ä¸‹æ¬¡Pushä¸Šä¼ ä¼šè¢«åˆ é™¤ï¼Œå› æ­¤ä¸è¦è¿™ä¹ˆåšã€‚</li><li>å¦‚æœ<code>CNAME</code>æ–‡ä»¶ä¸¢å¤±ï¼Œæ˜ å°„ä¼šç«‹å³å¤±æ•ˆã€‚</li><li>ä¸è¦å»pingè‡ªå·±çš„åšå®¢çš„åœ°å€ï¼Œ<strong>å› ä¸º<code>Github page</code>çš„åœ°å€æ˜¯ä¼šå˜åŠ¨çš„</strong>,è¯¦è§<a href="https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain">å®˜æ–¹æ–‡æ¡£</a>ã€‚</li><li>è¯·æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œé…ç½®ï¼Œå»ºè®®ç›´æ¥å‚è€ƒå®˜æ–¹æ–‡æ¡£<a href="https://docs.github.com/zh/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages">å®˜æ–¹æ–‡æ¡£</a>ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Hexoåšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github Page </tag>
            
            <tag> åŸŸå </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Word-æ ¼å¼ä¸æ’ç‰ˆ</title>
      <link href="/post/shi-yan-bao-gao-zhong-de-word-pai-ban-ji-qiao/"/>
      <url>/post/shi-yan-bao-gao-zhong-de-word-pai-ban-ji-qiao/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å·²ç»å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œä½†ä¸æ˜¯åœ¨æ‘¸é±¼ï¼Œæœ€è¿‘å†™äº†ä¸‰ä¸ªå°å·¥å…·ï¼Œåç»­å¯èƒ½ä¼šå†™ä¸ªæ–‡ç« æ¥ä»‹ç»ä¸€ä¸‹å§ï¼Œè™½ç„¶æ„Ÿè§‰æ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡ã€‚</p><p>è¿™æ¬¡ä¸»è¦æ˜¯æƒ³èµ·æ¥ä¸Šæ¬¡å†™å®éªŒæŠ¥å‘Šçš„æ—¶å€™ï¼Œå›°æ¼ç€å¦‚ä½•æ’ç‰ˆï¼Œè®©åŒå­¦æŒ‡å¯¼äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰å—ç›ŠåŒªæµ…ï¼Œæœ¬æ¥è®¡åˆ’è®°å½•ä¸€ä¸‹çš„ï¼Œç»“æœæœŸæœ«å¤ªå¿™å°±å¿˜äº†ï¼Œåˆ°æœ€è¿‘æ‰æƒ³èµ·æ¥å¡«å‘ã€‚æœ¬ç¯‡æ–‡ç« å°±è®°å½•ä¸€ä¸‹éå¸¸åŸºæœ¬çš„å®éªŒæŠ¥å‘Šæ ¼å¼æ’ç‰ˆã€‚<strong>ä¸è¦è§‰å¾—æ’ç‰ˆæ— ç”¨ï¼Œå®é™…ä¸Šæ’ç‰ˆä¹Ÿæ˜¯ä¸€ç§è§„èŒƒã€‚</strong></p><h2 id="ä»£ç å—çš„æ’å…¥"><a href="#ä»£ç å—çš„æ’å…¥" class="headerlink" title="ä»£ç å—çš„æ’å…¥"></a>ä»£ç å—çš„æ’å…¥</h2><p>å¯¹äºè®¡ç®—æœºä¸“ä¸šçš„åŒå­¦ï¼Œå†™å®Œå®éªŒä»£ç åï¼Œè‚¯å®šè¦å°†é‡è¦å®ç°éƒ¨åˆ†çš„ä»£ç åŠ å…¥å®éªŒæŠ¥å‘Šï¼Œä½†æ˜¯Wordé‡Œæ˜¯æ²¡æœ‰é»˜è®¤çš„ä»£ç å—æ ¼å¼çš„ï¼Œå¯¼è‡´ç›´æ¥ä»IDEä¸­å¤åˆ¶ç²˜è´´åä¸æ˜¯å¾ˆç¾è§‚ã€‚è¿™æ—¶å€™å¯ä»¥å€ŸåŠ©æ’ä»¶ä¸ç½‘ç«™æ¥å®ç°ä»£ç çš„é«˜äº®ä¸æ ¼å¼åŒ–ã€‚</p><h3 id="IDEè‡ªå¸¦çš„æ ¼å¼"><a href="#IDEè‡ªå¸¦çš„æ ¼å¼" class="headerlink" title="IDEè‡ªå¸¦çš„æ ¼å¼"></a>IDEè‡ªå¸¦çš„æ ¼å¼</h3><p>å¾ˆå¤šIDEéƒ½è‡ªå¸¦ä¸€äº›ä»£ç çš„æ ¼å¼ï¼Œ<strong>ç‰¹åˆ«æ˜¯æš—è‰²çš„ä¸»é¢˜</strong>ï¼Œå¤åˆ¶å‡ºæ¥ä¼šè‡ªå¸¦ä»£ç æ ¼å¼ï¼Œæœ‰æ—¶å€™ä¹Ÿèƒ½å‘ˆç°æƒ³è¦çš„æ•ˆæœï¼Œä»¥ä¸‹æ˜¯<code>PyCharm</code>çš„<code>VSCode Dark Modern</code>ä¸»é¢˜å¤åˆ¶åˆ°Wordä¸­çš„æ•ˆæœã€‚</p><div align="center">  <img src="https://z4a.net/images/2023/07/18/IDE_format.png" alt="Darkä¸»é¢˜å¤åˆ¶åè‡ªå¸¦çš„æš—è‰²æ ·å¼" width="75%"></div><h3 id="Easy-Code-Formatter"><a href="#Easy-Code-Formatter" class="headerlink" title="Easy Code Formatter"></a>Easy Code Formatter</h3><p><strong>åœ¨ä½¿ç”¨æœ¬æ’ä»¶æ—¶ï¼Œå¤åˆ¶å†…å®¹è®°å¾—å»é™¤æ ·å¼ï¼ï¼ˆä¹Ÿå°±æ˜¯åªå¤åˆ¶æ–‡å­—é€‰é¡¹ï¼‰</strong></p><ol><li><p>è·å–</p><p>è¿™æ˜¯Officeä¸­å…è´¹çš„ä¸€ä¸ªåŠ è½½é¡¹ï¼Œ<strong>ä»¥Office 2019ä¸ºä¾‹</strong>ï¼Œè·å–è·¯å¾„ä¸ºï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LRa(æ’å…¥) --&gt; b(è·å–åŠ è½½é¡¹) --&gt; c[æœç´¢&#39;Code&#39;]--&gt; d(æ‰¾åˆ°&#39;Easy Code Formatter&#39;ç‚¹å‡»&#39;æ·»åŠ &#39;)  </pre></div></li></ol><div align="center">    <img src="https://z4a.net/images/2023/07/18/get_codeformatter.png" alt="è·å–â€˜Easy Code Formatterâ€™æ’ä»¶" width="75%"></div><ol start="2"><li><p>ä½¿ç”¨</p><p>ç‚¹å‡»è·å–ä¹‹åä¼šå‡ºç°åœ¨Wordçš„æ“ä½œæ ä¸­ï¼Œç‚¹å‡»å³å¯ä»¥çœ‹åˆ°æ“ä½œçš„é€‰é¡¹ã€‚</p></li></ol><div align="center">    <img src="https://z4a.net/images/2023/07/18/codeformatter_button.png" alt="codeformatter_button" width="75%"></div><p>   é€‰ä¸­å†…å®¹ç‚¹å‡»ç›¸åº”çš„é€‰é¡¹å³å¯ï¼Œè¿™è¾¹ä»¥<code>PyCharm</code>ä¸ºä¾‹ï¼Œè®²è§£ä¸€ä¸‹åŒºåˆ«ï¼š</p><ul><li>Format text as codeï¼šå°†æ–‡æœ¬æ ¼å¼åŒ–</li></ul>  <div align="center">      <img src="https://z4a.net/images/2023/07/18/format_text_as_code.png" alt="Format text as code" width="75%">  </div><ul><li><p>Highlight selected lineï¼šé«˜äº®é€‰å®šçš„è¡Œ</p><div align="center"><img src="https://z4a.net/images/2023/07/18/highlight_selected_line.png" alt="Highlight selected line" width="75%"></div></li><li><p>Code formatter settingsï¼šä»£ç æ ¼å¼åŒ–è®¾ç½®</p><p>å¦‚æœä½ ç‚¹å‡»<code>Highlight selected line</code>ä¸<code>Format text as code</code>éƒ½æ²¡æœ‰ååº”ï¼Œé‚£ä¹ˆç‚¹å‡»æ­¤é¡¹ï¼Œåœ¨è·³å‡ºçš„å¼¹çª—ä¸­å¯ä»¥æ‰¾åˆ°åŒåçš„é€‰é¡¹ï¼Œç‚¹å‡»å³å¯ã€‚</p><div align="center">    <img src="https://z4a.net/images/2023/07/18/code_formatter_setting2cfe0574ef20c594.png" alt="Code formatter settings" width="75%"></div><p>è®¾ç½®ä¸­è¿˜æœ‰ä¸»é¢˜ä¸é¢œè‰²ï¼Œè¿™è¾¹å°±ä¸å±•å¼€ä»‹ç»äº†ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™ä¸ªæ’ä»¶å¯èƒ½å‡ºç°åŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µï¼ˆç‚¹å‡»åä¸€ç‰‡ç©ºç™½ï¼‰ï¼Œå¯èƒ½å’ŒWordç‰ˆæœ¬æœ‰å…³ï¼Œå¦å¤–ï¼Œåœ¨è°ƒæ•´ä¸»é¢˜ä¸é¢œè‰²çš„æ—¶å€™ï¼Œè¦æ³¨æ„ä¸è¦é€‰æ‹©Wordæ˜¾ç¤ºä¸äº†çš„é¢œè‰²ï¼Œä¼šå‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ã€‚</p></li></ul><h3 id="ä»£ç æ ¼å¼åŒ–ç½‘ç«™"><a href="#ä»£ç æ ¼å¼åŒ–ç½‘ç«™" class="headerlink" title="ä»£ç æ ¼å¼åŒ–ç½‘ç«™"></a>ä»£ç æ ¼å¼åŒ–ç½‘ç«™</h3><p>æˆ‘çŸ¥é“çš„ä¸€äº›ç½‘ç«™ï¼š</p><ol><li>CodeInWord : <a href="http://www.codeinword.com/">http://www.codeinword.com</a></li><li>highlightcode : <a href="https://highlightcode.com/">https://highlightcode.com</a></li><li>Code Pasteï¼š<a href="https://paste.tonys-studio.top/">https://paste.tonys-studio.top</a></li></ol><p>æ•ˆæœéƒ½å·®ä¸å¤šï¼Œæ­¥éª¤ä¸ºï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LRa(é€‰æ‹©å¼€å‘è¯­è¨€) --&gt; b(å¤åˆ¶ä»£ç \nç‚¹å‡»é«˜äº®) --&gt; c(å¤åˆ¶é«˜äº®åçš„å†…å®¹) --&gt; d(å›åˆ°Wordè¿›è¡Œç²˜è´´)  </pre></div> <div align="center"><img src="https://z4a.net/images/2023/07/18/codeinword.png" alt="æ ¼å¼åŒ–åçš„æ•ˆæœ" width="60%"></div><p>æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œå¦‚æœä½ ä¸æƒ³è¦é å³çš„æ•ˆæœï¼Œå¯ä»¥æŒ‰ç…§ä¸€ä¸‹é¡ºåºè®¾ç½®ï¼Œå°†å…¶è°ƒä¸ºå‘å·¦å¯¹é½ï¼š</p><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LRd(é€‰ä¸­å†…å®¹) --&gt; a(æœç´¢æ“ä½œè¯´æ˜) --&gt; b(æœç´¢&#39;å®šä¹‰æ–°ç¼–å·æ ¼å¼&#39;)--&gt; c(åœ¨&#39;å¯¹é½æ–¹å¼ä¸­&#39;é€‰æ‹©&#39;å·¦å¯¹é½&#39;)  </pre></div><div align="center"><img src="https://z4a.net/images/2023/07/18/ed6edaba815e44b0337a8f321c7fc57b.png" alt="å®šä¹‰ç¼–å·è®¾ç½®" width="80%"></div><p>è°ƒæ•´åçš„æ•ˆæœï¼š</p><div align="center"><img src="https://z4a.net/images/2023/07/18/resetting_codeformatter.png" alt="è°ƒæ•´å‰åå¯¹æ¯”" width="75%"></div><h2 id="ä¸‰çº¿è¡¨"><a href="#ä¸‰çº¿è¡¨" class="headerlink" title="ä¸‰çº¿è¡¨"></a>ä¸‰çº¿è¡¨</h2><p>æ˜¯è®ºæ–‡ä¸­è¡¨æ ¼çš„è§„å®šå½¢å¼ï¼Œæ€»å…±åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>å¯¹äºæ€»è¡¨æ¥è¯´ï¼Œå»é™¤é™¤äº†ä¸Šä¸‹çš„æ‰€æœ‰æ¨ªçº¿ã€‚</li><li>å¯¹äºè¡¨å¤´æ¥è¯´ï¼Œæ·»åŠ ä¸‹æ¨ªçº¿ã€‚</li></ol><p>å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è®¾å®šï¼š</p><div align="center"><img src="https://z4a.net/images/2023/07/18/tree_lines_table.gif" alt="ä¸‰çº¿è¡¨çš„è®¾ç½®" width="55%"></div><p>è®¾å®šå‰åçš„æ•ˆæœå¯¹æ¯”ï¼š</p><div align="center"><img src="https://z4a.net/images/2023/07/18/after_deal_table.png" alt="ä¸‰çº¿è¡¨è®¾å®šå‰åå¯¹æ¯”" width="55%"></div><h2 id="æ ‡é¢˜æ ¼å¼"><a href="#æ ‡é¢˜æ ¼å¼" class="headerlink" title="æ ‡é¢˜æ ¼å¼"></a>æ ‡é¢˜æ ¼å¼</h2><h3 id="æ ‡é¢˜æ ¼å¼ç»“æ„"><a href="#æ ‡é¢˜æ ¼å¼ç»“æ„" class="headerlink" title="æ ‡é¢˜æ ¼å¼ç»“æ„"></a>æ ‡é¢˜æ ¼å¼ç»“æ„</h3><p>å¯¹äºä¸€äº›é‡è¦çš„æ–‡æ¡£ï¼Œç›®å½•ä¸€èˆ¬æ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼ŒWordä¸­æœ‰è‡ªåŠ¨çš„ç›®å½•ç”Ÿæˆï¼Œå‰ææ˜¯æˆ‘ä»¬è®¾å®šå¥½æ ‡é¢˜çš„æ ¼å¼ã€‚</p><div align="center"><img src="https://z4a.net/images/2023/07/18/all_styles.png" alt="é»˜è®¤æ ‡é¢˜çš„æ ¼å¼" width="67%"></div><p>ä»¥ä¸€ç¯‡å®éªŒæŠ¥å‘Šæ¨¡ç‰ˆä¸ºä¾‹ï¼š</p><div align="center"><img src="https://z4a.net/images/2023/07/18/example.png" alt="ç¤ºä¾‹æ–‡æ¡£" width="55%"></div><p>å¯ä»¥çœ‹å‡ºå…¶ä¸­ï¼š</p><ul><li>å®éªŒç›®çš„ã€è®¾è®¡å†…å®¹ã€åŸºæœ¬è®¾è®¡è¦æ±‚ä¸º<strong>ä¸€çº§æ ‡é¢˜</strong>ï¼Œå¯¹åº”æ ·å¼ä¸º<strong>æ ‡é¢˜ä¸€</strong></li><li>åŸºæœ¬è®¾è®¡è¦æ±‚ä¹‹ä¸‹çš„å„ä¸ªå°é¢˜ä¸º<strong>äºŒçº§æ ‡é¢˜</strong>ï¼Œå¯¹åº”æ ·å¼ä¸º<strong>æ ‡é¢˜äºŒ</strong></li></ul><p>æŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼ˆä¸çŸ¥é“å¯¹ä¸å¯¹ï¼‰ï¼Œé™¤äº†æ ‡é¢˜ä¸€é‡‡ç”¨çš„æ˜¯å¤§å†™æ•°å­—ä»¥å¤–ï¼Œå…¶ä»–çš„æ ‡é¢˜éƒ½å·²<strong>Ã—.Ã—ï¼ˆ*nï¼‰</strong>çš„æ ¼å¼å¾ªç¯å‘½åä¸‹å»ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å®éªŒæŠ¥å‘Š</span><br><span class="line">â”œâ”€ ä¸€ã€å®éªŒç›®çš„</span><br><span class="line">â”œâ”€ äºŒã€è®¾è®¡å†…å®¹</span><br><span class="line">â”œâ”€ ä¸‰ã€åŸºæœ¬è®¾è®¡è¦æ±‚</span><br><span class="line">â”‚    â”œâ”€ 3.1 å®ç°Telnetçš„è¿œç¨‹ç™»é™†</span><br><span class="line">â”‚    â”‚        â”œâ”€ 3.1.1 å®éªŒæ€è·¯</span><br><span class="line">â”‚    â”‚      â”œâ”€ 3.1.2 å®ç°æ­¥éª¤</span><br><span class="line">â”‚    â”‚      â””â”€ 3.1.3 é…ç½®æŒ‡ä»¤</span><br><span class="line">â”‚    â””â”€ 3.2 äº¤æ¢æœºæ‰©å±•ä»¥å¤ªç½‘</span><br><span class="line">â”‚           â”œâ”€ 3.2.1 å®éªŒæ€è·¯</span><br><span class="line">â”‚           â”œâ”€ â€¦â€¦â€¦â€¦</span><br><span class="line">â””â”€ â€¦â€¦â€¦â€¦</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹æ ‡é¢˜æ ·å¼"><a href="#ä¿®æ”¹æ ‡é¢˜æ ·å¼" class="headerlink" title="ä¿®æ”¹æ ‡é¢˜æ ·å¼"></a>ä¿®æ”¹æ ‡é¢˜æ ·å¼</h3><p><strong>Wordé»˜è®¤çš„æ ‡é¢˜æ ·å¼å®Œå…¨ä¸å‡†ç¡®ï¼Œç”¨èµ·æ¥ç›¸å½“ä¸ç¾è§‚ï¼Œå› æ­¤è€ƒè™‘ä¿®æ”¹æ ·å¼ã€‚</strong></p><p>æ ‡é¢˜çš„æ ¼å¼ä¸€èˆ¬ä¸ºï¼š</p><ol><li><p>å­—ä½“åŠ ç²—ï¼Œå¤§å°ä¸ºå°å››</p></li><li><p>ä¸­æ–‡ï¼šå®‹ä½“</p><p>è‹±æ–‡ï¼šTimes New Roman</p></li><li><p>å•å€è¡Œè·</p> <div align="center"> <img src="https://z4a.net/images/2023/07/18/title_format.png" alt="è‡ªå®šä¹‰æ ‡é¢˜çš„æ ·å¼" width="55%"> </div></li></ol><p>ä¿®æ”¹å„ç§æ ‡é¢˜æ ·å¼ï¼Œåç»­åªéœ€è¦å¯¹å†…å®¹ç‚¹å‡»æ ·å¼å³å¯åº”ç”¨æˆåŠŸï¼Œå…å»äº†æ¯æ¬¡éƒ½è¦è®¾ç½®æ®µè½ä¸å­—ä½“å±æ€§çš„éº»çƒ¦ã€‚</p><h3 id="è®¾ç½®æ ‡é¢˜æ ¼å¼çš„ä½œç”¨"><a href="#è®¾ç½®æ ‡é¢˜æ ¼å¼çš„ä½œç”¨" class="headerlink" title="è®¾ç½®æ ‡é¢˜æ ¼å¼çš„ä½œç”¨"></a>è®¾ç½®æ ‡é¢˜æ ¼å¼çš„ä½œç”¨</h3><ol><li><p>èƒ½å¤Ÿè·³è½¬åˆ°å¯¹åº”çš„å†…å®¹</p><p>æŒ‰ä½<code>Ctrl + F</code>å¯ä»¥åˆ©ç”¨æ ‡é¢˜å®ç°å¿«é€Ÿè·³è½¬ã€‚</p><div align="center">    <img src="https://z4a.net/images/2023/07/18/search_title.png" alt="æ ‡é¢˜å±•ç¤º" width="35%"></div></li><li><p>å¯ä»¥ç”Ÿæˆè‡ªåŠ¨ç›®å½•</p>  <div align="center">     <img src="https://z4a.net/images/2023/07/18/auto_content.png" alt="ç”Ÿæˆç›®å½•" width="67%"> </div></li></ol><h2 id="ç›®å½•é¡µç é—®é¢˜"><a href="#ç›®å½•é¡µç é—®é¢˜" class="headerlink" title="ç›®å½•é¡µç é—®é¢˜"></a>ç›®å½•é¡µç é—®é¢˜</h2><p>å¯¹äºä¸€ä»½å®éªŒæŠ¥å‘Šæ¥è¯´ï¼Œæ­£æ–‡å†…å®¹ä¸€èˆ¬æ˜¯ä»Wordçš„ç¬¬ä¸‰é¡µæ‰å¼€å§‹ï¼Œè¿™æ—¶å€™ä¼šå¯¼è‡´å‡ºç°ç›®å½•çš„ç¬¬ä¸€ä¸ªç´¢å¼•ä¸º3ï¼Œåœ¨æŸäº›åœºåˆå¯èƒ½å°±ä¸ç¬¦è§„èŒƒã€‚</p><div align="center"><img src="https://z4a.net/images/2023/07/18/falut_content.png" alt="ç•¥æ˜¾åˆ«æ‰­çš„èµ·å§‹é¡µç " width="55%"></div><p>è§£å†³æ­¥éª¤ï¼š</p><ol><li><p>æ’å…¥ â€“&gt; é¡µç  â€“&gt;  é€‰ä¸€ä¸ªæ ·å¼ï¼ˆå¯é€‰ï¼‰</p>  <div align="center"> <img src="https://z4a.net/images/2023/07/18/add_page_index.png" alt="æ’å…¥é¡µç " width="75%"> </div></li><li><p>å…‰æ ‡æ”¾åœ¨æ­£æ–‡å¼€å¤´å¤„</p></li><li><p>å¸ƒå±€ â€“&gt; åˆ†éš”ç¬¦ â€“&gt; ä¸‹ä¸€é¡µ</p>  <div align="center"> <img src="https://z4a.net/images/2023/07/18/add_nextpage.png" alt="æ’å…¥åˆ†éš”ç¬¦" width="25%"> </div></li><li><p>ç‚¹å‡»æ­£æ–‡ç¬¬ä¸€é¡µçš„é¡µç ï¼ˆä¸€èˆ¬æ˜¯3ï¼‰ï¼Œåœ¨å±æ€§ä¸­å–æ¶ˆâ€œé“¾æ¥åˆ°å‰ä¸€èŠ‚â€</p></li><li><p>é¡µç  â€“&gt; è®¾ç½®é¡µç æ ¼å¼ â€“&gt; èµ·å§‹é¡µç  â€“&gt; ç¡®å®š</p>  <div align="center"> <img src="https://z4a.net/images/2023/07/18/change_pageindex_setting.png" alt="è®¾ç½®é¡µç æ ¼å¼" width="75%"> </div>  <div align="center"> <img src="https://z4a.net/images/2023/07/18/pageindex_format.png" alt="è®¾å®šèµ·å§‹é¡µç " width="25%"> </div></li><li><p>åˆ é™¤æ­£æ–‡ä»¥å‰çš„é¡µç  â€“&gt; ç‚¹å‡»ç›®å½• â€“&gt; åªæ›´æ–°é¡µç </p>  <div align="center"> <img src="https://z4a.net/images/2023/07/18/updata_content.png" alt="åªæ›´æ–°é¡µç " width="60%"> </div></li></ol><p>å¤„ç†ç»“æœï¼š</p><div align="center"><img src="https://z4a.net/images/2023/07/18/re_content.png" alt="å¤„ç†åèµ·å§‹é¡µç ä¸º1" width="65%"></div>]]></content>
      
      
      <categories>
          
          <category> æ‚&amp;Mess </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Word </tag>
            
            <tag> æ’ç‰ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCV-LBPç‰¹å¾æå–ç®—æ³•</title>
      <link href="/post/ji-qi-shi-jue-lbp-suan-fa/"/>
      <url>/post/ji-qi-shi-jue-lbp-suan-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¼ ç»Ÿæœºå™¨è§†è§‰åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸè™½ç„¶æ¯”ä¸äº†ç¥ç»ç½‘ç»œï¼Œä½†ä¹Ÿæœ‰ä¸€äº›å¯ä½¿ç”¨çš„åœºæ™¯ã€‚æœ€è¿‘åšäº†Kaggleä¸Šçš„<strong>dog-breed-identification</strong>çš„æ¯”èµ›ï¼Œæ„Ÿè§‰ç¥ç»ç½‘ç»œå¤ªå®¹æ˜“è¿‡æ‹Ÿåˆäº†ï¼Œå¯¼è‡´ç»“æœä¸ä¸€å®šå¥½ï¼Œä»…ä»…è¿›è¡Œè°ƒå‚ä¹Ÿå¾ˆéš¾é˜²æ­¢ï¼Œå¯¼è‡´èŠ±çš„æ—¶é—´å¤šï¼Œä½†ç»“æœå¹¶æ²¡æœ‰å˜å¾—æ›´å¥½ã€‚å¯¹äºç®€å•å¹²æ‰°è¾ƒå°çš„æƒ…å†µï¼Œæœºå™¨è§†è§‰è¿˜æ˜¯å æœ‰ä¼˜åŠ¿çš„ã€‚</p><p>ç‰©ä½“ä¸åœºæ™¯è¯†åˆ«ä¸­ï¼Œé€šè¿‡çº¹ç†ç‰¹å¾è¿›è¡Œè¯†åˆ«ä¹Ÿæ˜¯å¾ˆå¸¸ç”¨çš„æ‰‹æ®µï¼Œ<strong>å›¾åƒçš„çº¹ç†æ˜¯æè¿°å›¾åƒä¸­é‡å¤å’Œè§„å¾‹æ€§çš„å±€éƒ¨ç»“æ„ä¿¡æ¯ï¼Œå¦‚å¹³æ»‘åº¦ã€ç²—ç³™åº¦ã€å‘¨æœŸæ€§ç­‰ï¼Œå®ƒå¯ä»¥åæ˜ å›¾åƒå†…ç‰©ä½“è¡¨é¢çš„ç©ºé—´æ’åˆ—å’Œç°åº¦å˜åŒ–</strong>ã€‚é€šè¿‡å¯¹çº¹ç†ç‰¹å¾çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå›¾åƒåˆ†ç±»ã€ç›®æ ‡è¯†åˆ«ã€å›¾åƒåˆ†å‰²ç­‰æ“ä½œã€‚LBPç®—æ³•å°±æ˜¯ä»¥åƒç´ ä¸ºå•ä½çš„åŸºç¡€ï¼Œé€šè¿‡ç°åº¦å€¼ç¼–ç ï¼Œæ¥æå–å›¾åƒçš„çº¹ç†ç‰¹å¾çš„å›¾åƒç‰¹å¾æè¿°ç®—æ³•ã€‚</p><p>æœ¬ç®—æ³•ä½¿ç”¨çš„æµ‹è¯•ç´ æå¦‚ä¸‹ï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/06/19/material.png" alt="material.png" border="0" width=300></div><h2 id="ä¼ ç»ŸLBPç®—æ³•"><a href="#ä¼ ç»ŸLBPç®—æ³•" class="headerlink" title="ä¼ ç»ŸLBPç®—æ³•"></a>ä¼ ç»ŸLBPç®—æ³•</h2><h3 id="ç®—æ³•åŸç†"><a href="#ç®—æ³•åŸç†" class="headerlink" title="ç®—æ³•åŸç†"></a>ç®—æ³•åŸç†</h3><p>åœ¨ä¸€å¹…å›¾åƒä¸­ï¼ŒåŸå§‹çš„LBPç®—å­å®šä¹‰äº†ä¸€ä¸ª3Ã—3çš„æ»‘åŠ¨æ¨¡ç‰ˆï¼Œå¯¹äºä¸€ä¸ªç»™å®šçš„åƒç´ ç‚¹xï¼Œåœ¨æ»‘åŠ¨æ¨¡ç‰ˆçš„èŒƒå›´å†…ï¼ˆå››å‘¨ï¼‰ç›¸é‚»çš„8ä¸ªåƒç´ å°†ä¸xè¿›è¡Œå‡æ³•æ“ä½œï¼Œå¾—åˆ°8ä¸ªä¸åŒçš„ç›¸å¯¹ç°åº¦å€¼ã€‚å…¶ä¸­ï¼Œè‹¥ç›¸å¯¹ç°åº¦å€¼å¤§äºç­‰äºçš„ç°åº¦å€¼ï¼Œåˆ™ç¼–ç ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚ä»å·¦ä¸Šè§’çš„åƒç´ ç‚¹å¼€å§‹æŒ‰ç…§é¡ºæ—¶é’ˆæ‹¼æ¥è¿™äº›æ•°ï¼ˆ0æˆ–1ï¼‰ï¼Œå¦‚æ­¤å¯ä»¥å¾—åˆ°ä¸€ä¸ª8ä½äºŒè¿›åˆ¶æ•°ï¼Œå°†è¿™ä¸ªäºŒè¿›åˆ¶æ•°è½¬åŒ–ä¸º10è¿›åˆ¶æ•°ä½œä¸ºxçš„ç°åº¦å€¼ã€‚æ•´ä¸ªå¤„ç†è¿‡ç¨‹å¯ç”¨ä»¥ä¸‹å…¬å¼è¡¨è¾¾ï¼š</p><div align="center">    <svg xmlns="http://www.w3.org/2000/svg" width="36.09ex" height="6.892ex" viewBox="0 -1720.9 15951.8 3046" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-2-TEX-I-1D43F" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path><path id="MJX-2-TEX-I-1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"></path><path id="MJX-2-TEX-I-1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path id="MJX-2-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-2-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-2-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-2-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-2-TEX-I-1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-2-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-2-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-2-TEX-LO-2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path><path id="MJX-2-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-2-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-2-TEX-N-38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z"></path><path id="MJX-2-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-2-TEX-I-1D43C" d="M43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1Z"></path><path id="MJX-2-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-2-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-2-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D43F"></use></g><g data-mml-node="mi" transform="translate(681, 0)"><use xlink:href="#MJX-2-TEX-I-1D435"></use></g><g data-mml-node="mi" transform="translate(1440, 0)"><use xlink:href="#MJX-2-TEX-I-1D443"></use></g><g data-mml-node="mo" transform="translate(2191, 0)"><use xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="msub" transform="translate(2580, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(572, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D450"></use></g></g></g><g data-mml-node="mo" transform="translate(3508.2, 0)"><use xlink:href="#MJX-2-TEX-N-2C"></use></g><g data-mml-node="msub" transform="translate(3952.8, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D466"></use></g><g data-mml-node="TeXAtom" transform="translate(490, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D450"></use></g></g></g><g data-mml-node="mo" transform="translate(4799, 0)"><use xlink:href="#MJX-2-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(5465.8, 0)"><use xlink:href="#MJX-2-TEX-N-3D"></use></g><g data-mml-node="munderover" transform="translate(6521.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-2-TEX-LO-2211"></use></g><g data-mml-node="TeXAtom" transform="translate(92.3, -1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-2-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(503, 0)"><use xlink:href="#MJX-2-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(1281, 0)"><use xlink:href="#MJX-2-TEX-N-31"></use></g></g><g data-mml-node="TeXAtom" transform="translate(545.2, 1150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-2-TEX-N-38"></use></g></g></g><g data-mml-node="mi" transform="translate(8132.2, 0)"><use xlink:href="#MJX-2-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(8601.2, 0)"><use xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(8990.2, 0)"><use xlink:href="#MJX-2-TEX-I-1D43C"></use></g><g data-mml-node="mo" transform="translate(9494.2, 0)"><use xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(9883.2, 0)"><use xlink:href="#MJX-2-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(10386.2, 0)"><use xlink:href="#MJX-2-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(10997.5, 0)"><use xlink:href="#MJX-2-TEX-N-2212"></use></g><g data-mml-node="mi" transform="translate(11997.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D43C"></use></g><g data-mml-node="mo" transform="translate(12501.7, 0)"><use xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(12890.7, 0)"><use xlink:href="#MJX-2-TEX-I-1D450"></use></g><g data-mml-node="mo" transform="translate(13323.7, 0)"><use xlink:href="#MJX-2-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(13712.7, 0)"><use xlink:href="#MJX-2-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(14323.9, 0)"><use xlink:href="#MJX-2-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(15046.1, 0)"><g data-mml-node="mn"><use xlink:href="#MJX-2-TEX-N-32"></use></g><g data-mml-node="mi" transform="translate(500, 413) scale(0.707)"><use xlink:href="#MJX-2-TEX-I-1D45D"></use></g></g></g></g></svg></div><p>å…¶ä¸­</p><ul><li><p>I(c) - ä¸ºä¸­å¿ƒåæ ‡çš„ç°åº¦å€¼</p></li><li><p>I(p) - å‘¨å›´å…«ä¸ªåƒç´ ç‚¹çš„ç°åº¦å€¼</p></li><li><p>s(x)å‡½æ•°è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p></li></ul><div align="center"><svg xmlns="http://www.w3.org/2000/svg" width="22.092ex" height="5.43ex" viewBox="0 -1450 9764.6 2400" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-170-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-170-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-170-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-170-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-170-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-170-TEX-S3-7B" d="M618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943Z"></path><path id="MJX-170-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-170-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-170-TEX-N-2265" d="M83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path><path id="MJX-170-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-170-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-170-TEX-I-1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path><path id="MJX-170-TEX-I-210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path><path id="MJX-170-TEX-I-1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path><path id="MJX-170-TEX-I-1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-170-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-170-TEX-I-1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-170-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(469, 0)"><use xlink:href="#MJX-170-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(858, 0)"><use xlink:href="#MJX-170-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1430, 0)"><use xlink:href="#MJX-170-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2096.8, 0)"><use xlink:href="#MJX-170-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3152.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-170-TEX-S3-7B"></use></g><g data-mml-node="mtable" transform="translate(750, 0)"><g data-mml-node="mtr" transform="translate(0, 700)"><g data-mml-node="mtd"><g data-mml-node="mn"><use xlink:href="#MJX-170-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-170-TEX-N-2C"></use></g></g><g data-mml-node="mtd" transform="translate(2617.2, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-170-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(849.8, 0)"><use xlink:href="#MJX-170-TEX-N-2265"></use></g><g data-mml-node="mn" transform="translate(1905.6, 0)"><use xlink:href="#MJX-170-TEX-N-30"></use></g></g></g><g data-mml-node="mtr" transform="translate(0, -700)"><g data-mml-node="mtd"><g data-mml-node="mn"><use xlink:href="#MJX-170-TEX-N-30"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-170-TEX-N-2C"></use></g></g><g data-mml-node="mtd" transform="translate(1778, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-170-TEX-I-1D45C"></use></g><g data-mml-node="mi" transform="translate(485, 0)"><use xlink:href="#MJX-170-TEX-I-1D461"></use></g><g data-mml-node="mi" transform="translate(846, 0)"><use xlink:href="#MJX-170-TEX-I-210E"></use></g><g data-mml-node="mi" transform="translate(1422, 0)"><use xlink:href="#MJX-170-TEX-I-1D452"></use></g><g data-mml-node="mi" transform="translate(1888, 0)"><use xlink:href="#MJX-170-TEX-I-1D45F"></use></g><g data-mml-node="mi" transform="translate(2339, 0)"><use xlink:href="#MJX-170-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(2808, 0)"><use xlink:href="#MJX-170-TEX-I-1D456"></use></g><g data-mml-node="mi" transform="translate(3153, 0)"><use xlink:href="#MJX-170-TEX-I-1D467"></use></g><g data-mml-node="mi" transform="translate(3618, 0)"><use xlink:href="#MJX-170-TEX-I-1D452"></use></g></g></g></g><g data-mml-node="mo" transform="translate(6612, 0)"></g></g></g></g></svg>    </div><p>æ•´ä¸ªè¿‡ç¨‹ç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/06/19/lbp1.jpg" alt="lbp1.jpg" border="0" width=500></div><p>æŒ‰ç…§é¡ºæ—¶é’ˆçš„æ–¹å‘ï¼Œå¯ä»¥å°†ä¸Šå›¾ä¸­ç›¸å¯¹ç°åº¦å€¼æ‹¼æ¥ä¸ºâ€01111100â€ï¼Œè½¬åŒ–ä¸º10è¿›åˆ¶ä¸ºâ€124â€ï¼Œå°†â€124â€ä½œä¸ºä¸Šå›¾ä¸­ä¸­é—´åƒç´ çš„å€¼ï¼Œå½“ç„¶å¦‚æœç®—å‡ºçš„ç°åº¦å€¼è¶…è¿‡äº†å›¾åƒç°åº¦å€¼èŒƒå›´ï¼Œè¿˜éœ€è¦è¿›è¡Œå½’ä¸€åŒ–ï¼Œå°†ç°åº¦å€¼æ”¾å…¥[0,255]çš„èŒƒå›´ä¸­ã€‚</p><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>æŒ‰ç…§ç®—æ³•åŸç†ï¼Œå¯ä»¥å°†å®ç°æ–¹æ³•åˆ†å‰²ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>åˆå§‹åŒ–å›¾åƒï¼šå›¾åƒç°åº¦åŒ–ã€è¾¹ç¼˜å¡«å……ã€è½¬åŒ–æ•°æ®ç±»å‹ï¼ˆint8çš„æ•°æ®ç±»å‹æ”¯æŒèŒƒå›´å¤ªå°ï¼‰ã€‚</li><li>å®šä¹‰LBPç®—æ³•ï¼šéå†å›¾åƒæ‰€æœ‰åƒç´ ç‚¹ï¼ŒæŒ‰ç…§LBP(x<del>c</del>+y<del>c</del>)å…¬å¼è¿›è¡Œè®¡ç®—ã€‚</li><li>å®šä¹‰s(x)ã€‚</li><li>ç¼–ç å¹¶è½¬ç ï¼šæŒ‰ç…§é¡ºæ—¶é’ˆå¾—åˆ°8ä¸ºäºŒè¿›åˆ¶æ•°å¹¶å°†å®ƒè½¬åŒ–ä¸º10è¿›åˆ¶ã€‚</li><li>å±•ç¤ºå›¾åƒï¼šæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨åƒç´ ç›´æ–¹å›¾å°†å¤„ç†ç»“æœå±•ç¤ºå‡ºæ¥ã€‚</li></ol><p>å¯¼å…¥éœ€è¦ä½¿ç”¨åˆ°çš„Pythonåº“ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><h4 id="åˆå§‹åŒ–å›¾åƒ"><a href="#åˆå§‹åŒ–å›¾åƒ" class="headerlink" title="åˆå§‹åŒ–å›¾åƒ"></a>åˆå§‹åŒ–å›¾åƒ</h4><ol><li>å¯¹å›¾åƒè¿›è¡Œç°åº¦åŒ–å¤„ç†ã€‚<code>cv2.imread(image, 0)</code>æˆ–<code>cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</code></li><li>ä¸ºäº†è®©å›¾åƒçš„è¾¹ç¼˜åƒç´ ä¹Ÿèƒ½è¿›è¡ŒLBPç¼–ç ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å›¾åƒå››å‘¨æ·»åŠ 1åƒç´ çš„è¾¹ç¼˜å¡«å……ã€‚OpenCVä¸­å·²ç»æä¾›äº†ç›¸åº”çš„æ–¹æ³•,<code>cv2.copyMakeBorder(image, 1, 1, 1, 1, borderType=cv2.BORDER_REPLICATE)</code>,å…¶ä¸­<code>borderType</code>ä¸ºå¡«å……çš„æ–¹æ³•ï¼Œ<code>cv2.BORDER_REPLICATE</code>æŒ‡çš„æ˜¯ä»¥è¾¹ç¼˜åƒç´ è¿›è¡Œå¡«å……ã€‚</li><li>è½¬åŒ–å›¾åƒä¸­åƒç´ å€¼çš„ç±»å‹ä¸º<code>float</code>æˆ–è€…<code>int32</code>ã€‚</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">init_image</span>(<span class="params">input_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åˆå§‹åŒ–å›¾åƒ</span></span><br><span class="line"><span class="string">    :param input_path: å›¾åƒè·¯å¾„</span></span><br><span class="line"><span class="string">    :return: å¤„ç†åçš„å›¾åƒ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ä»¥å•é€šé“çš„å½¢å¼è¯»å–å›¾åƒ</span></span><br><span class="line">    image = cv2.imread(input_path, <span class="number">0</span>)</span><br><span class="line">    <span class="comment"># image = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span></span><br><span class="line">    <span class="comment"># ç»™å›¾åƒå¡«å……è¾¹ç¼˜åƒç´ </span></span><br><span class="line">    image = cv2.copyMakeBorder(image, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, borderType=cv2.BORDER_REPLICATE)</span><br><span class="line">    h, w = image.shape[<span class="number">0</span>], image.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å°†ç°åº¦å€¼è½¬åŒ–ä¸ºint32ï¼Œæ–¹ä¾¿åç»­è®¡ç®—</span></span><br><span class="line">    image = image.astype(np.int32)</span><br><span class="line">    image_name = input_path.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;å›¾åƒåï¼š<span class="subst">&#123;image_name&#125;</span>ï¼Œé«˜ï¼š<span class="subst">&#123;h&#125;</span>, å®½ï¼š<span class="subst">&#123;w&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> image</span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰LBPç®—æ³•å¹¶è½¬ç "><a href="#å®šä¹‰LBPç®—æ³•å¹¶è½¬ç " class="headerlink" title="å®šä¹‰LBPç®—æ³•å¹¶è½¬ç "></a>å®šä¹‰LBPç®—æ³•å¹¶è½¬ç </h4><p>æˆ‘ä»¬éœ€è¦å¾ªç¯å›¾åƒä¸­æ‰€æœ‰çš„åƒç´ ç‚¹ï¼Œè®¡ç®—éƒ¨åˆ†æŒ‰ç…§LBP(x<del>c</del>+y<del>c</del>)å…¬å¼ç¼–å†™å³å¯ã€‚å¾—åˆ°å‘¨å›´çš„8ä¸ªLBPç¼–ç å€¼åï¼Œæˆ‘ä½¿ç”¨<code>list</code>å­˜å‚¨ï¼Œåç»­æ‹¼æ¥ä¸º<code>string</code>ç±»å‹ï¼Œè½¬åŒ–10è¿›åˆ¶æ•°å¯ä»¥ä½¿ç”¨<code>int(str, 2)</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">LBP</span>(<span class="params">image</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    LBPç®—æ³•</span></span><br><span class="line"><span class="string">    :param image: å¾…å¤„ç†å›¾åƒ</span></span><br><span class="line"><span class="string">    :param h: å›¾åƒçš„</span></span><br><span class="line"><span class="string">    :param w:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    h, w = image.shape[<span class="number">0</span>], image.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å¤„ç†åçš„å›¾åƒ</span></span><br><span class="line">    temp = np.zeros((h - <span class="number">1</span>, w - <span class="number">1</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---å›¾åƒå¤„ç†ä¸­---&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, h - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, w - <span class="number">1</span>):</span><br><span class="line">            calculation_list = <span class="built_in">list</span>()</span><br><span class="line">            calculation_list.append(image[i - <span class="number">1</span>][j - <span class="number">1</span>] - image[i][j])</span><br><span class="line">            calculation_list.append(image[i][j - <span class="number">1</span>] - image[i][j])</span><br><span class="line">            calculation_list.append(image[i + <span class="number">1</span>][j - <span class="number">1</span>] - image[i][j])</span><br><span class="line"></span><br><span class="line">            calculation_list.append(image[i + <span class="number">1</span>][j] - image[i][j])</span><br><span class="line">            calculation_list.append(image[i + <span class="number">1</span>][j + <span class="number">1</span>] - image[i][j])</span><br><span class="line"></span><br><span class="line">            calculation_list.append(image[i][j + <span class="number">1</span>] - image[i][j])</span><br><span class="line">            calculation_list.append(image[i - <span class="number">1</span>][j + <span class="number">1</span>] - image[i][j])</span><br><span class="line">            calculation_list.append(image[i - <span class="number">1</span>][j] - image[i][j])</span><br><span class="line">            <span class="comment"># å°†æ‰€å¾—å€¼è½¬åŒ–ä¸º0ï¼Œ1</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>):</span><br><span class="line">                calculation_list[k] = transform(calculation_list[k])</span><br><span class="line">            <span class="comment"># è·å¾—äºŒè¿›åˆ¶ç </span></span><br><span class="line">            result_str = <span class="string">&quot;&quot;</span>.join([<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> calculation_list])</span><br><span class="line">            <span class="comment"># è½¬åŒ–ä¸ºåè¿›åˆ¶å¹¶å­˜å…¥å›¾åƒ</span></span><br><span class="line">            temp[i - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">int</span>(result_str, <span class="number">2</span>)</span><br><span class="line">        <span class="comment"># print(result_str)</span></span><br><span class="line">    <span class="comment"># å°†åƒç´ å€¼å½’ä¸€åŒ–</span></span><br><span class="line">    temp = np.clip(temp, <span class="number">0</span>, <span class="number">255</span>).astype(<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    <span class="comment"># è½¬åŒ–é€šé“ï¼Œæ–¹ä¾¿åç»­å±•ç¤º</span></span><br><span class="line">    temp = cv2.cvtColor(temp, cv2.COLOR_BGR2RGB)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---å›¾åƒå¤„ç†å®Œæˆ---&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> temp</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>transform</code>å‡½æ•°å³ä¸ºå…¬å¼ä¸­çš„s(x)ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">transform</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><h4 id="å±•ç¤ºå¤„ç†ç»“æœ"><a href="#å±•ç¤ºå¤„ç†ç»“æœ" class="headerlink" title="å±•ç¤ºå¤„ç†ç»“æœ"></a>å±•ç¤ºå¤„ç†ç»“æœ</h4><p>å¯¹äºè¿™ç§éœ€è¦è¿›è¡Œå¯¹æ¯”çš„ç®—æ³•ï¼Œä¸€èˆ¬éƒ½ä¼šé‡‡ç”¨<code>Matplotlib</code>è¿›è¡Œå›¾åƒçš„å±•ç¤ºï¼Œè¿™æ ·ä¼šæ›´åˆ©äºç»“æœçš„å¯¹æ¯”ã€‚ä½¿ç”¨<code>Matplotlib</code>å±•ç¤ºè¦æ³¨æ„é¢œè‰²æ ¼å¼çš„ä¸åŒï¼Œéœ€è¦å°†å¸¸è§„çš„<code>BGR</code>è½¬åŒ–ä¸º<code>RGB</code>æ ¼å¼ï¼Œè½¬åŒ–æ–¹æ³•ä¸ºï¼š<code>cv2.cvtColor(temp, cv2.COLOR_BGR2RGB)</code>ã€‚</p><p>å¯¹äºåƒç´ ç›´æ–¹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>plt.hist(image,nut)</code>è¿›è¡Œç»˜åˆ¶ï¼Œå…¶ä¸­ï¼š</p><ul><li>image: éœ€è¦ç»˜åˆ¶çš„å€¼ï¼Œè¿™è¾¹å¯ä»¥ç›´æ¥ä½¿ç”¨<code>image.ravel()</code>å°†<code>h*w</code>çš„çŸ©é˜µè½¬åŒ–ä¸º<code>1*ï¼ˆh*wï¼‰</code>çš„æ ¼å¼ã€‚</li><li>nut: åˆ†ç»„é—´éš”</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show_result</span>(<span class="params">image_list, title_list</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å±•ç¤ºå¤„ç†åçš„å›¾åƒåŠå…¶åƒç´ ç›´æ–¹å›¾</span></span><br><span class="line"><span class="string">    :param image_list: å›¾åƒåˆ—è¡¨</span></span><br><span class="line"><span class="string">    :param title_list: æ ‡é¢˜åˆ—è¡¨</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># è®¾å®šå›¾çš„å¤§å°</span></span><br><span class="line">    plt.figure(figsize=(<span class="number">8</span>, <span class="number">5</span>), dpi=<span class="number">100</span>)</span><br><span class="line">    <span class="comment"># ç»˜å›¾</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        plt.subplot(<span class="number">2</span>, <span class="number">2</span>, i + <span class="number">1</span>)</span><br><span class="line">        plt.title(title_list[i])</span><br><span class="line">        <span class="comment"># å°†ç›´æ–¹å›¾æ”¾åœ¨ç¬¬äºŒåˆ—</span></span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            plt.xticks(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">257</span>, <span class="number">16</span>), <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">17</span>))</span><br><span class="line">            plt.hist(image_list[<span class="built_in">int</span>(i / <span class="number">2</span>)].ravel(), <span class="number">16</span>)</span><br><span class="line">            plt.xlabel(<span class="string">&quot;Dimension&quot;</span>)</span><br><span class="line">            plt.ylabel(<span class="string">&quot;Value&quot;</span>)</span><br><span class="line">        <span class="comment"># å¤„ç†å›¾æ”¾åœ¨ç¬¬ä¸€åˆ—</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">            plt.imshow(image_list[<span class="built_in">int</span>(i / <span class="number">2</span>)])</span><br><span class="line">    <span class="comment"># ç´§å‡‘æ’å¸ƒ</span></span><br><span class="line">    plt.tight_layout()</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ä»£ç ä¸ç»“æœå±•ç¤º"><a href="#æµ‹è¯•ä»£ç ä¸ç»“æœå±•ç¤º" class="headerlink" title="æµ‹è¯•ä»£ç ä¸ç»“æœå±•ç¤º"></a>æµ‹è¯•ä»£ç ä¸ç»“æœå±•ç¤º</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    input_path1 = <span class="string">&quot;input/lane1.jpg&quot;</span></span><br><span class="line">    image = init_image(input_path1)</span><br><span class="line">    result1 = LBP(image)</span><br><span class="line"></span><br><span class="line">    input_path2 = <span class="string">&quot;input/lane2.jpg&quot;</span></span><br><span class="line">    image = init_image(input_path2)</span><br><span class="line">    result2 = LBP(image)</span><br><span class="line"></span><br><span class="line">    image_list = [result1, result2]</span><br><span class="line">    title_list = [<span class="string">&quot;lane1_LBP&quot;</span>, <span class="string">&quot;lane1_LBP_hist&quot;</span>, <span class="string">&quot;lane2_LBP&quot;</span>, <span class="string">&quot;lane2_LBP_hist&quot;</span>]</span><br><span class="line">    show_result(image_list, title_list)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><div align="center"><img src="https://z4a.net/images/2023/06/19/lbp_run.png" alt="lbp_run.png" border="0" width=300></div><div align="center"><img src="https://z4a.net/images/2023/06/19/lbp_result.png" alt="lbp_result.png" border="0" width=600></div><p>å¤„ç†çš„é€Ÿåº¦è¿˜æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œå¯ä»¥çœ‹åˆ°é™¤äº†14-15è¿™ä¸ªåˆ†æ®µå€¼æœ‰äº›ä¸åŒï¼Œå…¶ä½™å„æ•°å€¼æ’å¸ƒçš„å€¼å‡ ä¹å®Œå…¨ä¸€è‡´ã€‚è¿™è¯´æ˜è¿™ä¸¤å¼ ç…§ç‰‡æ‰€å±•ç¤ºçš„åœºæ™¯éå¸¸ç›¸ä¼¼ã€‚</p><h2 id="Circular-LBPç®—æ³•"><a href="#Circular-LBPç®—æ³•" class="headerlink" title="Circular LBPç®—æ³•"></a>Circular LBPç®—æ³•</h2><h3 id="ç®—æ³•åŸç†-1"><a href="#ç®—æ³•åŸç†-1" class="headerlink" title="ç®—æ³•åŸç†"></a>ç®—æ³•åŸç†</h3><p>æˆ‘ä»¬å·²ç»çŸ¥é“äº†ä¼ ç»ŸLBPç®—æ³•çš„åŸºæœ¬åŸç†ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å°†å›¾åƒæ—‹è½¬ï¼Œç¼–ç åçš„å€¼æ˜¯å¦ä¸€æ ·å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œå…·ä½“åŸå› å¦‚ä¸‹å›¾ï¼š</p><div align="center"><img src="https://z4a.net/images/2023/06/19/lbp2.png" alt="lbp2.png" border="0" width=600></div><p>å¯ä»¥çœ‹åˆ°ç°åœ¨æ‹¼æ¥åçš„å­—ç¬¦ä¸²ä¸ºâ€00011111â€,è½¬åŒ–ä¸º10è¿›åˆ¶ä¸ºâ€31â€,è€Œä¸æ˜¯åŸæ¥çš„â€124â€ã€‚å›¾åƒåªæ˜¯æ—‹è½¬äº†90Â°ï¼Œä½†å›¾åƒçš„å®é™…å†…å®¹å¹¶æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œæ‰€ä»¥ä¼ ç»Ÿçš„LBPç®—æ³•æ˜¯ä¸å…·å¤‡æ—‹è½¬ä¸å˜å½¢çš„ï¼Œè¿™å¯¹äºè¯†åˆ«æ¥è¯´æ˜¯ç›¸å½“ä¸åˆ©çš„ã€‚<br>è€Œä¸”ç”±äºä¼ ç»ŸLBPé‡‡ç”¨çš„æ˜¯3Ã—3çš„æ¨¡ç‰ˆï¼Œå› æ­¤å¯¹å‘¨å›´åƒç´ çš„ä¾èµ–æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œå¯èƒ½ä¼šå—åˆ°å™ªå£°çš„å¹²æ‰°ã€‚è€Œä¸”åœ¨ä¸€äº›å¤æ‚åœºæ™¯ä¸‹ï¼Œä¹Ÿæ²¡æ³•æ ¹æ®æƒ…å†µè¿›è¡Œå‚æ•°è°ƒæ•´ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œä¼ ç»ŸLBPç®—æ³•è™½ç„¶æœ‰ç€ç°åº¦ä¸å˜æ€§ï¼Œä½†ç”±äºLBPå€¼æ˜¯æŒ‰ç…§é¡ºæ—¶é’ˆè¿›è¡Œç¼–ç ï¼Œå› æ­¤å¹¶ä¸å…·æœ‰æ—‹è½¬ä¸å˜æ€§ï¼Œå‘¨å›´å…«ä¸ªåƒç´ ä¹Ÿä¸èƒ½æ»¡è¶³ä¸åŒå°ºå¯¸å’Œé¢‘ç‡çº¹ç†çš„éœ€è¦ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œåç»­çš„å­¦è€…ä»¬ä¹Ÿæå‡ºäº†å¾ˆå¤šçš„æ–¹æ³•ï¼Œæˆ‘ä»¬åªå±•ç¤ºè¾ƒä¸ºç®€å•çš„Circular LBPç®—æ³•ã€‚</p><p>ç›¸æ¯”äºä¼ ç»ŸLBPç®—æ³•ï¼ŒCircular LBPæ˜¯ä»¥Rä¸ºåŠå¾„çš„åœ†ä½œä¸ºå–ç‚¹èŒƒå›´ï¼Œåœ¨åœ†å½¢åŒºåŸŸå†…é€‰æ‹©Pä¸ªåƒç´ ç‚¹æ›¿ä»£ä¸­å¿ƒåƒç´ ç‚¹å‘¨å›´çš„å…«ä¸ªåƒç´ ç‚¹ï¼Œå…¶ä¸­ç¬¬iä¸ªåƒç´ ç‚¹çš„åæ ‡è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><div align="center">    <svg xmlns="http://www.w3.org/2000/svg" width="21.617ex" height="4.778ex" viewBox="0 -1426 9554.9 2112" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-180-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-180-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-180-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-180-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-180-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-180-TEX-I-1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path><path id="MJX-180-TEX-I-1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z"></path><path id="MJX-180-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-180-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-180-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-180-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-180-TEX-I-1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path id="MJX-180-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-180-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(572, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-180-TEX-I-1D45D"></use></g></g></g><g data-mml-node="mo" transform="translate(1255.5, 0)"><use xlink:href="#MJX-180-TEX-N-3D"></use></g><g data-mml-node="msub" transform="translate(2311.2, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-180-TEX-I-1D465"></use></g><g data-mml-node="TeXAtom" transform="translate(572, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-180-TEX-I-1D450"></use></g></g></g><g data-mml-node="mo" transform="translate(3461.6, 0)"><use xlink:href="#MJX-180-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(4461.9, 0)"><use xlink:href="#MJX-180-TEX-I-1D445"></use></g><g data-mml-node="mi" transform="translate(5220.9, 0)"><use xlink:href="#MJX-180-TEX-I-1D450"></use></g><g data-mml-node="mi" transform="translate(5653.9, 0)"><use xlink:href="#MJX-180-TEX-I-1D45C"></use></g><g data-mml-node="mi" transform="translate(6138.9, 0)"><use xlink:href="#MJX-180-TEX-I-1D460"></use></g><g data-mml-node="mo" transform="translate(6607.9, 0)"><use xlink:href="#MJX-180-TEX-N-28"></use></g><g data-mml-node="mfrac" transform="translate(6996.9, 0)"><g data-mml-node="mrow" transform="translate(220, 676)"><g data-mml-node="mn"><use xlink:href="#MJX-180-TEX-N-32"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(500, 0)"><g data-mml-node="mo"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">Ï€</text></g></g><g data-mml-node="mi" transform="translate(1384, 0)"><use xlink:href="#MJX-180-TEX-I-1D456"></use></g></g><g data-mml-node="mi" transform="translate(709, -686)"><use xlink:href="#MJX-180-TEX-I-1D443"></use></g><rect width="1929" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(9165.9, 0)"><use xlink:href="#MJX-180-TEX-N-29"></use></g></g></g></svg></div><div align="center">  <svg xmlns="http://www.w3.org/2000/svg" width="21.307ex" height="4.778ex" viewBox="0 -1426 9417.9 2112" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-182-TEX-I-1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-182-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-182-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-182-TEX-I-1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path id="MJX-182-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-182-TEX-I-1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path><path id="MJX-182-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-182-TEX-I-1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path><path id="MJX-182-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-182-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-182-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-182-TEX-I-1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"></path><path id="MJX-182-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-182-TEX-I-1D466"></use></g><g data-mml-node="TeXAtom" transform="translate(490, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-182-TEX-I-1D45D"></use></g></g></g><g data-mml-node="mo" transform="translate(1173.5, 0)"><use xlink:href="#MJX-182-TEX-N-3D"></use></g><g data-mml-node="msub" transform="translate(2229.2, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-182-TEX-I-1D466"></use></g><g data-mml-node="TeXAtom" transform="translate(490, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><use xlink:href="#MJX-182-TEX-I-1D450"></use></g></g></g><g data-mml-node="mo" transform="translate(3297.6, 0)"><use xlink:href="#MJX-182-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(4297.9, 0)"><use xlink:href="#MJX-182-TEX-I-1D445"></use></g><g data-mml-node="mi" transform="translate(5056.9, 0)"><use xlink:href="#MJX-182-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(5525.9, 0)"><use xlink:href="#MJX-182-TEX-I-1D456"></use></g><g data-mml-node="mi" transform="translate(5870.9, 0)"><use xlink:href="#MJX-182-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(6470.9, 0)"><use xlink:href="#MJX-182-TEX-N-28"></use></g><g data-mml-node="mfrac" transform="translate(6859.9, 0)"><g data-mml-node="mrow" transform="translate(220, 676)"><g data-mml-node="mn"><use xlink:href="#MJX-182-TEX-N-32"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(500, 0)"><g data-mml-node="mo"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">Ï€</text></g></g><g data-mml-node="mi" transform="translate(1384, 0)"><use xlink:href="#MJX-182-TEX-I-1D456"></use></g></g><g data-mml-node="mi" transform="translate(709, -686)"><use xlink:href="#MJX-182-TEX-I-1D443"></use></g><rect width="1929" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(9028.9, 0)"><use xlink:href="#MJX-182-TEX-N-29"></use></g></g></g></svg>  </div><p>å…¶ä¸­</p><ul><li><p>(x<del>c</del>,y<del>c</del>) - ä¸­å¿ƒç‚¹åæ ‡</p></li><li><p>R - åœ†å½¢åŒºåŸŸåŠå¾„</p></li><li><p>P - é€‰å–ç‚¹çš„æ€»ä¸ªæ•°ã€‚</p></li></ul><p>å¦‚ä½•å–å€¼çš„ç¤ºæ„å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><div align="center"><img src="https://z4a.net/images/2023/06/19/circle_P.png" alt="circle_P.png" border="0" width=600></div><p>å¯¹äºè®¡ç®—åç»“æœä¸ä¸ºæ•´æ•°çš„åæ ‡å€¼ï¼Œåœ¨å›¾åƒä¸­æ˜¯æ— æ³•æ‰¾åˆ°çš„ï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨åŒçº¿æ€§æ’å€¼çš„è®¡ç®—å€¼ä½œä¸ºè¯¥åæ ‡ç‚¹çš„åƒç´ å€¼ã€‚</p><p>æœ€åï¼Œä¸ºäº†ä¿è¯å›¾åƒçš„æ—‹è½¬ä¸å˜æ€§ï¼Œè¿˜éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š<br>å°†æ‰€å¾—äºŒè¿›åˆ¶å­—ç¬¦ä¸²æŒ‰ç…§é¡ºæ—¶é’ˆæ—‹è½¬é¡ºåºä¸æ–­æ›´æ¢èµ·å§‹ç‚¹ï¼Œé€‰å–å…¶ä¸­è½¬åŒ–ä¸º10è¿›åˆ¶çš„æœ€å°å€¼ä½œä¸ºè¯¥ç‚¹çš„LBPå€¼ï¼Œç¤ºæ„å›¾å¦‚ä¸‹æ‰€ç¤ºã€‚</p><div align="center"><img src="https://z4a.net/images/2023/06/19/circle_process.png" alt="circle_process.png" border="0" width=500></div><p>Circular LBPç®—æ³•é€šè¿‡åœ†å½¢é‚»åŸŸã€æ’å€¼å’Œæ—‹è½¬ä¸å˜æ€§çš„å¢å¼ºï¼Œä½¿å¾—ç›¸ä¼¼çº¹ç†åŒºåŸŸçš„ç¼–ç æ›´åŠ ä¸€è‡´ã€‚è¿™ç§ä¸€è‡´æ€§æœ‰åŠ©äºæˆ‘ä»¬ä»å›¾åƒä¸­æå–å‡ºæ›´ç¨³å®šã€æ›´å‡†ç¡®çš„çº¹ç†ç‰¹å¾ã€‚</p><h3 id="ä»£ç å®ç°-1"><a href="#ä»£ç å®ç°-1" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>åœ¨äº†è§£äº†åŸç†ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„å®ç°æ­¥éª¤ï¼š</p><ol><li>å›¾åƒåˆå§‹åŒ–å¤„ç†ï¼šç°åº¦åŒ–ã€è¾¹ç¼˜å¡«å……ã€è½¬åŒ–æ•°æ®ç±»å‹</li><li>å®šä¹‰åŒçº¿æ€§æ’å€¼ï¼šå¯¹äºè®¡ç®—å‡ºéæ•´æ•°çš„åæ ‡ï¼Œå¯ä»¥é‡‡ç”¨åŒçº¿æ€§æ’å€¼å¾—åˆ°è¯¥åæ ‡ç‚¹çš„åƒç´ å€¼</li><li>åœ¨2è¿›åˆ¶å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°è½¬ç å10è¿›åˆ¶çš„æœ€å°å€¼</li><li>å®šä¹‰Circlar LBPçš„è®¡ç®—ï¼šæŒ‰ç…§å…¬å¼è¿›è¡Œï¼Œæœ‰ä¸€äº›ç»†èŠ‚éœ€è¦æ³¨æ„</li><li>ç»“æœå±•ç¤ºä¸åˆ†æï¼šç›¸æ¯”ä¼ ç»ŸLBPæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Œæ€§èƒ½å¦‚ä½•</li></ol><h4 id="åˆå§‹åŒ–å¤„ç†"><a href="#åˆå§‹åŒ–å¤„ç†" class="headerlink" title="åˆå§‹åŒ–å¤„ç†"></a>åˆå§‹åŒ–å¤„ç†</h4><p>å› ä¸ºä½¿ç”¨çš„æ˜¯ä»¥Rä¸ºåœ†å¿ƒçš„åœ†å½¢èŒƒå›´ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è¿›è¡Œè¾¹ç¼˜å¡«å……æ—¶ï¼Œéœ€è¦æŒ‰ç…§Rçš„å¤§å°è¿›è¡Œå¡«å……ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">init_image</span>(<span class="params">input_path, R</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åˆå§‹åŒ–å›¾åƒ</span></span><br><span class="line"><span class="string">    :param input_path: å›¾åƒè·¯å¾„</span></span><br><span class="line"><span class="string">    :param R:èŒƒå›´åœ†çš„åŠå¾„</span></span><br><span class="line"><span class="string">    :return:å¤„ç†åçš„å›¾åƒ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># å•é€šé“è¯»å–</span></span><br><span class="line">    image = cv2.imread(input_path, <span class="number">0</span>)</span><br><span class="line">    h, w = image.shape[<span class="number">0</span>], image.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å››å‘¨æ·»åŠ Rçš„è¾¹ç¼˜åƒç´ </span></span><br><span class="line">    image = cv2.copyMakeBorder(image, R, R, R, R, borderType=cv2.BORDER_REPLICATE)</span><br><span class="line">    <span class="comment"># è½¬åŒ–æ•°æ®ç±»å‹ä¸ºint32ï¼Œæ–¹ä¾¿åç»­è®¡ç®—</span></span><br><span class="line">    image = image.astype(np.int32)</span><br><span class="line">    image_name = input_path.split(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;å›¾åƒåï¼š<span class="subst">&#123;image_name&#125;</span>ï¼Œé«˜ï¼š<span class="subst">&#123;h&#125;</span>, å®½ï¼š<span class="subst">&#123;w&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> image</span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰åŒçº¿æ€§æ’å€¼"><a href="#å®šä¹‰åŒçº¿æ€§æ’å€¼" class="headerlink" title="å®šä¹‰åŒçº¿æ€§æ’å€¼"></a>å®šä¹‰åŒçº¿æ€§æ’å€¼</h4><p>åœ¨è®¡ç®—åæ ‡ç‚¹æ—¶ï¼Œç”±äºåŒ…æ‹¬ä¸‰è§’å‡½æ•°è®¡ç®—ï¼Œå› æ­¤å¾ˆå®¹æ˜“å¾—å‡ºéæ•´æ•°å€¼ã€‚å½“è®¡ç®—å‡ºçš„åƒç´ ç‚¹åæ ‡æ— æ³•åœ¨å›¾åƒä¸­æ‰¾åˆ°æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨åŒçº¿æ€§æ’å€¼çš„æ–¹æ³•è®¡ç®—å‡ºè¯¥ç‚¹ç°åº¦å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">bilinear_interpolation</span>(<span class="params">xp, yp, image</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŒçº¿æ€§æ’å€¼</span></span><br><span class="line"><span class="string">    :param xp: xåæ ‡</span></span><br><span class="line"><span class="string">    :param yp: yåæ ‡</span></span><br><span class="line"><span class="string">    :param image: è¾“å…¥çš„å›¾åƒ</span></span><br><span class="line"><span class="string">    :return: è®¡ç®—åæ‰€å¾—ï¼ˆxï¼Œyï¼‰çš„ç°åº¦å€¼</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    h, w = image.shape[<span class="number">0</span>], image.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># å‘ä¸‹å–æ•´</span></span><br><span class="line">    x1, y1 = <span class="built_in">int</span>(xp), <span class="built_in">int</span>(yp)</span><br><span class="line">    <span class="comment"># è·å¾—å››ç‚¹çš„åæ ‡</span></span><br><span class="line">    <span class="keyword">if</span> x1 &gt; w - <span class="number">1</span>:</span><br><span class="line">        x2 = x1 - <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x2 = x1 + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> y1 &gt; h - <span class="number">1</span>:</span><br><span class="line">        y2 = y1 - <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        y2 = y1 + <span class="number">1</span></span><br><span class="line">    f_x1y1 = image[y1, x1]</span><br><span class="line">    f_x1y2 = image[y2, x1]</span><br><span class="line">    f_x2y1 = image[y1, x2]</span><br><span class="line">    f_x2y2 = image[y2, x2]</span><br><span class="line">    <span class="comment"># è®¡ç®—æ’å€¼</span></span><br><span class="line">    pixel_value = f_x1y1 * (x2 - xp) * (y2 - yp) + f_x2y1 * (xp - x1) * (y2 - yp) + \</span><br><span class="line">                  f_x1y2 * (x2 - xp) * (yp - y1) + f_x2y2 * (xp - x1) * (yp - y1)</span><br><span class="line">    <span class="keyword">return</span> pixel_value</span><br></pre></td></tr></table></figure><h4 id="æ‰¾åˆ°æœ€å°çš„è½¬ç å€¼"><a href="#æ‰¾åˆ°æœ€å°çš„è½¬ç å€¼" class="headerlink" title="æ‰¾åˆ°æœ€å°çš„è½¬ç å€¼"></a>æ‰¾åˆ°æœ€å°çš„è½¬ç å€¼</h4><p>æŒ‰ç…§é¡ºæ—¶é’ˆæ–¹å‘ï¼Œè½¬åŒ–èµ·ç‚¹çš„è¿‡ç¨‹ï¼Œæˆ‘é‡‡ç”¨çš„æ˜¯ä¸æ–­äº¤æ¢é¦–å°¾å­—ç¬¦çš„æ–¹æ³•ï¼Œä¸æ–­å˜æ¢2è¿›åˆ¶å­—ç¬¦ä¸²çš„èµ·ç‚¹ï¼Œå› æ­¤å¯ä»¥æ‰¾åˆ°æ‰€æœ‰2è¿›åˆ¶å­—ç¬¦ä¸²ä¸­è½¬åŒ–ä¸º10è¿›åˆ¶åæœ€å°çš„é‚£ä¸ªå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_min</span>(<span class="params"><span class="built_in">str</span>, p</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å¾—åˆ°æœ€å°å€¼ç¼–ç </span></span><br><span class="line"><span class="string">    :param str:äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">    :param p:è·å–ç‚¹çš„ä¸ªæ•°</span></span><br><span class="line"><span class="string">    :return:åè¿›åˆ¶æœ€å°çš„å€¼</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">min</span> = <span class="built_in">int</span>(<span class="built_in">str</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="built_in">str</span>) - <span class="number">1</span>):</span><br><span class="line">        temp = <span class="built_in">str</span>[<span class="number">1</span>:p]</span><br><span class="line">        temp = temp + <span class="built_in">str</span>[<span class="number">0</span>]</span><br><span class="line">        <span class="built_in">str</span> = temp</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(<span class="built_in">str</span>, <span class="number">2</span>) &lt; <span class="built_in">min</span>:</span><br><span class="line">            <span class="built_in">min</span> = <span class="built_in">int</span>(<span class="built_in">str</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span></span><br></pre></td></tr></table></figure><h4 id="å®šä¹‰Circular-LBPç®—æ³•"><a href="#å®šä¹‰Circular-LBPç®—æ³•" class="headerlink" title="å®šä¹‰Circular_LBPç®—æ³•"></a>å®šä¹‰Circular_LBPç®—æ³•</h4><p>è¿™ä¸ªè¿‡ç¨‹æŒ‰ç…§å…¬å¼ç¼–å†™å³å¯ï¼Œä½†æœ‰å››ä¸ªç‚¹éœ€è¦æ³¨æ„ï¼š</p><ol><li><p>å¯¹äºä¸‰è§’å‡½æ•°è¿ç®—ï¼Œéœ€è¦ç°å°†è®¡ç®—æ‰€å¾—å¼§åº¦åˆ¶å…¶è½¬åŒ–ä¸ºè§’åº¦åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨<code>np.radians()</code>æ–¹æ³•ã€‚</p></li><li><p>åœ¨æˆ‘ä»¬çš„åæ ‡å€¼è®¡ç®—å…¬å¼ä¸­ï¼Œç´¢å¼•éƒ½æ˜¯ä»¥1ä¸ºèµ·ç‚¹ï¼ˆæ•°å­¦åæ ‡ç³»ï¼‰ã€‚å› æ­¤ä¸ºäº†å¯¹åº”å›¾åƒåæ ‡ç³»ï¼Œæˆ‘ä»¬åœ¨è®¡ç®—åæ ‡æ—¶è¿›è¡Œå‡ä¸€æ“ä½œï¼Œä¸ç„¶ä¼šå‡ºç°ç´¢å¼•è¶Šç•Œçš„æƒ…å†µã€‚</p></li><li><p>ç”±äºè®¡ç®—æ‰€å¾—çš„<code>xp</code>ä¸<code>yp</code>å¿…å®šä¸º<code>float</code>ç±»å‹ï¼Œå› æ­¤å³ä¾¿æ˜¯æ•´æ•°ï¼Œä¹Ÿä¼šå¤šæ˜¾ç¤ºä¸€ä½å°æ•°0ï¼ˆå¦‚35.0ï¼‰ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>num.is_integer()</code>çš„æ–¹æ³•è¿›è¡Œæ•´æ•°çš„åˆ¤æ–­ï¼Œè¿™æ ·æ‰èƒ½ç²¾ç¡®æ ¹æ®æ‰€å¾—åæ ‡å€¼è¿›è¡Œä¸åŒçš„æ“ä½œã€‚</p></li><li><p>å› ä¸ºè®¡ç®—å¤æ‚ï¼Œå› æ­¤ä½¿ç”¨<code>time</code>æ¨¡å—è¿›è¡Œè®¡ç®—è¿è¡Œæ—¶é—´ï¼Œæ¥ä¼°é‡ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚ä½¿ç”¨æ¡ˆä¾‹ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å§‹è®¡æ—¶ï¼Œè®°å½•ç¨‹åºå¼€å§‹çš„æ—¶åˆ»</span></span><br><span class="line">start_time = time.time()</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ç¨‹åºè¿è¡Œä»£ç </span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># è®°å½•è¿è¡Œç»“æŸæ—¶åˆ»</span></span><br><span class="line">end_time = time.time()</span><br><span class="line"><span class="comment"># è®¡ç®—æ€»æ—¶é•¿</span></span><br><span class="line">all_time = end_time - start_time</span><br></pre></td></tr></table></figure></li></ol><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">circular_extended_lbp</span>(<span class="params">image_path, r, p</span>):</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–å›¾åƒ</span></span><br><span class="line">    image = init_image(image_path, r)</span><br><span class="line">    <span class="comment"># è·å¾—å›¾åƒçš„å®½é«˜</span></span><br><span class="line">    h, w = image.shape[<span class="number">0</span>], image.shape[<span class="number">1</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;å¼€å§‹LBPå¤„ç†ï¼Œè®¾å®šå‚æ•°ï¼šåŠå¾„ï¼š<span class="subst">&#123;r&#125;</span> ç‚¹ä¸ªæ•°ï¼š<span class="subst">&#123;p&#125;</span>&quot;</span>)</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    <span class="comment"># å¤„ç†åçš„å›¾åƒ</span></span><br><span class="line">    temp = np.zeros((h - r, w - r))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(r, h - r):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(r, w - r):</span><br><span class="line">            calculation_list = <span class="built_in">list</span>()</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(p):</span><br><span class="line">                <span class="comment"># è½¬åŒ–ä¸ºå¼§åº¦åˆ¶</span></span><br><span class="line">                radians = np.radians(<span class="number">2</span> * np.pi * k / <span class="built_in">float</span>(p))</span><br><span class="line">                <span class="comment"># ä¸ºäº†å¯¹åº”å›¾åƒåæ ‡ç³»è¿›è¡Œå‡ä¸€æ“ä½œ</span></span><br><span class="line">                xp = j + r * np.cos(radians) - <span class="number">1</span></span><br><span class="line">                yp = i - r * np.sin(radians) - <span class="number">1</span></span><br><span class="line">                xp = init_integer(xp)</span><br><span class="line">                yp = init_integer(yp)</span><br><span class="line">                <span class="comment"># print(xp, yp)</span></span><br><span class="line">                <span class="comment"># è®¡ç®—ä¸åœ†å¿ƒç‚¹çš„ç°åº¦å€¼çš„å·®å€¼</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    calculation_list.append(image[xp][yp] - image[i][j])</span><br><span class="line">                <span class="keyword">except</span>:</span><br><span class="line">                    calculation_list.append(bilinear_interpolation(xp, yp, image) - image[i][j])</span><br><span class="line">                <span class="comment"># è·å¾—äºŒè¿›åˆ¶å­—ç¬¦ä¸²</span></span><br><span class="line">                calculation_list[k] = transform(calculation_list[k])</span><br><span class="line">            <span class="comment"># print(calculation_list)</span></span><br><span class="line">            result_str = <span class="string">&quot;&quot;</span>.join([<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> calculation_list])</span><br><span class="line">            <span class="comment"># å¾—åˆ°äºŒè¿›åˆ¶ä¸­æœ€å°çš„åè¿›åˆ¶ç¼–ç æ•°</span></span><br><span class="line">            temp[i - r][j - r] = get_min(result_str, p)</span><br><span class="line">    temp = np.clip(temp, <span class="number">0</span>, <span class="number">255</span>).astype(<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">    temp = cv2.cvtColor(temp, cv2.COLOR_BGR2RGB)</span><br><span class="line">    end_time = time.time()</span><br><span class="line">    all_time = end_time - start_time</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;LBPå¤„ç†å®Œæ¯•ï¼Œè€—æ—¶ï¼š<span class="subst">&#123;<span class="built_in">int</span>(all_time // <span class="number">60</span>)&#125;</span>m<span class="subst">&#123;<span class="built_in">int</span>(all_time % <span class="number">60</span>)&#125;</span>s&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span> * <span class="number">100</span>)</span><br><span class="line">    <span class="keyword">return</span> temp</span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>init_integer</code>å‡½æ•°ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">init_integer</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">if</span> num.is_integer():</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">int</span>(num)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> num</span><br></pre></td></tr></table></figure><h4 id="å±•ç¤ºç»“æœ"><a href="#å±•ç¤ºç»“æœ" class="headerlink" title="å±•ç¤ºç»“æœ"></a>å±•ç¤ºç»“æœ</h4><p>å±•ç¤ºéƒ¨åˆ†çš„ä»£ç ä¸ä¹‹å‰ä»£ç å¹¶æ— å·®åˆ«ï¼Œå› æ­¤ä¸åšå±•ç¤ºï¼Œç›´æ¥å±•ç¤ºæµ‹è¯•ä»£ç ä¸ç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># åœ†çš„åŠå¾„</span></span><br><span class="line">    R = <span class="number">2</span></span><br><span class="line">    <span class="comment"># å–å¤šå°‘ä¸ªç‚¹</span></span><br><span class="line">    P = <span class="number">6</span></span><br><span class="line">    input_path = <span class="string">&quot;./input/lane1.jpg&quot;</span></span><br><span class="line">    result_image1 = circular_extended_lbp(input_path, R, P)</span><br><span class="line"></span><br><span class="line">    input_path2 = <span class="string">&quot;./input/lane2.jpg&quot;</span></span><br><span class="line">    result_image2 = circular_extended_lbp(input_path, R, P)</span><br><span class="line"></span><br><span class="line">    image_list = [result_image1, result_image2]</span><br><span class="line">    title_list = [<span class="string">&quot;lane1_circular_LBP&quot;</span>, <span class="string">&quot;lane1_circular_LBP_hist&quot;</span>, <span class="string">&quot;lane2_circular_LBP&quot;</span>, <span class="string">&quot;lane2_circular_LBP_hist&quot;</span>]</span><br><span class="line">    show_result(image_list, title_list)</span><br></pre></td></tr></table></figure><p>ç»“æœå±•ç¤ºï¼š</p><div align="center"><img src="https://z4a.net/images/2023/06/19/circle_run.png" alt="circle_run.png" border="0" width=300></div><div align="center"><img src="https://z4a.net/images/2023/06/19/circluar_result.png" alt="circluar_result.png" border="0" width=600></div><p>å¯ä»¥çœ‹å‡ºï¼Œç”¨Circular LBPå¤„ç†åçš„å›¾åƒï¼Œåƒç´ ç›´æ–¹å›¾å‡ ä¹å®Œå…¨ä¸€è‡´ï¼Œä¸”åˆ†å¸ƒè¾ƒä¸ºå•ä¸€ã€‚è¿™è¯´æ˜Circular LBPé€šè¿‡åœ†å½¢é‚»åŸŸã€æ’å€¼å’Œæ—‹è½¬ä¸å˜æ€§çš„å¢å¼ºï¼Œä½¿å¾—ç›¸ä¼¼çº¹ç†åŒºåŸŸçš„ç¼–ç æ›´åŠ ä¸€è‡´ã€‚è¡¨ç°åœ¨ç»“æœä¸Šï¼Œå³æ—¢èƒ½å¾—å‡ºç»“è®ºçš„åŒæ—¶ï¼ŒæŠµæŠ—å¹²æ‰°çš„èƒ½åŠ›ä¼šæ¯”ä¼ ç»Ÿçš„LBPç®—æ³•è¦å¼ºã€‚æœ€åæ ¹æ®è¿è¡Œæ—¶é—´å¯ä»¥çœ‹å‡ºï¼Œè¯¥ç¨‹åºçš„è¿è¡Œæ•ˆç‡ä¸é«˜ï¼Œè¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æœºå™¨è§†è§‰ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> OpenCV </tag>
            
            <tag> æœºå™¨è§†è§‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FFmpeg-ç®€å•çš„è§†é¢‘å¤„ç†</title>
      <link href="/post/ffmpeg-yi-xie-jian-dan-de-shi-pin-chu-li/"/>
      <url>/post/ffmpeg-yi-xie-jian-dan-de-shi-pin-chu-li/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ç»™è‡ªå·±çš„ä½œä¸šç•™ä¸ªæ¡£ï¼Œæ–¹ä¾¿æ—¥åæŸ¥çœ‹ï¼Œæ¯•ç«Ÿäººæœ€ä¸é è°±çš„å°±æ˜¯è®°å¿†ã€‚</p><blockquote><p>æ­¤åšæ–‡ä½¿ç”¨çš„å›¾ç‰‡å’Œè§†é¢‘ä¸è¾“å‡ºç»“æœå¯å‰å¾€<a href="http://alist.gcnanmu3125.xyz:5244/pikpak/%E9%9F%B3%E8%A7%86%E9%A2%91%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/%E4%BD%9C%E4%B8%9A6">gcnanmuã®å°å±‹</a>æŸ¥çœ‹ã€‚</p></blockquote><h2 id="è§†é¢‘ç¼©æ”¾æ»¤æ³¢å™¨"><a href="#è§†é¢‘ç¼©æ”¾æ»¤æ³¢å™¨" class="headerlink" title="è§†é¢‘ç¼©æ”¾æ»¤æ³¢å™¨"></a>è§†é¢‘ç¼©æ”¾æ»¤æ³¢å™¨</h2><p>ç”¨ffmpegå®ç°è§†é¢‘å®½é«˜æ”¾å¤§2å€ï¼Œå®½é«˜ç¼©å°2å€ã€‚(å‚è€ƒï¼šè§†é¢‘çš„æ»¤æ³¢å™¨é€šå¸¸ä½¿ç”¨-VFæ¥è®¾ç½®æ»¤æ³¢å™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨-filter_complexã€‚ï¼‰ </p><p>å±•ç¤ºè§†é¢‘åƒç´ ç”¨åˆ°çš„<code>ffmpeg</code>å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -v error -show_entries stream=width,height -of csv=s=x:p=0 input_video.mp4</span><br></pre></td></tr></table></figure><p>å› æ­¤å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¾—åˆ°<strong>è¾“å…¥è§†é¢‘</strong>çš„åˆ†è¾¨ç‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -v error -show_entries stream=width,height -of csv=s=x:p=0 <span class="string">&quot;F:\test6_video\input.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center">  <img src="https://z4a.net/images/2023/05/22/display_size2.png" alt="input_video" width="67%" /></div><p>éœ€è¦äº†è§£çš„<code>ffmpeg</code>å‚æ•°ï¼š</p><ol><li>å¾…å¤„ç†çš„è§†é¢‘ã€‚</li><li>å˜æ¢åé«˜ä¸å®½çš„æ•°å€¼ï¼Œä½¿ç”¨<code>iw</code>å’Œ<code>ih</code>åˆ†åˆ«è¡¨ç¤ºåŸæ¥è§†é¢‘çš„å®½åº¦å’Œé«˜åº¦ã€‚vfè¡¨ç¤ºè§†é¢‘è¿‡æ»¤å™¨(video filter)ï¼Œè¯¥æ“ä½œä¸­ç”±äºå®½é«˜æ¯”å’ŒåŸæ¥çš„è§†é¢‘ä¸åŒï¼Œä¼šé€ æˆåƒç´ çš„å®½é«˜æ¯”ä¸åŒã€‚<strong>å¦‚æœæƒ³è¦ä¿æŒåŸæ¥çš„å®½é«˜æ¯”ï¼Œå¯ä»¥ä¼ é€’-1ä½œä¸ºå‚æ•°ã€‚</strong></li></ol><p>è§†é¢‘åƒç´ åˆ†è¾¨ç‡<strong>æ”¾å¤§ä¸ºåŸæ¥çš„ä¸¤å€</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf scale=w=<span class="string">&#x27;iw*2&#x27;</span>:h=-1  <span class="string">&quot;F:\input_video\resize_double.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center">  <img src="https://z4a.net/images/2023/05/22/display_size1.png" alt="resize_double" width="67%" /></div><p>è§†é¢‘åˆ†è¾¨ç‡<strong>ç¼©å°ä¸ºåŸæ¥çš„ä¸¤å€</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf scale=w=<span class="string">&#x27;iw*0.5&#x27;</span>:h=-1  <span class="string">&quot;F:\input_video\resize_half.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center">  <img src="https://z4a.net/images/2023/05/22/display_size3.png" alt="resize_half" width="67%" /></div><h2 id="è§†é¢‘æ°´å°æ·»åŠ æ»¤æ³¢å™¨"><a href="#è§†é¢‘æ°´å°æ·»åŠ æ»¤æ³¢å™¨" class="headerlink" title="è§†é¢‘æ°´å°æ·»åŠ æ»¤æ³¢å™¨"></a>è§†é¢‘æ°´å°æ·»åŠ æ»¤æ³¢å™¨</h2><p>å°†ä¸€ä¸ªæ°´å°å›¾ç‰‡å åŠ åˆ°è§†é¢‘çš„å·¦ä¸Šè§’ã€‚ï¼ˆæ¨¡ä»¿cctvï¼‰ </p><p>ä¸‰ä¸ªè¾“å…¥ï¼š</p><ol><li><p>è¦æ·»åŠ æ°´å°çš„è§†é¢‘</p></li><li><p>è¦æ·»åŠ çš„æ°´å°å›¾ç‰‡ï¼ˆéœ€è¦å»é™¤èƒŒæ™¯ï¼Œä¸ç„¶å¾ˆéš¾çœ‹ï¼‰</p><p>æœ¬æ¬¡è¾“å…¥çš„æ°´å°å›¾ç‰‡ä¸ºï¼š</p></li></ol><div align="center">  <img src="https://z4a.net/images/2023/05/22/CCTV.png" alt="CCTV" /></div><ol start="3"><li>æ°´å°è¦æ·»åŠ çš„åæ ‡</li></ol><p>ä½¿ç”¨åæ ‡ï¼ˆ0,0ï¼‰å¯ä»¥å°†æ°´å°æ·»åŠ åˆ°è§†é¢‘å·¦ä¸Šè§’ï¼Œä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -hide_banner -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -i <span class="string">&quot;F:\test6_video\CCTV.png&quot;</span> -filter_complex <span class="string">&quot;overlay=x=0:y=0&quot;</span> <span class="string">&quot;F:\test6_video\add_watermark.mp4&quot;</span> -y</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æœ€å¿«çš„æ‰¾åˆ°è§†é¢‘çš„å››ä¸ªè¾¹ç¼˜ï¼Œéœ€è¦äº†è§£å››ä¸ªå‚æ•°ï¼š</p><ul><li>main_w(W)ï¼šä¸»ç”»é¢çš„å®½åº¦</li><li>main_h(H)ï¼šä¸»ç”»é¢çš„é«˜åº¦</li><li>overlay_w(w)ï¼šæ°´å°å®½åº¦</li><li>overlay_h(h)ï¼šæ°´å°é«˜åº¦</li></ul><p>è¿™æ ·å°±å¯ä»¥å°†å³ä¸Šè§’çš„è§†é¢‘åæ ‡<code>(W-w,0)</code>æ›¿æ¢ä¸º<code>(main_w-overlay_w,0)</code>ã€‚</p><p>ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥å°†<strong>â€œCCTVâ€å­—æ ·çš„æ°´å°</strong>æ·»åŠ åˆ°<strong>è§†é¢‘å³ä¸Šè§’</strong>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -hide_banner -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -i <span class="string">&quot;F:\test6_video\CCTV.png&quot;</span> -filter_complex <span class="string">&quot;overlay=x=main_w-overlay_w:y=0&quot;</span> <span class="string">&quot;F:\test6_video\add_watermark.mp4&quot;</span> -y</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/05/22/c0e63da04a1dbc3d26954bff6830cb51.png" alt="add_watermark" width="67%" /></div><h2 id="è§†é¢‘æ–‡å­—å åŠ "><a href="#è§†é¢‘æ–‡å­—å åŠ " class="headerlink" title="è§†é¢‘æ–‡å­—å åŠ "></a>è§†é¢‘æ–‡å­—å åŠ </h2><p>å åŠ æ–‡å­—åˆ°è§†é¢‘ä¸Šã€‚ï¼ˆå‚è€ƒé€šè¿‡-vfä½¿ç”¨drawtextçš„æ»¤æ³¢å™¨ï¼‰ </p><p>ä¸¤ä¸ªè¾“å…¥ï¼š</p><ol><li><p>è¦å¤„ç†çš„è§†é¢‘</p></li><li><p>æ·»åŠ çš„æ–‡å­—ä»¥åŠå±æ€§ï¼ˆå¤§å°ï¼Œé¢œè‰²ï¼Œä½ç½®ï¼Œå­—ä½“è·¯å¾„ï¼‰ï¼Œ<strong>ä¸€å®šè¦æ·»åŠ å­—ä½“è·¯å¾„ï¼Œå¦åˆ™ä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼Œæç¤ºå­—ä½“ä¸å­˜åœ¨</strong>ï¼š</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Fontconfig error: Cannot load default config file: No such file: (null)</span><br></pre></td></tr></table></figure><p>å°†å¤§å°ä¸º30pxçš„çº¢è‰²å­—æ ·â€œCCTVâ€æ·»åŠ åˆ°è§†é¢‘çš„å·¦ä¸Šè§’,ä½¿ç”¨å­—ä½“ä¸ºå®‹ä½“:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf drawtext=fontcolor=red:fontfile=C\\:/Windows/fonts/simhei.ttf:fontsize=30:text=<span class="string">&quot;CCTV&quot;</span>:x=0:y=0 -y <span class="string">&quot;F:\test6_video\add_txt.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦å˜æ¢åæ ‡å°†æ–‡å­—æ·»åŠ åˆ°è§†é¢‘å³ä¸Šè§’ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf drawtext=fontcolor=red:fontfile=C\\:/Windows/fonts/simhei.ttf:fontsize=30:text=<span class="string">&quot;CCTV&quot;</span>:x=900:y=0+10 -y <span class="string">&quot;F:\test6_video\add_txt.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/05/22/4f29c2f2af8deed055b90b7c2e0b5955.png" alt="add_watermark" width="67%" /></div><h2 id="è§†é¢‘çº¹ç†å¢å¼º"><a href="#è§†é¢‘çº¹ç†å¢å¼º" class="headerlink" title="è§†é¢‘çº¹ç†å¢å¼º"></a>è§†é¢‘çº¹ç†å¢å¼º</h2><p>å¯¹è§†é¢‘åšé”åŒ–æ“ä½œã€‚ </p><p>ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>xï¼šé¢†åŸŸçš„å®½åº¦ </li><li>yï¼šé¢†åŸŸçš„é«˜åº¦ </li><li>amountï¼š-2 ~ 5ã€‚è´Ÿå€¼æ—¶è¿›è¡Œæ¨¡ç³Šæ“ä½œï¼Œæ­£å€¼è¿›è¡Œé”åŒ–ï¼Œ0æ—¶æ— å½±å“</li></ul><p>é»˜è®¤å€¼çš„é”åŒ–(5x5å¤§å°çš„çŸ©é˜µï¼Œå…¶å½±å“å› å­ä¸º1.0)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf unsharp <span class="string">&quot;F:\test6_video\sharpen.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå‘½ä»¤ç­‰åŒäºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf unsharp=5:5:1 <span class="string">&quot;F:\test6_video\sharpen.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/05/22/3bfb324d7e5be82f4453f806e2a72268.png" alt="sharpen" width="67%" /></div><h2 id="è§†é¢‘ç”»é¢æ¨¡ç³Š"><a href="#è§†é¢‘ç”»é¢æ¨¡ç³Š" class="headerlink" title="è§†é¢‘ç”»é¢æ¨¡ç³Š"></a>è§†é¢‘ç”»é¢æ¨¡ç³Š</h2><ol><li>ä½¿ç”¨<code>boxblur</code>è¿›è¡Œæ¨¡ç³Š</li></ol><p>å°†è§†é¢‘ç”»é¢è¿›è¡Œæ¨¡ç³Šå¤„ç†ã€‚</p><p>è¾“å…¥å‚æ•°ï¼š</p><ul><li><p>r ï¼š<code>radius</code>è¡¨ç¤ºæ¨¡ç³Šæ“ä½œæ—¶çš„é‚»åŸŸåŠå¾„å¤§å°ï¼Œå€¼è¶Šå¤§è¡¨ç¤ºæ¨¡ç³Šç¨‹åº¦è¶Šé«˜</p></li><li><p>pï¼š<code>power</code>è¡¨ç¤ºæ¨¡ç³Šè¿ç®—çš„è¿ç®—æ¬¡æ•°</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf boxblur=10:1 <span class="string">&quot;F:\test6_video\boxblur.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><div align="center">  <img src="https://z4a.net/images/2023/05/22/35f6ffd5cc0f671d01621d3edf1ecc99.png" alt="boxblur" width="67%" /></div><ol start="2"><li>ä½¿ç”¨<code>unsharp filer</code>è¿›è¡Œæ¨¡ç³Š</li></ol><p>åœ¨ä¸Šè¿°[è§†é¢‘ç”»é¢æ¨¡ç³Š](# è§†é¢‘ç”»é¢æ¨¡ç³Š)ä¸­æˆ‘ä»¬ä½¿ç”¨äº†å¤§äºé›¶çš„<code>amount</code>è¿›è¡Œé”åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å°äºé›¶çš„<code>amount</code>è¿›è¡Œæ¨¡ç³Šæ“ä½œã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf unsharp=5:5:-2 <span class="string">&quot;F:\test6_video\ubsharp_blur.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center"><img src="https://z4a.net/images/2023/05/22/2.png" alt="unsharp_blur" width="67%" /></div><ol start="3"><li>ä½¿ç”¨<code>smartblur</code>è¿›è¡Œæ¨¡ç³Š</li></ol><p>å‚æ•°ä¿¡æ¯ï¼š</p><ul><li><p>rï¼š<code>radius</code> åŠå¾„ï¼Œé¢œè‰²ç©ºé—´æˆ–äº®åº¦ç©ºé—´ä¸­è¿›è¡Œé«˜æ–¯æ¨¡ç³Šæ—¶çš„åŠå¾„ï¼Œå–å€¼ä¸º 0.1 ~ 5.0</p></li><li><p>sï¼š<code>strength</code> å¼ºåº¦ï¼Œå–å€¼ -1 ~ 1ï¼Œ0 æ—¶åŸå›¾è¾“å‡ºï¼Œ-1 ~ 0 è¿›è¡Œé”åŒ–æ“ä½œï¼Œ0 ~ 1 è¿›è¡Œæ¨¡ç³Šæ“ä½œ</p></li><li><p>tï¼š<code>treshold</code> é˜€å€¼ï¼Œå–å€¼ -30 ~ 30ï¼Œ0 æ—¶å¯¹æ•´ä¸ªå›¾åƒè¿›è¡Œè¿‡æ»¤ï¼Œ-30 ~ 0 å¯¹å¹³æ»‘åŒºåŸŸè¿‡æ»¤ï¼Œ0~ 30 å¯¹è¾¹ç¼˜è¿›è¡Œè¿‡æ»¤ã€‚</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf smartblur=5:0.8:0 <span class="string">&quot;F:\test6_video\smartblur.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center"><img src="https://z4a.net/images/2023/05/22/smartblur.png" alt="smartblur" width="67%" /></div><h2 id="è§†é¢‘è£å‰ª"><a href="#è§†é¢‘è£å‰ª" class="headerlink" title="è§†é¢‘è£å‰ª"></a>è§†é¢‘è£å‰ª</h2><p>æˆªå–åŸè§†é¢‘ä¸­éƒ¨åˆ†åŒºåŸŸè§†é¢‘ã€‚ï¼ˆå‚è€ƒä½¿ç”¨cropè¿›è¡Œè§†é¢‘ç”»é¢çš„è£å‰ªï¼‰ </p><p>å‚æ•°ï¼ˆ<strong>ä¸¥æ ¼æŒ‰ç…§é¡ºåº</strong>ï¼‰ï¼š</p><ul><li>è£å‰ªåå®½åº¦</li><li>è£å‰ªåé«˜åº¦</li><li>èµ·å§‹ä½(å®½)</li><li>èµ·å§‹ä½ç½®(é«˜)</li></ul><p>æˆªå–è¾“å…¥è§†é¢‘çš„å››åˆ†ä¹‹ä¸€çš„å·¦ä¸Šä½ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -vf crop=480:200:0:0 <span class="string">&quot;F:\test6_video\crop.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹åˆ†è¾¨ç‡ï¼Œ<strong>å‘ç°å¤§å°å˜ä¸ºåŸæ¥çš„äºŒåˆ†ä¹‹ä¸€</strong>ã€‚</p><div align="center"><img src="https://z4a.net/images/2023/05/22/display_size4.png" alt="image-20230519220351452" width="67%" /></div><p>ä»¥ä¸‹ä¸ºç»“æœå±•ç¤ºï¼Œ<strong>çº¢æ¬¾æ¡†å‡ºä¸ºè£å‰ªåçš„è§†é¢‘</strong>ã€‚</p><div align="center">  <img src="https://z4a.net/images/2023/05/22/55ff5ecaf40d58c952a28a4c31a41947.png" alt="crop" width="67%" /></div><h2 id="è§†é¢‘ç”»ä¸­ç”»"><a href="#è§†é¢‘ç”»ä¸­ç”»" class="headerlink" title="è§†é¢‘ç”»ä¸­ç”»"></a>è§†é¢‘ç”»ä¸­ç”»</h2><p>å°†è§†é¢‘2ä½œä¸ºå°çª—å£å åŠ åˆ°è§†é¢‘1çš„å³ä¸Šè§’ã€‚ï¼ˆå‚è€ƒé€šè¿‡overlayå’Œscaleå®ç°ï¼‰ã€‚</p><p>ä¸‰ä¸ªå‚æ•°ï¼š</p><ol><li>èƒŒæ™¯è§†é¢‘</li><li>åµŒå…¥è§†é¢‘</li><li>åµŒå…¥è§†é¢‘ä½ç½®</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\back.mp4&quot;</span> -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -filter_complex <span class="string">&quot;[0:v][1:v]overlay=main_w-overlay_w-10:10[v]&quot;</span> -map <span class="string">&quot;[v]&quot;</span> <span class="string">&quot;F:\test6_video\PIP.mp4&quot;</span></span><br></pre></td></tr></table></figure><p>å‚æ•°è§£é‡Šï¼š</p><ol><li><p><code>[0:v]</code> : ç¬¬ä¸€ä¸ªè§†é¢‘æµï¼›</p><p><code>[1:v]</code> : ç¬¬äºŒä¸ªè§†é¢‘æµï¼›</p></li><li><p><code>main_w-overlay_w-10:10</code> ï¼š è¡¨ç¤ºè§†é¢‘ä½ç½®ä¸º<strong>ï¼ˆmain_w-overlay_w-10ï¼Œ10ï¼‰</strong></p></li><li><p><code>[v]</code> : è¾“å‡ºè§†é¢‘æµçš„æ ‡ç­¾ï¼›</p></li><li><p><code>-map &quot;[v]&quot;</code> : å°†å¸¦æœ‰æ ‡ç­¾ä¸º<code>&quot;[v]&quot;</code>çš„è¾“å‡ºè§†é¢‘æµæ˜ å°„åˆ°è¾“å‡ºæ–‡ä»¶ã€‚</p></li></ol><div align="center"><img src="https://z4a.net/images/2023/05/22/picture_in_picture1.png" alt="PIP1" width="67%" /></div><p>ä¿æŒåŸå°ºå¯¸æ„Ÿè§‰è¿˜æ˜¯å¤ªå°è¿˜æ˜¯å¤ªå°ï¼Œéœ€è¦å¢å¤§åµŒå…¥è§†é¢‘çš„åˆ†è¾¨ç‡å¤§å°ï¼Œäºæ˜¯åšå‡ºå¦‚ä¸‹æ”¹è¿›ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i <span class="string">&quot;F:\test6_video\back.mp4&quot;</span> -i <span class="string">&quot;F:\test6_video\input.mp4&quot;</span> -filter_complex <span class="string">&quot;[1:v]scale=1500:h=-1[scaled];[0:v][scaled]overlay=main_w-overlay_w-10:10[v]&quot;</span> -map <span class="string">&quot;[v]&quot;</span> <span class="string">&quot;F:\test6_video\PIP2.mp4&quot;</span></span><br></pre></td></tr></table></figure><div align="center"><img src="https://z4a.net/images/2023/05/22/picture_in_picture2.png" alt="PIP2" width="67%" /></div><p>å…¶ä¸­ï¼š</p><ol><li><p><code>[1:v]scale=200:100[scaled]</code>  :  å°†è§†é¢‘åˆ†è¾¨ç‡æ”¹å˜ä¸º<strong>é•¿1500pxï¼Œå®½æŒ‰ç…§åŸå§‹æ¯”ä¾‹ç¼©æ”¾</strong>ã€‚</p></li><li><p><code>[scaled]</code>  : è§†é¢‘æ ‡ç­¾ï¼Œæ–¹ä¾¿åç»­å¼•ç”¨ã€‚</p></li><li><p><code>[0:v][scaled]overlay=main_w-overlay_w-10:10</code>  : å°†æ ‡ç­¾ä¸º<code>[scaled]</code>çš„è§†é¢‘åµŒå…¥åˆ°ç¬¬ä¸€ä¸ªè§†é¢‘æµçš„<strong>å³ä¸Šè§’åç¦»10pxçš„ä½ç½®</strong>ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> éŸ³è§†é¢‘ä¿¡å·å¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éŸ³è§†é¢‘å¤„ç† </tag>
            
            <tag> FFmpeg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éŸ³é¢‘å¤„ç†â€”â€”G711A-lawç¼–ç </title>
      <link href="/post/yin-pin-chu-li-g711a-lu-bian-ma/"/>
      <url>/post/yin-pin-chu-li-g711a-lu-bian-ma/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬å­¦æœŸæœ‰ä¸€é—¨éŸ³è§†é¢‘å¤„ç†çš„è¯¾ç¨‹ï¼Œè™½ç„¶è€å¸ˆä¸Šè¯¾ä¸Šå¾—ç¡®å®è¿‡äºç²—ç³™äº†ï¼Œä½†æ˜¯ç¡®å®æ¿€èµ·äº†æˆ‘çš„å…´è¶£ï¼Œè¯¾ååœ¨ä¸æ–­è§£å†³è‡ªå·±çš„ç–‘æƒ‘çš„è¿‡ç¨‹ä¸­è¿˜å­¦åˆ°äº†å¾ˆå¤šæœ‰ç”¨ä½†å†·é—¨çš„çŸ¥è¯†ã€‚æ—¥ååº”è¯¥ä¹Ÿä¼šå†™ä¸€ç¯‡ç¬”è®°æ¥è®°å½•å­¦ä¹ çš„è¿‡ç¨‹ã€‚</p><p>æœ¬æ¬¡å®è·µä¸»é¢˜ä¸ºG711 Aå¾‹ç¼–ç ï¼Œæ˜¯ä¸€ç§åœ¨é€šä¿¡é¢†åŸŸåº”ç”¨å¹¿æ³›çš„ç¼–è§£ç æ ‡å‡†ä¹‹ä¸€ï¼Œæ˜¯éå‡åŒ€PCMç¼–ç çš„ä¸€ç§ï¼Œå…·æœ‰è‰¯å¥½çš„å‹ç¼©æ•ˆæœå’Œå…¼å®¹æ€§ï¼Œå› æ­¤å¹¿æ³›è¿ç”¨åœ¨é€šä¿¡é¢†åŸŸï¼Œä¸”ä¸»è¦åœ¨æ¬§æ´²å’Œäºšæ´²åœ°åŒºå¹¿æ³›è¿ç”¨ï¼Œæˆ‘å›½ä¹Ÿå¹¿æ³›é‡‡ç”¨æ­¤ç¼–ç æ ‡å‡†ã€‚</p><h2 id="G711Aå¾‹ç¼–ç åŸç†"><a href="#G711Aå¾‹ç¼–ç åŸç†" class="headerlink" title="G711Aå¾‹ç¼–ç åŸç†"></a>G711Aå¾‹ç¼–ç åŸç†</h2><h3 id="éå‡åŒ€PCM"><a href="#éå‡åŒ€PCM" class="headerlink" title="éå‡åŒ€PCM"></a>éå‡åŒ€PCM</h3><p>å¯¹äºè¾“å…¥çš„éŸ³é¢‘ä¿¡å·ï¼Œæ¯ä¸ªæ—¶åˆ»çš„ä¿¡å·å¹…å€¼æ˜¯å®Œå…¨ä¸åŒçš„ï¼Œæœ€ä¸ºç›´è§‚çš„æ„Ÿå—å°±æ˜¯åœ¨éŸ³é¢‘æ’­æ”¾å™¨ä¸­ï¼Œæ’­æ”¾éŸ³ä¹æ—¶æ‰“å¼€ç¤ºæ³¢å™¨ï¼Œå¯ä»¥çœ‹åˆ°éŸ³é¢‘ä¿¡å·å¹…å€¼éšç€æ’­æ”¾èµ·èµ·ä¼ä¼ã€‚å˜åŒ–é€Ÿåº¦å¿«ï¼Œä¸”å¹…å€¼å˜åŒ–æ²¡æœ‰è§„å¾‹ï¼Œæ­¤æ—¶é‡‡ç”¨å‡åŒ€PCMç¼–ç å¤„ç†ï¼Œå°†è¾“å…¥ä¿¡å·çš„å¹…åº¦èŒƒå›´è¿›è¡Œç­‰é—´éš”åˆ’åˆ†çš„é‡åŒ–ï¼Œä¼šå¯¼è‡´é«˜é¢‘éƒ¨åˆ†å¤±çœŸï¼Œä¹Ÿæ— æ³•æ•æ‰åˆ°éŸ³é¢‘ä¿¡å·é¢‘ç¹çš„åŠ¨æ€å˜åŒ–ã€‚</p><p><img src="https://www.z4a.net/images/2023/05/08/f2fd610d881cb72475ef1e17d6f7587f.gif" alt="éŸ³é¢‘æ³¢å½¢"></p><p>è¿™æ—¶å€™å°±å¯ä»¥è€ƒè™‘éå‡åŒ€å˜æ¢ï¼Œæ ¹æ®ä¸åŒçš„å¹…å€¼æƒ…å†µé‡‡ç”¨éå‡åŒ€çš„é—´éš”é‡åŒ–ï¼Œå¯ä»¥åœ¨è¾¾åˆ°å‹ç¼©ç›®çš„çš„åŒæ—¶è·å¾—æ›´é«˜çš„ç²¾åº¦ï¼Œå°½å¯èƒ½ä¸è®©å…³é”®ä¿¡æ¯ä¸¢å¤±ã€‚G711Aå¾‹ç¼–ç å°±æ˜¯éå‡åŒ€PCMç¼–ç çš„ä¸€ç§ã€‚</p><p>å¯¹äºG711 Aå¾‹ç¼–ç ï¼Œä¹Ÿåˆ†ä¸ºè¿ç»­ä¿¡å·ä¸ç¦»æ•£ä¿¡å·çš„ä¸¤ç§æƒ…å†µã€‚</p><h3 id="è¿ç»­ä¿¡å·"><a href="#è¿ç»­ä¿¡å·" class="headerlink" title="è¿ç»­ä¿¡å·"></a>è¿ç»­ä¿¡å·</h3><p>å¯¹äºè¿ç»­çš„ä¿¡å·ï¼ŒAå¾‹ç¼–ç é‡‡ç”¨äº†ä¸¤æ®µè¿‘ä¼¼çš„æ–¹æ³•ï¼Œå…¶è¡¨è¾¾å¼ä¸ºï¼š</p><div align="center"><svg xmlns="http://www.w3.org/2000/svg" width="46.972ex" height="7.738ex" viewBox="0 -1960.1 20761.6 3420.2" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-408-TEX-I-1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path><path id="MJX-408-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-408-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-408-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-408-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-408-TEX-S4-23A7" d="M712 899L718 893V876V865Q718 854 704 846Q627 793 577 710T510 525Q510 524 509 521Q505 493 504 349Q504 345 504 334Q504 277 504 240Q504 -2 503 -4Q502 -8 494 -9T444 -10Q392 -10 390 -9Q387 -8 386 -5Q384 5 384 230Q384 262 384 312T383 382Q383 481 392 535T434 656Q510 806 664 892L677 899H712Z"></path><path id="MJX-408-TEX-S4-23A9" d="M718 -893L712 -899H677L666 -893Q542 -825 468 -714T385 -476Q384 -466 384 -282Q384 3 385 5L389 9Q392 10 444 10Q486 10 494 9T503 4Q504 2 504 -239V-310V-366Q504 -470 508 -513T530 -609Q546 -657 569 -698T617 -767T661 -812T699 -843T717 -856T718 -876V-893Z"></path><path id="MJX-408-TEX-S4-23A8" d="M389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 924Q504 691 503 682Q494 549 425 439T243 259L229 250L243 241Q349 175 421 66T503 -182Q504 -191 504 -424Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -425V-282Q384 -176 377 -116T342 10Q325 54 301 92T255 155T214 196T183 222T171 232Q170 233 170 250T171 268Q171 269 191 284T240 331T300 407T354 524T383 679Q384 691 384 925Q384 1152 385 1155L389 1159Z"></path><path id="MJX-408-TEX-S4-23AA" d="M384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150Z"></path><path id="MJX-408-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-408-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-408-TEX-N-7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path id="MJX-408-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-408-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-408-TEX-N-6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path id="MJX-408-TEX-N-6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path id="MJX-408-TEX-N-2061" d=""></path><path id="MJX-408-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-408-TEX-I-1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path id="MJX-408-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-408-TEX-N-2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path><path id="MJX-408-TEX-N-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path><path id="MJX-408-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D453"></use></g><g data-mml-node="mo" transform="translate(550, 0)"><use xlink:href="#MJX-408-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(939, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1511, 0)"><use xlink:href="#MJX-408-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2177.8, 0)"><use xlink:href="#MJX-408-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(3233.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-S4-23A7" transform="translate(0, 1061.1)"></use><use xlink:href="#MJX-408-TEX-S4-23A9" transform="translate(0, -561.1)"></use><use xlink:href="#MJX-408-TEX-S4-23A8" transform="translate(0, 0)"></use><svg width="889" height="91.1" y="1060" x="0" viewBox="0 16.1 889 91.1"><use xlink:href="#MJX-408-TEX-S4-23AA" transform="scale(1, 0.448)"></use></svg><svg width="889" height="91.1" y="-651.1" x="0" viewBox="0 16.1 889 91.1"><use xlink:href="#MJX-408-TEX-S4-23AA" transform="scale(1, 0.448)"></use></svg></g><g data-mml-node="mtable" transform="translate(889, 0)"><g data-mml-node="mtr" transform="translate(0, 913.7)"><g data-mml-node="mtd" transform="translate(1520, 0)"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(644.5, 516.4) scale(0.707)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g><g data-mml-node="mrow" transform="translate(1153.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-N-7C"></use></g><g data-mml-node="mi" transform="translate(278, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(850, 0)"><use xlink:href="#MJX-408-TEX-N-7C"></use></g></g></g><g data-mml-node="mrow" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-408-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(1278, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-N-6C"></use><use xlink:href="#MJX-408-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(2162, 0)"><use xlink:href="#MJX-408-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2328.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g></g></g><rect width="2662.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mi" transform="translate(2902.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(3371.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(3848.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(4448.3, 0)"><use xlink:href="#MJX-408-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(4837.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(5409.3, 0)"><use xlink:href="#MJX-408-TEX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(10880, 0)"><g data-mml-node="mrow"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-N-7C"></use></g><g data-mml-node="mi" transform="translate(278, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(850, 0)"><use xlink:href="#MJX-408-TEX-N-7C"></use></g></g><g data-mml-node="mo" transform="translate(1405.8, 0)"><use xlink:href="#MJX-408-TEX-N-2264"></use></g><g data-mml-node="mfrac" transform="translate(2461.6, 0)"><g data-mml-node="mi" transform="translate(362.7, 394) scale(0.707)"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="msub" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g><rect width="1015.7" height="60" x="120" y="220"></rect></g></g><g data-mml-node="mtd" transform="translate(16639.1, 0)"></g></g><g data-mml-node="mtr" transform="translate(0, -996.8)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mrow" transform="translate(220, 516.8) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="mo" transform="translate(750, 0)"><use xlink:href="#MJX-408-TEX-N-28"></use></g><g data-mml-node="mn" transform="translate(1139, 0)"><use xlink:href="#MJX-408-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(1639, 0)"><use xlink:href="#MJX-408-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(2417, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-N-6C"></use><use xlink:href="#MJX-408-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(3301, 0)"><use xlink:href="#MJX-408-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(3467.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g><g data-mml-node="mrow" transform="translate(1153.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-N-7C"></use></g><g data-mml-node="mi" transform="translate(278, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(850, 0)"><use xlink:href="#MJX-408-TEX-N-7C"></use></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2281.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-N-2F"></use></g></g><g data-mml-node="mi" transform="translate(2781.6, 0)"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g></g><g data-mml-node="mo" transform="translate(6999.2, 0)"><use xlink:href="#MJX-408-TEX-N-29"></use></g></g><g data-mml-node="mrow" transform="translate(1601, -346.3) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-408-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(1278, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-N-6C"></use><use xlink:href="#MJX-408-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(2162, 0)"><use xlink:href="#MJX-408-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2328.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g></g></g><rect width="5424.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mi" transform="translate(5664.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(6133.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(6610.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(7210.3, 0)"><use xlink:href="#MJX-408-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(7599.3, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(8171.3, 0)"><use xlink:href="#MJX-408-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(8560.3, 0)"><use xlink:href="#MJX-408-TEX-N-2C"></use></g></g><g data-mml-node="mtd" transform="translate(9838.3, 0)"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(362.7, 394) scale(0.707)"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="msub" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-408-TEX-N-30"></use></g></g></g><rect width="1015.7" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(1533.5, 0)"><use xlink:href="#MJX-408-TEX-N-2264"></use></g><g data-mml-node="mrow" transform="translate(2589.2, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-408-TEX-N-7C"></use></g><g data-mml-node="mi" transform="translate(278, 0)"><use xlink:href="#MJX-408-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(850, 0)"><use xlink:href="#MJX-408-TEX-N-7C"></use></g></g><g data-mml-node="mo" transform="translate(3995, 0)"><use xlink:href="#MJX-408-TEX-N-2264"></use></g><g data-mml-node="mi" transform="translate(5050.8, 0)"><use xlink:href="#MJX-408-TEX-I-1D434"></use></g></g></g></g><g data-mml-node="mo" transform="translate(17528.1, 0)"></g></g></g></g></svg></div><p>å…¶ä¸­ï¼ŒAä¸ºå³°å€¼å¹…åº¦ã€‚A<del>0</del>ä¸ºæ§åˆ¶å‹ç¼©åº¦çš„å¸¸æ•°ï¼Œå¸¸å–A<del>0</del> &#x3D; 87.6ã€‚å½“ |x| â‰¤ (A&#x2F;A<del>0</del>)ï¼Œæˆ‘ä»¬å°†å…¶è§†ä¸ºå¹…å€¼å°çš„ä¿¡å·ï¼Œå½“ A â‰¥ |x| â‰¥ (A&#x2F;A<del>0</del>)æ—¶ï¼Œæˆ‘ä»¬å°†å…¶è§†ä¸ºå¹…å€¼å¤§çš„ä¿¡å·ã€‚</p><p>æ ¹æ®è¡¨è¾¾å¼ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„å‡½æ•°å›¾åƒï¼š</p><img src="https://www.z4a.net/images/2023/05/08/G711A.png" alt="è¿ç»­G711Aå¾‹ç¼–ç " style="zoom: 50%;" /><p>ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p><ul><li><p>å¯¹äºå¹…å€¼å¤§çš„ä¿¡å·ï¼Œå¹…å€¼è¶Šé«˜ï¼Œå˜åŒ–å¾—è¶Šå¹³ç¼“ï¼Œå‹ç¼©ç²¾åº¦è¾ƒé«˜ï¼›</p></li><li><p>å¯¹äºå¹…å€¼å°çš„ä¿¡å·ï¼Œå¹…å€¼è¶Šé«˜ï¼Œå˜åŒ–å¾—è¶Šé™¡å³­ï¼Œå‹ç¼©ç²¾åº¦è¾ƒä½ï¼›</p></li></ul><p>æœ‰äº†ç¼–ç å‹ç¼©çš„è¿‡ç¨‹ï¼Œé‚£è‡ªç„¶å°±æœ‰è§£ç çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯å¯¹ç¼–ç å‡½æ•°å–é€†å‡½æ•°ï¼Œå…¶è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><div align="center"><svg xmlns="http://www.w3.org/2000/svg" width="54.463ex" height="7.361ex" viewBox="0 -1876.7 24072.7 3253.4" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-828-TEX-I-1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path><path id="MJX-828-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path id="MJX-828-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-828-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-828-TEX-S4-7B" d="M661 -1243L655 -1249H622L604 -1240Q503 -1190 434 -1107T348 -909Q346 -897 346 -499L345 -98L343 -82Q335 3 287 87T157 223Q146 232 145 236Q144 240 144 250Q144 265 145 268T157 278Q242 333 288 417T343 583L345 600L346 1001Q346 1398 348 1410Q379 1622 600 1739L622 1750H655L661 1744V1727V1721Q661 1712 661 1710T657 1705T648 1700T630 1690T602 1668Q589 1659 574 1643T531 1593T484 1508T459 1398Q458 1389 458 1001Q458 614 457 605Q441 435 301 316Q254 277 202 251L250 222Q260 216 301 185Q443 66 457 -104Q458 -113 458 -501Q458 -888 459 -897Q463 -944 478 -988T509 -1060T548 -1114T580 -1149T602 -1167Q620 -1183 634 -1192T653 -1202T659 -1207T661 -1220V-1226V-1243Z"></path><path id="MJX-828-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-828-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-828-TEX-N-6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path id="MJX-828-TEX-N-6E" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z"></path><path id="MJX-828-TEX-N-2061" d=""></path><path id="MJX-828-TEX-I-1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path id="MJX-828-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-828-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-828-TEX-I-1D466" d="M21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-828-TEX-N-7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path id="MJX-828-TEX-N-2264" d="M674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118Z"></path><path id="MJX-828-TEX-N-65" d="M28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275Z"></path><path id="MJX-828-TEX-N-78" d="M201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201Z"></path><path id="MJX-828-TEX-N-70" d="M36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218Z"></path><path id="MJX-828-TEX-N-5B" d="M118 -250V750H255V710H158V-210H255V-250H118Z"></path><path id="MJX-828-TEX-N-5D" d="M22 710V750H159V-250H22V-210H119V710H22Z"></path><path id="MJX-828-TEX-I-1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path id="MJX-828-TEX-I-1D454" d="M311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328Z"></path><path id="MJX-828-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D453"></use></g><g data-mml-node="TeXAtom" transform="translate(603, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(778, 0)"><use xlink:href="#MJX-828-TEX-N-31"></use></g></g></g><g data-mml-node="mo" transform="translate(1834.5, 0)"><use xlink:href="#MJX-828-TEX-N-3D"></use></g><g data-mml-node="mrow" transform="translate(2890.2, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-S4-7B"></use></g><g data-mml-node="mtable" transform="translate(806, 0)"><g data-mml-node="mtr" transform="translate(0, 913.4)"><g data-mml-node="mtd" transform="translate(4198.4, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-28"></use></g><g data-mml-node="mfrac" transform="translate(389, 0)"><g data-mml-node="mrow" transform="translate(220, 457.1) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-828-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(1278, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-N-6C"></use><use xlink:href="#MJX-828-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(2162, 0)"><use xlink:href="#MJX-828-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2328.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g></g></g><g data-mml-node="msub" transform="translate(1043.3, -346.3) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g><rect width="2662.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(3291.3, 0)"><use xlink:href="#MJX-828-TEX-N-29"></use></g><g data-mml-node="mi" transform="translate(3680.3, 0)"><use xlink:href="#MJX-828-TEX-I-1D466"></use></g></g><g data-mml-node="mtd" transform="translate(14330.9, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-7C"></use></g><g data-mml-node="mi" transform="translate(278, 0)"><use xlink:href="#MJX-828-TEX-I-1D466"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(768, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-7C"></use></g></g><g data-mml-node="mo" transform="translate(1323.8, 0)"><use xlink:href="#MJX-828-TEX-N-2264"></use></g><g data-mml-node="mfrac" transform="translate(2379.6, 0)"><g data-mml-node="mi" transform="translate(1186, 394) scale(0.707)"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="mrow" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-828-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(1278, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-N-6C"></use><use xlink:href="#MJX-828-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(2162, 0)"><use xlink:href="#MJX-828-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2328.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g></g></g><rect width="2662.3" height="60" x="120" y="220"></rect></g></g></g><g data-mml-node="mtr" transform="translate(0, -913.4)"><g data-mml-node="mtd"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(362.7, 394) scale(0.707)"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="msub" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g><rect width="1015.7" height="60" x="120" y="220"></rect></g><g data-mml-node="mi" transform="translate(1255.7, 0)"><use xlink:href="#MJX-828-TEX-N-65"></use><use xlink:href="#MJX-828-TEX-N-78" transform="translate(444, 0)"></use><use xlink:href="#MJX-828-TEX-N-70" transform="translate(972, 0)"></use></g><g data-mml-node="mo" transform="translate(2783.7, 0)"><use xlink:href="#MJX-828-TEX-N-2061"></use></g><g data-mml-node="mo" transform="translate(2783.7, 0)"><use xlink:href="#MJX-828-TEX-N-5B"></use></g><g data-mml-node="mo" transform="translate(3061.7, 0)"><use xlink:href="#MJX-828-TEX-N-28"></use></g><g data-mml-node="mfrac" transform="translate(3450.7, 0)"><g data-mml-node="mrow" transform="translate(220, 457.1) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-828-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(1278, 0)"><use xlink:href="#MJX-828-TEX-N-6C"></use><use xlink:href="#MJX-828-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="mo" transform="translate(2112, 0)"><use xlink:href="#MJX-828-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2278.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g></g></g><g data-mml-node="mi" transform="translate(1168.3, -346.3) scale(0.707)"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><rect width="2626.9" height="60" x="120" y="220"></rect></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(6317.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-7C"></use></g></g><g data-mml-node="mi" transform="translate(6595.6, 0)"><use xlink:href="#MJX-828-TEX-I-1D466"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(7085.6, 0)"><g data-mml-node="mo"><use xlink:href="#MJX-828-TEX-N-7C"></use></g></g><g data-mml-node="mo" transform="translate(7585.9, 0)"><use xlink:href="#MJX-828-TEX-N-2212"></use></g><g data-mml-node="mn" transform="translate(8586.1, 0)"><use xlink:href="#MJX-828-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(9086.1, 0)"><use xlink:href="#MJX-828-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(9475.1, 0)"><use xlink:href="#MJX-828-TEX-N-5D"></use></g><g data-mml-node="mi" transform="translate(9753.1, 0)"><use xlink:href="#MJX-828-TEX-I-1D460"></use></g><g data-mml-node="mi" transform="translate(10222.1, 0)"><use xlink:href="#MJX-828-TEX-I-1D454"></use></g><g data-mml-node="mi" transform="translate(10699.1, 0)"><use xlink:href="#MJX-828-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(11299.1, 0)"><use xlink:href="#MJX-828-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(11688.1, 0)"><use xlink:href="#MJX-828-TEX-I-1D466"></use></g><g data-mml-node="mo" transform="translate(12178.1, 0)"><use xlink:href="#MJX-828-TEX-N-29"></use></g></g><g data-mml-node="mtd" transform="translate(13567.1, 0)"><g data-mml-node="mfrac"><g data-mml-node="mi" transform="translate(1186, 394) scale(0.707)"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="mrow" transform="translate(220, -346.3) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(500, 0)"><use xlink:href="#MJX-828-TEX-N-2B"></use></g><g data-mml-node="msub" transform="translate(1278, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-N-6C"></use><use xlink:href="#MJX-828-TEX-N-6E" transform="translate(278, 0)"></use></g><g data-mml-node="TeXAtom" transform="translate(834, -150) scale(0.707)" data-mjx-texclass="ORD"></g></g><g data-mml-node="mo" transform="translate(2162, 0)"><use xlink:href="#MJX-828-TEX-N-2061"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2328.7, 0)"><g data-mml-node="msub"><g data-mml-node="mi"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g><g data-mml-node="TeXAtom" transform="translate(750, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><use xlink:href="#MJX-828-TEX-N-30"></use></g></g></g></g></g><rect width="2662.3" height="60" x="120" y="220"></rect></g><g data-mml-node="mo" transform="translate(3180.1, 0)"><use xlink:href="#MJX-828-TEX-N-2264"></use></g><g data-mml-node="mi" transform="translate(4235.9, 0)"><use xlink:href="#MJX-828-TEX-I-1D466"></use></g><g data-mml-node="mo" transform="translate(5003.6, 0)"><use xlink:href="#MJX-828-TEX-N-2264"></use></g><g data-mml-node="mi" transform="translate(6059.4, 0)"><use xlink:href="#MJX-828-TEX-I-1D434"></use></g></g></g></g><g data-mml-node="mo" transform="translate(21182.5, 0)"></g></g></g></g></svg></div><h3 id="ç¦»æ•£ä¿¡å·"><a href="#ç¦»æ•£ä¿¡å·" class="headerlink" title="ç¦»æ•£ä¿¡å·"></a>ç¦»æ•£ä¿¡å·</h3><p>ä½¿ç”¨è¿ç»­çš„æ–¹æ³•å¯¹ä¿¡å·è¿›è¡ŒG711Aå¾‹ç¼–ç æ˜¾ç„¶è®¡ç®—é‡å¾ˆå¤§ï¼Œè€Œä¸”å¯¹äºè®¡ç®—æœºä¸­çš„éŸ³é¢‘æ•°æ®ï¼Œè¯»å–åéƒ½æ˜¯ç¦»æ•£çš„ä¿¡å·é›†åˆï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¿«è¿‘çš„è¿ç»­å¤„ç†å›¾åƒçš„ç¦»æ•£å‡½æ•°ï¼Œæ­¤æ—¶å°±æœ‰äº†æ¥ä¸‹æ¥çš„13æ®µæŠ˜çº¿å‹æ‰©ï¼Œä¹Ÿå°±æ˜¯ç¦»æ•£åŒ–çš„æ–¹å¼ï¼Œæ­¤è¿‡ç¨‹ä¹Ÿè¢«ç§°ä¸ºé‡åŒ–ã€‚</p><p>13æ®µæŠ˜ç°æ³•çš„é‡åŒ–æ–¹å¼ä¸ºï¼š</p><ol><li><p>å°†è¾“å…¥ä¿¡å·çš„å¹…åº¦èŒƒå›´å½’ä¸€åŒ–ä¸º(-1,1);</p></li><li><p>å¯¹xæ­£åŠè½´çš„åŒºé—´(0,1)ï¼Œä»¥1&#x2F;2é€’å‡è§„å¾‹å°†è¯¥åŒºé—´ä¸å‡åŒ€åœ°åˆ†æˆ8æ®µï¼š</p><p>ä»¥ï¼ˆ0ï¼Œ1ï¼‰çš„ä¸­ç‚¹1&#x2F;2ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ï¼ˆ0ï¼Œ1&#x2F;2ï¼‰çš„ä¸­ç‚¹1&#x2F;4ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ï¼ˆ0ï¼Œ1&#x2F;4ï¼‰çš„ä¸­ç‚¹1&#x2F;8ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ï¼ˆ0ï¼Œ1&#x2F;8ï¼‰çš„ä¸­ç‚¹1&#x2F;16ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ï¼ˆ0ï¼Œ1&#x2F;16ï¼‰çš„ä¸­ç‚¹1&#x2F;32ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ï¼ˆ0ï¼Œ1&#x2F;32ï¼‰çš„ä¸­ç‚¹1&#x2F;64ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼›</p><p>ä»¥ ï¼ˆ0ï¼Œ1&#x2F;64ï¼‰çš„ä¸­ç‚¹1&#x2F;128ä¸ºç•Œå°†è¯¥åŒºé—´ç­‰åˆ†ä¸¤æ®µï¼Œå…±è®¡8æ®µï¼›</p></li><li><p>å¯¹äºä¸Šè¿°çš„8æ®µåŒºé—´ï¼Œæ¯ä¸ªåŒºé—´å†å‡åŒ€åˆ†æˆ16æ®µï¼›é‚£ä¹ˆï¼Œæœ€ç»ˆæ•´ä¸ª(0,1)åŒºé—´è¢«åˆ†æˆ128æ®µã€‚</p><img src="https://www.z4a.net/images/2023/05/08/x_13.png" style="zoom: 33%;" /></li><li><p>å¯¹xè´ŸåŠè½´(-1,0)åŒºé—´ï¼Œé‡‡ç”¨ä¸Šè¿° 2,3çš„æ“ä½œå°†è¯¥åŒºé—´åˆ†æˆ128æ®µï¼›è¿™æ ·ï¼Œæœ€ç»ˆxè½´çš„ï¼ˆ-1ï¼Œ1ï¼‰åŒºé—´è¢«åˆ†æˆ256ä¸ªåŒºé—´ã€‚</p></li><li><p>å°†yè½´ï¼ˆ-1,1ï¼‰åŒºé—´å‡åŒ€åˆ†æˆ256æ®µ ï¼Œå…±256ä¸ªé‡åŒ–çº§ã€‚</p></li><li><p>æŠŠxè½´å’Œyè½´çš„ç›¸åº”äº¤ç‚¹è¿æ¥èµ·æ¥ï¼Œå¾—åˆ°13æŠ˜çº¿ï¼ˆå…¶ä¸­æ­£è´Ÿè½´çš„ç¬¬ä¸€æ®µå’Œç¬¬äºŒæ®µæŠ˜çº¿æ–œç‡ç›¸åŒï¼Œåˆå¹¶ä¸ºä¸€æ¡çº¿æ®µï¼‰ã€‚</p></li></ol><p>æŒ‰ç…§æ­¥éª¤å¯ä»¥ç»˜åˆ¶å‡ºä»¥ä¸‹å‡½æ•°å›¾åƒï¼š</p><img src="https://www.z4a.net/images/2023/05/08/xy_13.png" style="zoom:67%;" /><p>å¯ä»¥çœ‹å‡ºï¼Œä¸è¿ç»­ä¿¡å·ç¼–ç å‡½æ•°å›¾åƒååˆ†æ¥è¿‘ã€‚</p><p>è§£ç è¿‡ç¨‹å°±æ˜¯ç¼–ç è¿‡ç¨‹çš„åæ“ä½œï¼Œå› æ­¤ä¸å†èµ˜è¿°ã€‚</p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><p>ä¸€èˆ¬æ¥è¯´ï¼ŒG711 Aå¾‹ç¼–ç çš„è¾“å…¥éŸ³é¢‘ä¿¡å·çš„ä½æ·±ä¸º16bitï¼Œç¼–ç åçš„ä½æ·±ä¸º8bitï¼Œå› æ­¤æ¥ä¸‹æ¥éƒ½ä»¥16bitçš„éŸ³é¢‘ä½œä¸ºä¾‹å­ã€‚</p><p>å…¶ä¸­ï¼Œæµ‹è¯•ç”¨çš„éŸ³é¢‘æ•°æ®æˆ‘ä½¿ç”¨çš„æ˜¯å¦‚ä¸‹ä¸‰æ®µéŸ³é¢‘ï¼š</p><ul><li>å•å£°é“ï¼š<code>wav5.wav</code></li><li>åŒå£°é“ï¼š<code>wav6.wav</code>,<code>youjianchuiyan.wav</code></li></ul><h3 id="ä½¿ç”¨audioopåº“è¿›è¡Œå®ç°"><a href="#ä½¿ç”¨audioopåº“è¿›è¡Œå®ç°" class="headerlink" title="ä½¿ç”¨audioopåº“è¿›è¡Œå®ç°"></a>ä½¿ç”¨audioopåº“è¿›è¡Œå®ç°</h3><p>åœ¨Pythonä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“<code>audioop</code>ç›´æ¥è¿›è¡ŒG711 Aå¾‹çš„ç¼–è§£ç æ“ä½œã€‚åœ¨ç¼–è§£ç æ“ä½œä¹‹å‰ï¼Œéœ€è¦æ‰“å¼€å’Œè¯»å–éŸ³é¢‘ï¼Œå¯ä»¥ä½¿ç”¨Pythonå†…ç½®çš„<code>wave</code>åº“è¿›è¡Œè¯»å–ã€‚</p><ul><li><p>æ‰“å¼€éŸ³é¢‘ï¼š<code>wav_in = wave.open(æ–‡ä»¶è·¯å¾„,&quot;rb&quot;)</code>ï¼Œ<strong>â€œrbâ€æ˜¯ä»¥2è¿›åˆ¶è¿›è¡Œè¯»å–ã€‚</strong></p></li><li><p>è·å–éŸ³é¢‘ä¿¡æ¯ï¼š<code>nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</code></p><table><thead><tr><th align="left">å‚æ•°</th><th align="left">ç¿»è¯‘</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="left">nchannels</td><td align="left">å£°é“æ•°</td><td align="left">1ä¸ºå•å£°é“ï¼Œ2ä¸ºåŒå£°é“</td></tr><tr><td align="left">sampwidth</td><td align="left">é‡‡æ ·ä½å®½</td><td align="left">æ¯ä¸ªé‡‡æ ·ç‚¹ç”¨å¤šå°‘ä½ï¼Œå¸¸è§ä¸º16bit</td></tr><tr><td align="left">framerate</td><td align="left">æ¯”ç‰¹ç‡</td><td align="left">æ¯ç§’æ‰€åŒ…å«çš„æ•°æ®å¤§å°</td></tr><tr><td align="left">nframes</td><td align="left">æ€»é‡‡æ ·ç‚¹</td><td align="left">ç¦»æ•£ä¿¡å·çš„æ€»é‡‡æ ·ç‚¹ï¼ˆxçš„ä¸ªæ•°ï¼‰</td></tr><tr><td align="left">comptype</td><td align="left">å‹ç¼©ç±»å‹</td><td align="left">æŒ‡éŸ³é¢‘é‡‡ç”¨çš„å‹ç¼©æ ‡å‡†ï¼Œå¦‚â€œMPEGâ€ï¼Œå¦‚æ²¡æœ‰åˆ™æ˜¾ç¤ºâ€œNoneâ€</td></tr><tr><td align="left">compname</td><td align="left">å‹ç¼©æ–¹æ³•</td><td align="left">å‹ç¼©ç®—æ³•æˆ–å‹ç¼©æ ¼å¼ï¼Œå¦‚æœªå‹ç¼©æ˜¾ç¤ºâ€œnot compressedâ€</td></tr></tbody></table></li><li><p>è¯»å–éŸ³é¢‘ï¼š<code>wav_in.readframes(nframes)</code></p></li><li><p>G711 Aå¾‹ç¼–ç ï¼š<code>audioop.lin2alaw(éŸ³é¢‘æ•°æ®ï¼Œsampwidth)</code></p><ul><li>sampwidth &#x3D; 1 -&gt; 8 bitçš„é‡‡æ ·ä½å®½ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å°±æ˜¯ç¼–ç åéŸ³é¢‘çš„ä½å®½ã€‚</li><li>sampwidth &#x3D; 2 -&gt; 16 bitçš„é‡‡æ ·ä½å®½ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­å°±æ˜¯è¾“å…¥éŸ³é¢‘ä¸è§£ç éŸ³é¢‘çš„é‡‡æ ·ä½å®½ã€‚</li></ul></li><li><p>ä¿å­˜éŸ³é¢‘ï¼š</p><ol><li>è®¾ç½®ä¿å­˜éŸ³é¢‘çš„å‚æ•°ï¼š<code>nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</code></li><li>å†™å…¥ï¼š<code>wav_out.writeframes(audio_data)</code>ï¼Œå…¶ä¸­audio_dataä¸ºbitæ•°æ®æµã€‚</li></ol></li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wave</span><br><span class="line"><span class="keyword">import</span> audioop</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">encode_G711</span>(<span class="params">input_path</span>):</span><br><span class="line">    <span class="comment"># æ‰“å¼€ WAV æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(input_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> wav_in:</span><br><span class="line">        <span class="comment"># è·å–é‡‡æ ·å‚æ•°</span></span><br><span class="line">        nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¯»å–æ‰€æœ‰é‡‡æ ·å€¼</span></span><br><span class="line">        frames = wav_in.readframes(nframes)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¯¹é‡‡æ ·å€¼è¿›è¡Œ A å¾‹å‹ç¼©ç¼–ç </span></span><br><span class="line">        compressed_data = audioop.lin2alaw(frames, sampwidth)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºæ–°çš„ WAV æ–‡ä»¶å¹¶å†™å…¥å‹ç¼©åçš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">with</span> wave.<span class="built_in">open</span>(<span class="string">&#x27;./output/encode.wav&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> wav_out:</span><br><span class="line">            <span class="comment"># è®¾ç½®å‚æ•°</span></span><br><span class="line">            wav_out.setparams((nchannels, sampwidth, framerate, nframes, comptype, compname))</span><br><span class="line">            <span class="comment"># å†™å…¥</span></span><br><span class="line">            wav_out.writeframes(compressed_data)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;G.711 A-law encoding is done&#x27;</span>)</span><br><span class="line">            </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">encode_G711</span>(<span class="params">input_path</span>):</span><br><span class="line">    <span class="comment"># æ‰“å¼€ WAV æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(input_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> wav_in:</span><br><span class="line">        <span class="comment"># è·å–é‡‡æ ·å‚æ•°</span></span><br><span class="line">        nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¯»å–æ‰€æœ‰é‡‡æ ·å€¼</span></span><br><span class="line">        frames = wav_in.readframes(nframes)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¯¹é‡‡æ ·å€¼è¿›è¡Œ A å¾‹å‹ç¼©è§£ç </span></span><br><span class="line">        compressed_data = audioop.lin2alaw(frames, sampwidth)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºæ–°çš„ WAV æ–‡ä»¶å¹¶å†™å…¥å‹ç¼©åçš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">with</span> wave.<span class="built_in">open</span>(<span class="string">&#x27;./output/encode.wav&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> wav_out:</span><br><span class="line">            <span class="comment"># è®¾ç½®å‚æ•°</span></span><br><span class="line">            wav_out.setparams((nchannels, sampwidth, framerate, nframes, comptype, compname))</span><br><span class="line">            <span class="comment"># å†™å…¥</span></span><br><span class="line">            wav_out.writeframes(compressed_data)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;G.711 A-law encoding is done&#x27;</span>)</span><br><span class="line"></span><br><span class="line">            </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    input_path = <span class="string">&quot;./input/wav6.wav&quot;</span></span><br><span class="line">    encode_G711(input_path)</span><br><span class="line">    input_path = <span class="string">&quot;./output/encode.wav&quot;</span></span><br><span class="line">    decode_G711(input_path)</span><br></pre></td></tr></table></figure><p>å› ä¸ºå¤„ç†çš„ç»“æœä¸è‡ªè¡Œç¼–ç¨‹å®ç°çš„å¤„ç†ç»“æœä¸€æ ·ï¼Œå› æ­¤æˆ‘åªå±•ç¤ºè‡ªè¡Œç¼–ç¨‹å®ç°çš„è¿‡ç¨‹ï¼Œå¤„ç†ç»“æœåœ¨[é‡åŒ–â€”â€”ç¼–ç ](# é‡åŒ–â€”â€”ç¼–ç )ä¸[é‡åŒ–â€”â€”è§£ç ](# é‡åŒ–â€”â€”è§£ç )éƒ¨åˆ†æœ‰å±•ç¤ºã€‚</p><h3 id="åŸç†ç¼–ç¨‹å®ç°"><a href="#åŸç†ç¼–ç¨‹å®ç°" class="headerlink" title="åŸç†ç¼–ç¨‹å®ç°"></a>åŸç†ç¼–ç¨‹å®ç°</h3><p>æ ¹æ®G711 Aå¾‹ç¼–ç çš„åŸç†ï¼Œè¦å®ç°ç¼–ç éœ€è¦ç»è¿‡é‡‡æ ·ã€é‡åŒ–ã€ç¼–ç ä¸‰ä¸ªè¿‡ç¨‹ã€‚</p><ul><li>é‡‡æ ·ï¼šå°†è¿ç»­çš„éŸ³é¢‘æ•°æ®è¿›è¡Œç¦»æ•£åŒ–ï¼Œæ­¤æ­¥éª¤è¿˜éœ€è¦å°†éŸ³é¢‘bitæµè½¬åŒ–ä¸ºæ•´æ•°ã€‚</li><li>é‡åŒ–ï¼šå°†ç¦»æ•£åŒ–çš„æ•°æ®æŒ‰ç…§13æŠ˜ç°æ³•çš„é‡åŒ–èŒƒå›´æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šæ•°é‡çš„é‡åŒ–çº§åˆ«ä¸Šã€‚</li><li>ç¼–ç ï¼šå°†æ•´æ•°è½¬åŒ–ä¸ºbitæµï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª8ä½æˆ–è€…16ä½äºŒè¿›åˆ¶æ•°æ®ã€‚</li></ul><h4 id="é‡‡æ ·"><a href="#é‡‡æ ·" class="headerlink" title="é‡‡æ ·"></a>é‡‡æ ·</h4><p><code>audioop</code>åº“ä¸­çš„<code>linear2alaw</code>ä¸<code>alaw2linear</code>å‡½æ•°ï¼Œé‡‡æ ·ä¸è½¬åŒ–bitæµçš„è¿‡ç¨‹å¹¶æ²¡æœ‰ä½“ç°ã€‚æ‰€ä»¥ï¼Œä¸èƒ½åƒè°ƒç”¨<code>audioop</code>åº“ä¸€æ ·ç®€å•ä½¿ç”¨<code>wave</code>è¯»å–éŸ³é¢‘æ•°æ®ï¼Œå°†bitæµè½¬åŒ–ä¸ºæ•´æ•°çš„è¿‡ç¨‹ä¹Ÿéœ€è¦å•ç‹¬å®ç°ï¼Œä¸”éœ€è¦æ ¹æ®ä¸åŒçš„éŸ³é¢‘æ ¼å¼é‡‡å–ä¸åŒçš„è½¬åŒ–ç­–ç•¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wave</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_audio</span>(<span class="params">input_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è¯»å–éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :param input_path: éŸ³é¢‘è·¯å¾„</span></span><br><span class="line"><span class="string">    :return: è¯»å–å‡ºçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(input_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> wav_in:</span><br><span class="line">        <span class="comment"># è·å–éŸ³é¢‘æ ¼å¼ä¿¡æ¯</span></span><br><span class="line">        nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;éŸ³é¢‘æ ¼å¼ä¿¡æ¯ï¼š&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å£°é“æ•°ï¼š<span class="subst">&#123;nchannels&#125;</span>,æ ·æœ¬å¤§å°ï¼š<span class="subst">&#123;sampwidth&#125;</span> ,é‡‡æ ·ç‡ï¼š<span class="subst">&#123;framerate&#125;</span> ,é‡‡æ ·ç‚¹æ•°ï¼š<span class="subst">&#123;nframes&#125;</span>,&quot;</span></span><br><span class="line">              <span class="string">f&quot;å‹ç¼©ç±»å‹ï¼š<span class="subst">&#123;comptype&#125;</span>ï¼Œcompnameï¼š<span class="subst">&#123;compname&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¯»å–æ‰€æœ‰é‡‡æ ·å€¼</span></span><br><span class="line">        frames = wav_in.readframes(nframes)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ ¹æ®ä¸åŒçš„sampwidthé‡‡å–ä¸åŒçš„è¯»å–ç­–ç•¥</span></span><br><span class="line">        <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">            <span class="comment"># å¯¹äºé‡‡æ ·æ·±åº¦ä¸º1çš„éŸ³é¢‘ï¼Œé‡‡å–ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚è¯»å…¥</span></span><br><span class="line">            audio_data = np.frombuffer(frames, dtype=np.int8).reshape(-<span class="number">1</span>, nchannels).copy()</span><br><span class="line">        <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">            <span class="comment"># å¯¹äºé‡‡æ ·æ·±åº¦ä¸º2çš„éŸ³é¢‘ï¼Œé‡‡å–ä¸¤ä¸ªä¸¤ä¸ªå­—èŠ‚è¯»å…¥</span></span><br><span class="line">            audio_data = np.frombuffer(frames, dtype=np.int16).reshape(-<span class="number">1</span>, nchannels).copy()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(audio_data.shape)</span></span><br><span class="line">        <span class="comment"># å¦‚æœéŸ³é¢‘ä¸ºåŒå£°é“ï¼Œéœ€è¦å°†å…¶åˆ†ä¸ºå·¦å³å£°é“</span></span><br><span class="line">        <span class="keyword">if</span> nchannels == <span class="number">2</span>:</span><br><span class="line">            left_channel = audio_data[:, <span class="number">0</span>]</span><br><span class="line">            right_channel = audio_data[:, <span class="number">1</span>]</span><br><span class="line">            <span class="comment"># å°†å·¦å³å£°é“æ•°æ®è£…å…¥ä¸€ä¸ªlistä¸­</span></span><br><span class="line">            left_right_data = [left_channel, right_channel]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left_right_data = [audio_data[:, <span class="number">0</span>]]</span><br><span class="line">    <span class="keyword">return</span> left_right_data, nchannels, sampwidth, framerate, nframes</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸åŒçš„sampwidthï¼Œä½¿ç”¨<code>np.frombuffer</code>è¯»å–æ—¶ï¼Œè¯»å–åçš„è¿”å›å€¼ä¸ºæ•´æ•°åˆ—è¡¨ï¼Œå¯¹äºä¸åŒçš„é‡‡æ ·å®½åº¦ï¼š</p><ul><li>sampwidth &#x3D; 1 æ—¶ï¼Œ<code>dtype=np.int8</code>é‡‡å–ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚è¯»å…¥çš„æ–¹å¼</li><li>sampwidth &#x3D; 2 æ—¶ï¼Œ<code>dtype=np.int16</code>é‡‡å–ä¸¤ä¸ªä¸¤ä¸ªå­—èŠ‚è¯»å…¥çš„æ–¹å¼</li></ul><p>å½“è¾“å…¥éŸ³é¢‘çš„å£°é“æ•°ä¸º2æ—¶ï¼Œä¸èƒ½ç›´æ¥åƒå•å£°é“é‚£æ ·ç›´æ¥å¤„ç†ï¼Œè€Œæ˜¯åº”è¯¥å°†å·¦å³å£°é“åˆ†å¼€å¤„ç†ï¼Œåç»­å¯¹å…¶åˆ†åˆ«è¿›è¡Œç¼–ç ä¸è§£ç çš„æ“ä½œã€‚<code>reshape(-1, nchannels)</code>æ˜¯ä¸ºäº†æ–¹ä¾¿å°†é‡‡æ ·æ•°æ®åˆ†ç¦»ã€‚</p><ul><li>nchannels &#x3D; 2 æ—¶ï¼Œå°†é‡‡æ ·æ•°æ®åˆ†ä¸º<code>audio_data[:, 0]</code>å’Œ<code>audio_data[:, 1]</code></li><li>nchannels &#x3D; 1 æ—¶ï¼Œä¸è¿›è¡Œåˆ†å¼€å¤„ç†ï¼Œä½†ä¸ºäº†æ ¼å¼ä¸<code>nchannels = 2</code>ä¿æŒä¸€è‡´ï¼Œè¿˜æ˜¯ä½¿ç”¨<code>[audio_data[:, 0]]</code>ä½œä¸ºæœ€åçš„è¯»å–ç»“æœã€‚</li></ul><h4 id="é‡åŒ–â€”â€”ç¼–ç "><a href="#é‡åŒ–â€”â€”ç¼–ç " class="headerlink" title="é‡åŒ–â€”â€”ç¼–ç "></a>é‡åŒ–â€”â€”ç¼–ç </h4><p>å¯¹è½¬åŒ–ä¸ºæ•´æ•°çš„æ•°æ®åˆ—è¡¨ï¼Œæ ¹æ®13æŠ˜ç°æ³•è¿›è¡Œç¼–ç é‡åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> alive_progress <span class="keyword">import</span> alive_bar</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¦å·ä½æ©ç </span></span><br><span class="line">SIGN_BIT = <span class="number">128</span></span><br><span class="line"><span class="comment"># é‡åŒ–ä½æ©ç </span></span><br><span class="line">QUANT_MASK = <span class="number">15</span></span><br><span class="line"><span class="comment"># æ®µåç§»ç </span></span><br><span class="line">SEG_SHIFT = <span class="number">4</span></span><br><span class="line"><span class="comment"># æ®µæ©ç </span></span><br><span class="line">SEG_MASK = <span class="number">112</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ç¼–ç çš„åˆ’åˆ†ç‚¹</span></span><br><span class="line">seg_aend = [<span class="number">31</span>, <span class="number">63</span>, <span class="number">127</span>, <span class="number">255</span>, <span class="number">511</span>, <span class="number">1023</span>, <span class="number">2047</span>, <span class="number">4095</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">linear2alaw</span>(<span class="params">audio_data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å¯¹éŸ³é¢‘æ•°æ®è¿›è¡ŒG711Aå¾‹ç¼–ç </span></span><br><span class="line"><span class="string">    :param audio_data: å¾…ç¼–ç éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :return: ç¼–ç åçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç”¨äºå‚¨å­˜ç¼–ç ç»“æœ</span></span><br><span class="line">    result = <span class="built_in">list</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---G711 a-law encoding begins---&quot;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿›åº¦æ¡æ–¹ä¾¿æŸ¥çœ‹å¤„ç†è¿›åº¦</span></span><br><span class="line">    <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(audio_data), force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">        <span class="keyword">for</span> pcm_val <span class="keyword">in</span> audio_data:</span><br><span class="line">            <span class="comment"># å³ç§» 3 ä½ç›¸å½“äºé™¤ä»¥ 8</span></span><br><span class="line">            pcm_val = pcm_val &gt;&gt; <span class="number">3</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># è®¾ç½®æ©ç å€¼</span></span><br><span class="line">            <span class="keyword">if</span> pcm_val &gt;= <span class="number">0</span>:</span><br><span class="line">                mask = <span class="number">213</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mask = <span class="number">85</span></span><br><span class="line">                pcm_val = -pcm_val - <span class="number">1</span></span><br><span class="line">            <span class="comment"># ç¡®å®špcm_valæ‰€å±çš„æ®µ</span></span><br><span class="line">            seg = search(pcm_val, seg_aend, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è¶…å‡ºé¢„æœŸçº¿æ€§æ®µèŒƒå›´</span></span><br><span class="line">            <span class="keyword">if</span> seg &gt;= <span class="number">8</span>:</span><br><span class="line">                result.append(<span class="number">127</span> ^ mask)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># è®¡ç®—ç¼–ç å€¼çš„é«˜ 3 ä½</span></span><br><span class="line">                aval = seg &lt;&lt; SEG_SHIFT</span><br><span class="line">                <span class="keyword">if</span> seg &lt; <span class="number">2</span>:</span><br><span class="line">                    aval |= (pcm_val &gt;&gt; <span class="number">1</span>) &amp; QUANT_MASK</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    aval |= (pcm_val &gt;&gt; seg) &amp; QUANT_MASK</span><br><span class="line">                <span class="comment"># è®¡ç®—å®Œæ•´ A-law ç¼–ç å€¼å¹¶æ·»åŠ åˆ°resultä¸­</span></span><br><span class="line">                result.append(aval ^ mask)</span><br><span class="line">            bar()</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><h4 id="é‡åŒ–â€”â€”è§£ç "><a href="#é‡åŒ–â€”â€”è§£ç " class="headerlink" title="é‡åŒ–â€”â€”è§£ç "></a>é‡åŒ–â€”â€”è§£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">alaw2linear</span>(<span class="params">encode_data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    G711 aå¾‹è§£ç </span></span><br><span class="line"><span class="string">    :param encode_data: ç»è¿‡ç¼–ç çš„éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :return: è§£ç åçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç”¨äºå‚¨å­˜è§£ç ç»“æœ</span></span><br><span class="line">    result = <span class="built_in">list</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---G711 a-law decoding begins---&quot;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿›åº¦æ¡æ–¹ä¾¿æŸ¥çœ‹å¤„ç†è¿›åº¦</span></span><br><span class="line">    <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(encode_data), force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">        <span class="keyword">for</span> a_val <span class="keyword">in</span> encode_data:</span><br><span class="line">            <span class="comment"># å°†æ­£è´Ÿåˆ†ç¦»</span></span><br><span class="line">            a_val ^= <span class="number">85</span></span><br><span class="line">            <span class="comment"># è®¡ç®— t çš„ä½ 12 ä½</span></span><br><span class="line">            t = (a_val &amp; QUANT_MASK) &lt;&lt; <span class="number">4</span></span><br><span class="line">            <span class="comment"># è®¡ç®—çº¿æ€§æ®µç´¢å¼•</span></span><br><span class="line">            seg = (a_val &amp; SEG_MASK) &gt;&gt; SEG_SHIFT</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è®¡ç®—è§£ç å€¼</span></span><br><span class="line">            <span class="keyword">if</span> seg == <span class="number">0</span>:</span><br><span class="line">                t += <span class="number">8</span></span><br><span class="line">            <span class="keyword">elif</span> seg == <span class="number">1</span>:</span><br><span class="line">                t += <span class="number">264</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                t += <span class="number">264</span></span><br><span class="line">                t &lt;&lt;= seg - <span class="number">1</span></span><br><span class="line">            <span class="comment"># ç¡®å®šç¬¦å·å¹¶å°†ç»“æœåŠ å…¥result</span></span><br><span class="line">            <span class="keyword">if</span> a_val &amp; SIGN_BIT:</span><br><span class="line">                result.append(t)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result.append(-t)</span><br><span class="line">            bar()</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><h4 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h4><p>å› ä¸ºåœ¨<code>read_audio</code>å‡½æ•°ï¼ˆéŸ³é¢‘è¯»å–éƒ¨åˆ†ï¼‰æˆ‘ä»¬å¯¹<code>nchannels = 2</code>çš„éŸ³é¢‘è¿›è¡Œäº†åˆ†å¼€å¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿å­˜éŸ³é¢‘çš„éƒ¨åˆ†éœ€è¦å°†åˆ†å¼€çš„åçš„éŸ³é¢‘æ•°æ®åˆå¹¶ï¼Œè¿™è¾¹æˆ‘ä½¿ç”¨<code>np.column_stack</code>å°†åˆ†ç¦»åçš„æ•°æ®åˆå¹¶ã€‚</p><p>å¯¹äº<code>nchannels = 1çš„éŸ³é¢‘æ•°æ®ï¼Œå› ä¸ºåœ¨</code>read_audio<code>å‡½æ•°ä¸­ä¿æŒäº†ç›¸åŒçš„æ ¼å¼ï¼Œæ‰€ä»¥å¦ä¸€ä¸ªå£°é“æ•°æ®ä¸º</code>[]&#96;ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> wave</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> chain</span><br><span class="line"><span class="keyword">from</span> alive_progress <span class="keyword">import</span> alive_bar</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_audio</span>(<span class="params">output_path, data, nchannels, sampwidth, framerate, nframes, processbar=<span class="number">1</span></span>):</span><br><span class="line">    <span class="comment"># å°†æ‰€æœ‰é€šé“çš„æ•°æ®ç»„åˆ</span></span><br><span class="line">    recovered_audio_data = np.column_stack(<span class="built_in">tuple</span>(data))</span><br><span class="line">    data = recovered_audio_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(sampwidth)</span></span><br><span class="line">    <span class="comment"># è·å–è¿›åº¦æ¡çš„æ€»è¿›åº¦</span></span><br><span class="line">    <span class="keyword">if</span> nchannels == <span class="number">2</span>:</span><br><span class="line">        processbar = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†æ•´æ•°æ•°ç»„è½¬æ¢ä¸ºå­—èŠ‚æµ</span></span><br><span class="line">    byte_stream = io.BytesIO()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---Audio is being synthesized---&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(data) * processbar, force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">            <span class="keyword">for</span> sample <span class="keyword">in</span> chain.from_iterable(data):</span><br><span class="line">                <span class="comment"># &#x27;B&#x27;ï¼šæ— ç¬¦å·æ•´æ•°ï¼Œå°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º1å­—èŠ‚çš„å­—ç¬¦ä¸²</span></span><br><span class="line">                byte_stream.write(struct.pack(<span class="string">&#x27;B&#x27;</span>, sample))</span><br><span class="line">                bar()</span><br><span class="line">    <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(data) * processbar, force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">            <span class="keyword">for</span> sample <span class="keyword">in</span> chain.from_iterable(data):</span><br><span class="line">                <span class="comment"># &#x27;h&#x27; æœ‰ç¬¦å·çŸ­æ•´å‹ï¼Œå°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º2å­—èŠ‚çš„å­—ç¬¦ä¸²</span></span><br><span class="line">                byte_stream.write(struct.pack(<span class="string">&#x27;h&#x27;</span>, <span class="built_in">int</span>(sample)))</span><br><span class="line">                bar()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å­—èŠ‚æµå†™å…¥</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(output_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> wav_out:</span><br><span class="line">        <span class="comment"># è®¾ç½®éŸ³é¢‘å‚æ•°</span></span><br><span class="line">        wav_out.setnchannels(nchannels)</span><br><span class="line">        wav_out.setsampwidth(sampwidth)</span><br><span class="line">        wav_out.setframerate(framerate)</span><br><span class="line">        wav_out.setnframes(nframes)</span><br><span class="line">        <span class="comment"># æŒ‰ç…§å‚æ•°å°†å­—èŠ‚æµå†™å…¥</span></span><br><span class="line">        wav_out.writeframes(byte_stream.getvalue())</span><br><span class="line">    <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;---G.711 A-law encoding is done---&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;---G.711 A-law decoding is done---&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;The audio is saved in &#x27;<span class="subst">&#123;output_path&#125;</span>&#x27;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span> * <span class="number">100</span>)</span><br></pre></td></tr></table></figure><p>å¯¹äºæ•´æ•°æ•°ç»„è½¬æ¢ä¸ºå­—èŠ‚æµçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºä¸åŒçš„<code>sampwidth</code>ï¼Œæˆ‘ä»¬éœ€è¦é‡‡å–ä¸åŒäºŒè¿›åˆ¶æ‰“åŒ…ç­–ç•¥ï¼Œä¸ç„¶æ— æ³•æ­£ç¡®è¾“å‡ºéŸ³é¢‘æ–‡ä»¶ã€‚</p><ul><li>sampwidth &#x3D; 1 æ—¶ï¼Œæ•°æ®ç»è¿‡<code>linear2alaw</code>å‡½æ•°çš„ç¼–ç ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º1å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨<code>&#39;B&#39;ï¼šæ— ç¬¦å·æ•´æ•°</code>çš„æ‰“åŒ…æ ¼å¼</li><li>sampwidth &#x3D; 1 æ—¶ï¼Œæ•°æ®ç»è¿‡<code>alaw2linear</code>å‡½æ•°çš„è§£ç ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º2å­—èŠ‚çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨<code>&#39;h&#39;ï¼šæœ‰ç¬¦å·çŸ­æ•´å‹</code>çš„æ‰“åŒ…æ ¼å¼</li></ul><p>åœ¨æœ€åä½¿ç”¨<code>wav</code>è¿›è¡ŒéŸ³é¢‘æ–‡ä»¶çš„è¾“å‡ºæ—¶ï¼Œæ ¹æ®ç›®çš„ä¸åŒä½¿ç”¨ä¸åŒçš„<code>sampwidth </code>å–å€¼ã€‚</p><ul><li>ç¼–ç åçš„æ•°æ®ï¼Œé‡‡æ ·ä½æ·±ä¸€èˆ¬ç”± 2 â†’ 1ã€‚</li><li>è§£ç åçš„æ•°æ®ï¼Œé‡‡æ ·ä½æ·±ä¸€èˆ¬ç”± 1 â†’ 2ã€‚</li></ul><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>ç”±äºåœ¨<code>read_audio</code>å‡½æ•°ä¸­å°†å·¦å³å£°é“æ•°æ®åˆ†å¼€åæ‰“åŒ…è£…å…¥<code>left_right_data</code>åˆ—è¡¨ä¸­ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å¾ªç¯å°†å…¶å–å‡ºã€‚å¤„ç†åå°†å…¶æ‰“åŒ…è£…å…¥<code>data</code>åˆ—è¡¨ä¸­ï¼Œæ–¹ä¾¿åç»­<code>save_audio</code>å‡½æ•°å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">test_g711</span>(<span class="params">audio_data, <span class="built_in">type</span>=<span class="number">1</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å¯¹éŸ³é¢‘è¿›è¡Œç¼–ç ä¸è§£ç æ“ä½œ</span></span><br><span class="line"><span class="string">    :param audio_data:å¾…å¤„ç†çš„éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :param type:å¤„ç†ç±»å‹ï¼š1-ç¼–ç  2-è§£ç </span></span><br><span class="line"><span class="string">    :return:å¤„ç†åçš„æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="comment"># è¯»å–æ‰€æœ‰é€šé“çš„éŸ³é¢‘ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">for</span> channel <span class="keyword">in</span> audio_data:</span><br><span class="line">        <span class="comment"># ç¼–ç æ“ä½œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span> == <span class="number">1</span>:</span><br><span class="line">            encoded_channel = linear2alaw(channel)</span><br><span class="line">            data.append(encoded_channel)</span><br><span class="line">        <span class="comment"># è§£ç æ“ä½œ</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            decoded_channel = alaw2linear(channel)</span><br><span class="line">            data.append(decoded_channel)</span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><h5 id="G711Aå¾‹ç¼–ç ç»“æœ"><a href="#G711Aå¾‹ç¼–ç ç»“æœ" class="headerlink" title="G711Aå¾‹ç¼–ç ç»“æœ"></a>G711Aå¾‹ç¼–ç ç»“æœ</h5><p>æµ‹è¯•å¯¹è±¡æˆ‘é€‰æ‹©äº†<code>wav5.wav</code>ã€<code>wav6.wav</code>ä½œä¸ºå¤„ç†å¯¹è±¡ï¼Œåˆ†åˆ«å¯¹åº”éŸ³é¢‘å•å£°é“ä¸åŒå£°é“çš„æƒ…å†µã€‚ä¸‹é¢åªå±•ç¤º<code>linear2alaw</code>å‡½æ•°å¤„ç†çš„ç»“æœã€‚</p><p>ç»“æœåŠåˆ†æï¼š</p><ul><li><p><code>wav5.wav</code></p><p>ç¨‹åºè¾“å‡ºç»“æœï¼š</p><img src="https://z4a.net/images/2023/05/05/wav5_en.png" alt="image-20230505164211005" style="zoom: 67%;" /><p>ä½¿ç”¨<code>ffprobe -i wav5_encode.wav -show_format</code>å‘½ä»¤æŸ¥çœ‹æ ¼å¼ä¿¡æ¯ï¼š</p><img src="https://z4a.net/images/2023/05/05/wav5_or_en.png" alt="image-20230505164602673" style="zoom: 80%;" /></li><li><p><code>wav6.wav</code></p><p>ç¨‹åºè¾“å‡ºç»“æœï¼š</p><img src="https://z4a.net/images/2023/05/05/wav6_en.png" alt="image-20230505164329917" style="zoom:67%;" /><p>ä½¿ç”¨<code>ffprobe -i wav6_encode.wav -show_format</code>å‘½ä»¤æŸ¥çœ‹æ ¼å¼ä¿¡æ¯ï¼š</p></li></ul><img src="https://z4a.net/images/2023/05/05/wav6_or_en.png" alt="image-20230505164758748" style="zoom:80%;" /><p><strong>ä»æ ¼å¼ä¸Šå¯ä»¥çœ‹å‡ºï¼Œ<code>size</code>ä¸<code>bit_rate</code>éƒ½ç›¸æ¯”åŸéŸ³é¢‘å‡å°‘äº†çº¦1&#x2F;2</strong>ã€‚å…¶ä»–å‚æ•°å¹¶æ²¡æœ‰æ˜æ˜¾å˜åŒ–ã€‚æ’­æ”¾ç¼–ç åçš„éŸ³é¢‘<code>wav5_encode.wav</code>å’Œ<code>wav6_encode.wav</code>ï¼Œ<strong>å¯ä»¥å¬å‡ºæœ‰éå¸¸æ˜æ˜¾çš„æ‚éŸ³ï¼Œç±»ä¼¼äºè€ç”µè§†æœºçš„æ²™æ²™å£°ï¼Œä½†æ˜¯äººå£°å¾—ä»¥ä¿ç•™ï¼Œæœ‰ä¸€éƒ¨åˆ†è¯­éŸ³ç¡®å®æœ‰äº›æŸåï¼Œåªæœ‰ä»”ç»†æ‰èƒ½å¬å‡ºè¯´è¯çš„å†…å®¹ã€‚</strong></p><h5 id="G711Aå¾‹è§£ç ç»“æœ"><a href="#G711Aå¾‹è§£ç ç»“æœ" class="headerlink" title="G711Aå¾‹è§£ç ç»“æœ"></a>G711Aå¾‹è§£ç ç»“æœ</h5><p>æµ‹è¯•å¯¹è±¡ä½¿ç”¨ç¼–ç åçš„<code>wav5_encode.wav</code>ã€<code>wav6_encode.wav</code>ï¼Œåˆ†åˆ«å¯¹åº”éŸ³é¢‘å•å£°é“ä¸åŒå£°é“çš„æƒ…å†µã€‚ä¸‹é¢åªå±•ç¤º<code>alaw2linear</code>å‡½æ•°å¤„ç†çš„ç»“æœï¼Œä½¿ç”¨<code>audioop</code>åº“çš„å¤„ç†ç»“æœç›¸åŒã€‚</p><p>ç»“æœåŠåˆ†æï¼š</p><ul><li><p><code>wav5_encode.wav</code></p><img src="https://z4a.net/images/2023/05/05/wav5_de.png" alt="image-20230505165948766" style="zoom:67%;" /><p>ä½¿ç”¨<code>ffprobe -i wav5_decode.wav -show_format</code>å‘½ä»¤æŸ¥çœ‹æ ¼å¼ä¿¡æ¯ï¼š</p><img src="https://z4a.net/images/2023/05/05/wav5_en_de.png" alt="image-20230505170215701" style="zoom: 67%;" /></li><li><p><code>wav6_encode.wav</code></p><img src="https://z4a.net/images/2023/05/05/wav6_de.png" alt="image-20230505170017115" style="zoom:67%;" /><p>ä½¿ç”¨<code>ffprobe -i wav6_decode.wav -show_format</code>å‘½ä»¤æŸ¥çœ‹æ ¼å¼ä¿¡æ¯ï¼š</p><img src="https://z4a.net/images/2023/05/05/wav6_en_de.png" alt="image-20230505170339724" style="zoom:67%;" /></li></ul><p>ä»æ ¼å¼ä¸Šå¯ä»¥çœ‹å‡º<code>wav5_decode.wav</code>ä¸<code>wav6_decode.wav</code>çš„<code>size</code>ä¸<code>bit_rate</code>åˆ†åˆ«æ˜¯<code>wav5_encode.wav</code>ä¸<code>wav6_encode.wav</code>çš„ä¸¤å€ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸¤é¡¹æŒ‡æ•°å›åˆ°äº†åŸéŸ³é¢‘çš„æ°´å‡†ã€‚</p><p>ä½¿ç”¨æ’­æ”¾å™¨æ’­æ”¾<code>wav5_decode.wav</code>ä¸<code>wav6_decode.wav</code>ï¼Œä¸åŸéŸ³é¢‘<code>wav5.wav</code>ã€<code>wav6.wav</code>å¬èµ·æ¥å‡ ä¹æ²¡æœ‰å·®åˆ«ã€‚</p><h5 id="æ•ˆç‡ä¸è¿›åº¦æ¡"><a href="#æ•ˆç‡ä¸è¿›åº¦æ¡" class="headerlink" title="æ•ˆç‡ä¸è¿›åº¦æ¡"></a>æ•ˆç‡ä¸è¿›åº¦æ¡</h5><p>å¦‚æœè¾“å‡ºçš„æ˜¯è€å¸ˆå‡†å¤‡çš„<code>youjianchuiyan.wav</code>ï¼ˆæ—¶é•¿ï¼š3åˆ†15ç§’ï¼‰ï¼Œé‚£ä¹ˆå¤„ç†æ—¶é•¿ä¼šæœ‰ç‚¹é•¿ï¼ˆ2åˆ†åŠå·¦å³ï¼‰ã€‚å› ä¸ºè¿è¡Œæ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥ä¸ºäº†æ›´åŠ ç›´è§‚æŸ¥çœ‹åˆ°å¤„ç†çš„è¿‡ç¨‹ï¼Œæˆ‘é‡‡ç”¨<code>alive_bar</code>åº“å¯¹ç¼–ç ã€è§£ç ã€è½¬æ¢ä¸ºå­—èŠ‚æµçš„éƒ¨åˆ†æ·»åŠ ä¸Šäº†è¿›åº¦æ¡ï¼Œè¿™åœ¨ç¼–è§£ç ä¸ç»“æœå±•ç¤ºéƒ¨åˆ†ä¹Ÿæœ‰ä½“ç°ã€‚</p><img src="https://z4a.net/images/2023/05/05/youjian_en_de.png" alt="image-20230505190307758" style="zoom: 67%;" /><p>è¿™æ˜¯å› ä¸ºç¼–ç å‡½æ•°<code>linear2alaw</code>ä¸è§£ç å‡½æ•°<code>alaw2linear</code>ä½¿ç”¨çš„æ˜¯forå¾ªç¯å¯¹å€¼è¿›è¡Œä¸€ä¸ªä¸ªçš„å¤„ç†ï¼Œå› æ­¤å¤„ç†æ•ˆç‡è¾ƒä¸ºä½ä¸‹ã€‚ä½†æ˜¯ç¼–ç ä¸è§£ç çš„è¿‡ç¨‹å¯ä»¥å®Œç¾çš„å®ç°ï¼Œä¸”å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†éŸ³é¢‘çš„G711Aå¾‹å‹æ‰©çš„è¦æ±‚ã€‚</p><h3 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> wave</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> chain</span><br><span class="line"><span class="keyword">from</span> alive_progress <span class="keyword">import</span> alive_bar</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¦å·ä½æ©ç </span></span><br><span class="line">SIGN_BIT = <span class="number">128</span></span><br><span class="line"><span class="comment"># é‡åŒ–ä½æ©ç </span></span><br><span class="line">QUANT_MASK = <span class="number">15</span></span><br><span class="line"><span class="comment"># æ®µåç§»ç </span></span><br><span class="line">SEG_SHIFT = <span class="number">4</span></span><br><span class="line"><span class="comment"># æ®µæ©ç </span></span><br><span class="line">SEG_MASK = <span class="number">112</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ç¼–ç çš„åˆ’åˆ†ç‚¹</span></span><br><span class="line">seg_aend = [<span class="number">31</span>, <span class="number">63</span>, <span class="number">127</span>, <span class="number">255</span>, <span class="number">511</span>, <span class="number">1023</span>, <span class="number">2047</span>, <span class="number">4095</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">val, array, size</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åœ¨ç»™å®šæ•°ç»„ä¸­æŸ¥æ‰¾ valå°äºç­‰äºçš„å…ƒç´ ï¼Œå¹¶è¿”å›ç´¢å¼•</span></span><br><span class="line"><span class="string">    :param val: è¾“å…¥å€¼</span></span><br><span class="line"><span class="string">    :param array: åˆ’åˆ†ç‚¹åˆ—è¡¨</span></span><br><span class="line"><span class="string">    :param size: çº¿æ€§æ®µçš„æ•°ç›®</span></span><br><span class="line"><span class="string">    :return: è¿”å›çº¿æ€§æ®µç´¢å¼•</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(size):</span><br><span class="line">        <span class="keyword">if</span> val &lt;= array[i]:</span><br><span class="line">            <span class="keyword">return</span> i</span><br><span class="line">    <span class="keyword">return</span> size</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">linear2alaw</span>(<span class="params">audio_data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å¯¹éŸ³é¢‘æ•°æ®è¿›è¡ŒG711Aå¾‹ç¼–ç </span></span><br><span class="line"><span class="string">    :param audio_data: å¾…ç¼–ç éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :return: ç¼–ç åçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç”¨äºå‚¨å­˜ç¼–ç ç»“æœ</span></span><br><span class="line">    result = <span class="built_in">list</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---G711 a-law encoding begins---&quot;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿›åº¦æ¡æ–¹ä¾¿æŸ¥çœ‹å¤„ç†è¿›åº¦</span></span><br><span class="line">    <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(audio_data), force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">        <span class="keyword">for</span> pcm_val <span class="keyword">in</span> audio_data:</span><br><span class="line">            <span class="comment"># å³ç§» 3 ä½ç›¸å½“äºé™¤ä»¥ 8</span></span><br><span class="line">            pcm_val = pcm_val &gt;&gt; <span class="number">3</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># è®¾ç½®æ©ç å€¼</span></span><br><span class="line">            <span class="keyword">if</span> pcm_val &gt;= <span class="number">0</span>:</span><br><span class="line">                mask = <span class="number">213</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                mask = <span class="number">85</span></span><br><span class="line">                pcm_val = -pcm_val - <span class="number">1</span></span><br><span class="line">            <span class="comment"># ç¡®å®špcm_valæ‰€å±çš„æ®µ</span></span><br><span class="line">            seg = search(pcm_val, seg_aend, <span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è¶…å‡ºé¢„æœŸçº¿æ€§æ®µèŒƒå›´</span></span><br><span class="line">            <span class="keyword">if</span> seg &gt;= <span class="number">8</span>:</span><br><span class="line">                result.append(<span class="number">127</span> ^ mask)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># è®¡ç®—ç¼–ç å€¼çš„é«˜ 3 ä½</span></span><br><span class="line">                aval = seg &lt;&lt; SEG_SHIFT</span><br><span class="line">                <span class="keyword">if</span> seg &lt; <span class="number">2</span>:</span><br><span class="line">                    aval |= (pcm_val &gt;&gt; <span class="number">1</span>) &amp; QUANT_MASK</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    aval |= (pcm_val &gt;&gt; seg) &amp; QUANT_MASK</span><br><span class="line">                <span class="comment"># è®¡ç®—å®Œæ•´ A-law ç¼–ç å€¼å¹¶æ·»åŠ åˆ°resultä¸­</span></span><br><span class="line">                result.append(aval ^ mask)</span><br><span class="line">            bar()</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">alaw2linear</span>(<span class="params">encode_data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    G711 aå¾‹è§£ç </span></span><br><span class="line"><span class="string">    :param encode_data: ç»è¿‡ç¼–ç çš„éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :return: è§£ç åçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># ç”¨äºå‚¨å­˜è§£ç ç»“æœ</span></span><br><span class="line">    result = <span class="built_in">list</span>()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---G711 a-law decoding begins---&quot;</span>)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿›åº¦æ¡æ–¹ä¾¿æŸ¥çœ‹å¤„ç†è¿›åº¦</span></span><br><span class="line">    <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(encode_data), force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">        <span class="keyword">for</span> a_val <span class="keyword">in</span> encode_data:</span><br><span class="line">            <span class="comment"># å°†æ­£è´Ÿåˆ†ç¦»</span></span><br><span class="line">            a_val ^= <span class="number">85</span></span><br><span class="line">            <span class="comment"># è®¡ç®— t çš„ä½ 12 ä½</span></span><br><span class="line">            t = (a_val &amp; QUANT_MASK) &lt;&lt; <span class="number">4</span></span><br><span class="line">            <span class="comment"># è®¡ç®—çº¿æ€§æ®µç´¢å¼•</span></span><br><span class="line">            seg = (a_val &amp; SEG_MASK) &gt;&gt; SEG_SHIFT</span><br><span class="line"></span><br><span class="line">            <span class="comment"># è®¡ç®—è§£ç å€¼</span></span><br><span class="line">            <span class="keyword">if</span> seg == <span class="number">0</span>:</span><br><span class="line">                t += <span class="number">8</span></span><br><span class="line">            <span class="keyword">elif</span> seg == <span class="number">1</span>:</span><br><span class="line">                t += <span class="number">264</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                t += <span class="number">264</span></span><br><span class="line">                t &lt;&lt;= seg - <span class="number">1</span></span><br><span class="line">            <span class="comment"># ç¡®å®šç¬¦å·å¹¶å°†ç»“æœåŠ å…¥result</span></span><br><span class="line">            <span class="keyword">if</span> a_val &amp; SIGN_BIT:</span><br><span class="line">                result.append(t)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                result.append(-t)</span><br><span class="line">            bar()</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_audio</span>(<span class="params">input_path</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è¯»å–éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :param input_path: éŸ³é¢‘è·¯å¾„</span></span><br><span class="line"><span class="string">    :return: è¯»å–å‡ºçš„éŸ³é¢‘æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(input_path, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> wav_in:</span><br><span class="line">        <span class="comment"># è·å–éŸ³é¢‘æ ¼å¼ä¿¡æ¯</span></span><br><span class="line">        nchannels, sampwidth, framerate, nframes, comptype, compname = wav_in.getparams()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;éŸ³é¢‘æ ¼å¼ä¿¡æ¯ï¼š&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;å£°é“æ•°ï¼š<span class="subst">&#123;nchannels&#125;</span>,æ ·æœ¬å¤§å°ï¼š<span class="subst">&#123;sampwidth&#125;</span> ,é‡‡æ ·ç‡ï¼š<span class="subst">&#123;framerate&#125;</span> ,é‡‡æ ·ç‚¹æ•°ï¼š<span class="subst">&#123;nframes&#125;</span>,&quot;</span></span><br><span class="line">              <span class="string">f&quot;å‹ç¼©ç±»å‹ï¼š<span class="subst">&#123;comptype&#125;</span>ï¼Œcompnameï¼š<span class="subst">&#123;compname&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¯»å–æ‰€æœ‰é‡‡æ ·å€¼</span></span><br><span class="line">        frames = wav_in.readframes(nframes)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ ¹æ®ä¸åŒçš„sampwidthé‡‡å–ä¸åŒçš„è¯»å–ç­–ç•¥</span></span><br><span class="line">        <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">            <span class="comment"># å¯¹äºé‡‡æ ·æ·±åº¦ä¸º1çš„éŸ³é¢‘ï¼Œé‡‡å–ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚è¯»å…¥</span></span><br><span class="line">            audio_data = np.frombuffer(frames, dtype=np.int8).reshape(-<span class="number">1</span>, nchannels).copy()</span><br><span class="line">        <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">            <span class="comment"># å¯¹äºé‡‡æ ·æ·±åº¦ä¸º2çš„éŸ³é¢‘ï¼Œé‡‡å–ä¸¤ä¸ªä¸¤ä¸ªå­—èŠ‚è¯»å…¥</span></span><br><span class="line">            audio_data = np.frombuffer(frames, dtype=np.int16).reshape(-<span class="number">1</span>, nchannels).copy()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(audio_data.shape)</span></span><br><span class="line">        <span class="comment"># å¦‚æœéŸ³é¢‘ä¸ºåŒå£°é“ï¼Œéœ€è¦å°†å…¶åˆ†ä¸ºå·¦å³å£°é“</span></span><br><span class="line">        <span class="keyword">if</span> nchannels == <span class="number">2</span>:</span><br><span class="line">            left_channel = audio_data[:, <span class="number">0</span>]</span><br><span class="line">            right_channel = audio_data[:, <span class="number">1</span>]</span><br><span class="line">            <span class="comment"># å°†å·¦å³å£°é“æ•°æ®è£…å…¥ä¸€ä¸ªlistä¸­</span></span><br><span class="line">            left_right_data = [left_channel, right_channel]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left_right_data = [audio_data[:, <span class="number">0</span>]]</span><br><span class="line">    <span class="keyword">return</span> left_right_data, nchannels, sampwidth, framerate, nframes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">save_audio</span>(<span class="params">output_path, data, nchannels, sampwidth, framerate, nframes, processbar=<span class="number">1</span></span>):</span><br><span class="line">    <span class="comment"># å°†æ‰€æœ‰é€šé“çš„æ•°æ®ç»„åˆ</span></span><br><span class="line">    recovered_audio_data = np.column_stack(<span class="built_in">tuple</span>(data))</span><br><span class="line">    data = recovered_audio_data</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(sampwidth)</span></span><br><span class="line">    <span class="comment"># è·å–è¿›åº¦æ¡çš„æ€»è¿›åº¦</span></span><br><span class="line">    <span class="keyword">if</span> nchannels == <span class="number">2</span>:</span><br><span class="line">        processbar = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å…ƒç»„è½¬æ¢ä¸ºå­—èŠ‚æµ</span></span><br><span class="line">    byte_stream = io.BytesIO()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;---Audio is being synthesized---&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(data) * processbar, force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">            <span class="keyword">for</span> sample <span class="keyword">in</span> chain.from_iterable(data):</span><br><span class="line">                <span class="comment"># &#x27;B&#x27;ï¼šæ— ç¬¦å·æ•´æ•°ï¼Œå°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º1å­—èŠ‚çš„å­—ç¬¦ä¸²</span></span><br><span class="line">                byte_stream.write(struct.pack(<span class="string">&#x27;B&#x27;</span>, sample))</span><br><span class="line">                bar()</span><br><span class="line">    <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">with</span> alive_bar(<span class="built_in">len</span>(data) * processbar, force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">            <span class="keyword">for</span> sample <span class="keyword">in</span> chain.from_iterable(data):</span><br><span class="line">                <span class="comment"># &#x27;h&#x27; è¡¨ç¤ºæœ‰ç¬¦å·çŸ­æ•´å‹ï¼Œå°†æ•´æ•°è½¬æ¢ä¸ºä¸€ä¸ªé•¿åº¦ä¸º2å­—èŠ‚çš„å­—ç¬¦ä¸²</span></span><br><span class="line">                byte_stream.write(struct.pack(<span class="string">&#x27;h&#x27;</span>, <span class="built_in">int</span>(sample)))</span><br><span class="line">                bar()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†å­—èŠ‚æµå†™å…¥</span></span><br><span class="line">    <span class="keyword">with</span> wave.<span class="built_in">open</span>(output_path, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> wav_out:</span><br><span class="line">        <span class="comment"># è®¾ç½®éŸ³é¢‘å‚æ•°</span></span><br><span class="line">        wav_out.setnchannels(nchannels)</span><br><span class="line">        wav_out.setsampwidth(sampwidth)</span><br><span class="line">        wav_out.setframerate(framerate)</span><br><span class="line">        wav_out.setnframes(nframes)</span><br><span class="line">        <span class="comment"># æŒ‰ç…§å‚æ•°å°†å­—èŠ‚æµå†™å…¥</span></span><br><span class="line">        wav_out.writeframes(byte_stream.getvalue())</span><br><span class="line">    <span class="keyword">if</span> sampwidth == <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;---G.711 A-law encoding is done---&#x27;</span>)</span><br><span class="line">    <span class="keyword">elif</span> sampwidth == <span class="number">2</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;---G.711 A-law decoding is done---&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;The audio is saved in &#x27;<span class="subst">&#123;output_path&#125;</span>&#x27;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span> * <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_g711</span>(<span class="params">audio_data, <span class="built_in">type</span>=<span class="number">1</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    å¯¹éŸ³é¢‘è¿›è¡Œç¼–ç ä¸è§£ç æ“ä½œ</span></span><br><span class="line"><span class="string">    :param audio_data:å¾…å¤„ç†çš„éŸ³é¢‘æ•°æ®</span></span><br><span class="line"><span class="string">    :param type:å¤„ç†ç±»å‹ï¼š1-ç¼–ç  2-è§£ç </span></span><br><span class="line"><span class="string">    :return:å¤„ç†åçš„æ•°æ® -&gt; list</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    data = []</span><br><span class="line">    <span class="comment"># è¯»å–æ‰€æœ‰é€šé“çš„éŸ³é¢‘ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">for</span> channel <span class="keyword">in</span> audio_data:</span><br><span class="line">        <span class="comment"># ç¼–ç æ“ä½œ</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span> == <span class="number">1</span>:</span><br><span class="line">            encoded_channel = linear2alaw(channel)</span><br><span class="line">            data.append(encoded_channel)</span><br><span class="line">        <span class="comment"># è§£ç æ“ä½œ</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            decoded_channel = alaw2linear(channel)</span><br><span class="line">            data.append(decoded_channel)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># ç¼–ç </span></span><br><span class="line">    input_path = <span class="string">&quot;./input/wav6.wav&quot;</span></span><br><span class="line">    audio_data, nchannels, sampwidth, framerate, nframes = read_audio(input_path)</span><br><span class="line">    encoded_data = test_g711(audio_data, <span class="built_in">type</span>=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># print(encoded_data)</span></span><br><span class="line">    save_audio(output_path=<span class="string">&quot;./output/encode_demo.wav&quot;</span>, data=encoded_data, nchannels=nchannels, sampwidth=<span class="number">1</span>,</span><br><span class="line">               framerate=framerate, nframes=nframes)</span><br><span class="line">    <span class="comment"># è§£ç </span></span><br><span class="line">    encode_path = <span class="string">&quot;./output/encode_demo.wav&quot;</span></span><br><span class="line">    audio_data, nchannels, sampwidth, framerate, nframes = read_audio(encode_path)</span><br><span class="line">    decoded_data = test_g711(audio_data, <span class="built_in">type</span>=<span class="number">2</span>)</span><br><span class="line">    save_audio(output_path=<span class="string">&quot;./output/decode_demo.wav&quot;</span>, data=decoded_data, nchannels=nchannels, sampwidth=<span class="number">2</span>,</span><br><span class="line">               framerate=framerate, nframes=nframes)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> éŸ³è§†é¢‘ä¿¡å·å¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> éŸ³è§†é¢‘ä¿¡å·å¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCV-é«˜æ–¯é‡‘å­—å¡”</title>
      <link href="/post/ji-qi-shi-jue-sheng-cheng-gao-si-jin-zi-ta/"/>
      <url>/post/ji-qi-shi-jue-sheng-cheng-gao-si-jin-zi-ta/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœºå™¨è§†è§‰æ˜¯æœ¬å­¦æœŸçš„ä¸“ä¸šè¯¾ï¼Œä¸Šäº†å‡ èŠ‚è¯¾æ„Ÿè§‰å’Œæ•°å­—å›¾åƒå¤„ç†æœ‰å¾ˆå¤šçŸ¥è¯†ç‚¹æ˜¯ç›¸åŒçš„ï¼Œæ¯•ç«Ÿæœºå™¨è§†è§‰æ–¹é¢çš„ç ”ç©¶åº•å­éƒ½å¾ˆåšï¼Œç¡¬ä»¶è½¯ä»¶æ–¹é¢éƒ½æœ‰æ¶‰åŠï¼Œå®éªŒä¸€å°±æ˜¯ç›¸æœºçš„å‡ ä½•æ ‡å®šï¼Œè·å¾—ç›¸æœºçš„å†…éƒ¨å‚æ•°ä»€ä¹ˆçš„ï¼Œè™½ç„¶å®Œæˆäº†ï¼Œä½†äº‹åæ€»æ„Ÿè§‰æœ‰ç‚¹æ„ä¹‰ä¸æ˜ï¼Œæ¯•ç«Ÿè¯¾å ‚ä¸Šå­¦åˆ°çš„ä¸œè¥¿ä¸€ç‚¹æ²¡ç”¨åˆ°ï¼Œä»¥åä¹Ÿä¸éœ€è¦è¿™æ ·æµ‹å®šå‡ ä½•å‚æ•°ã€‚è¿˜åœ¨è¯¾å ‚ä¸Šå¾—çŸ¥ç¥ç»ç½‘ç»œçš„å°è¶£é—»ï¼Œé‚£è¯´å®è¯ï¼Œç§‘å­¦ç•Œæ™®éä¸çœ‹å¥½ç¥ç»ç½‘ç»œä¹Ÿä¸æ˜¯æ²¡æœ‰åŸå› ï¼Œè¿™ä¸œè¥¿æœ¬è´¨å°±æ˜¯â€œæ˜ å°„â€ï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆç†è®ºåŸºç¡€ï¼Œæ²¡äººçŸ¥é“ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå‡ºä¹æ„æ–™å°±æ˜¯æ•ˆæœä¸é”™ï¼Œåœ¨è¯†åˆ«é¢†åŸŸåè¶…äº†ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰ã€‚ä½†æ˜¯ç”±äºä¸æ¸…æ¥šåº•å±‚åŸç†ï¼Œæ•´ä¸ªæ¨¡å‹å‡ºæ¥äº†å°±ä¸èƒ½å†æ”¹ï¼Œæ”¹äº†å°±å¾—é‡æ–°è®­ç»ƒï¼Œåˆ›æ–°åŸºæœ¬å°±æ˜¯å‡ ä¸ªæ„æˆéƒ¨åˆ†å¢åˆ é‡ç»„ï¼Œç»™äººçš„æ„Ÿè§‰å°±æ˜¯ç¢°è¿æ°”ï¼Œæ—¶é—´æˆæœ¬ç›¸å½“é«˜ã€‚ç›¸åçš„ï¼Œæœºå™¨è§†è§‰åœ¨åŸºç¡€ç ”ç©¶é¢†åŸŸæœ‰ç€æ·±åšçš„æ ¹åŸºï¼Œæ‰€ä»¥ç›¸å¯¹æœ‰è¿¹å¯å¾ªã€‚</p><p>æœ¬æ¬¡å®éªŒæ˜¯ç”Ÿæˆå›¾åƒçš„é«˜æ–¯é‡‘å­—å¡”ï¼Œæœ¬è´¨ä¹Ÿå°±æ˜¯ç”Ÿæˆåœ¨ä¸åŒè¿œè¿‘ç¨‹åº¦ä¸‹çš„ç¼©ç•¥å›¾ã€‚æœ¬å®éªŒè¿ç”¨åˆ°<code>OpenCV</code>ã€<code>Matplotlib</code>å’Œ<code>numpy</code>ä¸‰ä¸ªåº“ï¼Œä½†ä¸ä¼šç›´æ¥è°ƒç”¨<code>OpenCV</code>ä¸­çš„<code>pyrDown</code>å‡½æ•°ï¼Œè€Œæ˜¯å°½é‡ä»åŸç†å‡ºå‘è¿›è¡Œç¼–ç¨‹å®ç°ã€‚</p><h2 id="ç®—æ³•åŸç†"><a href="#ç®—æ³•åŸç†" class="headerlink" title="ç®—æ³•åŸç†"></a>ç®—æ³•åŸç†</h2><h3 id="é«˜æ–¯æ»¤æ³¢"><a href="#é«˜æ–¯æ»¤æ³¢" class="headerlink" title="é«˜æ–¯æ»¤æ³¢"></a>é«˜æ–¯æ»¤æ³¢</h3><p>é«˜æ–¯æ»¤æ³¢å™¨æ˜¯ä¸€ç§çº¿æ€§å¹³æ»‘å·ç§¯æ»¤æ³¢å™¨ï¼Œé€šå¸¸ç”¨äºå›¾åƒå¤„ç†ä¸­çš„å¹³æ»‘æ»¤æ³¢æ“ä½œã€‚è¯¥æ»¤æ³¢å™¨å°†æ¯ä¸ªåƒç´ ç‚¹å‘¨å›´çš„åƒç´ ç‚¹æŒ‰ç…§æƒé‡è¿›è¡Œå¹³å‡ï¼Œç”¨ä»¥å®ç°å›¾åƒçš„å¹³æ»‘æ•ˆæœã€‚</p><p>é«˜æ–¯æ»¤æ³¢å™¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯å¯¹å›¾åƒè¿›è¡ŒåŠ æƒå¹³å‡å¤„ç†ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä½¿ç”¨é«˜æ–¯å‡½æ•°æ¥ç¡®å®šæƒé‡å€¼ã€‚é«˜æ–¯å‡½æ•°æ˜¯ä¸€ç§å¸¸è§çš„è¿ç»­åˆ†å¸ƒå‡½æ•°ï¼Œå…¶å½¢å¼ä¸º:</p><div align="center">    <svg xmlns="http://www.w3.org/2000/svg" width="23.348ex" height="5.94ex" viewBox="0 -1405.5 10319.8 2625.5" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style=""><defs><path id="MJX-104-TEX-I-1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path><path id="MJX-104-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-104-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-104-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-104-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-104-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-104-TEX-SO-221A" d="M263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249Z"></path><path id="MJX-104-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-104-TEX-I-1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path><path id="MJX-104-TEX-N-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><use xlink:href="#MJX-104-TEX-I-1D43A"></use></g><g data-mml-node="mo" transform="translate(786, 0)"><use xlink:href="#MJX-104-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(1175, 0)"><use xlink:href="#MJX-104-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1747, 0)"><use xlink:href="#MJX-104-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2413.8, 0)"><use xlink:href="#MJX-104-TEX-N-3D"></use></g><g data-mml-node="mfrac" transform="translate(3469.6, 0)"><g data-mml-node="mn" transform="translate(2003, 676)"><use xlink:href="#MJX-104-TEX-N-31"></use></g><g data-mml-node="mrow" transform="translate(220, -962.5)"><g data-mml-node="mo"><use xlink:href="#MJX-104-TEX-N-28"></use></g><g data-mml-node="msqrt" transform="translate(389, 0)"><g transform="translate(1020, 0)"><g data-mml-node="mn"><use xlink:href="#MJX-104-TEX-N-32"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(500, 0)"><g data-mml-node="mo"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">Ï€</text></g></g></g><g data-mml-node="mo" transform="translate(0, 92.5)"><use xlink:href="#MJX-104-TEX-SO-221A"></use></g><rect width="1384" height="60" x="1020" y="882.5"></rect></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2793, 0)"><g data-mml-node="mo"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">Ïƒ</text></g></g><g data-mml-node="mo" transform="translate(3677, 0)"><use xlink:href="#MJX-104-TEX-N-29"></use></g></g><rect width="4266" height="60" x="120" y="220"></rect></g><g data-mml-node="msup" transform="translate(7975.6, 0)"><g data-mml-node="mi"><use xlink:href="#MJX-104-TEX-I-1D452"></use></g><g data-mml-node="TeXAtom" transform="translate(466, 612.4) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><use xlink:href="#MJX-104-TEX-N-2212"></use></g><g data-mml-node="mfrac" transform="translate(778, 0)"><g data-mml-node="msup" transform="translate(507.1, 394) scale(0.707)"><g data-mml-node="mi"><use xlink:href="#MJX-104-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(572, 363)"><use xlink:href="#MJX-104-TEX-N-32"></use></g></g><g data-mml-node="mrow" transform="translate(220, -568.3) scale(0.707)"><g data-mml-node="mn"><use xlink:href="#MJX-104-TEX-N-32"></use></g><g data-mml-node="msup" transform="translate(500, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mo"><text data-variant="normal" transform="matrix(1 0 0 -1 0 0)" font-size="884px" font-family="serif">Ïƒ</text></g></g><g data-mml-node="mn" transform="translate(884, 364)"><use xlink:href="#MJX-104-TEX-N-32"></use></g></g></g><rect width="1567.5" height="60" x="120" y="220"></rect></g></g></g></g></g></svg></div><p>å…¶ä¸­ï¼Œxè¡¨ç¤ºè·ç¦»ä¸­å¿ƒåƒç´ çš„åç§»é‡ï¼ŒÏƒè¡¨ç¤ºé«˜æ–¯å‡½æ•°çš„æ ‡å‡†å·®ã€‚åº”ç”¨é«˜æ–¯å‡½æ•°å¯ä»¥å¾—åˆ°ä¸€ä¸ªå‘ˆé’Ÿå½¢çš„æƒé‡å‡½æ•°ï¼Œå¹¶ä¸”è¶Šé è¿‘ä¸­å¿ƒç‚¹çš„æƒé‡è¶Šé«˜ï¼Œè¶Šè¿œç¦»ä¸­å¿ƒç‚¹çš„æƒé‡è¶Šä½ã€‚</p><p>åœ¨é«˜æ–¯æ»¤æ³¢ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¸€ä¸ªå¤§å°ä¸º<code>n*n</code>çš„æ»¤æ³¢å™¨æ ¸å¯¹å›¾åƒè¿›è¡Œå·ç§¯æ“ä½œã€‚æ ¸ä¸­çš„æ¯é¡¹æƒé‡ä½¿ç”¨é«˜æ–¯å‡½æ•°è®¡ç®—è€Œæˆï¼Œå› æ­¤æ¯ä¸ªåƒç´ ç‚¹éƒ½ä¼šå—åˆ°å‘¨å›´åƒç´ ç‚¹çš„å½±å“ã€‚ä¸­å¿ƒç‚¹çš„æƒé‡æœ€å¤§ï¼Œè¶Šé è¿‘ä¸­å¿ƒç‚¹çš„åƒç´ çš„æƒé‡è¶Šé«˜ï¼Œè€Œè¶Šé è¿œç¦»ä¸­å¿ƒç‚¹çš„åƒç´ çš„æƒé‡è¶Šä½ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿéå¸¸æœ‰æ•ˆåœ°å»é™¤å›¾åƒä¸­çš„å™ªå£°ã€å¹³æ»‘å›¾åƒç­‰ã€‚</p><h3 id="é«˜æ–¯å›¾åƒé‡‘å­—å¡”"><a href="#é«˜æ–¯å›¾åƒé‡‘å­—å¡”" class="headerlink" title="é«˜æ–¯å›¾åƒé‡‘å­—å¡”"></a>é«˜æ–¯å›¾åƒé‡‘å­—å¡”</h3><p>å›¾åƒé«˜æ–¯é‡‘å­—å¡”æ˜¯ä¸€ç§åœ¨å›¾åƒå¤„ç†ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼Œç”¨äºå¯¹å›¾åƒè¿›è¡Œå¤šå°ºåº¦åˆ†è§£å’Œé™é‡‡æ ·ã€‚è¯¥æ–¹æ³•é€šè¿‡å¯¹å›¾åƒè¿›è¡Œå¹³æ»‘å’Œä¸‹é‡‡æ ·æ“ä½œï¼Œç”Ÿæˆå›¾åƒçš„ä¸åŒåˆ†è¾¨ç‡çš„ç‰ˆæœ¬ï¼Œä»è€Œå®ç°å¤šå°ºåº¦å›¾åƒå¤„ç†ã€‚</p><p>ç”Ÿæˆè¿‡ç¨‹ä¸ºï¼š</p><ol><li>é¦–å…ˆå°†åŸå›¾åƒä½œä¸ºæœ€åº•å±‚å›¾åƒ level0ï¼ˆé«˜æ–¯é‡‘å­—å¡”çš„ç¬¬0å±‚ï¼‰</li><li>åˆ©ç”¨é«˜æ–¯æ ¸å¯¹å…¶è¿›è¡Œå·ç§¯</li><li>å¯¹å·ç§¯åçš„å›¾åƒè¿›è¡Œä¸‹é‡‡æ ·ï¼ˆå»é™¤å¶æ•°è¡Œå’Œåˆ—ï¼‰å¾—åˆ°ä¸Šä¸€å±‚å›¾åƒG1</li><li>å°†æ­¤å›¾åƒä½œä¸ºè¾“å…¥ï¼Œé‡å¤2ä¸3çš„æ“ä½œå¾—åˆ°æ›´ä¸Šä¸€å±‚çš„å›¾åƒï¼Œåå¤è¿­ä»£å¤šæ¬¡</li><li>æœ€åå½¢æˆå½¢æˆä¸€ä¸ªé‡‘å­—å¡”å½¢çš„å›¾åƒæ•°æ®ç»“æ„ï¼Œå³é«˜æ–¯é‡‘å­—å¡”ã€‚</li></ol><img src="https://z4a.net/images/2023/04/23/guass_pyramid.jpg" alt="é«˜æ–¯é‡‘å­—å¡”" style="zoom:80%;" /><h2 id="ç®—æ³•å®ç°åŠç»“æœåˆ†æ"><a href="#ç®—æ³•å®ç°åŠç»“æœåˆ†æ" class="headerlink" title="ç®—æ³•å®ç°åŠç»“æœåˆ†æ"></a>ç®—æ³•å®ç°åŠç»“æœåˆ†æ</h2><h3 id="é«˜æ–¯æ»¤æ³¢å‡½æ•°"><a href="#é«˜æ–¯æ»¤æ³¢å‡½æ•°" class="headerlink" title="é«˜æ–¯æ»¤æ³¢å‡½æ•°"></a>é«˜æ–¯æ»¤æ³¢å‡½æ•°</h3><p>æœ¬æ¬¡å®éªŒæˆ‘é‡‡ç”¨Pythonè¯­è¨€ï¼Œç´ æä¸ºå†ˆè¨é›·æ–¯å›¾ç‰‡ç´ æï¼Œä¸ºå®éªŒæ–¹ä¾¿è£å‰ªä¸ºæ­£æ–¹ä½“ã€‚</p><img src="https://z4a.net/images/2023/04/23/input.png" alt="image-20230423145614779" style="zoom:80%;" /><p>æœ¬å®éªŒè¿ç”¨åˆ°<code>OpenCV</code>ã€<code>Matplotlib</code>å’Œ<code>numpy</code>ä¸‰ä¸ªåº“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><p>æ ¹æ®é«˜æ–¯æ»¤æ³¢çš„åŸç†ç¼–å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">gaussian_blur</span>(<span class="params">img, K_size=<span class="number">3</span>, sigma=<span class="number">1.3</span></span>):  </span><br><span class="line">    <span class="string">&quot;&quot;&quot; </span></span><br><span class="line"><span class="string">    é«˜æ–¯æ»¤æ³¢å™¨ </span></span><br><span class="line"><span class="string">    :param img: è¾“å…¥å›¾åƒ </span></span><br><span class="line"><span class="string">    :param K_size: æ ¸å‡½æ•°å¤§å° </span></span><br><span class="line"><span class="string">    :param sigma: Ïƒ </span></span><br><span class="line"><span class="string">    :return: æ»¤æ³¢åçš„å›¾åƒ </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>  </span><br><span class="line">    H, W, C = img.shape  </span><br><span class="line">    <span class="comment"># Zero padding  </span></span><br><span class="line">    pad = K_size // <span class="number">2</span>  </span><br><span class="line">    <span class="comment"># é»‘è¾¹å¡«å……åä¼šå‡ºç°å¤§é»‘è¾¹  </span></span><br><span class="line">    <span class="comment"># out = np.pad(img, ((pad, pad), (pad, pad), (0, 0)),&#x27;constant&#x27;, constant_values=0)  </span></span><br><span class="line">    <span class="comment"># ç”¨å›¾åƒè¾¹ç¼˜åƒç´ è¿›è¡Œå¡«å……  </span></span><br><span class="line">    out = cv2.copyMakeBorder(img, pad, pad, pad, pad, borderType=cv2.BORDER_REPLICATE)  </span><br><span class="line">    <span class="comment"># åˆ›å»ºå’Œå‡½æ•°  </span></span><br><span class="line">    K = np.zeros((K_size, K_size), dtype=<span class="built_in">float</span>)  </span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(-pad, -pad + K_size):  </span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(-pad, -pad + K_size):  </span><br><span class="line">            K[y + pad, x + pad] = np.exp(-(x ** <span class="number">2</span> + y ** <span class="number">2</span>) / (<span class="number">2</span> * (sigma ** <span class="number">2</span>)))  </span><br><span class="line">    K /= (<span class="number">2</span> * np.pi * sigma * sigma)  </span><br><span class="line">    K /= K.<span class="built_in">sum</span>()  </span><br><span class="line">    tmp = out.copy()  </span><br><span class="line">    <span class="comment"># æ»¤æ³¢  </span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(H):  </span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(W):  </span><br><span class="line">            <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(C):  </span><br><span class="line">                out[pad + y, pad + x, c] = np.<span class="built_in">sum</span>(K * tmp[y: y + K_size, x: x + K_size, c])  </span><br><span class="line">    <span class="comment"># å°†æ•°å€¼è½¬åŒ–ä¸ºRGBé™åˆ¶èŒƒå›´  </span></span><br><span class="line">    out = np.clip(out, <span class="number">0</span>, <span class="number">255</span>)  </span><br><span class="line">    <span class="comment"># è½¬åŒ–æ ¼å¼ï¼šunit8  </span></span><br><span class="line">    out = out[pad: pad + H, pad: pad + W].astype(<span class="string">&quot;uint8&quot;</span>)  </span><br><span class="line">    <span class="keyword">return</span> out  </span><br></pre></td></tr></table></figure><p>è¿™è¾¹æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œåœ¨æ»¤æ³¢ä¹‹å‰çš„ï¼Œä¸ºäº†å‡å°è¾¹ç¼˜å¤„åƒç´ å¯¹è®¡ç®—çš„å½±å“ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬éœ€è¦ç»™å›¾åƒå¡«å……è¾¹ç¼˜ï¼Œè¾¹ç¼˜å¤§å°ä¸€èˆ¬ä¸º(æ¨¡æ¿å¤§å°&#x2F;&#x2F; 2)ã€‚è¿™æ—¶å€™æœ‰ä¸¤ç§æ–¹æ¡ˆå¡«å……æ–¹æ¡ˆã€‚ç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯é‡‡ç”¨å¸¸æ•°å¡«å……ï¼Œç¬¬äºŒç§æ–¹æ¡ˆæ˜¯ç›´æ¥é‡‡ç”¨å›¾åƒè¾¹ç¼˜åƒç´ å¡«å……ã€‚æˆ‘é€‰æ‹©ç¬¬äºŒç§æ–¹æ¡ˆï¼Œå…·ä½“åŸå› åœ¨[æµ‹è¯•ä¸ç»“æœåˆ†æ](# æµ‹è¯•ä¸ç»“æœåˆ†æ)éƒ¨åˆ†è¯´æ˜ã€‚ </p><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç æµ‹è¯•æ»¤æ³¢æ•ˆæœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é«˜æ–¯æ»¤æ³¢ </span></span><br><span class="line">GaussianBlur_imag1 = gaussian_blur(img, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line">GaussianBlur_imag2 = gaussian_blur(img, <span class="number">5</span>, <span class="number">1</span>)</span><br><span class="line">GaussianBlur_imag3 = gaussian_blur(img, <span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">title_list = [<span class="string">&quot;Original&quot;</span>, <span class="string">&quot;size=(3,3)\n Ïƒ=1&quot;</span>, <span class="string">&quot;size=(5,5)\n Ïƒ=1&quot;</span>, <span class="string">&quot;size=(5,5)\n Ïƒ=3&quot;</span>]</span><br><span class="line">img_list = [img, GaussianBlur_imag1, GaussianBlur_imag2, GaussianBlur_imag3]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•ç¤ºå›¾åƒ </span></span><br><span class="line">plt.figure(dpi=<span class="number">100</span>, figsize=(<span class="number">10</span>, <span class="number">10</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>):</span><br><span class="line">    plt.subplot(<span class="number">2</span>, <span class="number">2</span>, i)</span><br><span class="line">    plt.title(title_list[i - <span class="number">1</span>])</span><br><span class="line">    plt.imshow(img_list[i - <span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>é«˜æ–¯æ»¤æ³¢å™¨æ»¤æ³¢æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="https://z4a.net/images/2023/04/23/guass_blur.png" alt="image-20230423145655763" style="zoom:80%;" /><p>ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œå¹³æ»‘æ•ˆæœéšç€<code>kernel</code>ä¸<code>Ïƒ</code>çš„å¢å¤§è€Œå¢å¼ºã€‚é«˜æ–¯æ»¤æ³¢åæœ‰æ˜æ˜¾çš„æ¨¡ç³Šç°è±¡ã€‚</p><h3 id="ç”Ÿæˆé«˜æ–¯é‡‘å­—å¡”"><a href="#ç”Ÿæˆé«˜æ–¯é‡‘å­—å¡”" class="headerlink" title="ç”Ÿæˆé«˜æ–¯é‡‘å­—å¡”"></a>ç”Ÿæˆé«˜æ–¯é‡‘å­—å¡”</h3><p>å›¾åƒé«˜æ–¯é‡‘å­—å¡”æœ‰ä¸¤ä¸ªè¿‡ç¨‹ï¼Œä¸€æ˜¯å‘ä¸‹é‡‡æ ·ï¼ŒäºŒæ˜¯é«˜æ–¯æ»¤æ³¢ã€‚</p><p>å‘ä¸‹é‡‡æ ·æœ¬è´¨å°±æ˜¯ç¼©å°å›¾åƒå°ºå¯¸æ¥è¾¾åˆ°é™ä½åˆ†è¾¨ç‡çš„ç›®çš„ï¼Œä»¥ç”Ÿæˆå›¾åƒçš„ç¼©ç•¥å›¾ã€‚ç¼©å°çš„è¿‡ç¨‹å¯ä»¥é‡‡ç”¨<code>OpenCV</code>è‡ªå¸¦çš„<code>resize</code>å‡½æ•°æ¥å®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">downsample</span>(<span class="params">img, scale=<span class="number">0.5</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; </span></span><br><span class="line"><span class="string">    ä¸‹é‡‡æ · </span></span><br><span class="line"><span class="string">    :param img: è¾“å…¥å›¾åƒ </span></span><br><span class="line"><span class="string">    :param scale: ç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0.5 </span></span><br><span class="line"><span class="string">    :return: ä¸‹é‡‡æ ·åçš„å›¾åƒ </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    h, w = img.shape[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    new_h = <span class="built_in">int</span>(h * scale)</span><br><span class="line">    new_w = <span class="built_in">int</span>(w * scale)</span><br><span class="line">    <span class="comment"># é‡‡ç”¨åŒçº¿æ€§çš„æ–¹æ³• </span></span><br><span class="line">    result = cv2.resize(img, (new_h, new_w), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure><p>åœ¨æ›´æ”¹å¤§å°æ—¶ï¼Œæ’å€¼æ–¹å¼æˆ‘é‡‡ç”¨äº†æœ€å¸¸ç”¨ä¸”æ•ˆæœä¸é”™çš„åŒçº¿æ€§æ’å€¼ã€‚<strong>é»˜è®¤æŒ‰ç…§ç¼©æ”¾å€ç‡0.5è¿›è¡Œç¼©æ”¾</strong>ã€‚</p><p>åœ¨é«˜æ–¯æ»¤æ³¢å’Œä¸‹é‡‡æ ·å®ç°çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥æŒ‰ç…§åŸç†å®ç°é«˜æ–¯é‡‘å­—å¡”å‡½æ•°çš„ç¼–å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">pyramid</span>(<span class="params">imag, floors, guass_kernel</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; </span></span><br><span class="line"><span class="string">    ç”Ÿæˆå›¾åƒé«˜æ–¯é‡‘å­—å¡” </span></span><br><span class="line"><span class="string">    :param imag: è¾“å…¥å›¾åƒ </span></span><br><span class="line"><span class="string">    :param floors: è¾“å…¥é«˜æ–¯é‡‘å­—å¡”å±‚æ•° </span></span><br><span class="line"><span class="string">    :param guass_kernel: é«˜æ–¯æ»¤æ³¢æ ¸å¤§å° </span></span><br><span class="line"><span class="string">    :return: None </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># æ‰“å°å½“å‰é‡‘å­—å¡”å±‚æ•° </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Total Gaussian pyramid <span class="subst">&#123;floors&#125;</span> levels&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> floors == <span class="number">1</span>:</span><br><span class="line">        plt.figure(dpi=<span class="number">150</span>, figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">        <span class="comment"># å¾—åˆ°ç¬¬é›¶å±‚ </span></span><br><span class="line">        plt.title(<span class="string">&quot;Gaussian pyramid\n 0 level&quot;</span>)</span><br><span class="line">        plt.imshow(img)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        x, y = factor(floors)[<span class="number">0</span>:]</span><br><span class="line">        <span class="comment"># ä¿æŒx&gt;y </span></span><br><span class="line">        x, y = swap(x, y)</span><br><span class="line">        <span class="comment"># æ‰“å°å¸ƒå±€å¤§å° </span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Sub-map layout: row-<span class="subst">&#123;x&#125;</span> column-<span class="subst">&#123;y&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="comment"># ç»˜åˆ¶å›¾åƒ </span></span><br><span class="line">        plt.figure(dpi=<span class="number">150</span>, figsize=(<span class="number">12</span>, <span class="number">8</span>))</span><br><span class="line">        plt.subplot(x, y, <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># å¾—åˆ°ç¬¬é›¶å±‚  </span></span><br><span class="line">        plt.title(<span class="string">&quot;Gaussian pyramid\n 0 level&quot;</span>)</span><br><span class="line">        plt.imshow(img)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, floors + <span class="number">1</span>):</span><br><span class="line">            imag = downsample(imag)</span><br><span class="line">            imag = gaussian_blur(imag, K_size=guass_kernel, sigma=<span class="number">1.3</span>)</span><br><span class="line">            plt.subplot(x, y, i)</span><br><span class="line">            plt.title(<span class="string">f&quot;Gaussian pyramid\n <span class="subst">&#123;i - <span class="number">1</span>&#125;</span> level&quot;</span>)</span><br><span class="line">            plt.imshow(imag)</span><br><span class="line">        <span class="comment"># è®¾ç½®å­å›¾é—´çš„æ°´å¹³å’Œå‚ç›´é—´è· </span></span><br><span class="line">        plt.subplots_adjust(wspace=<span class="number">0.5</span>, hspace=<span class="number">0.35</span>)</span><br><span class="line">    plt.show()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Image created successfully&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç”±åŸå›¾åƒä½œä¸ºé«˜æ–¯é‡‘å­—å¡”çš„ç¬¬0å±‚ï¼Œä¹‹åçš„å±‚æ•°æŒ‰ç…§é‡‡æ ·å’Œæ»¤æ³¢çš„è¿‡ç¨‹å¾ªç¯è¿›è¡Œã€‚<strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºä¸‹é‡‡æ ·æ˜¯æŒ‰ç…§0.5å€ç‡è¿›è¡Œç¼©æ”¾ï¼Œä¸ºäº†é¿å…æŠ¥é”™ï¼Œå› æ­¤è¾“å…¥å›¾åƒæœ€å¥½ä¸ºæ­£æ–¹å½¢å°ºå¯¸</strong>ã€‚åœ¨ä»£ç ç¬¬22è¡Œå‡ºç°äº†ä¸€ä¸ªåä¸º<code>factor()</code>çš„å‡½æ•°ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šè®²åˆ°è¿™ä¸ªå‡½æ•°çš„ä½œç”¨ã€‚</p><h3 id="è¾“å‡ºå›¾åƒæ’å¸ƒè®¾ç½®"><a href="#è¾“å‡ºå›¾åƒæ’å¸ƒè®¾ç½®" class="headerlink" title="è¾“å‡ºå›¾åƒæ’å¸ƒè®¾ç½®"></a>è¾“å‡ºå›¾åƒæ’å¸ƒè®¾ç½®</h3><p>ä¸ºäº†æ›´å¥½å±•ç¤ºæ¯æ¬¡ç¼©æ”¾åçš„å›¾åƒç»†èŠ‚ï¼Œæˆ‘é‡‡ç”¨<code>matplotlib</code>å¯¹å›¾åƒè¿›è¡Œå±•ç¤ºã€‚ä½†æ˜¯æ ¹æ®ä½¿ç”¨è€…æ¯æ¬¡è¾“å…¥çš„floorsçš„ä¸åŒï¼Œæ‰€ç”Ÿæˆçš„å­å›¾æ•°é‡æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><ul><li>è¾“å…¥5æ—¶ï¼Œæ’å¸ƒå¯ä»¥ä¸º<code>subplot(1,5,i)</code>æˆ–è€…<code>subplot(5,1,i)</code></li><li>è¾“å…¥8æ—¶ï¼Œæ’å¸ƒå¯ä»¥ä¸º<code>subplot(2,4,i)</code>æˆ–è€…<code>subplot(4,2,i)</code></li><li>è¾“å…¥6æ—¶ï¼Œæ’å¸ƒå¯ä»¥ä¸º<code>subplot(6,1,i)</code>ã€<code>subplot(1,6,i)</code>ã€<code>subplot(2,3,i)</code>ã€<code>subplot(3,2,i)</code></li></ul><p>è¾“å‡ºå›¾çš„æ•°é‡æ€»æ˜¯éšç€è¾“å…¥åœ¨æ”¹å˜ï¼Œè¿™æ—¶å€™å°±éœ€è¦è€ƒè™‘å¦‚ä½•æ’å¸ƒã€‚</p><p>æœ€ä¸ºç®€å•çš„æ€è·¯å°±æ˜¯è¿›è¡Œå› å¼åˆ†è§£ï¼Œè€Œä¸”éœ€è¦ä¿è¯è¡Œæ•°å¤§äºåˆ—æ•°ï¼Œè¿™æ ·è¾“å‡ºçš„å›¾åƒæ›´åŠ ç¾è§‚ã€‚æŒ‰ç…§åˆ†æç¼–å†™å‡ºä»¥ä¸‹å‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å¾—å­å›¾çš„æ’å¸ƒ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">factor</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æ ¹æ®è·å¾—å­å›¾æ’å¸ƒ</span></span><br><span class="line"><span class="string">    :param num: é‡‘å­—å¡”å±‚æ•°</span></span><br><span class="line"><span class="string">    :return: å­å›¾æ’å¸ƒ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    list1 = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">10</span>):</span><br><span class="line">        temp = <span class="built_in">int</span>(num / i)</span><br><span class="line">        <span class="keyword">if</span> (temp &gt;= <span class="number">1</span>) &amp; (temp * i == num):</span><br><span class="line">            list1.append(i)</span><br><span class="line">            list1.append(temp)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="comment"># list1.append(1) if len(list1) == 1 else None</span></span><br><span class="line">    <span class="keyword">return</span> list1</span><br></pre></td></tr></table></figure><p>è¾“å…¥ç¤ºä¾‹ï¼š</p><ul><li>è¾“å…¥6ï¼š[2,3]</li><li>è¾“å…¥5ï¼š[5,1]</li></ul><p>å‡è®¾è¾“å‡ºç»“æœä¸º[a,b]ï¼Œé‚£ä¹ˆæ ¹æ®ç¤ºä¾‹1ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°<code>a&lt;b</code>çš„æƒ…å†µï¼Œ<strong>è¿™æ ·å°±ä¼šå‡ºç°è¡Œæ•°å¤§äºåˆ—æ•°ï¼Œè¿™æ ·æ’å¸ƒæ˜¯ä¸ç¾è§‚çš„</strong>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è®¾å½“åœºåˆå°†ä»–ä»¬äº¤æ¢ï¼Œä½¿ä¹‹åœ¨ä»»ä½•æƒ…å†µéƒ½ä¿æŒ<code>a&gt;b</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># äº¤æ¢ </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">swap</span>(<span class="params">a, b</span>): <span class="keyword">return</span> (b, a) <span class="keyword">if</span> a &gt; b <span class="keyword">else</span> (a, b)</span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ä¸ç»“æœåˆ†æ"><a href="#æµ‹è¯•ä¸ç»“æœåˆ†æ" class="headerlink" title="æµ‹è¯•ä¸ç»“æœåˆ†æ"></a>æµ‹è¯•ä¸ç»“æœåˆ†æ</h3><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    img = cv2.imread(<span class="string">&quot;./input/test.png&quot;</span>)</span><br><span class="line">    floors = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;Please enter the floors of the pyramid\nï¼ˆThe input number is between 1 and 8ï¼‰ï¼š&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> (floors &lt; <span class="number">1</span>) | (floors &gt; <span class="number">8</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;The floors must be between 1 and 8 &quot;</span>)</span><br><span class="line">        exit()</span><br><span class="line">    pyramid(img, floors=floors, guass_kernel=<span class="number">5</span>)</span><br></pre></td></tr></table></figure><p>å½“<code>floors=8</code>æ—¶ï¼Œå¾—åˆ°çš„å›¾åƒé«˜æ–¯é‡‘å­—å¡”æ¯å±‚å›¾åƒå’Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><img src="https://z4a.net/images/2023/04/23/floor8.png" style="zoom: 50%;" /><p>å½“<code>floors=5</code>æ—¶ï¼Œå›¾åƒä¸è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><img src="https://z4a.net/images/2023/04/23/floor5.png" alt="image-20230423151858533" style="zoom:50%;" /><p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ç»“æœæ²¡æœ‰å‡ºç°å¾ˆå¤§çš„å·®é”™ï¼Œæ’å¸ƒçš„ç»“æœä¹Ÿæ˜¯æ¯”è¾ƒç¾è§‚çš„ï¼Œå½“ç„¶ä¸å¥½çš„åœ°æ–¹å°±æ˜¯èƒ½çœ‹åˆ°éå¸¸æ˜æ˜¾çš„ç™½è¾¹ï¼Œè¿™æ˜¯ç”±äº<code>figsize</code>çš„é™å®šå¤§å°æ‰€å†³å®šçš„ï¼Œå› ä¸º<code>figsize</code>æ— æ³•æ ¹æ®<code>floors</code>çš„å˜æ¢è‡ªé€‚åº”å›¾åƒ(å…¸å‹çš„å°±æ˜¯æ ‡é¢˜é‡å )ï¼Œå°è¯•ä½¿ç”¨<code>subplots_adjust</code>è°ƒæ•´å­å›¾é—´è·ä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œè¿«ä¸å¾—å·²ä½¿ç”¨äº†<code>figsize=(12,8)</code>çš„å¤§å°è®¾å®šã€‚</p><p>æœ‰ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œåœ¨é«˜æ–¯æ»¤æ³¢æ—¶ï¼Œæœ‰ä¸¤ç§å¡«å……æ–¹æ¡ˆã€‚</p><ul><li>ç¬¬ä¸€ç§ï¼šç›´æ¥ç”¨å¸¸æ•°0è¿›è¡Œå¡«å……ã€‚</li><li>ç¬¬äºŒç§ï¼šæ‹¿å›¾åƒçš„è¾¹ç¼˜åƒç´ è¿›è¡Œå¡«å……ã€‚</li></ul><p>å¦‚æœé‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆè¿›è¡Œå¡«å……ï¼Œå¯ä»¥è¾¾åˆ°å¹³æ»‘å›¾åƒè¾¹ç¼˜åƒç´ çš„ç›®çš„ï¼Œä½†æ˜¯åœ¨ç”Ÿæˆé«˜æ–¯é‡‘å­—å¡”è¿™ä¸ªéœ€è¦å¤šæ¬¡å¹³æ»‘çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå®¹æ˜“å‡ºç°å›¾åƒé»‘è¾¹çš„æƒ…å†µï¼Œç›´æ¥å½±å“äº†é«˜æ–¯é‡‘å­—å¡”çš„ç”Ÿæˆæ•ˆæœï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ¡ˆã€‚</p><p>å±•ç¤ºä¸€ä¸‹ç”¨ç¬¬ä¸€ç§æ–¹æ¡ˆçš„<code>floors=8</code>çš„è¾“å‡ºç»“æœï¼š</p><img src="https://z4a.net/images/2023/04/23/floor8_black.png" alt="image-20230423155735686" style="zoom:80%;" /><p>å¯ä»¥çœ‹åˆ°é»‘ç™½çš„å½±å“éšç€é‡‘å­—å¡”å±‚æ•°çš„å¢åŠ æ˜¯é€æ¸åŠ å‰§çš„,ç¬¬7å±‚ç”šè‡³å‡ºç°å®Œå…¨é»‘å›¾çš„æƒ…å†µï¼Œè¿™ä¸¥é‡å½±å“äº†ç”Ÿæˆçš„ç»“æœã€‚å› æ­¤æœ€ç»ˆæˆ‘é€‰æ‹©ç¬¬äºŒç§å¡«å……æ–¹æ¡ˆã€‚</p><h3 id="é‡‘å­—å¡”æ•ˆæœ"><a href="#é‡‘å­—å¡”æ•ˆæœ" class="headerlink" title="é‡‘å­—å¡”æ•ˆæœ"></a>é‡‘å­—å¡”æ•ˆæœ</h3><p>å› ä¸ºè€å¸ˆæƒ³è¦æˆ‘ä»¬è§‚å¯Ÿå›¾åƒçš„ç»†èŠ‚å˜åŒ–ï¼Œæ‰€ä»¥æˆ‘é‡‡ç”¨äº†<code>Matplotlib</code>ä¸€å¼ ä¸€å¼ æ‹¼æ¥å±•ç¤ºï¼Œä¸ºäº†ç¾è§‚ï¼Œè‡ªå·±ä¹ŸæŒ‰ç…§è€å¸ˆè¯¾ä»¶ä¸Šçš„é‡‘å­—å¡”æ•ˆæœç¼–å†™äº†ä¸€ä¸ªç¨‹åºï¼Œæ€»ä½“çš„å¤„ç†æµç¨‹è¿˜æ˜¯ä¸€æ ·ï¼Œåªæ˜¯å¤šäº†æ‹¼æ¥å›¾åƒçš„è¿‡ç¨‹ï¼Œè¿™æ¬¡å°±ç›´æ¥ä½¿ç”¨<code>pyrDown</code>è¿›è¡Œå®ç°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–å›¾åƒ</span></span><br><span class="line">img = cv2.imread(<span class="string">&quot;./input/test.png&quot;</span>)</span><br><span class="line">img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Original: width-<span class="subst">&#123;img.shape[<span class="number">0</span>]&#125;</span> height-<span class="subst">&#123;img.shape[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Extended_Image</span>(<span class="params">img1, img2, model=<span class="number">1</span></span>):</span><br><span class="line">    <span class="keyword">if</span> model == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> img1.shape[<span class="number">1</span>] &lt; img2.shape[<span class="number">1</span>]:</span><br><span class="line">            temp = img1.copy()</span><br><span class="line">            img1 = img2.copy()</span><br><span class="line">            img2 = temp</span><br><span class="line"></span><br><span class="line">        add_height = img1.shape[<span class="number">0</span>] - img2.shape[<span class="number">0</span>]</span><br><span class="line">        add_img = np.zeros((add_height, img2.shape[<span class="number">1</span>], <span class="number">3</span>), np.uint8) + <span class="number">255</span></span><br><span class="line">        result = np.vstack((img2, add_img))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> model == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">if</span> img1.shape[<span class="number">0</span>] &lt; img2.shape[<span class="number">0</span>]:</span><br><span class="line">            temp = img1.copy()</span><br><span class="line">            img1 = img2.copy()</span><br><span class="line">            img2 = temp</span><br><span class="line">        add_width = img1.shape[<span class="number">1</span>] - img2.shape[<span class="number">1</span>]</span><br><span class="line">        add_img = np.zeros((img2.shape[<span class="number">0</span>], add_width, <span class="number">3</span>), np.uint8) + <span class="number">255</span></span><br><span class="line">        result = np.hstack((img2, add_img))</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹é‡‡æ ·</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">downsample</span>(<span class="params">img, scale=<span class="number">2</span></span>):</span><br><span class="line">    h, w = img.shape[<span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line">    new_h = <span class="built_in">int</span>(h / scale)</span><br><span class="line">    new_w = <span class="built_in">int</span>(w / scale)</span><br><span class="line">    result = cv2.resize(img, (new_h, new_w), interpolation=cv2.INTER_LINEAR)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init_guass</span>(<span class="params">img, kernel=(<span class="params"><span class="number">3</span>, <span class="number">3</span></span>)</span>):</span><br><span class="line">    <span class="keyword">return</span> cv2.GaussianBlur(img, kernel, <span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">floors = <span class="built_in">int</span>(<span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;Please enter the floors of the pyramidï¼š&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> floors == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;å½“å‰è¾“å‡ºçš„é‡‘å­—å¡”çš„å±‚æ•°ä¸ºï¼š<span class="subst">&#123;floors&#125;</span>&quot;</span>)</span><br><span class="line">    result = init_guass(img, kernel=(<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">elif</span> floors &lt; <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;floorsåªèƒ½ä¸ºå¤§äº0çš„æ•´æ•°&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">elif</span> floors &gt; <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;Total Gaussian pyramid <span class="subst">&#123;floors&#125;</span> levels&quot;</span>)</span><br><span class="line">    img_1 = cv2.pyrDown(img)</span><br><span class="line">    result = init_guass(img_1, kernel=(<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">    img_1 = result.copy()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(floors - <span class="number">1</span>):</span><br><span class="line">        img_2 = downsample(img_1)</span><br><span class="line">        img_2 = init_guass(img_2, kernel=(<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">        temp_img = Extended_Image(img1=result, img2=img_2, model=<span class="number">2</span>)</span><br><span class="line">        result = np.vstack((result, temp_img))</span><br><span class="line">        img_1 = img_2.copy()</span><br><span class="line"></span><br><span class="line">    temp_img = Extended_Image(img1=img, img2=result, model=<span class="number">1</span>)</span><br><span class="line">    result = np.hstack((img, temp_img))</span><br><span class="line"></span><br><span class="line">plt.figure(dpi=<span class="number">150</span>)</span><br><span class="line">plt.title(<span class="string">f&quot;Gaussian pyramid\n(floors:<span class="subst">&#123;floors&#125;</span>)&quot;</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">plt.imshow(result)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>å½“è¾“å…¥<code>floors=8</code>æ—¶ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><img src="https://z4a.net/images/2023/04/23/pyramid.png" alt="image-20230423160056789" style="zoom:80%;" />]]></content>
      
      
      <categories>
          
          <category> æœºå™¨è§†è§‰ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> OpenCV </tag>
            
            <tag> æœºå™¨è§†è§‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mermaid-åŸºç¡€å›¾çš„ç»˜åˆ¶</title>
      <link href="/post/shi-yong-mermaid-hui-tu/"/>
      <url>/post/shi-yong-mermaid-hui-tu/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä»Šå¤©åœ¨Bç«™ç»™æˆ‘æ¨èäº†ä¸€ä¸ªç»˜åˆ¶æµç¨‹å›¾çš„è§†é¢‘ï¼Œå…¶ä¸­æåˆ°äº†å¼€æºé¡¹ç›®terrastructï¼Œæœ¬æ¥æƒ³å°è¯•æ¥ç€ï¼Œç»“æœè¯„è®ºåŒºå±…ç„¶ä¸€ç›´åœ¨æ¨èä½¿ç”¨mermaidä¸xmindï¼ˆå“­ç¬‘ï¼‰ã€‚æˆ‘è®°å¾—Typoraæ˜¯æ”¯æŒmermaidçš„ï¼Œåªæ˜¯æˆ‘ä¸€ç›´æ²¡æœ‰ç»˜å›¾éœ€æ±‚æ¥ç€ï¼Œçœ‹è¯„è®ºåŒºè¯´è¯­æ³•ç®€å•ï¼Œæƒ³ç€ä»¥åå†™æ–‡ç« å¦‚æœç”¨åˆ°ï¼Œé‚£å°±å¯ä»¥ç›´æ¥ä½¿ç”¨mermaidç»˜åˆ¶ä¸€äº›å›¾åƒï¼Œçœæ‰äº†ä¸Šä¼ å›¾åƒçš„éº»çƒ¦ï¼Œäºæ˜¯å°±æœ‰äº†å­¦ä¹ mermaidç»˜å›¾çš„æƒ³æ³•ã€‚</p><p>çœ‹äº†ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œæ„Ÿè§‰è‡ªå·±å¸¸ç”¨åˆ°çš„åŸºæœ¬å°±åªæœ‰ä¸‰ç§å›¾ï¼šæµç¨‹å›¾ã€é¥¼å›¾ã€æ—¶é—´è½´ã€‚</p><blockquote><p>å®˜æ–¹æ–‡æ¡£:<a href="https://mermaid.js.org/syntax/flowchart.html">Flowcharts Syntax | Mermaid</a></p></blockquote><h2 id="FlowChartï¼ˆæµç¨‹å›¾ï¼‰"><a href="#FlowChartï¼ˆæµç¨‹å›¾ï¼‰" class="headerlink" title="FlowChartï¼ˆæµç¨‹å›¾ï¼‰"></a>FlowChartï¼ˆæµç¨‹å›¾ï¼‰</h2><p>å…³é”®å­—ï¼š<code>flowchart</code></p><h3 id="å›¾çš„æ–¹å‘"><a href="#å›¾çš„æ–¹å‘" class="headerlink" title="å›¾çš„æ–¹å‘"></a>å›¾çš„æ–¹å‘</h3><ul><li>TB - top to buttom</li><li>TD - top-down</li><li>BT - buttom to top</li><li>RL - right to left</li><li>LR - left to right</li></ul><p>ä¾‹å­1 TBï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    a --&gt; b &amp; c --&gt; d</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TBa --&gt; b &amp; c --&gt; d  </pre></div><p>ä¾‹å­2 LRï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">    a --&gt; b &amp; c --&gt; d</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LRa --&gt; b &amp; c --&gt; d  </pre></div><h3 id="å›¾çš„æ ·å¼"><a href="#å›¾çš„æ ·å¼" class="headerlink" title="å›¾çš„æ ·å¼"></a>å›¾çš„æ ·å¼</h3><ul><li>round edges - <code>()</code></li><li>shaped node(èƒ¶å›Š) - <code>([])</code></li><li>subroutine shape - <code>[[]]</code></li><li>cyclinderical shape(åœ†æŸ±) - <code>[()]</code></li><li>cicle - <code>(())</code></li><li>asymmetric shape(æ——å¸œ) - <code>&gt;]</code></li><li>rhombus(è±å½¢) - <code>&#123;&#125;</code> </li><li>hexagon(å…­è¾¹å½¢) - <code>&#123;&#123;&#125;&#125;</code></li><li>parallelogram(å¹³è¡Œå››è¾¹å½¢) - <code>[//]</code> <code>[\\]</code></li><li>traoezoid(æ¢¯å½¢) - <code>[/\]</code> <code>[\/]</code></li><li>double circle - <code>((()))</code></li></ul><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    A([one]) --&gt; B&#123;&#123;two&#125;&#125; &amp; c[(three)] --&gt; d[/hello/]</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TBA([one]) --&gt; B &amp; c[(three)] --&gt; d[&#x2F;hello&#x2F;]  </pre></div><h3 id="è¿çº¿æ ·å¼"><a href="#è¿çº¿æ ·å¼" class="headerlink" title="è¿çº¿æ ·å¼"></a>è¿çº¿æ ·å¼</h3><ul><li>arrow head - <code>--&gt;</code></li><li>open link - <code>---</code></li><li>text on links - <code>--This is a text!--</code> <code>---|This is the text|</code></li><li>dotted links - <code>-.-&gt;</code></li><li>thick link - <code>==&gt;</code></li><li>invisible link - <code>~~~</code></li><li>new arrow types - <code>--o</code> <code>--x</code></li><li>multi directional arrows(åŒå‘ç®­å¤´) - <code>o--o</code> <code>&lt;--&gt;</code> <code>x--x</code></li><li>å»¶é•¿æ–¹å¼ - <code>----&gt;</code></li></ul><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    a[start] --&gt; b&#123;Is it?&#125;</span><br><span class="line">    b --&gt;|Yes| c[OK]</span><br><span class="line">    c --&gt; d[Rethink] --&gt; b</span><br><span class="line">    b ----&gt;|No| e[End]</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TBa[start] --&gt; b{Is it?}b --&gt;|Yes| c[OK]c --&gt; d[Rethink] --&gt; bb ----&gt;|No| e[End]  </pre></div><h3 id="ç‰¹æ®Šç¬¦å·æ˜¾ç¤º"><a href="#ç‰¹æ®Šç¬¦å·æ˜¾ç¤º" class="headerlink" title="ç‰¹æ®Šç¬¦å·æ˜¾ç¤º"></a>ç‰¹æ®Šç¬¦å·æ˜¾ç¤º</h3><p>ç”¨å¼•å·åŒ…å«ä½å†…å®¹ï¼Œä¸€èˆ¬å¯ä»¥è¡¨ç¤ºæ‹¬å·å†…å®¹ï¼Œå¦‚æœæœ‰æ›´åŠ å¤æ‚çš„éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨<code>:# ;</code></p><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">    a[&quot;This is a text(#3556;)&quot;] --&gt; b[&quot;A dec char:#9829;&quot;]</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LRa[&quot;This is a text(#3556;)&quot;] --&gt; b[&quot;A dec char:#9829;&quot;]  </pre></div><h3 id="å¤šå›¾ï¼ˆSubgraphsï¼‰"><a href="#å¤šå›¾ï¼ˆSubgraphsï¼‰" class="headerlink" title="å¤šå›¾ï¼ˆSubgraphsï¼‰"></a>å¤šå›¾ï¼ˆSubgraphsï¼‰</h3><p>è¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subgraph title</span><br><span class="line">    graph definition</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    subgraph one</span><br><span class="line">    a1 --&gt; a2</span><br><span class="line">    end</span><br><span class="line">    subgraph two </span><br><span class="line">    b1 --&gt; b2</span><br><span class="line">    end</span><br><span class="line">    subgraph three</span><br><span class="line">    c1 --&gt; c2</span><br><span class="line">    end</span><br><span class="line">    c1 --&gt; a2</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TBsubgraph onea1 --&gt; a2endsubgraph two b1 --&gt; b2endsubgraph threec1 --&gt; c2endc1 --&gt; a2  </pre></div><p>å¤šå›¾çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨å›¾åˆ°å›¾çš„è¿æ¥,ä¹Ÿå¯ä»¥å®ç°å›¾å¤–è¿æ¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">flowchart TB</span><br><span class="line">    c1--&gt;a2</span><br><span class="line">    subgraph one</span><br><span class="line">    a1--&gt;a2</span><br><span class="line">    end</span><br><span class="line">    subgraph two</span><br><span class="line">    b1--&gt;b2</span><br><span class="line">    end</span><br><span class="line">    subgraph three</span><br><span class="line">    c1--&gt;c2</span><br><span class="line">    end</span><br><span class="line">    q[&quot;ä½ å¹²å˜›&quot;] --&gt; one</span><br><span class="line">    one --&gt; two &amp; e[&quot;å“å‘¦&quot;]</span><br><span class="line">    three --&gt; two</span><br><span class="line">    two --&gt; c2</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TB    c1--&gt;a2    subgraph one    a1--&gt;a2    end    subgraph two    b1--&gt;b2    end    subgraph three    c1--&gt;c2    end    q[&quot;ä½ å¹²å˜›&quot;] --&gt; one    one --&gt; two &amp; e[&quot;å“å‘¦&quot;]    three --&gt; two    two --&gt; c2  </pre></div><p>ä¹Ÿå¯ä»¥ç”¨<code>direction</code>æ¥è§„å®šå­å›¾çš„æ–¹å‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">  subgraph TOP</span><br><span class="line">    direction TB</span><br><span class="line">    subgraph B1</span><br><span class="line">        direction RL</span><br><span class="line">        i1 --&gt;f1</span><br><span class="line">    end</span><br><span class="line">    subgraph B2</span><br><span class="line">        direction BT</span><br><span class="line">        i2 --&gt;f2</span><br><span class="line">    end</span><br><span class="line">  end</span><br><span class="line">  A --&gt; TOP --&gt; B</span><br><span class="line">  B1 --&gt; B2</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LR  subgraph TOP    direction TB    subgraph B1        direction RL        i1 --&gt;f1    end    subgraph B2        direction BT        i2 --&gt;f2    end  end  A --&gt; TOP --&gt; B  B1 --&gt; B2  </pre></div><h3 id="äº’åŠ¨"><a href="#äº’åŠ¨" class="headerlink" title="äº’åŠ¨"></a>äº’åŠ¨</h3><p>å¯ä»¥å°†å•å‡»äº‹ä»¶ç»‘å®šåˆ°èŠ‚ç‚¹ï¼Œå•å‡»å¯èƒ½å¯¼è‡´ javascript å›è°ƒæˆ–å°†åœ¨æ–°çš„æµè§ˆå™¨é€‰é¡¹å¡ä¸­æ‰“å¼€çš„é“¾æ¥ã€‚å…¶å®å°±æ˜¯å®ç°ç±»ä¼¼æŒ‰é’®çš„åŠŸèƒ½ï¼Œå…¶ä¸­å›è°ƒåŠŸèƒ½ä¸åšæ¦‚è¿°ã€‚</p><p>è¯­æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">click å¯¹è±¡ â€œç½‘å€â€ â€œæ³¨é‡Šâ€</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">flowchart LR</span><br><span class="line">    A--&gt;B</span><br><span class="line">    B--&gt;C</span><br><span class="line">    C--&gt;D</span><br><span class="line">    click A callback &quot;Tooltip for a callback&quot;</span><br><span class="line">    click B &quot;https://www.gcnanmu3125.xyz&quot; &quot;æˆ‘çš„åšå®¢åœ°å€&quot;</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart LR    A--&gt;B    B--&gt;C    C--&gt;D    click A callback &quot;Tooltip for a callback&quot;    click B &quot;https:&#x2F;&#x2F;www.gcnanmu3125.xyz&quot; &quot;æˆ‘çš„åšå®¢åœ°å€&quot;  </pre></div><h3 id="å¯¹fontawesomeçš„åŸºæœ¬æ”¯æŒ"><a href="#å¯¹fontawesomeçš„åŸºæœ¬æ”¯æŒ" class="headerlink" title="å¯¹fontawesomeçš„åŸºæœ¬æ”¯æŒ"></a>å¯¹fontawesomeçš„åŸºæœ¬æ”¯æŒ</h3><p>å¯ä»¥ä»å­—ä½“æ·»åŠ å›¾æ ‡ã€‚è¿™äº›å›¾æ ‡å¯é€šè¿‡è¯­æ³• <code>fa:icon</code>ç±»åè®¿é—®ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    B[&quot;fab:fa-twitter for peace&quot;]</span><br><span class="line">    B--&gt;C[fa:fa-ban forbidden]</span><br><span class="line">    B--&gt;D(fa:fa-spinner)</span><br><span class="line">    B--&gt;E(A fa:fa-camera-retro perhaps?)</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TD    B[&quot;fab:fa-twitter for peace&quot;]    B--&gt;C[fa:fa-ban forbidden]    B--&gt;D(fa:fa-spinner)    B--&gt;E(A fa:fa-camera-retro perhaps?)  </pre></div><h2 id="Pieï¼ˆé¥¼å›¾ï¼‰"><a href="#Pieï¼ˆé¥¼å›¾ï¼‰" class="headerlink" title="Pieï¼ˆé¥¼å›¾ï¼‰"></a>Pieï¼ˆé¥¼å›¾ï¼‰</h2><p>å…³é”®å­—:<code>pie</code></p><p>å±æ€§ï¼š</p><ul><li>title</li><li>å…ƒç´ </li><li>å…ƒç´ å€¼ï¼ˆå¦‚æœä¸æ˜¯æ¯”ä¾‹ï¼Œä¼šæ ¹æ®æ•°é‡ç›´æ¥ç”Ÿæˆæ¯”ä¾‹ï¼‰</li></ul><p>ç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pie title Pets adopted by volunteers</span><br><span class="line">    &quot;Dogs&quot; : 386</span><br><span class="line">    &quot;Cats&quot; : 85</span><br><span class="line">    &quot;Rats&quot; : 15</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie title Pets adopted by volunteers    &quot;Dogs&quot; : 386    &quot;Cats&quot; : 85    &quot;Rats&quot; : 15  </pre></div><p>å¦‚æœæƒ³æ˜¾ç¤ºæ•°æ®ï¼Œå¯ä»¥é€šè¿‡<code>showdata</code>å…³é”®å­—åœ¨å›¾ä¾‹æ˜¾ç¤ºå…·ä½“å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pie showData</span><br><span class="line">    title Key elements in Product X</span><br><span class="line">    &quot;Calcium&quot; : 42.96</span><br><span class="line">    &quot;Potassium&quot; : 50.05</span><br><span class="line">    &quot;Magnesium&quot; : 10.01</span><br><span class="line">    &quot;Iron&quot; :  6</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie showData    title Key elements in Product X    &quot;Calcium&quot; : 42.96    &quot;Potassium&quot; : 50.05    &quot;Magnesium&quot; : 10.01    &quot;Iron&quot; :  6  </pre></div><h2 id="Timelineï¼ˆæ—¶é—´è½´ï¼‰"><a href="#Timelineï¼ˆæ—¶é—´è½´ï¼‰" class="headerlink" title="Timelineï¼ˆæ—¶é—´è½´ï¼‰"></a>Timelineï¼ˆæ—¶é—´è½´ï¼‰</h2><p>å…³é”®å­—: <code>timeline</code></p><p>åŸºæœ¬å†™æ³•ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">timeline </span><br><span class="line">    title XXX</span><br><span class="line">    &#123;time period&#125; : &#123;event&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•æ¼”ç¤ºï¼š</p><blockquote><p>å‘ç°Typoraåªæ”¯æŒåˆ°mermaid 9.1.2ï¼Œæ‰€ä»¥æ— æ³•ç»˜åˆ¶æ—¶é—´è½´ï¼Œå› æ­¤ä¸å±•ç¤ºåç»­ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">timeline</span><br><span class="line">    title History of Social Media Platform</span><br><span class="line">    2002 : LinkedIn</span><br><span class="line">    2004 : Facebook</span><br><span class="line">         : Google</span><br><span class="line">    2005 : Youtube</span><br><span class="line">    2006 : Twitter</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  timeline    title History of Social Media Platform    2002 : LinkedIn    2004 : Facebook         : Google    2005 : Youtube    2006 : Twitter  </pre></div><h2 id="åŠ¨æ‰‹å®è·µ"><a href="#åŠ¨æ‰‹å®è·µ" class="headerlink" title="åŠ¨æ‰‹å®è·µ"></a>åŠ¨æ‰‹å®è·µ</h2><p>æµç¨‹å›¾ï¼š<a href="https://blog.csdn.net/cc920095705/article/details/113769741">https://blog.csdn.net/cc920095705/article/details/113769741</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    a[Start] --- b[Your Operation]</span><br><span class="line">    b --- c&#123;Yes or No?&#125; ---|Yes| d([End])</span><br><span class="line">    a ---|No| c</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  flowchart TDa[Start] --- b[Your Operation]b --- c{Yes or No?} ---|Yes| d([End])a ---|No| c  </pre></div><p>é¥¼å›¾</p><p>æ•°æ®æ¥æºï¼š<a href="http://www.xinhuanet.com/2023-01/17/c_1129292204.htm">å›½å®¶ç»Ÿè®¡å±€ï¼š2022å¹´å±…æ°‘æ”¶å…¥å’Œæ¶ˆè´¹æ”¯å‡ºæƒ…å†µ-æ–°åç½‘ (xinhuanet.com)</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pie showdata</span><br><span class="line">    title 2022å¹´å±…æ°‘äººå‡æ¶ˆè´¹åŸºç¡€åŠæ„æˆ(å•ä½ï¼šå…ƒ)</span><br><span class="line">    &quot;å…¶ä»–ç”¨å“åŠæœåŠ¡&quot; : 595</span><br><span class="line">    &quot;é£Ÿå“çƒŸé…’&quot; : 7481</span><br><span class="line">    &quot;è¡£ç€&quot; : 1365</span><br><span class="line">    &quot;å±…ä½&quot; : 5882</span><br><span class="line">    &quot;ç”Ÿæ´»ç”¨å“åŠæœåŠ¡&quot; : 1432</span><br><span class="line">    &quot;äº¤é€šé€šä¿¡&quot; : 3195</span><br><span class="line">    &quot;æ•™è‚²æ–‡åŒ–å¨±ä¹&quot; : 2469</span><br><span class="line">    &quot;åŒ»ç–—ä¿å¥&quot; : 2120</span><br></pre></td></tr></table></figure><div class="mermaid-wrap"><pre class="mermaid-src" hidden>  pie showdatatitle 2022å¹´å±…æ°‘äººå‡æ¶ˆè´¹åŸºç¡€åŠæ„æˆ(å•ä½ï¼šå…ƒ)&quot;å…¶ä»–ç”¨å“åŠæœåŠ¡&quot; : 595&quot;é£Ÿå“çƒŸé…’&quot; : 7481&quot;è¡£ç€&quot; : 1365&quot;å±…ä½&quot; : 5882&quot;ç”Ÿæ´»ç”¨å“åŠæœåŠ¡&quot; : 1432&quot;äº¤é€šé€šä¿¡&quot; : 3195&quot;æ•™è‚²æ–‡åŒ–å¨±ä¹&quot; : 2469&quot;åŒ»ç–—ä¿å¥&quot; : 2120  </pre></div><p>å­¦ä¹ ä¸‹æ¥æ„Ÿè§‰ä½¿ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œè¯­æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œé€‚åˆç®€å•ä½œå›¾ä¸æ€è·¯åˆ†æçš„åœºåˆï¼Œ<strong>ä½†æ˜¯å¤§å¤šæ•°è½¯ä»¶åŠç½‘ç«™æ— æ³•åŠæ—¶è·Ÿè¿›Mermaidçš„æ›´æ–°é€Ÿåº¦ï¼Œä¸åƒ<code>LaTexå…¬å¼</code>ä¸€æ ·éšå¤„å¯ç”¨ï¼Œè¿™ä¸€ç‚¹ä¹Ÿåˆ¶çº¦ç€å®ƒçš„å‘å±•ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> æ‚&amp;Mess </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mermaid </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anaconda-åŸºç¡€ä½¿ç”¨æ€»ç»“</title>
      <link href="/post/anaconda-de-ji-chu-shi-yong/"/>
      <url>/post/anaconda-de-ji-chu-shi-yong/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ä¸ªå°å°çš„ç¡¬ç›˜å´©æºƒï¼Œç»™æˆ‘å¸¦æ¥äº†ç›¸å½“å¤§çš„éº»çƒ¦ï¼Œé‡ç½®äº†ç³»ç»Ÿä¹‹åï¼Œæ³¨å†Œè¡¨ä¸cç›˜é™¤äº†ç”¨æˆ·æ–‡ä»¶å¤¹çš„ä¸œè¥¿éƒ½æ²¡äº†ï¼Œå¯¼è‡´ä¸€äº›åº”ç”¨æ ¹æœ¬æ‰“ä¸å¼€ï¼Œä¹Ÿæ— æ³•è¢«æ§åˆ¶é¢æ¿æ£€æµ‹åˆ°ã€‚è¿™æ¬¡å®éªŒéœ€è¦å†™ä»£ç ï¼Œæ‰“å¼€VsCodeæ‰å‘ç°Anacondaä¹Ÿå‡ºé—®é¢˜äº†ï¼Œæ²¡åŠæ³•ï¼Œåªå¥½é‡è£…äº†:sob:ã€‚é‡è£…ä¹‹åï¼Œä¸€äº›è®¾ç½®åˆå·®ç‚¹è®°ä¸èµ·æ¥äº†ï¼Œäºæ˜¯å°±æƒ³ç€å†™ä¸€ç¯‡åšå®¢è®°å½•ä¸€ä¸‹ã€‚</p><p>Condaç¯å¢ƒå…¶å®å°±æ˜¯è™šæ‹Ÿç¯å¢ƒã€‚å¦‚æœæŠŠPythonçš„åŒ…æ¯”å–»æˆèºä¸åˆ€ï¼Œæ‰³æ‰‹ç­‰å·¥å…·ï¼Œé‚£ä¹ˆè™šæ‹Ÿç¯å¢ƒå°±åƒæ˜¯æŠŠèºä¸åˆ€ï¼Œæ‰³æ‰‹ç­‰å·¥å…·è£…èµ·æ¥çš„å®¹å™¨ï¼ˆå¦‚ä¸‹å›¾ï¼‰ã€‚ç”¨è™šæ‹Ÿç¯å¢ƒçš„å¥½å¤„æ˜¯æ–¹ä¾¿å¤„ç†å„ç§éœ€æ±‚ä¸åŒçš„å¼€å‘ç¯å¢ƒè€Œä¸ä¼šé€ æˆè‡ƒè‚¿ï¼Œä¸éœ€è¦çš„æ—¶å€™å¯ä»¥é€šè¿‡ç›´æ¥åˆ é™¤å¯¹åº”çš„è™šæ‹Ÿç¯å¢ƒæ¥åˆ é™¤å¯¹åº”çš„åŒ…ã€‚å¯¹äºPythonï¼Œå¯ä»¥ä½¿ç”¨<code>virtualenv</code>ã€<code>virtualenvwrapper</code>å’Œ<code>pipenv</code>ç­‰åŒ…æ¥ç®¡ç†è™šæ‹Ÿç¯å¢ƒã€‚Condaç¯å¢ƒæ¯”èµ·å®‰è£…å…¶ä»–è™šæ‹Ÿç¯å¢ƒæ›´åŠ æ–¹ä¾¿ã€‚</p><img src="https://z4a.net/images/2023/03/25/conda_and_pakages.png" style="zoom:67%;" /><blockquote><p>æ¨èç›´æ¥ä½¿ç”¨<a href="https://docs.anaconda.com/free/miniconda/">Miniconda â€” Anaconda documentation</a>ï¼Œä¸é™„å¸¦ä»»ä½•çš„åº“ï¼ˆAnacondeä¼šè‡ªå¸¦ç§‘å­¦è®¡ç®—åº“ï¼‰ï¼Œç›¸å½“äºçº¯å‡€ç‰ˆçš„Anaconda</p></blockquote><h2 id="CondaåŸºç¡€æŒ‡ä»¤"><a href="#CondaåŸºç¡€æŒ‡ä»¤" class="headerlink" title="CondaåŸºç¡€æŒ‡ä»¤"></a>CondaåŸºç¡€æŒ‡ä»¤</h2><ol><li><p>åˆ›å»ºCondaç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -name ç¯å¢ƒå python=ç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda create -n test python=3.7</span><br></pre></td></tr></table></figure><p><code>-n</code>å…¶å®æ˜¯<code>-name</code>çš„ç¼©å†™ï¼Œè¿™è¾¹è¿˜éœ€è¦æé†’çš„æ˜¯ï¼Œå¯¹äºç½‘ä¸Šå¤§éƒ¨åˆ†çš„é¡¹ç›®ï¼Œä½ éƒ½éœ€è¦æå‰æ³¨æ„Pythonçš„ç‰ˆæœ¬æ˜¯å¦åˆé€‚ã€‚æˆªè‡³2023å¹´3æœˆ25æ—¥ä¸ºæ­¢ï¼ŒPythonæœ€é«˜çš„ç‰ˆæœ¬å·ä¸º<code>Python 3.11.2</code>ï¼Œ<strong>é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬ä¸ä¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Œä¸€æ–¹é¢æ˜¯æœ€æ–°ç‰ˆæœ¬æ€»ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œè€Œå‡ºäº†é—®é¢˜ä½ æ— æ³•åœ¨ç¤¾åŒºä¸­æ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œå¦ä¸€æ–¹é¢å°±æ˜¯å¾ˆå¤šé¡¹ç›®éƒ½ä¸æ˜¯åŸºäºæœ€æ–°ç‰ˆçš„Pythonã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®ŠåŸå› ï¼Œä¸ªäººæ¨èä½¿ç”¨<code>Python3.7</code></strong></p><img src="https://z4a.net/images/2023/03/25/create_envs.png" style="zoom: 67%;" /></li><li><p>æ¿€æ´»ï¼ˆåˆ‡æ¢ï¼‰Condaç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda activate ç¯å¢ƒå</span><br></pre></td></tr></table></figure><p>æ¿€æ´»äº†ç¯å¢ƒä¹‹åï¼Œä½ å°±å¯ä»¥è¿›è¡ŒæŸ¥çœ‹ã€å®‰è£…ã€åˆ é™¤åŒ…ç­‰æ“ä½œã€‚</p><p><img src="https://z4a.net/images/2023/03/25/activate_envs.png"></p></li><li><p>åˆ é™¤Condaç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda remove -n ç¯å¢ƒå --all</span><br></pre></td></tr></table></figure><p>å°¾å·´ä¸Šçš„<code>--all</code>æ˜¯ç¯å¢ƒä¸­æ‰€æœ‰åŒ…çš„æ„æ€ã€‚</p><img src="https://z4a.net/images/2023/03/25/remove_envs.png" style="zoom:67%;" /></li><li><p>æŸ¥çœ‹å½“å‰çš„æ‰€æœ‰çš„Condaç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda info --envs</span><br></pre></td></tr></table></figure><p><img src="https://z4a.net/images/2023/03/25/show_envs_info.png"></p><p>æ³¨ï¼šCondaè‡ªå¸¦ä¸€ä¸ªåä¸º<code>base</code>çš„è™šæ‹Ÿç¯å¢ƒã€‚</p></li><li><p>ä¿®æ”¹ç¯å¢ƒå</p><p>condaæ²¡æœ‰ç›´æ¥é‡å‘½åç¯å¢ƒçš„æŒ‡ä»¤ï¼Œä½†æ˜¯å®ƒæä¾›äº†å…‹éš†æŒ‡ä»¤ï¼Œä½ å¯ä»¥å…ˆä½¿ç”¨å…‹éš†æŒ‡ä»¤å…‹éš†å°†è¦ä¿®æ”¹åå­—çš„ç¯å¢ƒåˆ°æ–°å»ºçš„ç¯å¢ƒä¸­ï¼Œç„¶åç”¨åˆ é™¤æŒ‡ä»¤åˆ é™¤åŸæœ‰çš„ç¯å¢ƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create --name B --clone A</span><br><span class="line">conda remove --name A --all</span><br></pre></td></tr></table></figure></li></ol><h2 id="åŒ…ä¸ä¸‹è½½æºçš„åˆ‡æ¢"><a href="#åŒ…ä¸ä¸‹è½½æºçš„åˆ‡æ¢" class="headerlink" title="åŒ…ä¸ä¸‹è½½æºçš„åˆ‡æ¢"></a>åŒ…ä¸ä¸‹è½½æºçš„åˆ‡æ¢</h2><h3 id="PythonåŒ…çš„åŸºç¡€æ“ä½œ"><a href="#PythonåŒ…çš„åŸºç¡€æ“ä½œ" class="headerlink" title="PythonåŒ…çš„åŸºç¡€æ“ä½œ"></a>PythonåŒ…çš„åŸºç¡€æ“ä½œ</h3><p>æ¿€æ´»äº†Condaç¯å¢ƒåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ç¯å¢ƒä¸­å¯¹åŒ…è¿›è¡ŒæŸ¥çœ‹ã€å®‰è£…ã€åˆ é™¤ç­‰æ“ä½œã€‚åœ¨ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Pythonè‡ªå¸¦çš„<code>pipæŒ‡ä»¤</code>è¿›è¡Œä¸‹è½½ï¼ŒpipæŒ‡ä»¤é»˜è®¤çš„ä¸‹è½½åœ°å€ä¸º:</p><blockquote><p><a href="https://pypi.python.org/simple">https://pypi.python.org/simple</a></p></blockquote><ol><li><p>æŸ¥çœ‹åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip list</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install åŒ…å</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¸‹è½½<code>OpenCV</code>çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install opencv-python</span><br></pre></td></tr></table></figure><ul><li>æ³¨ï¼šå¦‚æœä½ æƒ³æ›´æ¢ä¸‹è½½æºï¼Œå¯ä»¥åŠ ä¸Š<code>-c é“¾æ¥</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -c ä¸‹è½½æºé“¾æ¥ åŒ…å</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤åŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip uninstall åŒ…å</span><br></pre></td></tr></table></figure></li><li><p>æ›´æ–°æŒ‡å®šåŒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade åŒ…å</span><br></pre></td></tr></table></figure><ul><li>æ³¨ï¼šè¿™ä¸ªæŒ‡ä»¤ä¹Ÿå¯ä»¥ç”¨æ¥æ›´æ–°<code>pip</code>æœ¬èº«ï¼š</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade pip</span><br></pre></td></tr></table></figure></li></ol><h3 id="åˆ‡æ¢ä¸‹è½½æº"><a href="#åˆ‡æ¢ä¸‹è½½æº" class="headerlink" title="åˆ‡æ¢ä¸‹è½½æº"></a>åˆ‡æ¢ä¸‹è½½æº</h3><p>ä¸Šé¢æåˆ°äº†<code>pipæŒ‡ä»¤</code>é»˜è®¤çš„ä¸‹è½½åœ°å€ï¼Œè¿™æ˜¯ä¸ªå¤–å›½ç½‘ç«™ï¼Œå›½å†…çš„è®¿é—®é€Ÿåº¦å¯æƒ³è€ŒçŸ¥ï¼Œæœ‰æ—¶ä¸€ä¸ªä¸€å…†çš„æ–‡ä»¶éƒ½è¦30ç§’ï¼Œå¦‚æœåƒæ˜¯<code>PyTorch</code>ã€<code>OpenCV</code>è¿™ç§åŒ…ï¼Œæ ¹æœ¬ä¸‹ä¸åŠ¨ï¼Œæœ‰æ—¶ç”šè‡³æ˜¯æ–­å¼€è¿æ¥ã€‚è¿™æ—¶å€™å°±éœ€è¦åˆ‡æ¢ä¸‹è½½çš„åœ°å€ï¼Œæ¨èä½¿ç”¨<strong>æ¸…åæºã€ä¸­ç§‘å¤§ã€é˜¿é‡Œè¿™ä¸‰ä¸ªé•œåƒç½‘ç«™ï¼Œæ¸…åæºä¸æ˜¯å¾ˆç¨³å®šï¼Œä¼˜å…ˆæ¨èä¸­ç§‘å¤§ã€‚</strong></p><p>è¿™é‡Œå…ˆå±•ç¤ºä¸€äº›ä¸‹è½½æºï¼š</p><blockquote><p>ä¸­ç§‘å¤§ï¼š</p><p>conda config â€“add channels <a href="https://mirrors.ustc.edu.cn/anaconda/pkgs/main/">https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</a><br>conda config â€“add channels <a href="https://mirrors.ustc.edu.cn/anaconda/pkgs/free/">https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</a><br>conda config â€“add channels <a href="https://mirrors.bfsu.edu.cn/anaconda/cloud/pytorch/">https://mirrors.bfsu.edu.cn/anaconda/cloud/pytorch/</a></p><p>æ¸…åæºï¼š</p><p>conda config â€“add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</a><br>conda config â€“add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</a><br>conda config â€“add channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</a><br>conda config â€“append channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/</a><br>conda config â€“append channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</a><br>conda config â€“append channels <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</a></p></blockquote><ol><li><p>å±•ç¤ºæ‰€æœ‰ä¸‹è½½åœ°å€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --show-sources</span><br></pre></td></tr></table></figure><p><img src="https://z4a.net/images/2023/03/25/all_chanels.png"></p></li><li><p>æ·»åŠ ä¸‹è½½æº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels é•œåƒæºé“¾æ¥</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --append channels é•œåƒæºé“¾æ¥</span><br></pre></td></tr></table></figure></li><li><p>å»é™¤é•œåƒæº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --remove channels é•œåƒæºé“¾æ¥</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤æ‰€æœ‰ä¸‹è½½æºï¼ˆæ¢å¤é»˜è®¤ä¸‹è½½æºï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --remove-key channels</span><br></pre></td></tr></table></figure><p>æ­¤é¡¹æ“ä½œåï¼Œé™¤äº†<code>default</code>å¤–ï¼Œæ‰€æœ‰çš„åæœŸæ·»åŠ çš„ä¸‹è½½æºéƒ½å°†è¢«åˆ é™¤ã€‚</p></li><li><p>è®¾ç½®å…¨å±€é»˜è®¤ä¸‹è½½æº</p><p>å¦‚æœä½ æƒ³ç›´æ¥è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„ä¸‹è½½æºï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url ä¸‹è½½æº</span><br></pre></td></tr></table></figure><img src="https://z4a.net/images/2023/03/25/set_init_config.png" style="zoom: 80%;" /><p>è¿™æ ·çš„ä½œç”¨æ˜¯ç›´æ¥æ”¹å˜äº†<code>pipæŒ‡ä»¤</code>çš„ä¸‹è½½åœ°å€ï¼Œå°†é»˜è®¤ä¸‹è½½åœ°å€<code>default</code>æ¢æˆè®¾ç½®åçš„ä¸‹è½½æºï¼Œæ­¤æ—¶è¿›å…¥æç¤ºè·¯å¾„ï¼ˆ<code>C:\Users\ç”¨æˆ·å\AppData\Roaming\pip</code>ï¼‰å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶<code>pip.ini</code>,å¦‚æœè¦å›å¤é»˜è®¤çš„ä¸‹è½½åœ°å€ï¼Œé‚£ä¹ˆå°†è¿™ä¸ª<code>pip.ini</code>æ–‡ä»¶åˆ é™¤å³å¯ã€‚</p><img src="https://z4a.net/images/2023/03/25/install_url.png" style="zoom:67%;" /></li><li><p>ä»channelä¸­å®‰è£…åŒ…æ—¶æ˜¾ç¤ºchannelçš„url</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda config --set show_channel_urls yes</span><br></pre></td></tr></table></figure><p><img src="https://z4a.net/images/2023/03/25/show_chanels.png"></p></li><li><p>æ¼”ç¤ºï¼ˆæ–¹ä¾¿å¤åˆ¶ï¼‰</p><ul><li>æ·»åŠ ä¸­ç§‘å¤§é•œåƒæº</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">conda config --set show_channel_urls yes</span><br><span class="line">pip config set global.index-url https://mirrors.ustc.edu.cn/pypi/web/simple</span><br></pre></td></tr></table></figure><ul><li>æ·»åŠ æ¸…åæº</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --append channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/fastai/</span><br><span class="line">conda config --append channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">conda config --append channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/</span><br><span class="line">conda config --set show_channel_urls yes</span><br><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure></li></ol><h2 id="conda-installä¸pip-install"><a href="#conda-installä¸pip-install" class="headerlink" title="conda installä¸pip install"></a>conda installä¸pip install</h2><p>å…¶å®è‡ªå·±åœ¨æ—¥å¸¸ä½¿ç”¨æ—¶æœ‰æ—¶ä¹Ÿä½¿ç”¨è¿‡<code>conda install åŒ…å</code>,å®‰è£…åè²Œä¼¼ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œè¿™æ—¶å€™æˆ‘æœ‰ç‚¹å¥½å¥‡<code>conda install</code>ä¸<code>pip install</code>åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå·§çš„æ˜¯ï¼Œè¿™ä¸ªé—®é¢˜å®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰è§£é‡Šã€‚</p><blockquote><p>Anaconda | Understanding Conda and Pip: <a href="https://www.anaconda.com/blog/understanding-conda-and-pip">https://www.anaconda.com/blog/understanding-conda-and-pip</a>)</p></blockquote><p>æ€»çš„æ¥è¯´å°±æ˜¯ä½ ç”¨å“ªä¸ªå®‰è£…åŒ…éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œ<strong>ä½†æ˜¯åˆ‡å¿Œé‡å¤å®‰è£…ç›¸åŒçš„åŒ…ï¼ï¼</strong></p><p>æœ€æ˜æ˜¾çš„åŒºåˆ«æ˜¯ï¼Œ<code>pip</code>æ˜¯Pythonä¸“é—¨ç”¨æ¥å®‰è£…å…¶ä»–åŒ…çš„ä¸€ä¸ªä¸‹è½½åŠŸèƒ½åŒ…ï¼Œ**<code>pip</code>åªèƒ½ä¸‹è½½æ”¯æŒPythonè¯­è¨€ç¼–å†™çš„åŒ…å’Œæºç **ï¼Œè€Œ<code>conda install</code>ä¸­å¯èƒ½è¿˜æœ‰ C æˆ– C++ åº“ã€R åŒ…æˆ–ä»»ä½•å…¶ä»–è½¯ä»¶ï¼Œå¦‚<code>mkl cuda</code>è¿™ç§Cã€C++å†™çš„åŒ…ï¼›ä»¥åŠåœ¨æ–‡ç« å¼€å¤´åˆ›å»º<code>condaç¯å¢ƒ</code>æ—¶ï¼Œå®ƒè¿˜å¯ä»¥å®‰è£…Pythonç¯å¢ƒã€‚</p><p>å¦å¤–ä¸€ç‚¹ï¼Œ<code>pip</code>è¿›è¡Œå®‰è£…ã€å‡çº§æ—¶ï¼Œä»–å¹¶ä¸ä¼šå»æ£€æŸ¥å®‰è£…åˆ—è¡¨ï¼Œå³ä½¿ä½ è£…è¿‡ï¼Œä»–è¿˜æ˜¯ä¼šå†ä¸‹è½½ä¸€è¾¹ï¼Œ<code>åˆ°å®‰è£…çš„æ—¶å€™å®ƒæ‰ä¼šå»æ£€æŸ¥è¯¥åŒ…æ˜¯å¦å®‰è£…è¿‡</code>ã€‚è€Œ<code>conda</code>æ˜¯ä¼šå»æ£€æŸ¥å®‰è£…åˆ—è¡¨çš„ï¼Œå¦‚æœä½ å®‰è£…è¿‡äº†ï¼Œå®ƒå¹¶ä¸ä¼šå†ç»™ä½ å®‰è£…ä¸€æ¬¡ã€‚ä¾‹å­å°±æ˜¯ä¸Šé¢æˆ‘åˆ›å»º<code>test</code>è¿™ä¸ª<code>condaç¯å¢ƒ</code>æ—¶ï¼Œå®ƒå¹¶æ²¡æœ‰åœ¨å¸®æˆ‘æŠŠä¾èµ–æ–‡ä»¶ä¸‹ä¸€éï¼Œå®ƒæ£€æµ‹åˆ°æˆ‘å®‰è£…è¿‡åï¼Œç›´æ¥è¿›è¡Œäº†å®‰è£…ã€‚</p><p>å®˜æ–¹æœ€åç»™å‡ºçš„æ€»ç»“è¡¨æ˜¯ï¼š</p><table><thead><tr><th align="left"></th><th align="left">conda</th><th align="left">pip</th></tr></thead><tbody><tr><td align="left">manages</td><td align="left">binaries</td><td align="left">wheel or source</td></tr><tr><td align="left">can require compilers</td><td align="left">no</td><td align="left">yes</td></tr><tr><td align="left">create environment</td><td align="left">yes ,built-in</td><td align="left">Python-only</td></tr><tr><td align="left">dependency checks</td><td align="left">yes</td><td align="left">no</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pip </tag>
            
            <tag> Anaconda </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo vs Halo-ä¸¤è€…ä½¿ç”¨çš„æ„Ÿå—</title>
      <link href="/post/hexo-yu-halo-de-shi-yong-hou-de-gan-shou/"/>
      <url>/post/hexo-yu-halo-de-shi-yong-hou-de-gan-shou/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>è¿™å·²ç»æ˜¯æˆ‘ç¬¬ä¸‰æ¬¡å®‰è£…Haloåšå®¢ç³»ç»Ÿï¼Œæ¯æ¬¡éƒ½æ˜¯å‡ºäºä¸åŒçš„åŸå› ï¼Œè¿™è¾¹å¯ä»¥å…ˆåšä¸ªæ€»ç»“ã€‚</p><table><thead><tr><th>åºå·</th><th>ä½¿ç”¨ç³»ç»Ÿ</th><th>è¯´æ˜</th><th>æ­è½½</th><th>è´¹ç”¨</th></tr></thead><tbody><tr><td>1</td><td>Halo 1.6</td><td>ç¬¬ä¸€ä¸ªåšå®¢ç½‘ç«™</td><td>vulter</td><td>ï¿¥42</td></tr><tr><td>2</td><td>Halo 2.2</td><td>å› ä¸ºä»˜ä¸èµ·æœåŠ¡å™¨è´¹ç”¨ï¼Œå¯¼ç«ç´¢ï¼šå‡çº§ä¸»é¢˜å¯¼è‡´åšå®¢å‡ºé”™</td><td>ç§‹å¶äº‘</td><td>ï¿¥30</td></tr><tr><td>3</td><td>Halo 1.6</td><td>å‡ºäºå¯¹Halo  2.2 çš„ä¸æ»¡æ„ä»¥åŠç§‹å¶äº‘ç®¡ç†å±‚çš„ä¸é è°±</td><td>Github</td><td>0</td></tr><tr><td>4</td><td>Hexo 4.3</td><td>æ­è½½äºGithubï¼Œéšç§æ€§ä¸å¤Ÿï¼Œæ•°æ®ä¸å®‰å…¨</td><td>æ˜Ÿè¾°äº‘</td><td>ï¿¥28.99</td></tr></tbody></table><p>æˆ‘ä½¿ç”¨è¿‡Hexoä¹‹åï¼Œå…ˆæ˜¯æ„Ÿå—åˆ°äº†Hexoåšå®¢çš„å¼ºå¤§ä¹‹å¤„ï¼ŒåŒæ—¶ä¹Ÿä½“ä¼šé“äº†Haloä½¿ç”¨èµ·æ¥çš„ä¾¿åˆ©æ€§ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©å†æ¬¡åˆ›å»ºä¸€ä¸ªHaloåšå®¢çš„åŸå› ã€‚</p><h2 id="Haloä¸Hexoçš„å¯¹æ¯”"><a href="#Haloä¸Hexoçš„å¯¹æ¯”" class="headerlink" title="Haloä¸Hexoçš„å¯¹æ¯”"></a>Haloä¸Hexoçš„å¯¹æ¯”</h2><p>Haloå’ŒHexoéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„åšå®¢ç³»ç»Ÿï¼Œä»–ä»¬<strong>å„æœ‰ä¼˜ç¼ºç‚¹</strong>ã€‚ä¸‹é¢æˆ‘æ ¹æ®æˆ‘å¤šæ¬¡æ­å»ºçš„ç»å†æ¥è°ˆè°ˆã€‚</p><h3 id="Hexo-â€”â€”-é«˜åº¦è‡ªç”±ï¼Œå¤æ‚ä½†å¼ºå¤§"><a href="#Hexo-â€”â€”-é«˜åº¦è‡ªç”±ï¼Œå¤æ‚ä½†å¼ºå¤§" class="headerlink" title="Hexo â€”â€” é«˜åº¦è‡ªç”±ï¼Œå¤æ‚ä½†å¼ºå¤§"></a>Hexo â€”â€” é«˜åº¦è‡ªç”±ï¼Œå¤æ‚ä½†å¼ºå¤§</h3><hr><div align="center">    <img src="https://z4a.net/images/2023/02/21/Hexo.md.jpg" alt="Hexo" width="65%"></div><blockquote><p>Hexoå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/index.html">https://hexo.io/zh-cn/index.html</a></p></blockquote><p>Hexoå¯ä»¥è¯´æ˜¯å¾ˆå‡ºåçš„åšå®¢ç³»ç»Ÿï¼Œå®ƒæœ€æ—©å‘å¸ƒäº2012å¹´ï¼Œå‘å”®è‡³ä»Šå·²è¾¾11å¹´ï¼Œå¯ä»¥è¯´æ˜¯è€å‰è¾ˆäº†ï¼Œå®ƒå¯èƒ½æ˜¯æœ€æ—©é™æ€åšå®¢ç³»ç»Ÿã€‚<strong>å®ƒæ‰€æœ‰çš„ç½‘é¡µéƒ½æ˜¯é™æ€htmlæ–‡ä»¶ï¼Œè¿™ä¹Ÿå¯¼è‡´å®ƒå¯ä»¥ç›´æ¥åœ¨GitHubä¸Šè¿›è¡Œé™æ€æ‰˜ç®¡ï¼Œä¸éœ€è¦è‡ªå·±ç§ŸèµæœåŠ¡å™¨ï¼ˆé›¶æˆæœ¬ï¼‰</strong>ï¼Œè¿™ä¸€ç‚¹åº”è¯¥æ˜¯å®ƒå¹¿æ³›å—åˆ°ä½¿ç”¨çš„é‡è¦åŸå› ã€‚</p><blockquote><p>æˆ‘çš„Hexoåšå®¢ï¼š<a href="https://ldm0715.github.io/">https://ldm0715.github.io/</a></p></blockquote><p>ç”±äºHexoçš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯é™æ€é¡µé¢ï¼Œå› æ­¤æ–‡ç« éœ€è¦åœ¨æœ¬åœ°å†™ä½œå¹¶ç”Ÿæˆï¼Œæœ€åä¸Šä¼ åˆ°æœåŠ¡å™¨æˆ–è€…&#x3D;&#x3D;é™æ€æ‰˜ç®¡ç½‘ç«™&#x3D;&#x3D;ã€‚<strong>å½“ç„¶å…¶ä½™çš„æ‰€æœ‰æ“ä½œä¹Ÿåªèƒ½åœ¨æœ¬åœ°è¿›è¡Œ</strong>ï¼Œè¿™ä¹Ÿå¯¼è‡´å®ƒæ²¡æœ‰åŠæ—¶æ€§ï¼Œ<strong>å¦‚æœå‚¨å­˜æœ‰åšå®¢ç³»ç»Ÿçš„ç”µè„‘ä¸åœ¨èº«è¾¹ï¼Œé‚£ä¹ˆä½ å°†ä»€ä¹ˆéƒ½åšä¸äº†ã€‚</strong></p><p>éšç€ç‰ˆæœ¬çš„ä¸æ–­æ›´æ–°ï¼ŒHexoçš„åŠŸèƒ½ä¹Ÿè¶Šæ¥è¶Šå¼ºå¤§ï¼Œè‡ªå®šä¹‰æ€§ä¸ä¾¿æ·æ€§ä¹Ÿè¶Šæ¥è¶Šé«˜ã€‚å¯¹äºæˆ‘è¿™ç§éä¸“ä¸šæ€§çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œæˆ‘å¦‚æœæƒ³è¦ä¸ºæˆ‘çš„åšå®¢æ·»åŠ ä¸€äº›åŠŸèƒ½ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç›´æ¥å®‰è£…ç›¸åº”çš„&#x3D;&#x3D;æ’ä»¶&#x3D;&#x3D;æ¥å®ç°ã€‚å¯ä»¥å¿«æ·çš„æ›´æ¢è‡ªå·±å–œæ¬¢çš„&#x3D;&#x3D;ä¸»é¢˜&#x3D;&#x3D;ã€‚é€šè¿‡ç®€å•çš„æŒ‡ä»¤å¿«é€Ÿåˆ›å»ºæ–‡ç« æˆ–è€…ç½‘é¡µï¼Œé€šè¿‡åœ¨YAMLä¸­ç»™æ–‡ç« è®¾ç½®å„ç§å±æ€§ï¼ˆåŒ…æ‹¬æ ‡é¢˜ã€å°é¢ã€tagã€åˆ†ç±»ç­‰ï¼Œ++è¿™ä¸ªåªè¦æ”¯æŒMarkDownè¯­æ³•éƒ½èƒ½ç”¨++ï¼‰ï¼Œ<strong>ä¸Šæ‰‹éš¾åº¦å¾ˆä½</strong>ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">YAMLçš„å†™æ³•ï¼š</span><br><span class="line">---</span><br><span class="line">title: Hello Hexo</span><br><span class="line">date: 2023-02-21 11:27:44</span><br><span class="line">tags:</span><br><span class="line">- hello world</span><br><span class="line">- hexo</span><br><span class="line">categories:</span><br><span class="line">- ä¸Hexoçš„åˆè§</span><br><span class="line">description: ç”±äºå¤æ‚åŸå› æ­å»ºèµ·Hexoåšå®¢ï¼Œæ­å»ºèµ·æ¥ç¡®å®æœ‰ç‚¹è´¹åŠ›ï¼Œä½†æ˜¯åŠ è½½é€Ÿåº¦å¾ˆå¿«ï¼Œä¹Ÿä¸æ€ä¹ˆåƒæ€§èƒ½ï¼Œå„ç§æ’ä»¶ä¹Ÿå¾ˆè‡ªç”±ï¼Œæ„Ÿè§‰ä¸é”™</span><br><span class="line">cover: https://z4a.net/images/2023/02/21/Hexo.md.jpg</span><br><span class="line">swiper_index: 1</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>ç”±äºä½¿ç”¨è€…ä¸å¼€å‘è€…è¶Šæ¥è¶Šå¤šï¼Œè¿™å°±é€ æˆHexoç¤¾åŒºçš„ä¸æ–­å£®å¤§ã€‚å®ƒæ‹¥æœ‰å¤§é‡æ’ä»¶ä¸ä¸»é¢˜ï¼Œ<strong>å„ç§æ•™ç¨‹å’Œé”™è¯¯è®°å½•éƒ½éå¸¸çš„è¯¦ç»†</strong>ï¼Œå¯ä»¥å°‘è¸©å¾ˆå¤šå‘ã€‚<strong>å¦‚æœä½ ä¸å»é­”æ”¹ï¼ŒåæœŸçš„å‡ ä¹ä¸éœ€è¦ç»´æŠ¤ã€‚</strong></p><blockquote><p>Hexoä¸»é¢˜ä»“åº“ï¼š<a href="https://hexo.io/themes/">https://hexo.io/themes/</a><br>Hexoæ’ä»¶ä»“åº“ï¼š<a href="https://hexo.io/plugins/">https://hexo.io/plugins/</a></p></blockquote><p>å¯¹äºä¸€äº›æœ‰ç½‘é¡µåŸºç¡€çš„ä½¿ç”¨è€…æ¥è¯´ï¼Œä»–ä»¬å¯ä»¥åœ¨Hexoåšå®¢ç³»ç»Ÿçš„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œå¾—åˆ°æ›´åŠ ç‚«é…·ä¸ä¸ªæ€§çš„ç½‘é¡µæ•ˆæœï¼Œ<strong>ä¸ªäººä¸æ˜¯å¾ˆæ¨èæœªå­¦ä¹ è¿‡ç½‘é¡µï¼ˆCSSï¼ŒJavaScriptï¼‰çš„ä½¿ç”¨è€…è¿›è¡Œå¤§é‡é­”æ”¹ï¼Œä¸äº†è§£å…¶ä¸­çš„è¯­æ³•è§„åˆ™å¯èƒ½ä¼šç›´æ¥å¯¼è‡´åšå®¢ç³»ç»Ÿçš„å¥”æºƒï¼Œå¦‚æœä½ è¿˜æ˜¯æƒ³è¦å°è¯•ï¼Œå»ºè®®&#x3D;&#x3D;åœ¨ä¿®æ”¹å‰è¿›è¡Œå¤‡ä»½ã€‚&#x3D;&#x3D;</strong><br>ä»¥ä¸Šéƒ½æ˜¯++Hexo++çš„&#x3D;&#x3D;ä¼˜ç‚¹&#x3D;&#x3D;ï¼Œç®€å•æ€»ç»“å¦‚ä¸‹ï¼š</p><ol><li>å¯ä»¥è¿›è¡Œé™æ€é¡µé¢æ‰˜ç®¡ï¼Œå®ç°é›¶æˆæœ¬å»ºç«™</li><li>å¯ä»¥é€šè¿‡æ’ä»¶å¢åŠ åŠŸèƒ½</li><li>ç¤¾åŒºå†…å®¹è¯¦ç»†ï¼Œæœ‰è‡ªå·±çš„æ’ä»¶ä»“åº“ä¸ä¸»é¢˜ä»“åº“</li><li>æ”¯æŒMarkDownæ ¼å¼ï¼Œå¯ä½¿ç”¨YAMLè®¾ç½®æ–‡ç« å±æ€§</li><li>è‡ªå®šä¹‰æ€§è¾ƒé«˜</li></ol><p>å½“ç„¶++Hexo++ä¹Ÿæœ‰&#x3D;&#x3D;ç¼ºç‚¹&#x3D;&#x3D;ï¼Œå…¶å®ä¸Šæ–‡ä¹Ÿæœ‰æåˆ°è¿‡ä¸€äº›ï¼Œè¿™é‡Œå°±ç®€å•åˆ—ä¸¾ä¸€ä¸‹ï¼š</p><ol><li>å¦‚æœæ–‡ç« å¾ˆå¤šï¼Œç”Ÿæˆé€Ÿç‡è®©äººæ‹…å¿§</li><li>é™æ€æ­è½½äºGithubæ—¶ï¼Œç”±äºä»“åº“æ˜¯å…¬å¼€çš„ï¼Œæ•°æ®çš„å®‰å…¨æ€§æ²¡æœ‰ä¿éšœ</li><li>éƒ¨åˆ†æ’ä»¶å·²è¿‡æ—¶ï¼Œä½†å®ƒä»¬ä»»ç„¶å‚¨å­˜åœ¨æ’ä»¶ä»“åº“ä¸­ï¼Œå¦‚æœå®‰è£…å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜</li><li>ä¸€äº›è®¾ç½®è¿‡äºç¹æ‚ï¼Œä¸åˆ©äºåæœŸçš„ä¿®æ”¹</li><li>æ— æ³•åœ¨çº¿ç¼–è¾‘</li></ol><h3 id="Halo-â€”â€”-å®æ—¶ç¼–è¾‘ï¼Œå°é—­ä½†æ˜“ç”¨"><a href="#Halo-â€”â€”-å®æ—¶ç¼–è¾‘ï¼Œå°é—­ä½†æ˜“ç”¨" class="headerlink" title="Halo â€”â€” å®æ—¶ç¼–è¾‘ï¼Œå°é—­ä½†æ˜“ç”¨"></a>Halo â€”â€” å®æ—¶ç¼–è¾‘ï¼Œå°é—­ä½†æ˜“ç”¨</h3><hr><div align="center">    <img src="https://z4a.net/images/2023/02/21/halo.png" alt="Halo" style="zoom:75%;" /></div><blockquote><p>Haloå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.halo.run/">https://docs.halo.run/</a></p></blockquote><p>Haloæ˜¯çº¯Javaç¼–å†™çš„åšå®¢ç³»ç»Ÿï¼Œæœ€æ—©å‘å¸ƒäº2018å¹´ï¼Œè™½ç„¶å‘å¸ƒäº‹ä»¶è¾ƒæ™šï¼Œä½†æ˜¯éå¸¸æ˜“ç”¨ï¼Œæ˜¯<strong>ç›¸å½“å¼ºå¤§æ˜“ç”¨çš„å¼€æºå»ºç«™å·¥å…·</strong>ã€‚</p><p>ä¸Hexoç›¸æ¯”ï¼ŒHaloæœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯ç¤¾åŒºå†…å®¹è¾ƒå°‘ã€‚å› ä¸ºå‘å¸ƒæ—¶é—´è¾ƒæ™šï¼Œå¤§å®¶å¯èƒ½éƒ½å·²ç»ä¹ æƒ¯ä½¿ç”¨Hexoï¼ŒWordPressç­‰å»ºç«™å·¥å…·ï¼Œå› æ­¤Haloå—åˆ°çš„å…³æ³¨è¾ƒå°‘ã€‚ç¤¾åŒºå†…å®¹è¾ƒå°‘ï¼Œå°±å¯¼è‡´å®ƒæ²¡æœ‰åƒHexoä¸€æ ·æ‹¥æœ‰éå¸¸ä¸°å¯Œçš„ç¤¾åŒºå†…å®¹ï¼Œæœ€ä¸»è§‚çš„å°±æ˜¯ä¸»é¢˜è¾ƒå°‘ï¼Œè€Œä¸”æœç´¢å¼•æ“ä¹Ÿæœç´¢ä¸åˆ°å¤§é‡ç›¸å…³å†…å®¹ï¼ˆå½“ç„¶è¿™ä¸ªæœ‰å…¶ä»–åŸå› ï¼Œä¸‹é¢ä¼šè¯¦ç»†è¯´è¯´ï¼‰ã€‚<strong>è€Œä¸”Halo 1.Ã—ç‰ˆæœ¬ä¸æ”¯æŒæ’ä»¶ï¼Œå› æ­¤å¯ç©æ€§è¾ƒä½</strong>ã€‚ï¼ˆ++Halo 2.Ã—ç‰ˆæœ¬å·²ç»å¼€å§‹æ”¯æŒæ’ä»¶ç³»ç»Ÿ++ï¼‰</p><p><strong>è™½ç„¶åœ¨ä¸ªæ€§åŒ–æ–¹é¢Haloæ²¡æœ‰ä»»ä½•ä¼˜åŠ¿ï¼Œä½†æ˜¯Haloæœ€å¤§çš„ä¼˜ç‚¹ä¾¿åœ¨äºå®ƒçš„æ˜“ç”¨æ€§</strong>ã€‚ Hexoæœ€è®©äººæ„Ÿè§‰ä¸ä¾¿çš„å°±æ˜¯å®ƒæ— æ³•åœ¨çº¿ç¼–è¾‘ï¼Œä½†<strong>Haloå®Œç¾è§£å†³äº†è¿™ä¸€ç‚¹ã€‚</strong></p><p><strong>Haloç³»ç»Ÿæ˜¯å¯ä»¥ç›´æ¥åœ¨çº¿ç¼–è¾‘çš„ï¼Œå¯å®æ—¶é¢„è§ˆ</strong>ã€‚ç³»ç»Ÿæœ‰ç€ä¸€ä¸ªåšå®¢åå°ï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥éå¸¸è½»æ¾è®¾ç½®ä¸ç®¡ç†åšå®¢ï¼Œè€Œä¸æ˜¯Hexoé‚£æ ·éœ€è¦å»é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ä»£ç ï¼ï¼ï¼</p><div class="box" align="center">            <img src="https://z4a.net/images/2023/03/13/halo.png" alt="halo.png" alt="åå°å±•ç¤º" style="zoom:50%;" /></div><div align="center">            <img src="https://z4a.net/images/2023/03/13/f7fe18c1b99caf7fd57e64744c0331b7.png" alt="åœ¨çº¿ç¼–è¾‘" style="zoom:50%;" /></div><p>å¦ä¸€æ–¹é¢Haloæ²¡æœ‰Hexoé‚£ä¹ˆæ–¹ä¾¿é­”æ”¹ï¼Œ**ä½†æ˜¯Haloæœ¬èº«å°±æºå¸¦äº†åšå®¢ç½‘ç«™çš„ä¸€äº›åŸºæœ¬ç½‘é¡µï¼ˆå¦‚ï¼šæ—¥å¿—ã€å½’æ¡£ã€åˆ†ç±»ã€å‹é“¾ã€ç›¸å†Œï¼‰ï¼Œ&#x3D;&#x3D;è¿™å¯¹äºå¤§éƒ¨åˆ†äººæ¥è¯´å·²ç»å¤Ÿç”¨äº†&#x3D;&#x3D;**ã€‚</p><div align="center"><img src="https://z4a.net/images/2023/03/13/ae474befa541c22b277ff1c74edf7325.png" alt="é¡µé¢" border="0" style="zoom:50%;">  <p>é¡µé¢</p></div><p>å‰é¢è¯´åˆ°Haloæ²¡æœ‰ä¸°å¯Œçš„ç¤¾åŒºå†…å®¹ï¼Œè¿™ä¸ä»…è¯´æ˜Haloçš„å¯ç©æ€§è¾ƒä½ï¼Œ<strong>è¿™ä¹Ÿè¯´æ˜Haloçš„ä½¿ç”¨å‡ ä¹ä¸ä¼šé‡åˆ°æŠ€æœ¯é—®é¢˜</strong>ï¼Œåå°å·²ç»å±•ç¤ºå‡ºäº†æ‰€æœ‰çš„é€‰é¡¹ï¼Œè§„é¿äº†é­”æ”¹çš„åŒæ—¶ä¿è¯äº†å®‰å…¨æ€§ã€‚</p><h2 id="å…³äºHalo-2-Ã—ç‰ˆæœ¬"><a href="#å…³äºHalo-2-Ã—ç‰ˆæœ¬" class="headerlink" title="å…³äºHalo 2.Ã—ç‰ˆæœ¬"></a>å…³äºHalo 2.Ã—ç‰ˆæœ¬</h2><p>æˆªç›´è‡³æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼ŒHaloå®˜æ–¹å·²ç»å‘å¸ƒäº†2.3ç‰ˆæœ¬ã€‚åœ¨ä½“éªŒè¿‡Halo 2.2åï¼Œæˆ‘æ„Ÿå—åˆ°Halo 2.Ã—çš„é©å‘½æ€§ï¼Œä¹Ÿçœ‹åˆ°äº†å®ƒå¾…æ”¹è¿›ä¹‹å¤„ï¼Œå› æ­¤æˆ‘è¿˜æ˜¯é€€å›äº†Halo 1.6ã€‚ä¸‹é¢æˆ‘åˆ—å‡ºä¸€äº›Halo 2.2çš„ä½¿ç”¨æ„Ÿå—ï¼š<br>ğŸ˜Š ä¼˜ç‚¹ï¼š</p><ol><li>å®˜æ–¹å·²å¼€å‘æ’ä»¶ç³»ç»Ÿ</li><li>æ‹¥æœ‰å…¨æ–°åå°ï¼Œç•Œé¢æ›´åŠ ç¾è§‚</li><li>æ–‡æœ¬ç¼–è¾‘å™¨å¢åŠ ï¼Œå¯è‡ªè¡Œé€‰æ‹©</li></ol><p>ğŸ™ƒ ç¼ºç‚¹ï¼š</p><ol><li>å®˜æ–¹å¹¶æœªå¼€æ”¾å‡ºäº†æ–‡ç« ä»¥å¤–çš„å…¶ä»–ç•Œé¢æ¥å£</li><li>ç›®å‰é€‚é…Halo 2.Ã—çš„ä¸»é¢˜å¾ˆå°‘ï¼Œå·²ç»é€‚é…çš„ä¹Ÿæœ‰å¾…å®Œå–„</li><li>å°†è¯„è®ºåŒºã€å¤§å›¾æŸ¥çœ‹ã€ä»£ç é«˜äº®ç­‰éƒ½æ‹†å…¥æ’ä»¶ä¸­ï¼Œè¿™æ ·åè€Œä¸æ–¹ä¾¿</li><li>ç›®å‰ç³»ç»Ÿè¿˜æœ‰ç€è®¸å¤šçš„Bug</li></ol><p>æˆ‘ä¸ªäººéå¸¸ä¸å»ºè®®ç°åœ¨å°†æ•°æ®æ¬è¿è‡³Halo 2.3ï¼Œä½“éªŒçœŸçš„æ²¡æœ‰æ¯”Halo 1.6è¦å¥½ï¼Œ<strong>æˆ‘ä¸ªäººå»ºè®®ç­‰åˆ°Haloå®˜æ–¹å‘å¸ƒHalo 2.5åŠå…¶ä»¥ä¸Šç‰ˆæœ¬å†è€ƒè™‘æ¬è¿é—®é¢˜ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> Haloåšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Halo </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-åšå®¢æ­å»º</title>
      <link href="/post/hexo-bo-ke-da-jian-li-cheng/"/>
      <url>/post/hexo-bo-ke-da-jian-li-cheng/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><p>å…³äºæˆ‘ä¸ºä»€ä¹ˆä½¿ç”¨ Hexoï¼Œå…¶å®è¿˜æŒºæˆå‰§æ€§çš„ï¼Œä¸€å¼€å§‹æˆ‘ä½¿ç”¨çš„æ˜¯ Halo å»ºç«™ï¼Œç›¸å½“å‚»ç“œå¼ï¼Œéå¸¸æ¨èå¤§å®¶ä½¿ç”¨ï¼Œå„ç§åŠŸèƒ½ä¹Ÿéå¸¸å…¨ã€‚ä½†æ˜¯æœ€è¿‘æœåŠ¡å™¨å‚å•†åº”æ€¥æŠŠæœåŠ¡å™¨å…³äº†ï¼Œå·®ç‚¹å¯¼è‡´åšå®¢ä¸¢æ­»ï¼Œå¦ä¸€ä¸ªç§Ÿç”¨çš„æœåŠ¡å™¨ä¹Ÿå¿«åˆ°æœŸäº†ï¼Œäºæ˜¯æˆ‘å°±äº§ç”Ÿäº†å¯¹æ–‡ç« å­˜æ¡£çš„æƒ³æ³•ï¼ˆè™½ç„¶ç¡®å®æ¯å‡ ç¯‡æ–‡ç« ï¼‰, å› ä¸ºå…¶å®å½“ä»Šå¸‚é¢ä¸Šçš„å¼€æºåšå®¢ç³»ç»Ÿå…¶å®ä¹Ÿè›®å¤šçš„ï¼Œå¸¸è§çš„æœ‰ï¼šHexoï¼ŒHexoã€Hugoã€Typechoã€Wordpress ç­‰ã€‚å…¶ä¸­æœ€è‘—åçš„å°±æ˜¯ Hexoï¼Œè€Œä¸”ä»–æœ‰ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼šå¯ä»¥ç›´æ¥æ­å»ºåœ¨ github ä»“åº“ä¸­ã€‚ç­‰äºä¸éœ€è¦æœåŠ¡å™¨å°±èƒ½ç›´æ¥è®¿é—®ï¼Œè€Œä¸”ç”šè‡³éå¸¸ç¨³å®šä¸”ç»ˆèº«ä¸ä¸¢ï¼Œäºæ˜¯å°±æƒ³ç€æ­å»ºä¸€ä¸ª Hexo åšå®¢ä½œä¸ºå‰¯ç«™ä½¿ç”¨ã€‚</p><p>æœ¬ç¯‡æ–‡ç« å°±è°ˆä¸€è°ˆæˆ‘å»ºç«™çš„è¿‡ç¨‹å§ï¼ŒæŠŠä¸€äº›æ­å»ºç»†èŠ‚ç»™ä¿ç•™ä¸‹æ¥ï¼Œå¦‚æœæœ‰äººæƒ³è¦æ­å»ºï¼Œå¸Œæœ›èƒ½é è¿™ç¯‡å¸®åˆ°è®¿é—®çš„ä½ ã€‚æ›´å¤šè¿˜æ˜¯æ–¹ä¾¿æ—¥åè‡ªå·±è§£å†³é—®é¢˜ï¼Œæœ¬äººä½¿ç”¨çš„æ˜¯ Windows 10ï¼ŒMac ä¸ Liunx ç³»ç»Ÿè¯·å¦å¯»å…¶ä»–æ–‡ç« </p><p>å…³äºæ­å»º Hexo åšå®¢å‰éœ€è¦çŸ¥é“çš„äº‹ï¼š</p><ol><li>ä½ éœ€è¦æœ‰ä¸€ä¸ª github è´¦å·</li><li>ä½ éœ€è¦å¤§è‡´æ˜ç™½ Markdown çš„å†™æ³•ï¼ˆä¸€äº›è¯­æ³•ï¼‰</li><li>Hexo æ¯ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªé™æ€çš„ç½‘é¡µ</li><li>Hexo ä¸æ”¯æŒåœ¨çº¿ç¼–å†™ï¼Œåªèƒ½åœ¨æœ¬åœ°ç¼–å†™æ–‡ç« åä¸Šä¼ </li></ol><blockquote><p>Hexo å®˜ç½‘ï¼š<a href="https://hexo.io/zh-cn/index.html">https://hexo.io/zh-cn/index.html</a></p></blockquote><h2 id="å®‰è£…å‰çš„å‡†å¤‡"><a href="#å®‰è£…å‰çš„å‡†å¤‡" class="headerlink" title="å®‰è£…å‰çš„å‡†å¤‡"></a>å®‰è£…å‰çš„å‡†å¤‡</h2><ol><li>å®‰è£…<code>Node.js</code></li></ol><blockquote><p>Node.js: <a href="https://nodejs.org/en/">https://nodejs.org/en/</a></p></blockquote><ol start="2"><li>å®‰è£…<code>git</code></li></ol><blockquote><p>git download for windows: <a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p></blockquote><p> é»˜è®¤ä¸‹ä¸€æ­¥ï¼Œå®‰è£…åå³é”®ä¼šå‡ºç°:</p><ul><li>Git GUI Here</li><li>Git Bash Here</li></ul><p>åˆæ¬¡ä½¿ç”¨éœ€è¦è®¾å®šç”¨æˆ·ååŠç»‘å®šé‚®ç®±ã€‚</p><ul><li><p>è®¾ç½®ç”¨æˆ·å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name ç”¨æˆ·å</span><br></pre></td></tr></table></figure></li><li><p>ç»‘å®šé‚®ç®±</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email é‚®ç®±åœ°å€</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªè®¾ç½®å¯¹äºè½»åº¦ä½¿ç”¨çš„ç”¨æˆ·æ¥è¯´æŒ‰ç…§å–œå¥½å¡«å†™å°±è¡Œï¼Œä¸ä¼šæœ‰ä»€ä¹ˆåç»­å½±å“ã€‚</p></li></ul><h2 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h2><p>Hexo æœ¬èº«æ‹¥æœ‰çš„ç‰¹ç‚¹å°±æ˜¯ç¦»çº¿æ€§ï¼Œæ­å»ºçš„è¿‡ç¨‹å®Œå…¨ä¾èµ–äºæœ¬åœ°ï¼ŒåæœŸå°±åªæ˜¯ç¼–å†™åä¸Šä¼ ä»“åº“ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆåœ¨æœ¬åœ°æ­å»ºèµ· Hexoã€‚</p><h3 id="å…¨å±€å®‰è£…Hexo"><a href="#å…¨å±€å®‰è£…Hexo" class="headerlink" title="å…¨å±€å®‰è£…Hexo"></a>å…¨å±€å®‰è£…Hexo</h3><ol><li><p>æ‰“å¼€<code>cmd</code>è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼Œå…¨å±€å®‰è£…<code>Hexo</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…å®Œå…¨åï¼Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure></li></ol><h3 id="åˆ›å»ºæœ¬åœ°Hexoé¡¹ç›®"><a href="#åˆ›å»ºæœ¬åœ°Hexoé¡¹ç›®" class="headerlink" title="åˆ›å»ºæœ¬åœ°Hexoé¡¹ç›®"></a>åˆ›å»ºæœ¬åœ°Hexoé¡¹ç›®</h3><p>åœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸º Hexo é¡¹ç›®çš„åœ°å€ã€‚<strong>åœ¨é¡¹ç›®æ–‡ä»¶å¤¹å¾—ç›®å½•ä¸‹æ‰“å¼€ <code>cmd</code>ï¼š</strong></p><ol><li><p>åˆå§‹åŒ–Hexoé¡¹ç›®ï¼ˆå¾—åˆ°åšå®¢ç³»ç»Ÿæ–‡ä»¶ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init hexoblog</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–å®Œæˆåä¼šå‡ºç°é¡¹ç›®çš„åŸºæœ¬ç»“æ„ï¼Œåç»­ä¸€äº›åšå®¢çš„åŸºç¡€è®¾ç½®ä¿®æ”¹æ ¹æ®æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code> æ–‡ä»¶æ¥å®ç°ã€‚</p></li><li><p>å®‰è£…npmï¼ˆå·²å®‰è£…å¯è·³è¿‡ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨Hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><blockquote><p>æœ¬åœ°å¯åŠ¨åçš„åœ°å€ä¸ºï¼š <a href="http://localhost:4000/">http://localhost:4000/</a></p></blockquote><p>æ­£å¸¸æ¥è¯´ä¼šå‡ºç°ä»¥ä¸‹ç”»é¢:</p><img src="https://s2.loli.net/2023/04/24/1KBJ869HnwVWszf.png" style="zoom: 67%;" /></li></ol><h2 id="ä¿®æ”¹åšå®¢åŸºç¡€è®¾ç½®"><a href="#ä¿®æ”¹åšå®¢åŸºç¡€è®¾ç½®" class="headerlink" title="ä¿®æ”¹åšå®¢åŸºç¡€è®¾ç½®"></a>ä¿®æ”¹åšå®¢åŸºç¡€è®¾ç½®</h2><ol><li><p>siteåŸºç¡€è®¾ç½®</p><p>è¿›å…¥Hexoé¡¹ç›®æ–‡ä»¶å¤¹ï¼ˆç®€ç§°æ ¹ç›®å½•ï¼‰ï¼Œæ‰“å¼€<code>_config.yml</code>ï¼ˆé…ç½®æ–‡ä»¶ï¼‰ï¼Œæ‰¾åˆ°å¦‚ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: &#x27;&#x27;</span><br><span class="line">subtitle: &#x27;&#x27;</span><br><span class="line">description: &#x27;&#x27;</span><br><span class="line">keywords: &#x27;&#x27;</span><br><span class="line">author: &#x27;&#x27;</span><br><span class="line">language: &#x27;&#x27;</span><br><span class="line">timezone: &#x27;&#x27;</span><br></pre></td></tr></table></figure><p>è¿™å°±æ˜¯ç½‘ç«™çš„åŸºç¡€è®¾ç½®é¡¹ï¼Œè¿™é‡Œåªè®²ä¸€äº›åŸºç¡€å‚æ•°çš„ä¿®æ”¹ï¼š</p><ul><li>titleï¼šç½‘ç«™æ ‡é¢˜</li><li>subtitleï¼šç½‘ç«™å‰¯æ ‡é¢˜</li><li>descriptionï¼šç½‘ç«™æ‘˜è¦</li><li>authorï¼šåšä¸»æ˜µç§°</li><li>languageï¼šé»˜è®¤è¯­è¨€ï¼Œé»˜è®¤æ˜¯<code>en</code>ï¼ˆdefaultï¼‰<ul><li>ä¸­æ–‡ç®€ä½“ï¼š<code>zh-CN</code></li><li>ä¸­æ–‡ç¹ä½“ä¸ºï¼š<code>zh-TW</code></li></ul></li><li>timezoneï¼šæ—¶åŒº</li></ul></li><li><p>ä¸»é¢˜ä¿®æ”¹</p><p>è¿™ä¸ªåœ¨ä¸‹é¢[å®‰è£…åšå®¢ä¸»é¢˜](# å®‰è£…åšå®¢ä¸»é¢˜)æ—¶å†è®²ã€‚</p></li></ol><h2 id="å®‰è£…åšå®¢ä¸»é¢˜"><a href="#å®‰è£…åšå®¢ä¸»é¢˜" class="headerlink" title="å®‰è£…åšå®¢ä¸»é¢˜"></a>å®‰è£…åšå®¢ä¸»é¢˜</h2><ol><li><p>ä¸‹è½½ä¸»é¢˜æ–‡ä»¶</p><p>hexo ä¸€å¼€å§‹æ˜¯ default ä¸»é¢˜ã€‚å¦‚æœä¸æ»¡æ„çš„è¯ï¼Œè‚¯å®šéœ€è¦è‡ªå·±æ›´æ¢ä¸»é¢˜ï¼Œå¯ä»¥ç›´æ¥åˆ°Hexoå®˜æ–¹çš„ä¸»é¢˜ä»“åº“é€‰æ‹©ã€‚</p><blockquote><p>Hexo-themeï¼š<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p></blockquote><p>ä¸‹è½½åçš„ä¸»é¢˜æ”¾å…¥åšå®¢æ ¹ç›®å½•çš„ themes æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ–è€…ç›´æ¥åœ¨ themes æ–‡ä»¶ä¸­ä½¿ç”¨ git çš„å‘½ä»¤è¿›è¡Œä¸‹è½½ã€‚</p></li><li><p>ä¿®æ”¹åšå®¢è®¾ç½®</p><p>ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹<code>_config.yml </code>é…ç½®æ–‡ä»¶ä¸­çš„ theme å‚æ•°ï¼Œä¿®æ”¹ä¸ºä¸»é¢˜çš„åå­—ï¼ˆä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå‡ºé”™å¯ä»¥ç›´æ¥å»çœ‹å„ä¸»é¢˜åšä¸»å†™çš„è®¾ç½®æ–‡ç« ï¼‰</p><p>ä»¥ä¸‹ä»¥<code>butterfly</code>ä¸»é¢˜ä¸ºä¾‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure></li><li><p>å¯åŠ¨åšå®¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo serve</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç¼©å†™ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ol><h2 id="å°†åšå®¢ä¸Šä¼ åˆ°Githubæˆ–è€…Gitee"><a href="#å°†åšå®¢ä¸Šä¼ åˆ°Githubæˆ–è€…Gitee" class="headerlink" title="å°†åšå®¢ä¸Šä¼ åˆ°Githubæˆ–è€…Gitee"></a>å°†åšå®¢ä¸Šä¼ åˆ°Githubæˆ–è€…Gitee</h2><p>å°† hexo åšå®¢ä¸Šä¼ åˆ°ä¸ªäººçš„ github ä»“åº“åï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ä»“åº“åæ¥è®¿é—®åšå®¢ï¼Œè¿™å°±ç­‰äºç™½å«–äº† github ä»“åº“ä½œä¸ºæœåŠ¡å™¨ï¼Œå¯ä»¥é›¶æˆæœ¬æ­å»ºåšå®¢ä¸”æ–‡ä»¶ä¸ä¼šä¸¢å¤±ï¼Œå°ä»£ä»·æ˜¯æœ‰æ—¶å¯èƒ½æ— æ³•æ­£å¸¸è®¿é—®ï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘æ­å»º<strong>å…¨ç«™ CDNï¼ˆContent Delivery Networkï¼‰æé«˜è®¿é—®çš„é€Ÿåº¦ï¼ˆç½‘ä¸Šéƒ½æ¨è jsDelivrï¼‰</strong>ï¼Œå½“ç„¶ä¹Ÿä¸èƒ½ä¿è¯ CDN ä¸ä¼šå´©ï¼ˆjsDelivr è²Œä¼¼å´©äº†åŠå¹´ï¼‰ï¼Œæ‰€ä»¥çœ‹ä¸ªäººçš„éœ€æ±‚å§ã€‚</p><p>æ”¾åˆ° gitee ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå¥½é€‰æ‹©ï¼Œè®¿é—®é€Ÿåº¦æœ‰äº†ä¿éšœï¼Œä½†æ˜¯ä»£ä»·æ˜¯ gitee å¯èƒ½å“ªå¤©å°±ä¸æ”¯æŒé™æ€é¡µé¢æ‰˜ç®¡äº†ï¼ˆæœ‰å…ˆä¾‹ï¼‰ï¼Œ<strong>å› æ­¤è¿˜æ˜¯é¦–å…ˆæ¨èæ­å»ºåˆ° github ä»“åº“ã€‚</strong></p><h3 id="ä¸Šä¼ åˆ°Githubä»“åº“"><a href="#ä¸Šä¼ åˆ°Githubä»“åº“" class="headerlink" title="ä¸Šä¼ åˆ°Githubä»“åº“"></a>ä¸Šä¼ åˆ°Githubä»“åº“</h3><h4 id="ç”ŸæˆSSHå¯†åŒ™"><a href="#ç”ŸæˆSSHå¯†åŒ™" class="headerlink" title="ç”ŸæˆSSHå¯†åŒ™"></a>ç”ŸæˆSSHå¯†åŒ™</h4><p>ç›®å½•æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ç”Ÿæˆå¯†åŒ™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;xxxxx@xxxxx.com&quot; </span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>xxxxx@xxxxx.com</code>è¾“å…¥ä½ GitHubçš„é‚®ç®±ï¼Œå®é™…ä¸Šè¿™åªæ˜¯ä¸€ä¸ªåç§°ï¼Œä¸æ˜¯æœ€å…³é”®çš„ã€‚æ¥ä¸‹æ¥çš„é€‰é¡¹ä¸€è·¯å›è½¦å³å¯ã€‚</p><p>ç„¶ååˆ°<code>C:\Users\ç”¨æˆ·å\.ssh</code>ï¼Œå…¶ä¸­ä¹‹åä¾¿ä¼šç”Ÿæˆ<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ã€‚å…¶ä¸­ SSH å¯†åŒ™åœ¨<code>id_rsa.pub</code>ä¸­ã€‚</p><p>ç™»é™† github â†’ ç‚¹å‡»å¤´åƒ â†’ setting â†’ SHH and GPG keys â†’ New SSH key æŠŠ id_rsa.pub å¤åˆ¶åˆ°å…¶ä¸­å³å¯ã€‚</p><p>è¾“å…¥ä¸€ä¸‹ä»£ç è¿›è¡Œç¡®è®¤ç»‘å®š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>è¾“å…¥<code>yes</code>åå°±ä¼šæ”¶åˆ°ç»‘å®šæˆåŠŸé‚®ä»¶ã€‚</p><h4 id="åˆ›å»ºåšå®¢ä»“åº“"><a href="#åˆ›å»ºåšå®¢ä»“åº“" class="headerlink" title="åˆ›å»ºåšå®¢ä»“åº“"></a>åˆ›å»ºåšå®¢ä»“åº“</h4><p>ç™»é™† github â†’ <code>ï¼‹å·</code>ï¼ˆå¤´åƒæ—è¾¹ï¼‰ â†’ New repository</p><p>ä»“åº“åå­—å‘½åå¿…é¡»ä¸ºï¼š<code>githubç”¨æˆ·å.github.io</code>, ç„¶å<strong>å°†ä»“åº“è®¾ä¸ºPublic</strong>ï¼Œä¾‹å¦‚æœ¬ç½‘ç«™çš„ä»“åº“åä¸ºï¼š<code>ldm0715.github.io</code></p><h4 id="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶</h4><p>æ‰“å¼€åšå®¢æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>, æ‰¾åˆ°<code>deploy</code>, æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: githubä»“åº“åœ°å€  ä¾‹å¦‚ï¼šhttps://github.com/OliverLoki/OliverLoki.github.io.git </span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ æ–‡ä»¶åˆ°githubä»“åº“"><a href="#ä¸Šä¼ æ–‡ä»¶åˆ°githubä»“åº“" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶åˆ°githubä»“åº“"></a>ä¸Šä¼ æ–‡ä»¶åˆ°githubä»“åº“</h4><p>è¾“å…¥ä¸Šä¼ ä»£ç ï¼ˆéœ€è¦å®‰è£…æ’ä»¶ï¼Œè¯¦è§ï¼š[ç”Ÿæˆå’Œä¸Šä¼ é¡µé¢æŒ‡ä»¤](# ç”Ÿæˆä¸ä¸Šä¼ é¡µé¢æŒ‡ä»¤)ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>åˆ·æ–°å³å¯çœ‹åˆ°ä»“åº“ä¸­å‡ºç°äº†åšå®¢æ–‡ä»¶ï¼ˆ<strong>å› ä¸ºç½‘ç»œé—®é¢˜å¯èƒ½ä¼šå¤±è´¥ï¼Œå¤±è´¥å°±å¤šè¯•å‡ æ¬¡</strong>ï¼‰</p><h3 id="ä¸Šä¼ åˆ°Giteeä»“åº“"><a href="#ä¸Šä¼ åˆ°Giteeä»“åº“" class="headerlink" title="ä¸Šä¼ åˆ°Giteeä»“åº“"></a>ä¸Šä¼ åˆ°Giteeä»“åº“</h3><p>ä¸Šä¼ Giteeä¸ä¸Šä¼ Githubåªæœ‰ä¸€äº›ä¸ä¸€æ ·ï¼Œä¸‹é¢åªè¯´è¯´ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå…·ä½“æµç¨‹å’Œä¸Šä¼ Githubä¸€æ ·ã€‚</p><h4 id="ç”ŸæˆSSHå¯†åŒ™-1"><a href="#ç”ŸæˆSSHå¯†åŒ™-1" class="headerlink" title="ç”ŸæˆSSHå¯†åŒ™"></a>ç”ŸæˆSSHå¯†åŒ™</h4><p>è·ŸGithubä¸åŒï¼Œæˆ‘ä»¬éœ€è¦è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure><img src="https://s2.loli.net/2023/04/24/zIFfHcW1vUj25l4.png" style="zoom:67%;" /><p>è¾“å…¥<code>yes</code>å³å¯ã€‚</p><h4 id="åˆ›å»ºåšå®¢ä»“åº“-1"><a href="#åˆ›å»ºåšå®¢ä»“åº“-1" class="headerlink" title="åˆ›å»ºåšå®¢ä»“åº“"></a>åˆ›å»ºåšå®¢ä»“åº“</h4><p>å’Œgithubåˆ›å»ºä»“åº“çš„è¦ç‚¹ä¸€æ ·ï¼Œ<strong>è¦æŠŠä»“åº“åè®¾ç½®ä¸º</strong><code>giteeç”¨æˆ·å</code>ï¼Œç„¶ååˆæ¬¡åˆ›å»ºçš„æ—¶å€™æ˜¯ä¸èƒ½ç›´æ¥è®¾ç½®ä¸º<code>Public</code>çš„ï¼Œéœ€è¦åœ¨åˆ›å»ºäº†ä»“åº“ä¹‹åå»â€œç®¡ç†â€ä¸­æ›´æ”¹ä¸ºâ€å¼€æºâ€œã€‚</p><h4 id="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶-1"><a href="#ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶-1" class="headerlink" title="ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹åšå®¢é…ç½®æ–‡ä»¶</h4><p>åœ¨Giteeçš„ä»“åº“ä¸­ï¼Œé»˜è®¤åˆ†æ”¯ä¸å†æ˜¯mainï¼Œè€Œæ˜¯masterï¼Œå› æ­¤ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: giteeä»“åº“åœ°å€  ä¾‹å¦‚ï¼šhttps://gitee.com/OliverLoki/OliverLoki.gitee.io.git </span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ æ–‡ä»¶åˆ°giteeä»“åº“"><a href="#ä¸Šä¼ æ–‡ä»¶åˆ°giteeä»“åº“" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶åˆ°giteeä»“åº“"></a>ä¸Šä¼ æ–‡ä»¶åˆ°giteeä»“åº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><h4 id="å¼€å¯é™æ€é¡µé¢æ‰˜ç®¡æœåŠ¡"><a href="#å¼€å¯é™æ€é¡µé¢æ‰˜ç®¡æœåŠ¡" class="headerlink" title="å¼€å¯é™æ€é¡µé¢æ‰˜ç®¡æœåŠ¡"></a>å¼€å¯é™æ€é¡µé¢æ‰˜ç®¡æœåŠ¡</h4><p>è·ŸGithubä¸åŒï¼ŒGiteeæ²¡æœ‰é»˜è®¤ä½¿ç”¨é™æ€æ‰˜ç®¡é¡µé¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å¼€å¯é™æ€æ‰˜ç®¡é¡µé¢çš„åŠŸèƒ½ï¼ˆ<strong>æ­¤åŠŸèƒ½éœ€è¦å®åè®¤è¯</strong>ï¼‰</p><img src="https://s2.loli.net/2023/04/24/W3kLSv8N7XQJ2YU.png" style="zoom: 67%;" /><p>ä¹‹å<strong>å‹¾é€‰å¼ºåˆ¶https</strong>ï¼Œç„¶åç‚¹å‡»æ›´æ–°ã€‚</p><img src="https://s2.loli.net/2023/04/24/iEafAcpDy4zHnSe.png" style="zoom:67%;" /><hr><p>ï¼ˆ2023.4.23ï¼‰å®¶äººä»¬ï¼Œè°æ‡‚å•Šï¼Œè¿˜æ˜¯è€è€å®å®ç”¨Githubå§ã€‚</p><img src="https://s2.loli.net/2023/04/24/raW27ilf3JDOVBG.png" style="zoom:67%;" /><h2 id="Hexoç³»ç»ŸåŸºç¡€å‘½ä»¤"><a href="#Hexoç³»ç»ŸåŸºç¡€å‘½ä»¤" class="headerlink" title="Hexoç³»ç»ŸåŸºç¡€å‘½ä»¤"></a>Hexoç³»ç»ŸåŸºç¡€å‘½ä»¤</h2><p>å»ºç«‹å¥½åšå®¢ä¹‹åï¼Œè¿˜éœ€è¦å­¦ä¼šä¸€äº› <code>Hexo</code> çš„ä¸€äº›æ—¥å¸¸æ“ä½œæŒ‡ä»¤ï¼Œè¿™æ ·æ‰èƒ½æ–¹é¢åç»­ä½¿ç”¨ã€‚</p><h3 id="æ–°å»ºæ–‡ç« "><a href="#æ–°å»ºæ–‡ç« " class="headerlink" title="æ–°å»ºæ–‡ç« "></a>æ–°å»ºæ–‡ç« </h3><p>æ–‡ç« é»˜è®¤ç”Ÿæˆåœ¨<code>.\source\_posts</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸”é»˜è®¤æ ¼å¼ä¸º Markdown</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;æ–‡ç« åå­—&quot;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§è·¯å¾„æ‰“å¼€æ–‡ç« åå†…å®¹å¦‚ä¸‹ï¼š</p><p>è¿™ç§æ–¹æ³•ä¸å¸¸ç”¨ï¼Œä¸å¦‚ç›´æ¥å³é”®ç”Ÿæˆ<code>.md</code>æ–‡ä»¶</p><h3 id="ç”Ÿæˆå’Œä¸Šä¼ é¡µé¢æŒ‡ä»¤"><a href="#ç”Ÿæˆå’Œä¸Šä¼ é¡µé¢æŒ‡ä»¤" class="headerlink" title="ç”Ÿæˆå’Œä¸Šä¼ é¡µé¢æŒ‡ä»¤"></a>ç”Ÿæˆå’Œä¸Šä¼ é¡µé¢æŒ‡ä»¤</h3><p>å› ä¸º Hexo æ˜¯ç”±ä¸€äº›é™æ€çš„ç½‘é¡µç»„æˆçš„ï¼Œå› æ­¤åœ¨ç¼–å†™å®Œé¡µé¢æˆ–è€…æ–‡ç« åï¼Œéœ€è¦æ‰‹åŠ¨ç”Ÿæˆé™æ€ç½‘é¡µï¼Œä¹Ÿéœ€è¦æ‰‹åŠ¨ä¸Šä¼ åˆ°æŒ‡å®šçš„æœåŠ¡å™¨ã€‚</p><p>ç”Ÿæˆé™æ€é¡µé¢å’Œä¸Šä¼ åŠŸèƒ½é¦–å…ˆéœ€è¦å®‰è£… <code>hexo-deployer-git</code> æ’ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><ol><li><p>æ¸…é™¤é¡µé¢ç¼“å­˜ï¼ˆæœ‰äº›è®¾ç½®éœ€è¦æ¸…é™¤ç¼“å­˜ä¹‹åæ‰èƒ½æ˜¾ç¤ºï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure><p>ç¼©å†™ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl</span><br></pre></td></tr></table></figure></li><li><p>ç”Ÿæˆé™æ€é¡µé¢ï¼ˆä¸Šä¼ é¡µé¢æ—¶æ‰éœ€è¦è¿™ä¹ˆåšï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></li><li><p>ä¸Šä¼ é¡µé¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>ä¸€é”®éƒ¨ç½²</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g --d</span><br></pre></td></tr></table></figure></li></ol><h3 id="åˆ›å»ºæ–°çš„é¡µé¢"><a href="#åˆ›å»ºæ–°çš„é¡µé¢" class="headerlink" title="åˆ›å»ºæ–°çš„é¡µé¢"></a>åˆ›å»ºæ–°çš„é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page â€œé¡µé¢åâ€</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”Ÿæˆçš„é¡µé¢é»˜è®¤åœ¨é¡¹ç›®çš„ source æ–‡ä»¶å¤¹ä¸‹ (ä¾‹å¦‚ï¼š<code>F:\Hexo\source</code>)ï¼Œé»˜è®¤ç”Ÿæˆçš„ç½‘é¡µåœ°å€ä¸º<code> ä½ çš„ç½‘å€/é¡µé¢å/</code>ï¼Œæ‰€ä»¥é¡µé¢åè¦ä¸<code>_config.yml</code>æ–‡ä»¶ä¸­è®¾ç½®çš„é¡µé¢åä¿æŒä¸€è‡´ã€‚</p><p>ç¨å¾®æ€»ç»“ä¸€ä¸‹<strong>ç”Ÿæˆçš„ç›¸å…³æ“ä½œ</strong>ï¼š</p><table><thead><tr><th>æ“ä½œ</th><th>è·¯å¾„</th><th>éœ€è¦çŸ¥é“çš„</th></tr></thead><tbody><tr><td>hexo new â€œæ–‡ç« åâ€</td><td><code>.\source\_posts</code></td><td>è¿™ç§æ–¹æ³•ä¸å¸¸ç”¨</td></tr><tr><td>hexo new page â€œé¡µé¢åâ€</td><td><code>.\source\é¡µé¢å</code></td><td>é»˜è®¤ç”Ÿæˆçš„ç½‘é¡µåœ°å€ä¸º<code>ç½‘å€/é¡µé¢å/</code>ï¼Œæ‰€ä»¥é¡µé¢åè¦ä¸<code>_config.yml</code> æ–‡ä»¶ä¸­è®¾ç½®çš„é¡µé¢åä¿æŒä¸€è‡´ã€‚</td></tr></tbody></table><h3 id="hexoä¸‰è¿"><a href="#hexoä¸‰è¿" class="headerlink" title="hexoä¸‰è¿"></a>hexoä¸‰è¿</h3><p>å¦‚æœä½ è§‰å¾—ä¸€æ¡æ¡å†™å‘½ä»¤éº»çƒ¦ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>&amp;&amp;</code>æ¥è¿æ¥è¿™äº›å‘½ä»¤ï¼Œåœ¨æ›´æ”¹äº†ç½‘é¡µä¹‹åï¼Œæˆ‘ä»¬ä¸€èˆ¬è¦å…ˆæ¸…é™¤ç¼“å­˜ï¼Œç”Ÿæˆç•Œé¢ï¼Œä¸Šä¼ é¡µé¢ï¼Œä¸€æ¡ä¸€æ¡æ•²çš„è¯å¾ˆéº»çƒ¦ï¼Œè¿™æ—¶å€™ä½ å°±å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h2 id="æ–‡ç« å±æ€§å¿«é€Ÿè®¾ç½®"><a href="#æ–‡ç« å±æ€§å¿«é€Ÿè®¾ç½®" class="headerlink" title="æ–‡ç« å±æ€§å¿«é€Ÿè®¾ç½®"></a>æ–‡ç« å±æ€§å¿«é€Ÿè®¾ç½®</h2><p>æ–‡ç« æ‹¥æœ‰å¾ˆå¤šå±æ€§ï¼Œå¦‚ï¼šæ ‡é¢˜ï¼Œæ‘˜è¦ï¼Œtagsï¼Œç±»åˆ«ç­‰ã€‚é‚£ä¹ˆå°±éœ€è¦å­¦ä¼šå¦‚ä½•åœ¨ md æ–‡ä»¶ä¸­ç¼–å†™<code>YAMLæ ¼å¼</code>ï¼ˆæ–‡ç« å¤´ï¼‰è®©ç³»ç»Ÿè¯†åˆ«åˆ°è¿™æ˜¯è®¾ç½®çš„å±æ€§ã€‚</p><h3 id="æ–‡ç« åŸºç¡€å±æ€§è®¾ç½®"><a href="#æ–‡ç« åŸºç¡€å±æ€§è®¾ç½®" class="headerlink" title="æ–‡ç« åŸºç¡€å±æ€§è®¾ç½®"></a>æ–‡ç« åŸºç¡€å±æ€§è®¾ç½®</h3><p>åœ¨ md æ–‡ä»¶å¼€å¤´å†™å…¥å¦‚ä¸‹æ ¼å¼ï¼ˆYAMLï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">æ–‡ç« æ ‡é¢˜</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">åˆ›å»ºæ–‡ç« æ—¶é—´</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">æ ‡ç­¾1</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">æ ‡ç­¾2</span></span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="bullet">-</span> <span class="string">ç±»åˆ«1</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">ç±»åˆ«2</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">æ‘˜è¦</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">æ–‡ç« å°é¢ï¼ˆå›¾ç‰‡åœ°å€ï¼‰</span></span><br><span class="line"><span class="attr">top-img:</span> <span class="string">æ–‡ç« é¡¶éƒ¨å›¾ï¼ˆå›¾ç‰‡åœ°å€ï¼‰</span></span><br><span class="line"><span class="attr">comments:</span> <span class="string">æ˜¯å¦å¼€å¯è¯„è®º(true</span> <span class="string">or</span> <span class="literal">false</span><span class="string">)</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>å†™å…¥ååœ¨ç›¸åº”çš„ä¸»é¢˜ä¸­æ‰“å¼€ç›¸åº”è®¾ç½®å°±èƒ½çœ‹è§è¿™äº›è®¾ç½®ã€‚</p><h3 id="ç»™æ–‡ç« åŠ å¯†"><a href="#ç»™æ–‡ç« åŠ å¯†" class="headerlink" title="ç»™æ–‡ç« åŠ å¯†"></a>ç»™æ–‡ç« åŠ å¯†</h3><p>æœ‰äº›äººå¯èƒ½ä¼šæ‹¿åšå®¢å†™æ—¥è®°ã€è´¦å·å¯†ç ç­‰ç§å¯†å†…å®¹ï¼Œè¿™äº›å†…å®¹è‚¯å®šä¸èƒ½ç›´æ¥å…¬å¼€ï¼Œæœ€ç›´æ¥çš„ä¿å¯†æ–¹æ³•å°±æ˜¯ç»™æ–‡ç« åŠ å¯†ï¼ˆå½“ç„¶ä¼šä¸ä¼šç»™è½»æ¾ç ´è§£å°±ä¸æ¸…æ¥šäº†ï¼‰</p><ol><li><p>å®‰è£…æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></li><li><p>åŠ å¯†<code>YAML</code>æ ¼å¼</p><p><code>YAML</code>å†™æ³•ä¸º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">password</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">è‡ªå·±è®¾ç½®çš„å¯†ç </span></span><br><span class="line"><span class="attr">message:</span> <span class="string">å¯†ç æ–‡æœ¬æ¡†æç¤º</span> <span class="string">ä¾‹å¦‚ï¼šæ‚¨å¥½,</span> <span class="string">è¿™é‡Œéœ€è¦å¯†ç .</span></span><br><span class="line"><span class="attr">wrong_pass_message:</span> <span class="string">é”™è¯¯ä¿¡æ¯æç¤º</span> <span class="string">ä¾‹å¦‚ï¼šæŠ±æ­‰,</span> <span class="string">è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹,</span> <span class="string">è¯·å†è¯•è¯•.</span></span><br><span class="line"><span class="attr">wrong_hash_message:</span> <span class="string">æ ¡éªŒå¤±è´¥æç¤º</span> <span class="string">ä¾‹å¦‚ï¼šæŠ±æ­‰,</span> <span class="string">è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li><li><p>åŠ å¯†æˆåŠŸæç¤º</p></li></ol><h3 id="æ–‡ç« ç½®é¡¶ï¼ˆButterflyä¸»é¢˜ï¼‰"><a href="#æ–‡ç« ç½®é¡¶ï¼ˆButterflyä¸»é¢˜ï¼‰" class="headerlink" title="æ–‡ç« ç½®é¡¶ï¼ˆButterflyä¸»é¢˜ï¼‰"></a>æ–‡ç« ç½®é¡¶ï¼ˆButterflyä¸»é¢˜ï¼‰</h3><p><code>hexo-generator-index </code>ä» 2.0.0 å¼€å§‹ï¼Œå·²ç»æ”¯æŒæ–‡ç« ç½®é¡¶åŠŸèƒ½ã€‚ä½ å¯ä»¥ç›´æ¥åœ¨æ–‡ç« çš„ <code>front-matter </code>åŒºåŸŸé‡Œæ·»åŠ  <code>sticky: 1 </code>å±æ€§æ¥æŠŠè¿™ç¯‡æ–‡ç« ç½®é¡¶ã€‚<strong>æ•°å€¼è¶Šå¤§ï¼Œç½®é¡¶çš„ä¼˜å…ˆçº§è¶Šå¤§ã€‚</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">test</span></span><br><span class="line"><span class="attr">sticky:</span> <span class="number">1</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ ç‰ˆæƒæé†’"><a href="#æ·»åŠ ç‰ˆæƒæé†’" class="headerlink" title="æ·»åŠ ç‰ˆæƒæé†’"></a>æ·»åŠ ç‰ˆæƒæé†’</h3><p>è‡ªå·±å†™çš„æ–‡ç« æœ‰æ—¶å€™ä¸å¤ªå¸Œæœ›éšä¾¿ç»™äºº copyï¼Œè¿™æ—¶å€™å°±éœ€è¦æ·»åŠ ç‰ˆæƒä¿¡æ¯æç¤ºï¼Œä¸€èˆ¬æ¥è¯´ä¸»é¢˜éƒ½åŒ…å«è¿™é¡¹åŠŸèƒ½ï¼ˆå»ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰“å¼€å³å¯ï¼‰ï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬ä¸ä¸€å®šå…¨å±€éƒ½å¼€å¯ç‰ˆæƒå£°æ˜ï¼ˆæ¯”å¦‚æ¬è¿æ–‡ç« ï¼‰ï¼Œè¿™æ—¶å€™å°±éœ€è¦å•ç‹¬ç»™ä¸€äº›æ–‡ç« æ·»åŠ ç‰ˆæƒä¿¡æ¯ã€‚</p><p>å¯ä»¥åœ¨<code>YAML</code>ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">æ­¤æ–‡ç« ç‰ˆæƒå½’xxxxxæ‰€æœ‰ï¼Œå¦‚æœ‰è½¬è½½ï¼Œè¯·æ³¨æ˜æ¥è‡ªåŸä½œè€…</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p><strong>å¦å¤–ï¼Œä½ å¯ä»¥åœ¨ä¸»é¢˜è®¾ç½®ä¸­æ‰“å¼€å¤åˆ¶é™„åŠ ç‰ˆæƒä¿¡æ¯ï¼Œè¿™æ ·æˆ–è®¸æ›´æœ‰ä½œç”¨ã€‚</strong></p><h2 id="æ’ä»¶æ¨è"><a href="#æ’ä»¶æ¨è" class="headerlink" title="æ’ä»¶æ¨è"></a>æ’ä»¶æ¨è</h2><p>Hexoæ‹¥æœ‰è®¸å¤šæ’ä»¶ï¼Œå¹¶ä¸”æœ‰ç€è‡ªå·±çš„æ’ä»¶ä»“åº“ï¼Œå®‰è£…ä¸€äº›å®ç”¨çš„æ’ä»¶å¯ä»¥è®©æˆ‘ä»¬çš„ä½“éªŒå¤§å¤§æå‡ã€‚</p><blockquote><p>Hexoæ’ä»¶ä»“åº“ï¼š<a href="https://hexo.io/plugins/">https://hexo.io/plugins/</a></p></blockquote><h3 id="æœ¬åœ°æœç´¢æ’ä»¶"><a href="#æœ¬åœ°æœç´¢æ’ä»¶" class="headerlink" title="æœ¬åœ°æœç´¢æ’ä»¶"></a>æœ¬åœ°æœç´¢æ’ä»¶</h3><p>è¿™ä¸ªæ’ä»¶å¯ä»¥æä¾›ç«™å†…æ–‡ç« æœç´¢åŠŸèƒ½ï¼Œéå¸¸æ¨èå®‰è£…</p><ol><li><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹é…ç½®</p><p>é‚£ä¹ˆåœ¨åšå®¢é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ–°å¢ä»¥ä¸‹é…ç½®é¡¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">search: path: search.xml;</span><br><span class="line">field: post;</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ–‡ç« å­—æ•°ç»Ÿè®¡"><a href="#æ–‡ç« å­—æ•°ç»Ÿè®¡" class="headerlink" title="æ–‡ç« å­—æ•°ç»Ÿè®¡"></a>æ–‡ç« å­—æ•°ç»Ÿè®¡</h3><p>è¿™ä¸ªæ’ä»¶èƒ½åœ¨æ–‡ç« çš„æ ‡é¢˜ä¸‹é¢æ˜¾ç¤ºæ–‡ç« å­—æ•°</p><ol><li><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹é…ç½®</p><p>åœ¨åšå®¢é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ–°å¢ä»¥ä¸‹é…ç½®é¡¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">post_wordcount:</span><br><span class="line">  date: true # å‘å¸ƒæ—¥æœŸ</span><br><span class="line">  update: true # æ›´æ–°æ—¥æœŸ</span><br><span class="line">  wordCount: true # æ–‡ç« å­—æ•°ç»Ÿè®¡</span><br><span class="line">  totalCount: true # ç«™ç‚¹æ€»æ–‡ç« å­—æ•°</span><br><span class="line">  min2read: true # æ–‡ç« é˜…è¯»æ—¶é•¿</span><br><span class="line">  readCount: true # æ–‡ç« é˜…è¯»æ¬¡æ•°</span><br></pre></td></tr></table></figure></li></ol><h3 id="ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³"><a href="#ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³" class="headerlink" title="ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³"></a>ä¸­æ–‡é“¾æ¥è½¬æ‹¼éŸ³</h3><p>å¯¹äºä¸­æ–‡ä½¿ç”¨è€…æ¥è¯´ï¼Œæ–‡ç« æ ‡é¢˜éƒ½æ˜¯ä¸­æ–‡çš„ï¼Œå› ä¸º hexo ä¼šé»˜è®¤å°†æ–‡ç« æ ‡é¢˜ä½œä¸ºç½‘é¡µé“¾æ¥çš„ä¸€éƒ¨åˆ†ï¼Œè¿™å°±å¯èƒ½ä¼šå‡ºç°ä¸€äº›ä¸ä¾¿ã€‚ä¾‹å¦‚ï¼š</p><blockquote><p>ä¿®æ”¹å‰ï¼š<a href="http://localhost:4000/2022/11/19/python">http://localhost:4000/2022/11/19/python</a> ç¼–ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ &#x2F;</p></blockquote><p><strong>ä½ ä¼šå‘ç°é“¾æ¥æ— æ³•æ­£å¸¸è¢«è¯†åˆ«å®Œæ•´ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸€äº›åœºåˆæ— æ³•ç›´æ¥ç‚¹å‡»è·³è½¬</strong>ï¼Œå› æ­¤ç½‘é¡µé“¾æ¥ä¸­æœ€å¥½ä¸è¦å‡ºç°ä¸­æ–‡ï¼Œè¿™æ—¶å€™å°±å¯ä»¥å®‰è£…æ­¤æ’ä»¶ã€‚</p><p>è¿™ä¸ªæ’ä»¶å®‰è£…é…ç½®å¥½åä¼šç”Ÿæˆæ‹¼éŸ³å’Œâ€-â€œæ¥ä»£æ›¿è¿æ¥ä¸­çš„ä¸­æ–‡</p><blockquote><p>ä¿®æ”¹åï¼š<a href="http://localhost:4000/2022/11/19/python-bian-cheng-zhong-yu-dao-de-yi-xie-wen-ti/">http://localhost:4000/2022/11/19/python-bian-cheng-zhong-yu-dao-de-yi-xie-wen-ti/</a></p></blockquote><ol><li><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-permalink-pinyin --save</span><br></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">permalink_pinyin:</span><br><span class="line">  enable: true</span><br><span class="line">  separator: &#x27;-&#x27; # default: &#x27;-&#x27;</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ–‡ç« åŠ å¯†æ’ä»¶"><a href="#æ–‡ç« åŠ å¯†æ’ä»¶" class="headerlink" title="æ–‡ç« åŠ å¯†æ’ä»¶"></a>æ–‡ç« åŠ å¯†æ’ä»¶</h3><p>é¡¾åæ€ä¹‰ï¼Œå¯ä»¥ç»™æ–‡ç« åŠ å¯†ã€‚</p><ol><li><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure></li><li><p>ç”¨æ³•</p><p>å…·ä½“å¯è§ä¸Šæ–‡å†…å®¹[ç»™æ–‡ç« åŠ å¯†](# ç»™æ–‡ç« åŠ å¯†)</p></li></ol><h3 id="æ–‡ç« éšè—æ’ä»¶"><a href="#æ–‡ç« éšè—æ’ä»¶" class="headerlink" title="æ–‡ç« éšè—æ’ä»¶"></a>æ–‡ç« éšè—æ’ä»¶</h3><p>é¡¾åæ€ä¹‰ï¼Œå¯ä»¥å°†æ–‡ç« éšè—ã€‚</p><ol><li><p>å®‰è£…æŒ‡ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-hide-posts --save</span><br></pre></td></tr></table></figure></li><li><p>ç”¨æ³•</p><p>åœ¨æ–‡ç« çš„<code>YAML</code>ä¸­åŠ å…¥</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">hello</span> <span class="string">world</span></span><br><span class="line"><span class="attr">hidden:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="RSSæ’ä»¶"><a href="#RSSæ’ä»¶" class="headerlink" title="RSSæ’ä»¶"></a>RSSæ’ä»¶</h3><ol><li><p>å®‰è£…æ’ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><p>åœ¨åšå®¢æ ¹ç›®å½•<code>_config.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">feed:</span><br><span class="line">  enable: true</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line"> content:</span><br><span class="line"> content_limit: 140</span><br><span class="line"> content_limit_delim: &#x27; &#x27;</span><br><span class="line"> order_by: -date</span><br><span class="line"> icon: icon.png</span><br><span class="line"> autodiscovery: true</span><br><span class="line"> template:</span><br></pre></td></tr></table></figure><p>å…¶å®é»˜è®¤å³å¯ï¼Œä½†æ˜¯å¦‚æœæƒ³æ”¹çš„è¯å»ºè®®æŸ¥çœ‹å®˜ç½‘ï¼š</p><blockquote><p><a href="https://github.com/hexojs/hexo-generator-feed">https://github.com/hexojs/hexo-generator-feed</a></p></blockquote></li><li><p>åœ¨ä¸»é¢˜çš„<code>_config.yml</code>ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure></li><li><p>æ·»åŠ ï¼ˆæˆ–è€…ä¿®æ”¹ï¼‰socialå¤„çš„é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fas fa-rss: ä½ çš„åšå®¢åœ°å€/atom.xml</span><br></pre></td></tr></table></figure></li></ol><p>æœ€ç»ˆç”Ÿæˆæ•ˆæœå¦‚ä¸‹ï¼Œåœ°å€ä¸º<code>åšå®¢åœ°å€ + /atom.xml</code>ï¼š</p><img src="https://s2.loli.net/2023/02/25/y2SnZURhqsQVFYt.png" style="zoom: 67%;" /><h2 id="sshè¿æ¥é”™è¯¯"><a href="#sshè¿æ¥é”™è¯¯" class="headerlink" title="sshè¿æ¥é”™è¯¯"></a>sshè¿æ¥é”™è¯¯</h2><p>2024å¹´1æœˆ29æ—¥ï¼Œæˆ‘ä½¿ç”¨hexoæŒ‡ä»¤ä¸Šä¼ åšå®¢æ—¶ï¼Œå‡ºç°äº†å¦‚ä¸‹æŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br><span class="line">FATAL Somethingâ€™s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Spawn failed</span><br><span class="line">at ChildProcess. (E:\Gzz\blog-github\node_modules\hexo-util\lib\spawn.js:51:21)</span><br><span class="line">at ChildProcess.emit (node:events:520:28)</span><br><span class="line">at ChildProcess.cp.emit (E:\Gzz\blog-github\node_modules\cross-spawn\lib\enoent.js:34:29)</span><br><span class="line">at Process.ChildProcess._handle.onexit (node:internal/child_process:291:12)</span><br></pre></td></tr></table></figure><p>ä¸æ˜ç™½æ˜¯ä»€ä¹ˆåŸå› çš„æˆ‘äºæ˜¯å°è¯•é‡æ–°ç”Ÿæˆsshå¯†åŒ™è¿›è¡Œè¿æ¥ï¼Œä½†æ˜¯å½“è¿›è¡Œåˆ°<code>ssh -T git@github.com</code>æ—¶ï¼Œå‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¥ä¸ºæ˜¯ç½‘ç»œé—®é¢˜ï¼Œä½†æ˜¯å°è¯•äº†å¥½å‡ æ¬¡éƒ½æ— æ³•æ¥ä¸Šï¼Œæœç´¢äº†ç›¸å…³é—®é¢˜ååˆæ­¥åˆ¤æ–­æ˜¯ç«¯å£22å¤±æ•ˆï¼Œäºæ˜¯æ‰¾åˆ°äº†å¦‚ä¸‹æ–¹æ³•ã€‚</p><ol><li><p>æ£€æŸ¥443ç«¯å£æ˜¯å¦å¯ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T -p 443 git@ssh.github.com</span><br></pre></td></tr></table></figure><p>å¦‚æœå‡ºç°<code>Hi XXXX! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code>é‚£å°±è¯æ˜ç«¯å£å¯ä»¥è¿æ¥ï¼Œå¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p></li><li><p>åœ¨<code>c\ç”¨æˆ·\ç”¨æˆ·å\.ssh</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª<code>config</code>æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­å†™å…¥å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  Port 443</span><br></pre></td></tr></table></figure><p>è®©sshé»˜è®¤èµ°443ç«¯å£ã€‚</p></li><li><p>é‡æ–°è¿è¡Œ<code>ssh -T git@github.com</code>æŒ‡ä»¤ï¼Œå¾—åˆ°å›å¤ä¸º<code>Hi xxxxx! You&#39;ve successfully authenticated, but GitHub does not   provide shell access.</code></p></li><li><p>ä¹‹åå†è¿è¡Œhexoä¸‰è¿æ­£å¸¸ä¸Šä¼ ã€‚</p></li></ol><p>å¦‚æœæœ‰å…¶ä»–é—®é¢˜å‚è€ƒ:<a href="https://segmentfault.com/a/1190000041909858">https://segmentfault.com/a/1190000041909858</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexoåšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/post/hello-world/"/>
      <url>/post/hello-world/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸ºHexoåšå®¢æ­å»ºæ—¶å€™é»˜è®¤ç”Ÿæˆçš„æ–‡ç« ã€‚</p></blockquote><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hexoåšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyCharm-ç¼–ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜</title>
      <link href="/post/python-bian-cheng-zhong-yu-dao-de-yi-xie-wen-ti/"/>
      <url>/post/python-bian-cheng-zhong-yu-dao-de-yi-xie-wen-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿‘æœŸè¿›è¡ŒPythonç¼–ç¨‹çš„é—®é¢˜æ±‡æ€»ã€‚</p><h2 id="éœ€æ±‚æ–‡æ¡£çš„ç”Ÿæˆ"><a href="#éœ€æ±‚æ–‡æ¡£çš„ç”Ÿæˆ" class="headerlink" title="éœ€æ±‚æ–‡æ¡£çš„ç”Ÿæˆ"></a>éœ€æ±‚æ–‡æ¡£çš„ç”Ÿæˆ</h2><p>éœ€æ±‚æ–‡æ¡£ï¼Œå…¶å®å°±æ˜¯<code>requirements.txt</code>ã€‚</p><p>å¯¹äºä¸€ä¸ªé¡¹ç›®æ¥è¯´ï¼Œè¦èƒ½å¤Ÿè¿è¡Œï¼Œéœ€è¦æ„å»ºç›¸åº”çš„è¿è¡Œç¯å¢ƒï¼Œè¿è¡Œç¯å¢ƒä¸­éœ€è¦åŒ…å«é¡¹ç›®è¿è¡Œçš„æ‰€æœ‰åº“ã€‚å¯¹äºPythonæ¥è¯´ï¼Œå®ƒå¹¶æ²¡æœ‰å‘ä¸‹å…¼å®¹çš„ç‰¹æ€§ï¼Œæ‰€ä»¥æ˜ç¡®é¡¹ç›®çš„è¿è¡Œç¯å¢ƒå°±æ›´åŠ é‡è¦ã€‚å¯¹äºåŒä¸€ä¸ªåº“ï¼Œä¸åŒçš„ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰æ‰€å·®å¼‚ï¼Œå› æ­¤ä¸€ä¸ªå¯¹ é¡¹ç›®è¿è¡Œåº“ç¯å¢ƒçš„è¯´æ˜å°±å°¤å…¶é‡è¦ã€‚<code>requirements.txt</code>æœ¬è´¨å°±æ˜¯åŒ…å«äº†é¡¹ç›®æ‰€éœ€è¦åº“çš„ä¸€ä¸ªè¯¦ç»†æ€»ç»“ã€‚<br>ç”Ÿæˆrequirementsæ–‡ä»¶ä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ç§æ–¹æ³•ã€‚</p><h3 id="pip-freeze-gt-requirements-txt"><a href="#pip-freeze-gt-requirements-txt" class="headerlink" title="pip freeze &gt; requirements.txt"></a><code>pip freeze &gt; requirements.txt</code></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><ul><li>æŒ‰è¿™ç§æ–¹å¼ç”Ÿæˆçš„è¯<strong>ä¸€å®šè¦åœ¨ç‰¹å®šçš„ç¯å¢ƒä¸‹</strong>ã€‚</li><li>å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­è¿è¡ŒæŒ‡ä»¤ï¼Œé»˜è®¤æ˜¯åœ¨Anacondaï¼ˆbaseï¼‰çš„ç¯å¢ƒä¸‹è¿è¡Œï¼Œä¼šå¯¼è‡´å°†<strong>baseç¯å¢ƒä¸­æ‰€æœ‰çš„åŒ…å…¨éƒ¨å¯¼å…¥</strong>ï¼Œè¿™æ ·æ“ä½œæ˜æ˜¾æ˜¯é”™è¯¯çš„ã€‚ä¼šç»™åç»­çš„æ“ä½œå¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚</li></ul><div align="center">  <img src="https://z4a.net/images/2022/11/19/requirements1.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width=600></div><h3 id="pipreqs-encoding-utf8-force"><a href="#pipreqs-encoding-utf8-force" class="headerlink" title="pipreqs . --encoding=utf8 --force"></a><code>pipreqs . --encoding=utf8 --force</code></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipreqs . --encoding=utf8 --force</span><br></pre></td></tr></table></figure><ul><li>æ­¤å‘½ä»¤éœ€è¦å®‰è£…<code>pipreqs</code>ï¼Œå®‰è£…å‘½ä»¤ä¸ºï¼š<code>pip install pipreqs</code> ã€‚æ­¤æ–¹æ³•æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯<strong>åœ¨ä»»ä½•æƒ…å†µéƒ½èƒ½æ­£ç¡®å¯¼å…¥é¡¹ç›®éœ€è¦çš„åº“</strong>ï¼Œå› æ­¤éå¸¸æ¨èä½¿ç”¨ã€‚</li><li>æ³¨æ„â€“encoding&#x3D;utf8ä¸ºä½¿ç”¨utf8ç¼–ç ï¼Œä¸ç„¶å¯èƒ½ä¼šæŠ¥<code>UnicodeDecodeError: â€˜gbkâ€™ codec canâ€™t decode byte 0xae in position 406: illegal multibyte sequence </code>çš„é”™è¯¯.</li><li><code>--force</code>å¼ºåˆ¶æ‰§è¡Œï¼Œ ç”Ÿæˆç›®å½•ä¸‹çš„<code>requirements.txt</code>ï¼Œå­˜åœ¨æ—¶ä¼šç›´æ¥è¦†ç›–ã€‚</li></ul><div align="center">     <img src="https://z4a.net/images/2022/11/19/requirements2.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width=600></div><h3 id="ä»requirementsä¸­å®‰è£…ç›¸åº”çš„åº“ã€‚"><a href="#ä»requirementsä¸­å®‰è£…ç›¸åº”çš„åº“ã€‚" class="headerlink" title="ä»requirementsä¸­å®‰è£…ç›¸åº”çš„åº“ã€‚"></a>ä»requirementsä¸­å®‰è£…ç›¸åº”çš„åº“ã€‚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>   è¿™ä¸ªä¹Ÿæ˜¯éå¸¸å¸¸ç”¨çš„ä¸€ä¸ªæ“ä½œï¼Œåœ¨è¿è¡Œé¡¹ç›®æ—¶ç»å¸¸éœ€è¦é€šè¿‡<code>requirements.txt</code>æ¥å®‰è£…å„ç§é¡¹ç›®ä¾èµ–åº“ã€‚</p><h2 id="PyInstallæ‰“åŒ…è¿‡äºè‡ƒè‚¿"><a href="#PyInstallæ‰“åŒ…è¿‡äºè‡ƒè‚¿" class="headerlink" title="PyInstallæ‰“åŒ…è¿‡äºè‡ƒè‚¿"></a>PyInstallæ‰“åŒ…è¿‡äºè‡ƒè‚¿</h2><p>  è¿™ä¸ªé—®é¢˜å…¶å®è·Ÿä¸Šé¢<code>pip freeze &gt; requirements.txt</code>ç”Ÿæˆéœ€æ±‚æ–‡æ¡£çš„é—®é¢˜ä¸€æ ·ï¼Œéœ€è¦åœ¨ç‰¹å®šçš„è™šæ‹Ÿç¯å¢ƒä¸­è¿›è¡Œæ‰“åŒ…ã€‚å¦‚æœ<strong>ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥æŒ‡ä»¤ï¼ˆå‘½ä»¤è¡Œé»˜è®¤æ˜¯baseç¯å¢ƒï¼‰ï¼Œå°±ä¼šå¯¼è‡´ç›´æ¥å°†baseç¯å¢ƒä¸­æ‰€æœ‰çš„åŒ…éƒ½çº³å…¥æ‰“åŒ…èŒƒå›´</strong>ï¼Œç»“æœç”Ÿæˆå¤§å°ä¸ç¬¦åˆå¸¸ç†çš„æ‰“åŒ…æ–‡ä»¶ã€‚</p><h3 id="é”™è¯¯åšæ³•"><a href="#é”™è¯¯åšæ³•" class="headerlink" title="é”™è¯¯åšæ³•"></a>é”™è¯¯åšæ³•</h3><div align="center">      <img src="https://z4a.net/images/2022/11/19/pyinstaller1.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="500">    <img src="https://z4a.net/images/2022/11/19/pyinstaller2.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="500"></div><h3 id="æ­£ç¡®åšæ³•"><a href="#æ­£ç¡®åšæ³•" class="headerlink" title="æ­£ç¡®åšæ³•"></a>æ­£ç¡®åšæ³•</h3><div align="center">      <img src="https://z4a.net/images/2022/11/19/pyinstaller3.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="500">    <br>    <img src="https://z4a.net/images/2022/11/19/pyinstaller4.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="500"></div><h2 id="PyCharmè¿æ¥JupyteræŠ¥é”™"><a href="#PyCharmè¿æ¥JupyteræŠ¥é”™" class="headerlink" title="PyCharmè¿æ¥JupyteræŠ¥é”™"></a>PyCharmè¿æ¥JupyteræŠ¥é”™</h2><p>  è™½ç„¶VsCodeä½œä¸ºä»£ç ç¼–è¾‘å™¨è¶³å¤Ÿä¼˜ç§€ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å¾ˆå¥½çš„ç¼–å†™é¡¹ç›®çš„èƒ½åŠ›ã€‚<br>PyCharmå…¶å®æ˜¯åšé¡¹ç›®æ›´å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯æˆ‘çš„PyCharmè¿è¡Œipynbæ–‡ä»¶æ—¶ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ï¼Œè¿™ä¸ªé—®é¢˜çœŸçš„å›°æ‰°æˆ‘å¾ˆä¹…äº†ã€‚</p><div align="center">  <img src="https://z4a.net/images/2022/11/19/jupyter5.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div><p>  è§£å†³æ–¹æ³•ä»Šå¤©æ‰¾åˆ°ï¼š</p><h3 id="å¾—åˆ°jupyterå†…æ ¸æ‰€åœ¨çš„è·¯å¾„ã€‚"><a href="#å¾—åˆ°jupyterå†…æ ¸æ‰€åœ¨çš„è·¯å¾„ã€‚" class="headerlink" title="å¾—åˆ°jupyterå†…æ ¸æ‰€åœ¨çš„è·¯å¾„ã€‚"></a>å¾—åˆ°jupyterå†…æ ¸æ‰€åœ¨çš„è·¯å¾„ã€‚</h3><p>  åœ¨cmdè¾“å…¥<code>jupyter kernelspec list</code>,å¾—åˆ°jupyterå†…æ ¸æ‰€åœ¨çš„è·¯å¾„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter kernelspec list</span><br></pre></td></tr></table></figure><div align="center">  <img src="https://z4a.net/images/2022/11/19/jupyter.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div>â€‹<h3 id="æŸ¥çœ‹Pythonç¼–è¯‘å™¨çš„è·¯å¾„æ˜¯å¦æ­£ç¡®"><a href="#æŸ¥çœ‹Pythonç¼–è¯‘å™¨çš„è·¯å¾„æ˜¯å¦æ­£ç¡®" class="headerlink" title="æŸ¥çœ‹Pythonç¼–è¯‘å™¨çš„è·¯å¾„æ˜¯å¦æ­£ç¡®"></a>æŸ¥çœ‹Pythonç¼–è¯‘å™¨çš„è·¯å¾„æ˜¯å¦æ­£ç¡®</h3><p>  è¿›å…¥å®‰è£…å†…æ ¸ç›®å½•æ‰“å¼€<code>kernel.jason</code>æ–‡ä»¶ï¼ŒæŸ¥çœ‹Pythonç¼–è¯‘å™¨çš„è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚</p><div align="center">  <img src="https://z4a.net/images/2022/11/19/jupyter2.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div><h3 id="ä¿®æ”¹kernel-jasonä¸­å†…æ ¸çš„è·¯å¾„"><a href="#ä¿®æ”¹kernel-jasonä¸­å†…æ ¸çš„è·¯å¾„" class="headerlink" title="ä¿®æ”¹kernel.jasonä¸­å†…æ ¸çš„è·¯å¾„"></a>ä¿®æ”¹<code>kernel.jason</code>ä¸­å†…æ ¸çš„è·¯å¾„</h3><p>  æŒ‰ç…§è‡ªå·±èƒ½å¤Ÿå¯åŠ¨jupyterçš„Pythonè·¯å¾„ï¼Œä¿®æ”¹<code>kernel.jason</code>ä¸­å†…æ ¸çš„è·¯å¾„ã€‚ï¼ˆåŸºæœ¬æƒ…å†µæ˜¯ç”Ÿæˆäº†é”™è¯¯çš„è·¯å¾„ï¼‰</p><div align="center">  <img src="https://z4a.net/images/2022/11/19/jupyter3.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div><h3 id="é‡å¯jupyter"><a href="#é‡å¯jupyter" class="headerlink" title="é‡å¯jupyter"></a>é‡å¯jupyter</h3><h3 id="é‡å¯PyChram"><a href="#é‡å¯PyChram" class="headerlink" title="é‡å¯PyChram"></a>é‡å¯PyChram</h3><p>  é‡å¯PyChramï¼Œé—®é¢˜è§£å†³ã€‚</p><div align="center">  <img src="https://z4a.net/images/2022/11/19/jupyter4.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div><blockquote><p>æˆ‘ä¹Ÿæ˜¯ç”Ÿæˆäº†é”™è¯¯çš„å†…æ ¸è·¯å¾„ï¼Œä¸çŸ¥é“å•¥æƒ…å†µï¼Œæˆ‘è¿é‚£ä¸ªæ–‡ä»¶å¤¹éƒ½æ²¡æœ‰ï¼Œè¿™ä¸ªä¼°è®¡æ˜¯PyCharmçš„bugï¼Œå¸Œæœ›æ—¥åä¿®å¤ã€‚</p></blockquote><h2 id="PyCharmä¸­OpenCVæ— æ³•å¾—åˆ°æç¤º"><a href="#PyCharmä¸­OpenCVæ— æ³•å¾—åˆ°æç¤º" class="headerlink" title="PyCharmä¸­OpenCVæ— æ³•å¾—åˆ°æç¤º"></a>PyCharmä¸­OpenCVæ— æ³•å¾—åˆ°æç¤º</h2><p>åœ¨PyCharmä¸­<code>import cv2</code>åï¼Œä¼šå‡ºç°è°ƒç”¨cv2æ–¹æ³•æ—¶æ²¡æœ‰ä»»ä½•è¡¥å…¨æç¤ºï¼Œç”šè‡³è¾“å…¥<code>cv2.</code>æ—¶è¿˜ä¼šå‡ºç°æœªçŸ¥é«˜äº®ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚PyCharmæ— æ³•æä¾›è¡¥å…¨æç¤ºï¼Œè¯´æ˜PyCharmæ— æ³•æ‰¾åˆ°å¯¹åº”çš„ç´¢å¼•ï¼Œè¿™æ—¶å€™å°±éœ€è¦å»æ‰¾åˆ°cv2åŒ…æ‰€åœ¨çš„æ–‡ä»¶è·¯å¾„ï¼Œç„¶åå°†å®ƒåŠ å…¥åˆ°è§£é‡Šå™¨è·¯å¾„ä¸­ã€‚</p><h3 id="å¯»æ‰¾cv2æ‰€åœ¨è·¯å¾„"><a href="#å¯»æ‰¾cv2æ‰€åœ¨è·¯å¾„" class="headerlink" title="å¯»æ‰¾cv2æ‰€åœ¨è·¯å¾„"></a>å¯»æ‰¾cv2æ‰€åœ¨è·¯å¾„</h3><p>  å¦‚æœæ˜¯åœ¨condaç¯å¢ƒä¸­å®‰è£…ï¼Œä»¥æˆ‘çš„è·¯å¾„ä¸ºä¾‹ï¼š</p><blockquote><p>D:\Anaconda\envs\digital_image\Lib\site-packages\cv2</p></blockquote><div align="center">  <img src="https://z4a.net/images/2023/02/08/cv26a4b7efd79bb3fb0.png" alt="cv2æ‰€åœ¨è·¯å¾„" width=600></div><p>  å¦‚æœä¸æ˜¯åœ¨condaç¯å¢ƒä¸­å®‰è£…ï¼Œé‚£ä¹ˆæ­¤æ—¶å¯ä»¥å…ˆå†™å…¥<code>cv2.imread</code>ï¼Œé€‰ä¸­<code>imread</code>åå³é”®ï¼ŒæŒ‰ç…§â€œè½¬åˆ°â†’å®ç°â€çš„é¡ºåºå°±å¯ä»¥è·³è½¬åˆ°<code>_init_.py</code>æ–‡ä»¶ä¸­ï¼Œé¼ æ ‡æ‚¬åœåœ¨æ ‡ç­¾ä¸Šå³å¯çœ‹åˆ°è·¯å¾„ã€‚</p><div align="center">  <img src="https://z4a.net/images/2023/02/08/cv2.png" alt="æŸ¥æ‰¾cv2æ‰€åœ¨è·¯å¾„" width=600></div><br><blockquote><p>å°æ’æ›²ï¼šå…¶å®å¯ä»¥çœ‹åˆ°æˆ‘çš„cv2è·¯å¾„å·²ç»è¢«å¤åˆ¶åˆ°cç›˜ä¸­ï¼Œæ‰€ä»¥ä¸€å¼€å§‹æˆ‘æœ¬æ¥å°è¯•åˆ é™¤è¿›è¡Œé”™è¯¯å±•ç¤ºï¼Œä½†æ˜¯å‘ç°åˆ é™¤è§£é‡Šå™¨ä¸­çš„cv2è·¯å¾„åè¿˜æ˜¯èƒ½æ­£å¸¸è¿›è¡Œä»£ç æç¤ºï¼ŒåŸå› å°±åœ¨è¿™é‡Œï¼Œä¼°è®¡æ˜¯PyCharmè¿›è¡Œäº†å¤‡ä»½ã€‚</p></blockquote><h3 id="å°†è·¯å¾„åŠ å…¥è§£é‡Šå™¨è·¯å¾„ä¸­"><a href="#å°†è·¯å¾„åŠ å…¥è§£é‡Šå™¨è·¯å¾„ä¸­" class="headerlink" title="å°†è·¯å¾„åŠ å…¥è§£é‡Šå™¨è·¯å¾„ä¸­"></a>å°†è·¯å¾„åŠ å…¥è§£é‡Šå™¨è·¯å¾„ä¸­</h3><p>  æ‰¾åˆ°è·¯å¾„åï¼ŒæŒ‰ç…§â€œæ–‡ä»¶â†’è®¾ç½®â†’é¡¹ç›®â†’Pythonè§£é‡Šå™¨â€çš„é¡ºåºï¼Œæ‰¾åˆ°PyCharmè§£é‡Šå™¨åˆ—è¡¨ï¼Œä¹‹åçš„æ“ä½œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><div align="center"><img src="https://z4a.net/images/2023/02/08/d37934718875d1edba8d4243137c3b1a.png" alt="Pythonè§£é‡Šå™¨" width="600"><img src="https://z4a.net/images/2023/02/08/cv22.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"><img src="https://z4a.net/images/2023/02/08/cv21.png" alt="ç›´æ¥åœ¨cmdç”Ÿæˆ" width="600"></div><h3 id="é‡å¯PyCharm"><a href="#é‡å¯PyCharm" class="headerlink" title="é‡å¯PyCharm"></a>é‡å¯PyCharm</h3><p>  æ“ä½œå®Œæˆåï¼Œ<strong>å»ºè®®é‡å¯ä¸€ä¸‹PyCharm</strong>ï¼Œä¹‹åå†™å…¥<code>import cv2</code>æ“ä½œåï¼Œå°±å¯ä»¥ç›´æ¥çœ‹è§ä»£ç æç¤ºï¼ŒæœªçŸ¥çš„é«˜äº®æç¤ºä¹Ÿä¸è§äº†ã€‚</p><div align="center">  <img src="https://z4a.net/images/2023/02/08/e280accc813259725a0330982e12968f.png" alt="è§£å†³è¡¥å…¨é—®é¢˜" width="600"></div><h2 id="githubä»“åº“æ¨é€è¶…æ—¶"><a href="#githubä»“åº“æ¨é€è¶…æ—¶" class="headerlink" title="githubä»“åº“æ¨é€è¶…æ—¶"></a>githubä»“åº“æ¨é€è¶…æ—¶</h2><p>PyCharmæœ‰å†…ç½®çš„Gitç®¡ç†å·¥å…·ï¼Œä¸ç”¨è¾“å‘½ä»¤å³å¯ä½¿ç”¨gitç®¡ç†é¡¹ç›®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä¸Šä¼ åˆ°è‡ªå·±çš„githubä»“åº“ã€‚ä½†å¤§é™†githubè¿æ¥ä¸å¤ªç¨³å®šï¼Œæœ‰æ—¶æ¨é€ä¼šç»å¸¸å‡ºç°ä»¥ä¸‹æç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Failed to connect to github.com port 443 after 21074 ms: Timed out</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯PyCharmè¿æ¥githubæ˜¯æœ‰ç‰¹å®šåŠ é€Ÿçš„ï¼Œè¿™ä»æˆ‘æ—¥å¸¸ä½¿ç”¨coplilotå¯ä»¥çœ‹å‡ºæ¥ï¼Œä¸€èˆ¬æ¥è¯´ä¸ä¼šè¶…æ—¶ã€‚<strong>å‡ºç°è¿™ç§æƒ…å†µæœ€æœ‰å¯èƒ½å°±æ˜¯å¿˜è®°å…³é—­ä»£ç†</strong>ï¼Œå› ä¸ºè®¿é—®githubä¸€èˆ¬éƒ½æ˜¯å¼€ç€ä»£ç†è®¿é—®ï¼Œäº‹åå³ä½¿æ˜¯å…³é—­ä»£ç†ä¹Ÿå¾ˆéš¾ä¸Šä¼ äº†ã€‚</p><p>è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥<strong>å…³é—­ä»£ç†</strong>ï¼Œè¿™æ ·ä¹‹åä¸€èˆ¬æ¥è¯´å°±å¯ä»¥æ¨é€æˆåŠŸäº†ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å–æ¶ˆä»£ç†</span><br><span class="line">git config --global --unset http.proxy</span><br><span class="line"></span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ¡å‘½ä»¤ä¸ä¸€å®šèƒ½è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®</p></blockquote><h2 id="Pycharmä¸€ç›´æ‰«æcondaè½¯ä»¶åŒ…"><a href="#Pycharmä¸€ç›´æ‰«æcondaè½¯ä»¶åŒ…" class="headerlink" title="Pycharmä¸€ç›´æ‰«æcondaè½¯ä»¶åŒ…"></a>Pycharmä¸€ç›´æ‰«æcondaè½¯ä»¶åŒ…</h2><p>è¿™ä¸ªé—®é¢˜å¿˜è®°æˆªå›¾äº†ï¼Œå°±æ˜¯åœ¨Pycharmçš„æ¶ˆæ¯åŒºä¸€ç›´æ˜¾ç¤º<code>æ­£åœ¨æ‰«æcondaå·²å®‰è£…çš„è½¯ä»¶åŒ…</code>ï¼Œç„¶åå°±ä¸€ç›´å¤„äºæ‰«æçŠ¶æ€ï¼Œ<strong>ä½†æ˜¯ç¨‹åºå…¶å®æ˜¯å¯ä»¥è¿è¡Œçš„</strong>ï¼Œä½†æ˜¯è¿‡äº†å¾ˆä¹…Pycharmä¼šå‡ºç°å¼¹çª—æŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">If submitted, this report will be used by core maintainers to improve</span><br><span class="line">future releases of conda.</span><br><span class="line">Would you like conda to send this report to the core maintainers? [y/N]: </span><br><span class="line">KeyError(<span class="string">&#x27;pkgs_dirs&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\exception_handler.py&quot;</span>, line 17, <span class="keyword">in</span> __call__</span><br><span class="line">    <span class="built_in">return</span> func(*args, **kwargs)</span><br><span class="line">           ^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\cli\main.py&quot;</span>, line 57, <span class="keyword">in</span> main_subshell</span><br><span class="line">    context.__init__(argparse_args=args)</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 459, <span class="keyword">in</span> __init__</span><br><span class="line">    CONDA_PREFIX=determine_target_prefix(self, argparse_args),</span><br><span class="line">                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1975, <span class="keyword">in</span> determine_target_prefix</span><br><span class="line">    <span class="built_in">return</span> validate_prefix_name(prefix_name, ctx=ctx)</span><br><span class="line">           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1935, <span class="keyword">in</span> validate_prefix_name</span><br><span class="line">    <span class="built_in">return</span> locate_prefix_by_name(prefix_name)</span><br><span class="line">           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1894, <span class="keyword">in</span> locate_prefix_by_name</span><br><span class="line">    envs_dirs = context.envs_dirs</span><br><span class="line">                ^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 657, <span class="keyword">in</span> envs_dirs</span><br><span class="line">    <span class="built_in">return</span> mockable_context_envs_dirs(</span><br><span class="line">           ^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 125, <span class="keyword">in</span> mockable_context_envs_dirs</span><br><span class="line">    fixed_dirs.append(<span class="built_in">join</span>(user_data_dir(APP_NAME, APP_NAME), <span class="string">&quot;envs&quot;</span>))</span><br><span class="line">                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, line 67, <span class="keyword">in</span> user_data_dir</span><br><span class="line">    path = os.path.join(_get_win_folder(const), appauthor, appname)</span><br><span class="line">                        ^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, line 266, <span class="keyword">in</span> _get_win_folder_with_pywin32</span><br><span class="line">    <span class="built_in">dir</span> = shell.SHGetFolderPath(0, getattr(shellcon, csidl_name), 0, 0)</span><br><span class="line">          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">pywintypes.com_error: (-2147024893, <span class="string">&#x27;ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚&#x27;</span>, None, None)</span><br><span class="line"></span><br><span class="line">During handling of the above exception, another exception occurred:</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\exception_handler.py&quot;</span>, line 166, <span class="keyword">in</span> print_unexpected_error_report</span><br><span class="line">    get_main_info_str(error_report[<span class="string">&quot;conda_info&quot;</span>])</span><br><span class="line">  File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\cli\main_info.py&quot;</span>, line 254, <span class="keyword">in</span> get_main_info_str</span><br><span class="line">    info_dict[f<span class="string">&quot;_&#123;key&#125;&quot;</span>] = (<span class="string">&quot;\n&quot;</span> + 26 * <span class="string">&quot; &quot;</span>).<span class="built_in">join</span>(map(str, info_dict[key]))</span><br><span class="line">                                                           ~~~~~~~~~^^^^^</span><br><span class="line">KeyError: <span class="string">&#x27;pkgs_dirs&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ERROR REPORT &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span></span><br><span class="line"></span><br><span class="line">    Traceback (most recent call last):</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\exception_handler.py&quot;</span>, line 17, <span class="keyword">in</span> __call__</span><br><span class="line">        <span class="built_in">return</span> func(*args, **kwargs)</span><br><span class="line">               ^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\cli\main.py&quot;</span>, line 57, <span class="keyword">in</span> main_subshell</span><br><span class="line">        context.__init__(argparse_args=args)</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 459, <span class="keyword">in</span> __init__</span><br><span class="line">        CONDA_PREFIX=determine_target_prefix(self, argparse_args),</span><br><span class="line">                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1975, <span class="keyword">in</span> determine_target_prefix</span><br><span class="line">        <span class="built_in">return</span> validate_prefix_name(prefix_name, ctx=ctx)</span><br><span class="line">               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1935, <span class="keyword">in</span> validate_prefix_name</span><br><span class="line">        <span class="built_in">return</span> locate_prefix_by_name(prefix_name)</span><br><span class="line">               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 1894, <span class="keyword">in</span> locate_prefix_by_name</span><br><span class="line">        envs_dirs = context.envs_dirs</span><br><span class="line">                    ^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 657, <span class="keyword">in</span> envs_dirs</span><br><span class="line">        <span class="built_in">return</span> mockable_context_envs_dirs(</span><br><span class="line">               ^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\base\context.py&quot;</span>, line 125, <span class="keyword">in</span> mockable_context_envs_dirs</span><br><span class="line">        fixed_dirs.append(<span class="built_in">join</span>(user_data_dir(APP_NAME, APP_NAME), <span class="string">&quot;envs&quot;</span>))</span><br><span class="line">                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, line 67, <span class="keyword">in</span> user_data_dir</span><br><span class="line">        path = os.path.join(_get_win_folder(const), appauthor, appname)</span><br><span class="line">                            ^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">      File <span class="string">&quot;D:\anaconda\Lib\site-packages\conda\_vendor\appdirs.py&quot;</span>, line 266, <span class="keyword">in</span> _get_win_folder_with_pywin32</span><br><span class="line">        <span class="built_in">dir</span> = shell.SHGetFolderPath(0, getattr(shellcon, csidl_name), 0, 0)</span><br><span class="line">              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">    pywintypes.com_error: (-2147024893, <span class="string">&#x27;ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚&#x27;</span>, None, None)</span><br><span class="line"></span><br><span class="line">`$ D:\anaconda\Scripts\conda-script.py list -n spider`</span><br><span class="line"></span><br><span class="line">  environment variables:</span><br><span class="line">conda info could not be constructed.</span><br><span class="line">KeyError(<span class="string">&#x27;pkgs_dirs&#x27;</span>)</span><br><span class="line"></span><br><span class="line">An unexpected error has occurred. Conda has prepared the above report.</span><br><span class="line">If you suspect this error is being caused by a malfunctioning plugin,</span><br><span class="line">consider using the --no-plugins option to turn off plugins.</span><br><span class="line"></span><br><span class="line">Example: conda --no-plugins install &lt;package&gt;</span><br><span class="line"></span><br><span class="line">Alternatively, you can <span class="built_in">set</span> the CONDA_NO_PLUGINS environment variable on</span><br><span class="line">the <span class="built_in">command</span> line to run the <span class="built_in">command</span> without plugins enabled.</span><br><span class="line"></span><br><span class="line">Example: CONDA_NO_PLUGINS=<span class="literal">true</span> conda install &lt;package&gt;</span><br></pre></td></tr></table></figure><p>bingä¸€ç›´æœéƒ½æœä¸åˆ°ï¼Œæœ€ågoogleæ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ï¼Œä¸Šè¿°æŠ¥é”™æœ‰ä¸¤ä¸ªå…³é”®ä¿¡æ¯ï¼š</p><ol><li>KeyError(â€˜pkgs_dirsâ€™)</li><li>pywintypes.com_error: (-2147024893, â€˜ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚â€™, None, None)</li></ol><p>è¿™è¯´æ˜æ˜¯è·¯å¾„é—®é¢˜ï¼Œåœ¨condaçš„issueä¸­å‘ç°äº†ä¸€ä¸ªissueæè¿‡è¿™ä¸ªé—®é¢˜<a href="https://github.com/conda/conda/issues/11503">ImportError: DLL load failed while importing shell: Can not find procedure.</a>ã€‚å…¶ä¸­æåˆ°çš„è§£å†³æ–¹æ³•æ˜¯åœ¨baseç¯å¢ƒä¸­é‡æ–°å®‰è£…pywinï¼š228ï¼Œå³å¦‚ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade pywin32==228</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘æµ‹è¯•å‘ç°ä¼šå‡ºç°æ‰¾ä¸åˆ°çš„æƒ…å†µï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Could not find a version that satisfies the requirement pywin32==228 (from versions: 303, 304, 305, 306)</span><br><span class="line">ERROR: No matching distribution found <span class="keyword">for</span> pywin32==228</span><br></pre></td></tr></table></figure><p>æˆ‘æ ¹æ®å»ºè®®æµ‹è¯•äº†303ç‰ˆæœ¬æˆåŠŸï¼Œæ‰“å¼€Pycharmä¸å†å‡ºç°ä¸€ç›´<strong>æ­£åœ¨æ‰«æcondaå·²å®‰è£…çš„è½¯ä»¶åŒ…</strong>çš„æƒ…å†µã€‚</p><blockquote><p>In my test <code>pywin32</code> 301 and 304 produce this error. Versions 303, 302, 300, and 228 are all OK.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> PyCharm </tag>
            
            <tag> Jupyter </tag>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyTorch-å›½å†…æé€Ÿå®‰è£…</title>
      <link href="/post/shi-yong-whl-wen-jian-kuai-su-an-zhuang-pytorch/"/>
      <url>/post/shi-yong-whl-wen-jian-kuai-su-an-zhuang-pytorch/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><div align="center">  <img src="https://z4a.net/images/2022/11/16/PyTorch_office.png" alt="PyTorch_office" title="PyTorchä¸»é¡µ" width="700"></div><br><blockquote><p>PyTorchå®˜ç½‘ï¼š<a href="https://pytorch.org/">https://pytorch.org/</a></p></blockquote><p>åœ¨Windowsç¯å¢ƒä¸‹ï¼ŒPyTorchçš„å®‰è£…ç”±äºç½‘ç»œé—®é¢˜ï¼Œå¤§éƒ¨åˆ†äººå¦‚æœæƒ³ç›´æ¥é€šè¿‡å®˜ç½‘çš„æŒ‡ä»¤å®‰è£…æ˜¾ç„¶æ˜¯éå¸¸å›°éš¾çš„ã€‚å› ä¸ºtorchè¿™ä¸ªåº“æœ‰2Gå·¦å³çš„å¤§å°ï¼ŒæœåŠ¡å™¨åˆåœ¨å›½å¤–ï¼Œè¿™å°±å‡ºç°äº†ä¸‹è½½å¼‚å¸¸ç¼“æ…¢ï¼ˆèƒ½ä¸‹ä¸€å¤©ï¼‰æˆ–è€…ä¸‹è½½å®¹æ˜“å¤±è´¥çš„é—®é¢˜ï¼ˆç½‘ç»œé—®é¢˜å¯¼è‡´ä¸‹è½½ä¸­æ–­ï¼‰ã€‚</p><p><strong>è¿™æ—¶å€™æœ‰ä¸¤ç§æ–¹æ³•ï¼š</strong></p><ol><li>ä½¿ç”¨é­”æ³•ï¼Œæ”¹å–„ä¸‹è½½é€Ÿåº¦ã€‚</li><li>ä½¿ç”¨æœ¬åœ°æ–‡ä»¶å®‰è£…ã€‚</li></ol><p>è¿™ä¸ªåšå®¢ä¸»è¦è®°å½•å¦‚ä½•ä½¿ç”¨æœ¬åœ°å‹ç¼©åŒ…ï¼ˆ.whlï¼‰æ–‡ä»¶å¿«é€Ÿå®‰è£…PyTorchã€‚</p><h2 id="æ˜ç¡®è‡ªå·±çš„ä½¿ç”¨éœ€æ±‚"><a href="#æ˜ç¡®è‡ªå·±çš„ä½¿ç”¨éœ€æ±‚" class="headerlink" title="æ˜ç¡®è‡ªå·±çš„ä½¿ç”¨éœ€æ±‚"></a>æ˜ç¡®è‡ªå·±çš„ä½¿ç”¨éœ€æ±‚</h2><p>å¦‚æœä½ éœ€è¦ä½¿ç”¨GPUè¿›è¡ŒPyTorchå®è·µï¼Œé‚£ä¹ˆä½ å°±éœ€è¦å®‰è£…å¸¦CUDAçš„ç‰ˆæœ¬ã€‚å¦‚æœä½ åªæ˜¯æƒ³è¦ä½¿ç”¨CPUè¿›è¡Œå®è·µï¼Œé‚£ä¹ˆå°±é€‰æ‹©CPUç‰ˆæœ¬è¿›è¡Œä¸‹è½½ã€‚å„æœ‰ä¼˜åŠ¿ï¼Œæ²¡æœ‰é«˜ä½ä¹‹åˆ†ã€‚<br><strong>è¿™é‡Œæœ‰ä¸€äº›æ³¨æ„ç‚¹</strong>ï¼š</p><ol><li>å¦‚æœä½ æƒ³è¦ä¸‹è½½CUDAç‰ˆæœ¬çš„PyTorchï¼Œä¸è¦é€šè¿‡æ¸…åæºä¸‹è½½ï¼Œæ¸…åæºå·²ç»æ²¡æœ‰CUDAç‰ˆæœ¬çš„èµ„æºï¼Œä¸‹è½½å¤šå°‘æ¬¡éƒ½æ˜¯CPUç‰ˆæœ¬çš„ã€‚</li><li>æƒ³ä½¿ç”¨<strong>GPUå®è·µtorchï¼Œå¿…é¡»å®‰è£…NVIDIA CUDA</strong>ã€‚</li></ol><h2 id="æŸ¥çœ‹è‡ªå·±çš„CUDAç‰ˆæœ¬å¹¶å®‰è£…CUDAæ”¯æŒ"><a href="#æŸ¥çœ‹è‡ªå·±çš„CUDAç‰ˆæœ¬å¹¶å®‰è£…CUDAæ”¯æŒ" class="headerlink" title="æŸ¥çœ‹è‡ªå·±çš„CUDAç‰ˆæœ¬å¹¶å®‰è£…CUDAæ”¯æŒ"></a>æŸ¥çœ‹è‡ªå·±çš„CUDAç‰ˆæœ¬å¹¶å®‰è£…CUDAæ”¯æŒ</h2><ul><li>å¯¹äºå¤§å¤šæ•°NVIDIAæ˜¾å¡æ¥è¯´ï¼Œéƒ½æ˜¯æ”¯æŒCUDAçš„ï¼Œ<strong>å¦‚æœä½ çš„æ˜¾å¡ä¸æ”¯æŒCUDAï¼Œé‚£å³ä½¿è£…äº†CUDAç‰ˆæœ¬ï¼Œä¹Ÿåªèƒ½ä½¿ç”¨CPUè¿›è¡Œå®è·µã€‚</strong></li><li><strong>å¦‚æœä½ çš„æ˜¾å¡ä¸æ”¯æŒCUDAï¼Œé‚£ä¹ˆå»ºè®®ä¸‹è½½CPUç‰ˆæœ¬ã€‚</strong></li></ul><h3 id="æŸ¥çœ‹CUDAç‰ˆæœ¬"><a href="#æŸ¥çœ‹CUDAç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹CUDAç‰ˆæœ¬"></a>æŸ¥çœ‹CUDAç‰ˆæœ¬</h3><p>å¦‚æœä¸‹è½½CUDAç‰ˆæœ¬çš„PyTorchï¼Œæ­¤æ—¶å°±éœ€è¦å¯¹åº”è‡ªå·±ç”µè„‘æ‰€æ”¯æŒçš„æœ€é«˜CUDAç‰ˆæœ¬ï¼Œç„¶ååŒçº§æˆ–è€…å‘ä¸‹å…¼å®¹é€‰æ‹©ç›¸åº”çš„CUDAå®‰è£…æŒ‡ä»¤ã€‚æŸ¥çœ‹CUDAç‰ˆæœ¬æœ‰ä¸¤ç§æ–¹æ³•ã€‚</p><ol><li>é€šè¿‡NVIDIAæ§åˆ¶é¢æ¿æŸ¥çœ‹</li></ol><div align="center">  <img src="https://z4a.net/images/2022/11/16/cuda_1.png" alt="é€šè¿‡æ§åˆ¶é¢æ¿" width="500"><img src="https://z4a.net/images/2022/11/16/cuda_2.png" alt="é€šè¿‡æ§åˆ¶é¢æ¿æŸ¥çœ‹" title="é€šè¿‡æ§åˆ¶é¢æ¿æŸ¥çœ‹" width="500"></div><ol start="2"><li><p>é€šè¿‡æŒ‡ä»¤</p><p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥<code>nvidia-smi</code>ï¼Œå‡ºç°ä»¥ä¸‹ç•Œé¢</p></li></ol><div align="center">   <img src="https://z4a.net/images/2022/11/16/cuda_3.png" alt="é€šè¿‡å‘½ä»¤å‡½æŸ¥çœ‹" title="é€šè¿‡å‘½ä»¤è¡ŒæŸ¥çœ‹" width="700"></div><h3 id="å®‰è£…CUDAæ”¯æŒ"><a href="#å®‰è£…CUDAæ”¯æŒ" class="headerlink" title="å®‰è£…CUDAæ”¯æŒ"></a>å®‰è£…CUDAæ”¯æŒ</h3><p>æŸ¥è¯¢åˆ°è‡ªå·±ç”µè„‘çš„CUDAç‰ˆæœ¬åï¼Œä½ éœ€è¦å®‰è£…CUDAæ”¯æŒã€‚</p><blockquote><p>å„ç‰ˆæœ¬CUDAä¸‹è½½ï¼š<a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a></p></blockquote><div align="center">     <img src="https://z4a.net/images/2022/11/16/CUDA.png" alt="CUDAå®‰è£…" title="CUDAå®‰è£…" width="600"></div><p>å»ºè®®é€‰æ‹©ç”µè„‘æ”¯æŒçš„<strong>æœ€é«˜CUDAç‰ˆæœ¬</strong>å®‰è£…å³å¯ã€‚</p><h2 id="é€‰æ‹©å®‰è£…æ–¹å¼"><a href="#é€‰æ‹©å®‰è£…æ–¹å¼" class="headerlink" title="é€‰æ‹©å®‰è£…æ–¹å¼"></a>é€‰æ‹©å®‰è£…æ–¹å¼</h2><div align="center">     <img src="https://z4a.net/images/2022/11/16/install.png" alt="å®‰è£…æ–¹å¼" title="å®‰è£…æ–¹å¼" width="700"></div><p>å¦‚æœä½ æ˜¯Windowsç”¨æˆ·ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®˜ç½‘æä¾›äº†ä¸¤ç§å¸¸ç”¨çš„å®‰è£…æ–¹å¼ï¼š</p><ol><li>pipæŒ‡ä»¤</li><li>CondaæŒ‡ä»¤ï¼ˆéœ€è¦Anacondaç¯å¢ƒï¼‰</li></ol><p>è¿™ä¸¤ä¸ªæŒ‡ä»¤ä¸‹è½½çš„ä¸œè¥¿éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å®‰è£…çš„æ–¹å¼ä¸åŒã€‚<strong>å»ºè®®åœ¨Anacondaç¯å¢ƒä¸­å®‰è£…</strong>ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</p><h2 id="ä¸‹è½½ç¦»çº¿æ–‡ä»¶"><a href="#ä¸‹è½½ç¦»çº¿æ–‡ä»¶" class="headerlink" title="ä¸‹è½½ç¦»çº¿æ–‡ä»¶"></a>ä¸‹è½½ç¦»çº¿æ–‡ä»¶</h2><div align="center">  <img src="https://z4a.net/images/2022/11/16/whl_list.png" alt="PyTorch_office" title="PyTorchä¸»é¡µ" width="400"></div><hr><p>.whlæ–‡ä»¶ï¼Œå®é™…å°±æ˜¯torchçš„å‹ç¼©æ–‡ä»¶ã€‚<br>å½“æˆ‘ä»¬ä½¿ç”¨pipè¿›è¡Œåº“çš„ä¸‹è½½æ—¶å€™ï¼Œä¼šå…ˆæ‹‰å–å‹ç¼©åŒ…è¯·æ±‚ï¼Œç„¶ååœ¨æœ¬åœ°è§£å‹å®‰è£…ã€‚è¿™è¾¹æœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œå¦‚æœå½“å‰æ‹‰å–çš„å‹ç¼©åŒ…å·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šç›´æ¥è§£å‹ã€‚æ‰€ä»¥æˆ‘ä»¬æå‰å‡†å¤‡å¥½torchçš„å‹ç¼©åŒ…ï¼Œå½“ä½¿ç”¨pipæŒ‡ä»¤ä¸‹è½½æ—¶ï¼Œä¼šç›´æ¥æ‹‰å–æœ¬åœ°çš„å‹ç¼©åŒ…ï¼Œè·³è¿‡ä¸‹è½½å®‰è£…åŒ…çš„è¿‡ç¨‹ã€‚ä»æœ¬åœ°æ–‡ä»¶å®‰è£…çš„åŸç†å°±æ˜¯å¦‚æ­¤ã€‚</p><ul><li>å½“ç„¶è¿˜æœ‰ä¸€ä¸ªé‡è¦å‰æï¼Œå•ç‹¬ä¸‹è½½.whlæ–‡ä»¶çœŸçš„éå¸¸å¿«ã€‚</li></ul><p>ä¸‹è½½æ–‡ä»¶ä¹‹å‰éœ€è¦äº†è§£ä¸€äº›æ¦‚å¿µï¼Œä»¥<code>torch-1.12.0+cu116-cp37-cp37m-win_amd64.whl</code>è¿™ä¸ªæ–‡ä»¶åä¸ºä¾‹ã€‚</p><blockquote><p>torch-1.12.0ï¼šä»£è¡¨torchç‰ˆæœ¬</p><p>cu116ï¼šä»£è¡¨æ”¯æŒCUDA11.6</p><p>cp37ï¼šä»£è¡¨è¿è¡Œç¯å¢ƒä¸ºPython3.7</p><p>winï¼šæŒ‡Windowså¹³å°</p><p>amd64ï¼šä»£è¡¨64ä½æ“ä½œç³»ç»Ÿ</p></blockquote><p>äº†è§£è¿™äº›ä¹‹åå°±å¯ä»¥æŒ‰è‡ªå·±çš„éœ€æ±‚ä¸‹è½½è‡ªå·±éœ€è¦çš„.whlå‹ç¼©æ–‡ä»¶ã€‚</p><blockquote><p>ä¸‹è½½åœ°å€ï¼š<a href="https://download.pytorch.org/whl/torch/">https://download.pytorch.org/whl/torch/</a></p></blockquote><ul><li>å°æç¤ºï¼šå–„ç”¨å¿«æ·æœç´¢ï¼ŒCtrl+F</li><li>ä¸‹è½½åçš„æ–‡ä»¶æœ€å¥½æ”¾å…¥<code>C:\Users\ç”¨æˆ·å</code>è·¯å¾„ä¸‹ï¼Œæ–¹ä¾¿åç»­å®‰è£…ã€‚</li></ul><h2 id="ä½¿ç”¨pipæŒ‡ä»¤å®‰è£…å‹ç¼©æ–‡ä»¶"><a href="#ä½¿ç”¨pipæŒ‡ä»¤å®‰è£…å‹ç¼©æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨pipæŒ‡ä»¤å®‰è£…å‹ç¼©æ–‡ä»¶"></a>ä½¿ç”¨pipæŒ‡ä»¤å®‰è£…å‹ç¼©æ–‡ä»¶</h2><p>ä»¥<code>torch-1.12.0+cu116-cp37-cp37m-win_amd64.whl</code>ä¸ºä¾‹ã€‚</p><p>è¿›å…¥è¦å®‰è£…çš„ç¯å¢ƒå‘½ä»¤è¡Œï¼Œè¿›å…¥.whlæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œè¿è¡ŒæŒ‡ä»¤<code>pip install torch-1.12.0+cu116-cp37-cp37m-win_amd64.whl </code> </p><p>å¦‚æœæ²¡å‡ºç°ä¸‹è½½ï¼Œå°±ä¼šè‡ªåŠ¨æ˜¾ç¤ºè¦æ±‚æ»¡è¶³ï¼Œç„¶åå‹ç¼©å®‰è£…ã€‚å¦‚æœè¿˜æ˜¯ä¸‹è½½äº†ï¼Œè¯·è‡ªè¡Œå…³é—­å‘½ä»¤è¡Œå†æ¬¡å°è¯•ä¸€éã€‚</p><div align="center">  <img src="https://z4a.net/images/2022/11/16/install_1.png" alt="å®‰è£…å‹ç¼©åŒ…" title="å®‰è£…å‹ç¼©åŒ…" width="600"></div><p>å®‰è£…torchå®Œæˆåï¼Œæ‰“å¼€å®˜ç½‘å†æ¬¡è¿è¡Œå®‰è£…å‘½ä»¤å®‰è£…å…¶ä»–ç›¸é€‚åº”çš„åº“å³å¯ï¼Œæ­¤æ—¶å°±ä¼šç›´æ¥è·³è¿‡torchçš„å®‰è£…äº†ã€‚</p><div align="center"><img src="https://z4a.net/images/2022/11/16/install_2.png" alt="å®‰è£…é“¾æ¥" title="å®‰è£…é“¾æ¥" width="500"><img src="https://z4a.net/images/2022/11/16/install_3.png" alt="å®‰è£…æˆåŠŸ" title="å®‰è£…æˆåŠŸ" width="500"></div><ul><li>æ³¨æ„.whlæ–‡ä»¶ä¸pipå®‰è£…å‘½ä»¤ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚</li><li>å¦‚æœè¾“å…¥pipæ‚¨å‘ç°è¿˜åœ¨ä¸‹è½½torchï¼Œé‚£ä¹ˆæ‚¨ä¸‹è½½çš„.whlä¸æ»¡è¶³å¯¹åº”è¦æ±‚ï¼Œè¯·æŒ‰ç…§pipå‡ºç°çš„ç‰ˆæœ¬é‡æ–°ä¸‹è½½.whlæ–‡ä»¶ã€‚</li></ul><h2 id="ä¸€äº›æ£€æŸ¥æŒ‡ä»¤"><a href="#ä¸€äº›æ£€æŸ¥æŒ‡ä»¤" class="headerlink" title="ä¸€äº›æ£€æŸ¥æŒ‡ä»¤"></a>ä¸€äº›æ£€æŸ¥æŒ‡ä»¤</h2><ul><li>è¿”å›å½“å‰è®¾å¤‡ç´¢å¼•<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.cuda.current_device()</span><br></pre></td></tr></table></figure></li><li>è¿”å›GPUçš„æ•°é‡  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.cuda.device_count()</span><br></pre></td></tr></table></figure></li><li>è¿”å›gpuåå­—ï¼Œè®¾å¤‡ç´¢å¼•é»˜è®¤ä»0å¼€å§‹<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.cuda.get_device_name(0)</span><br></pre></td></tr></table></figure></li><li>cudaæ˜¯å¦å¯ç”¨<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.cuda.is_available()</span><br></pre></td></tr></table></figure>æˆ‘çš„ç»“æœï¼š<div align="center"><img src="https://z4a.net/images/2022/11/16/check.png" alt="PyTorch_office" title="PyTorchä¸»é¡µ" width="350"></div><br></li></ul><blockquote><p>å¦‚æœ<code>torch.cuda.is_available()</code>è¿”å›çš„æ˜¯Falseï¼Œé‚£ä¹ˆå¾ˆé—æ†¾ï¼Œä½ å¯èƒ½éœ€è¦é‡æ–°å®‰è£…ï¼Œé‡æ–°æ£€æŸ¥é—®é¢˜æ‰€åœ¨ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Pythonå®è·µ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> PyTorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Halo-åšå®¢æ­å»º</title>
      <link href="/post/halo-bo-ke-da-jian-li-cheng/"/>
      <url>/post/halo-bo-ke-da-jian-li-cheng/</url>
      
        <content type="html"><![CDATA[<h1 id="è¯´åœ¨å‰é¢"><a href="#è¯´åœ¨å‰é¢" class="headerlink" title="è¯´åœ¨å‰é¢"></a>è¯´åœ¨å‰é¢</h1><p>é¦–å…ˆè¦è¯´æ˜çš„æ˜¯ï¼Œè¿™ä¸ªåšå®¢çš„æ­å»ºæ˜¯æŒ‰ç…§bç«™upä¸»â€œæˆ‘ä¸æ˜¯å’•å’•é¸½â€æ‰€å‘è§†é¢‘æ•™ç¨‹æ¥çš„ï¼Œå¤§ä½¬å¾ˆå¼ºï¼ŒçœŸæ­£åšåˆ°äº†å‚»ç“œå¼çš„æ•™ç¨‹ï¼Œä¸ªäººè¿˜æ˜¯éå¸¸æ„Ÿè°¢çš„ã€‚<br>å› ä¸ºè§†é¢‘æ˜¯2019å¹´ï¼Œæ‰€ä»¥åœ¨æ­å»ºè¿‡ç¨‹ä¸­è‚¯å®šä¼šé‡åˆ°çš„ä¸è§†é¢‘æœ‰äº›å‡ºè·¯çš„åœ°æ–¹ï¼Œæˆ‘åœ¨è¿™ä¸ªæ–‡ç« ä¸­å°å°è®°å½•ä¸€ä¸‹ã€‚<br>å…ˆè¿™é‡Œæ”¾ä¸€ä¸‹é“¾æ¥ï¼š</p><blockquote><p>å¦‚ä½•ç”¨æœåŠ¡å™¨ä¼˜é›…åœ°æ­å»ºä¸€ä¸ªåšå®¢â€”Hello,Halo!ï¼š<a href="https://www.bilibili.com/video/BV1JN411Q7Na?share_source=copy_web">https://www.bilibili.com/video/BV1JN411Q7Na?share_source=copy_web</a></p></blockquote><div align=center class="aspect-ratio"><iframe src="//player.bilibili.com/player.html?bvid=BV1JN411Q7Na" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe></div><h1 id="è´­ä¹°æœåŠ¡å™¨"><a href="#è´­ä¹°æœåŠ¡å™¨" class="headerlink" title="è´­ä¹°æœåŠ¡å™¨"></a>è´­ä¹°æœåŠ¡å™¨</h1><p>æœåŠ¡å™¨è´­ä¹°è¿˜æ˜¯è·Ÿè§†é¢‘è¯´çš„ä¸€æ ·ï¼Œè¿˜æ˜¯æ¨èVultrï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©å›½å†…çš„æœåŠ¡å™¨å‚å•†ï¼Œä½†æ˜¯æˆ‘è§‰å¾—Vultrçš„ä»·æ ¼ç¡®å®è¿˜ç®—äº²æ°‘ï¼ˆåœ¨è¿™ç¯‡æ–‡ç« ç¼–å†™çš„æ—¶å€™æ˜¯<strong>1ï¼„ï¼š7.18ï¿¥</strong>ï¼‰ã€‚</p><blockquote><p>Vultrå®˜ç½‘ï¼š<a href="https://my.vultr.com/">https://my.vultr.com/</a></p></blockquote><p>æ˜æ˜åç¼€ä¸­æœ‰cnï¼Œä½†æ˜¯è¿˜æ˜¯å¯èƒ½éœ€è¦é­”æ³•ï¼Œä¸ç„¶å¯èƒ½ä¼šä¸€ç›´åŠ è½½ï¼Œæ³¨å†Œæµç¨‹å°±å…ˆè·³è¿‡äº†ã€‚</p><h2 id="Server-Type"><a href="#Server-Type" class="headerlink" title="Server Type"></a><strong>Server Type</strong></h2><p>å‰é¢ä¸¤ä¸ª<strong>High Performance</strong>éƒ½å¯ä»¥ã€‚</p><div align="center">  <img src="https://www.z4a.net/images/2023/03/13/CPU.png"></div><h2 id="Server-Location"><a href="#Server-Location" class="headerlink" title="Server Location"></a><strong>Server Location</strong></h2><p>è¿™ä¸ªç®—æ¯”è¾ƒå…³é”®ï¼Œä¸»è¦å¦‚æœæœåŠ¡å™¨ç¦»ä¸­å›½å¤ªè¿œçš„è¯ï¼Œå¾ˆå®¹æ˜“å‡ºç°é«˜Pingï¼Œæ‰€ä»¥è¿™è¾¹å…ˆç‚¹åˆ°Asiaï¼Œè¿™è¾¹æ¨èé€‰æ‹©Tokyoï¼Œå½“ç„¶å¯ä»¥é€‰Tokyoä¹‹å¤–çš„å…¶ä»–åœ°åŒºã€‚</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/location.png"></div><h2 id="Server-Image"><a href="#Server-Image" class="headerlink" title="Server Image"></a><strong>Server Image</strong></h2><p>æŒ‰è§†é¢‘æ¥æ˜¯é€‰æ‹©<strong>CentOS 7Ã—64</strong>ï¼Œå…¶å®åªè¦æ˜¯Deckeræ”¯æŒå®‰è£…çš„Systeméƒ½æ˜¯å¯è¡Œçš„ã€‚</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/operation-system.png"></div><h2 id="Server-Size"><a href="#Server-Size" class="headerlink" title="Server Size"></a><strong>Server Size</strong></h2><p>è§†é¢‘é‡Œä¹Ÿè¯´äº†æœ€å¥½è¿˜æ˜¯ç”¨ä¸€æ ¸2Gçš„æœºå­ï¼Œä¸ç„¶çš„è¯ä½ çš„åšå®¢å°±ä¸èƒ½è®¾è®¡å¤ªå¤šçš„å…¶ä»–ä¸œè¥¿ï¼Œä¸ç„¶ä¼šå¾ˆå¡ï¼ˆæˆ‘è‡ªå·±çš„ä¸€æ ¸1Gå·²ç»å¡çˆ†äº†ï¼‰</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/bill.png"></div><p>æŠŠè¿™ä¸ªå…³æ‰ç„¶ååˆ›å»ºå³å¯</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/auto_save_to_cloud.png"></div><p>ç½‘ç«™çš„é“¾æ¥å»¶è¿Ÿä½¿ç”¨ç«™é•¿ä¹‹å®¶çš„Pingå€¼æ£€æµ‹å³å¯ã€‚å¤§é‡å»¶è¿Ÿå¤ªé«˜çš„èŠ‚ç‚¹æˆ–è€…ä¸»æœºæ— å“åº”çš„è¯ï¼Œå¯èƒ½éœ€è¦é‡æ–°åˆ›å»ºæœåŠ¡å™¨ã€‚</p><blockquote><p>ç«™é•¿ä¹‹å®¶ï¼š<a href="https://ping.chinaz.com/">https://ping.chinaz.com/</a></p></blockquote><h1 id="ä½¿ç”¨FinalShellæ“çºµè¿œç¨‹æœåŠ¡å™¨"><a href="#ä½¿ç”¨FinalShellæ“çºµè¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="ä½¿ç”¨FinalShellæ“çºµè¿œç¨‹æœåŠ¡å™¨"></a>ä½¿ç”¨FinalShellæ“çºµè¿œç¨‹æœåŠ¡å™¨</h1><p>è¿™è¾¹å€’æ˜¯æ²¡æœ‰å‡ºç°é—®é¢˜ï¼Œè¿™è¾¹å°±ç›´æ¥è´´ä¸€ä¸‹é“¾æ¥ã€‚</p><blockquote><p>FinalShellï¼š<a href="http://www.hostbuf.com/t/988.html">http://www.hostbuf.com/t/988.html</a></p></blockquote><h1 id="å®‰è£…å®å¡”é¢æ¿"><a href="#å®‰è£…å®å¡”é¢æ¿" class="headerlink" title="å®‰è£…å®å¡”é¢æ¿"></a>å®‰è£…å®å¡”é¢æ¿</h1><blockquote><p>å®å¡”é¢æ¿ï¼š<a href="https://www.bt.cn/new/download.html">https://www.bt.cn/new/download.html</a></p></blockquote><p>CentOSçš„å®‰è£…ä»£ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec</span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºå®å¡”é¢æ¿çš„ç™»é™†ç½‘å€"><a href="#æ˜¾ç¤ºå®å¡”é¢æ¿çš„ç™»é™†ç½‘å€" class="headerlink" title="æ˜¾ç¤ºå®å¡”é¢æ¿çš„ç™»é™†ç½‘å€"></a>æ˜¾ç¤ºå®å¡”é¢æ¿çš„ç™»é™†ç½‘å€</h2><p>è¿™è¾¹ä¸€èˆ¬ä¼šç»™ä¸€ä¸ªå›½å¤–è®¿é—®é“¾æ¥å’Œå›½å†…è®¿é—®ä¸¤ä¸ªé“¾æ¥ï¼Œå“ªä¸ªç‚¹çš„å¼€å°±é€‰å“ªä¸ª</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/c56237a158382e8be971ccbfc29b3118.png"></div><p>è¿™è¾¹å¦‚æœåç»­ä¸å°å¿ƒå…³é—­äº†ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç å°±å¯ä»¥å†æ¬¡æ˜¾ç°é“¾æ¥ï¼Œä»¥åŠè´¦å·å¯†ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bt default</span><br></pre></td></tr></table></figure><h2 id="å¿˜è®°å¯†ç "><a href="#å¿˜è®°å¯†ç " class="headerlink" title="å¿˜è®°å¯†ç "></a>å¿˜è®°å¯†ç </h2><p>åç»­å¦‚æœå¿˜è®°è´¦å·å¯†ç ï¼Œå¯†ç å°±ä¼šä¸æ˜¾ç¤ºï¼ˆæ˜¾ç¤ºä¸º***ï¼‰ï¼Œæ­¤æ—¶å°±éœ€è¦æ›´æ”¹å¯†ç ï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ä¿®æ”¹å¯†ç ï¼ˆæŠŠå‘½ä»¤æœ€åé¢çš„ â€œtestpasswdâ€ æ›¿æ¢æˆä½ è¦æ”¹çš„æ–°å¯†ç ã€‚å¦‚æœä½ ç›´æ¥å¤åˆ¶è¿™æ¡å‘½ä»¤é‚£é»˜è®¤çš„å¯†ç å°±æ˜¯ â€œtestpasswdâ€ï¼ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /www/server/panel &amp;&amp; python tools.pyc panel testpasswd</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡è¾“å…¥btè°ƒå‡ºèœå•ï¼Œå¯ä»¥çœ‹åˆ°ä¿®æ”¹å¯†ç çš„é€‰é¡¹ï¼š</p><div align="center"><img src="https://www.z4a.net/images/2023/03/13/bt.png"></div><h1 id="å®‰è£…Dockerå’ŒHaloåšå®¢"><a href="#å®‰è£…Dockerå’ŒHaloåšå®¢" class="headerlink" title="å®‰è£…Dockerå’ŒHaloåšå®¢"></a>å®‰è£…Dockerå’ŒHaloåšå®¢</h1><p>è·Ÿç€è§†é¢‘ä¸€æ­¥ä¸€æ­¥è£…å°±å¥½ã€‚</p><blockquote><p>Docker install on CentOSï¼š<a href="https://docs.docker.com/engine/install/centos/">https://docs.docker.com/engine/install/centos/</a><br>ä½¿ç”¨Dockerå®‰è£…Haloåšå®¢ï¼š<a href="https://docs.halo.run/getting-started/install/docker">https://docs.halo.run/getting-started/install/docker</a></p></blockquote><p>è¿™é‡Œå…¶å®ä¹Ÿå¯ä»¥åœ¨å®å¡”é¢æ¿ä¸­å®‰è£…Dockerï¼Œä½†æ˜¯é¢æ¿ä¸­çš„ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯æœ€æ–°ç‰ˆï¼Œå› æ­¤ä¸æ¨èè¿™ç§æ–¹æ³•ã€‚</p><div align="center">  <img src="https://www.z4a.net/images/2023/03/13/docker_.png"></div><p>è¿™è¾¹å°±è¦æ³¨æ„ç«¯å£çš„ä¸€è‡´æ€§ï¼Œä¸ç„¶æ— æ³•å‡†ç¡®æ˜ å°„ã€‚</p><h1 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h1><p>ç”±äºè‹±è¯­ä¸æ˜¯å¾ˆå¥½ï¼ŒåŠ ä¸Šè§†é¢‘é‡Œå®Œå…¨æ²¡æœ‰ç»†ç»†è¯´DNSè§£æè¿™æ–¹é¢ï¼Œåœ¨è¿™é‡Œç¡®å®å¡äº†å¾ˆä¹…ã€‚ç®€å•æ¥è¯´ï¼Œå½“ä½ æ‹¿åˆ°åŸŸååˆ°ä»£ç†å•†é‚£é‡Œå»è§£æçš„æ—¶å€™ï¼Œä»£ç†å•†ä¼šæ˜¾ç¤ºä¸¤ä¸ªå€¼ï¼Œéœ€è¦æŠŠè¿™ä¸¤ä¸ªå€¼æ·»åŠ åˆ°æˆ‘ä»¬è´­ä¹°åŸŸåçš„ç½‘ç«™å¯¹åº”åŸŸåçš„Manage DNS Recordsé‡Œï¼Œç›®çš„æ˜¯ä¸ºäº†è®©è¿™ä¸ªåŸŸåçŸ¥é“æ˜¯è°æ¥ç®¡ç†ä»–ã€‚<br>å¦‚æœä½ æ˜¯namesoilä¹°çš„åŸŸåï¼Œé‚£ä¹ˆè¿™æ ·æŒ‰è¿™ä¸ªé¡ºåºç‚¹å‡»ï¼šä¸»é¡µçš„MyCount â†’ ï¼Œdomain link managerï¼Œç„¶ä¼šä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢ã€‚</p><div align="center">  <img src="https://z4a.net/images/2023/03/15/domain-link-manager.png"><img src="https://z4a.net/images/2023/03/15/Domain-L-ink-Manager.png"></div><p>å‹¾é€‰åŸŸåï¼Œç‚¹å‡»ä¸Šé¢çš„Change Nameserversï¼Œç„¶åæŠŠå¼€å¤´çš„å…¨éƒ¨åˆ é™¤ï¼ŒæŠŠä»£ç†å•†ç»™ä½ çš„ä¸¤ä¸ªå€¼å¡«è¿›å»å°±å¥½ã€‚<br>æäº¤ä¹‹åéœ€è¦ç­‰å¾…å®¡æ ¸ï¼ˆéå¸¸å¿«ï¼‰ï¼Œç„¶åæŒ‰ç…§è§†é¢‘çš„æµç¨‹å³å¯ã€‚</p><h1 id="è®¾ç½®åå‘ä»£ç†"><a href="#è®¾ç½®åå‘ä»£ç†" class="headerlink" title="è®¾ç½®åå‘ä»£ç†"></a>è®¾ç½®åå‘ä»£ç†</h1><p>ç”³è¯·çš„SLLè¯ä¹¦ï¼ˆä¸ç”³è¯·ä½ çš„ç½‘ç«™è¿›å…¥æ—¶ä¾¿ä¼šåˆä¸å®‰å…¨è­¦å‘Šï¼‰<strong>æ˜¯æœ‰æ—¶é—´æœŸé™çš„ï¼Œä¸€èˆ¬æ˜¯90å¤©ï¼Œä¹‹åè¿˜éœ€è¦é‡æ–°ç”³è¯·ã€‚</strong><br>åå‘ä»£ç†çš„ä»£ç åœ¨è¿™ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> location / &#123;</span><br><span class="line">  proxy_pass http://127.0.0.1:8090/;</span><br><span class="line">  rewrite ^/(.*)$ /$1 break;</span><br><span class="line">  proxy_redirect off;</span><br><span class="line">  proxy_set_header Host $host;</span><br><span class="line">  proxy_set_header X-Forwarded-Proto $scheme;</span><br><span class="line">  proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">  proxy_set_header Upgrade-Insecure-Requests 1;</span><br><span class="line">  proxy_set_header X-Forwarded-Proto https;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ ä¹‹åå°±å¯ä»¥ä½¿ç”¨åŸŸåè®¿é—®æˆ‘ä»¬çš„åšå®¢ã€‚</p><h1 id="ä¸»é¢˜çš„é€‰æ‹©"><a href="#ä¸»é¢˜çš„é€‰æ‹©" class="headerlink" title="ä¸»é¢˜çš„é€‰æ‹©"></a>ä¸»é¢˜çš„é€‰æ‹©</h1><p>æ‹¿åˆ°åšå®¢ä¸€å¼€å§‹çš„ä¸»é¢˜ç®—éå¸¸ç®€é™‹çš„ï¼Œå¯ä»¥å»Haloçš„<strong>ä¸»é¢˜ä»“åº“</strong>æ›´æ¢è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ã€‚å¦‚æœä½ å’Œæˆ‘é€‰æ‹©çš„ä¸€æ ·ï¼Œéƒ½æ˜¯<strong>ä¸€æ ¸1Gï¼Œé‚£ä¹ˆè¿˜æ˜¯ä¸è¦å®‰è£…å¤ªèŠ±é‡Œèƒ¡å“¨çš„ä¸»é¢˜ï¼Œå› ä¸ºè¿™æ ·ä½ çš„åšå®¢æ—¥å¸¸è®¿é—®éƒ½ä¼šéå¸¸å¡é¡¿ï¼Œè¿™ä¼šä¸¥é‡å½±å“åšå®¢çš„ä½“éªŒã€‚</strong></p><blockquote><p>Haloä¸»é¢˜ä»“åº“ï¼š<a href="https://halo.run/themes.html">https://halo.run/themes.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Haloåšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Halo </tag>
            
            <tag> æœåŠ¡å™¨ </tag>
            
            <tag> DNS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>å½’æ¡£</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºæˆ‘</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[<p>è¿™é‡Œæ˜¯gcnanmuï¼Œä¸€ä¸ªæ™®é€šçš„å¤§å­¦ç”Ÿï¼Œå–œæ¬¢é¼“æ£ä¸€äº›å¥‡æ€ªçš„äº‹ï¼Œå»ºç«‹åšå®¢çš„åˆè¡·æ˜¯è®°å½•ä¸åˆ†äº«ï¼Œæ‰€ä»¥æ‰€æœ‰æ–‡ç« éƒ½å°½é‡å†™çš„è¯¦ç»†ä¸”æ˜“æ‡‚ï¼Œå¸Œæœ›å¯¹è®¿é—®çš„ä½ æœ‰æ‰€å¸®åŠ©ã€‚æœ¬ç«™çš„è¯ä¸»è¦æ˜¯ä¸ºäº†å¤‡ä»½ä½¿ç”¨ï¼Œä»¥é˜²æœåŠ¡å™¨å‡ºç°é—®é¢˜æˆ–è€…ç»­ä¸äº†è´¹ç”¨å¯¼è‡´çš„æ–‡ç« ä¸¢å¤±ã€‚</p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ—¥å¿—</title>
      <link href="/journals/index.html"/>
      <url>/journals/index.html</url>
      
        <content type="html"><![CDATA[<div class="timeline green"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2024</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>05-08</p></div></div><div class='timeline-item-content'><ol><li>ä¿®æ”¹é¡µé¢åœ†è§’</li><li>æ·»åŠ <code>èŒå¤‡</code>å’Œ<code>Miit</code></li><li>æ·»åŠ <code>wormhole</code>æ ‡è¯†</li><li>ä¿®æ”¹å¹¿å‘Šæ å’Œfpsæ˜¾ç¤º</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>05-07</p></div></div><div class='timeline-item-content'><ol><li>æ›´æ”¹éƒ¨åˆ†æ ·å¼é€‚åº”å°é¢ã€å±å¹•å¤§å°</li><li>æ·»åŠ å¿ƒçŸ¥å¤©æ°”ç»„ä»¶</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>01-29</p></div></div><div class='timeline-item-content'><ol><li>æ·»åŠ é•œåƒé€‰é¡¹</li><li>æ·»åŠ <code>Written-By-Human-Not-By-AI</code>ç”³æ˜</li></ol></div></div></div><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>2023</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-15</p></div></div><div class='timeline-item-content'><ol><li>å°†é»˜è®¤åŸŸåæ˜ å°„åˆ°å½“å‰åŸŸåã€‚</li><li>æ·»åŠ å®½å±é€‚é…ã€‚</li><li>ç”³è¯·åŠ å…¥â€å¼€å¾€â€é¡¹ç›®ã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-14</p></div></div><div class='timeline-item-content'><ol><li>é€‚é…<code>bilibiliè§†é¢‘</code>ã€‚</li><li>ä¸ºâ€å½’æ¡£â€ä¸â€æ–‡ç« â€é¡µé¢æ·»åŠ å›¾æ ‡å±•ç¤ºã€‚</li><li>æ·»åŠ â€éšæœºè®¿é—®æ–‡ç« â€åŠŸèƒ½ã€‚</li><li>æ·»åŠ å³é”®èœå•ï¼Œå¯åœ¨å³è¾¹â€è®¾ç½®â€ä¸­å…³é—­ã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-13</p></div></div><div class='timeline-item-content'><ol><li>å¢åŠ <code>å¤åˆ¶</code>ä¸<code>F12</code>æ“ä½œæç¤ºå¼¹çª—ã€‚</li><li>å¢åŠ <code>fps</code>å®æ—¶æ˜¾ç¤ºã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>08-12</p></div></div><div class='timeline-item-content'><ol><li>æ›´æ–°<code>Butterfly v4.7.0</code>åˆ°<code>Butterfly v4.9.0</code>ã€‚</li><li>æ›´æ”¹æ–‡ç« å­—ä½“ä¸º<code>éœé¹œæ–‡æ¥·</code>ï¼Œæ›´æ”¹ä»£ç å­—ä½“ä¸º<code>JetBrainsMono</code>ã€‚</li><li>ä¸ºæ–‡ç« å†…çš„æ‰€æœ‰å›¾ç‰‡æ·»åŠ è¾¹æ¡†ã€‚</li><li>ä¼˜åŒ–ä¸»é¡µ<strong>æœ€æ–°æ–‡ç« </strong>çš„æ˜¾ç¤ºæ•°ç›®ï¼Œå»é™¤<strong>å½’æ¡£æ </strong>ï¼Œæ·»åŠ <strong>æ ‡ç­¾æ </strong>ã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>07-30</p></div></div><div class='timeline-item-content'><p>Butterfly v4.7.0<code>Mermaid</code>æ¸²æŸ“å®Œå…¨å¤±æ•ˆï¼Œéœ€è¦ç­‰å¾…å®˜æ–¹ä¿®å¤ã€‚æ‰€ä»¥è¯´æ¨å¹¿ä¸å¼€ä¸æ˜¯æ²¡æœ‰é“ç†çš„ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>06-28</p></div></div><div class='timeline-item-content'><p>æ›´æ”¹äº†<code>github</code>ä»“åº“åï¼Œæµ‹è¯•ç½‘é¡µæ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä¸Šä¼ ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-25</p></div></div><div class='timeline-item-content'><p>è¯•äº†è¯•<code>HarmonyOS Sans</code>ä¸<code>OPPO Sans</code>,æ„Ÿè§‰é¸¿è’™çš„å­—ä½“æ›´åŠ åœ†æ¶¦ä¸€ç‚¹ï¼Œç°å·²å°†åšå®¢å­—ä½“æ›´æ¢ä¸º<code>HarmonyOS Sans</code>ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>03-19</p></div></div><div class='timeline-item-content'><p>åˆä¸€æ¬¡æŠŠHexoç»™æ­å›æ¥äº†ï¼Œå¥½åœ¨åœ¨å›ºæ€åæ‰ä¹‹å‰åˆæ­å»ºäº†Haloåšå®¢ï¼Œæ‰€ä»¥æ–‡ç« çš„è¯è¿˜åœ¨ï¼Œå¯ä»¥è¯´æ˜¯ä¸å¹¸ä¸­çš„ä¸‡å¹¸ã€‚è€Œä¸”æœ‰äº†ç¬¬ä¸€æ¬¡çš„ç»éªŒï¼Œè¿™ä¸€æ¬¡æ­å»ºHexoå¯ä»¥è¯´ç›¸å½“å¿«äº†ï¼Œå‰å‰ååå°±èŠ±äº†3å°æ—¶å·¦å³ï¼ˆåŒ…æ‹¬æ–‡ç« çš„ç¼–å†™ï¼ŒCSSçš„è®¾å®šï¼‰ï¼Œä¹Ÿä¸å¼„çš„å¤ªèŠ±å“¨äº†ï¼Œè¿˜æ˜¯ä»¥å®ç”¨ä¸ºä¸»ã€‚å‘ç°æˆ‘æ²¡ä»€ä¹ˆåšå®¢å°é¢å•Šï¼Œåªèƒ½æ‹¿ç‚¹è€å›¾å‡‘åˆä¸€ä¸‹äº†ã€‚</p></div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/cat.css"/>
      <url>/css/cat.css</url>
      
        <content type="html"><![CDATA[body::-webkit-scrollbar {    width: 0;}.neko {    width: 64px;    height: 64px;    background-image: url("https://bu.dusays.com/2022/07/20/62d812db74be9.png");    position: absolute;    right: 32px;    background-repeat: no-repeat;    background-size: contain;    transform: translateX(50%);    cursor: pointer;    font-family: tzy;    font-weight: 600;    font-size: 16px;    color: #6f42c1;    display: none;}.neko::after {    display: none;    width: 100px;    height: 100px;    background-image: url("https://bu.dusays.com/2022/07/20/62d812d95e6f5.png");    background-size: contain;    z-index: 9999;    position: absolute;    right: 50%;    text-align: center;    line-height: 100px;    top: -115%;}.neko.showMsg::after {    content: attr(data-msg);    display: block;    overflow: hidden;    text-overflow: ellipsis;}.neko:hover::after {    content: attr(data-msg);    display: block;    overflow: hidden;    text-overflow: ellipsis;}.neko.fontColor::after {    color: #333;}/** * @description: æ»šåŠ¨æ¡æ ·å¼  è·ŸçŒ«äºŒé€‰ä¸€ */@media screen and (max-width:992px) {    ::-webkit-scrollbar {        width: 8px !important;        height: 8px !important    }    ::-webkit-scrollbar-track {        border-radius: 2em;    }    ::-webkit-scrollbar-thumb {        background-color: rgb(255 255 255 / .3);        background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.1) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.1) 75%, transparent 75%, transparent);        border-radius: 2em    }    ::-webkit-scrollbar-corner {        background-color: transparent    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/custom.css"/>
      <url>/css/custom.css</url>
      
        <content type="html"><![CDATA[/* æ–‡ç« é¡µH1-H6å›¾æ ‡æ ·å¼æ•ˆæœ *//* æ§åˆ¶é£è½¦è½¬åŠ¨é€Ÿåº¦ 4sé‚£é‡Œå¯ä»¥è‡ªå·±è°ƒèŠ‚å¿«æ…¢ */h1::before,h2::before,h3::before,h4::before,h5::before,h6::before {  -webkit-animation: ccc 4s linear infinite;  animation: ccc 4s linear infinite;}/* æ§åˆ¶é£è½¦è½¬åŠ¨æ–¹å‘ -1turn ä¸ºé€†æ—¶é’ˆè½¬åŠ¨ï¼Œ1turn ä¸ºé¡ºæ—¶é’ˆè½¬åŠ¨ï¼Œç›¸åŒæ•°å­—éƒ¨åˆ†è®°å¾—ç»Ÿä¸€ä¿®æ”¹ */@-webkit-keyframes ccc {  0% {    -webkit-transform: rotate(0deg);    transform: rotate(0deg);  }  to {    -webkit-transform: rotate(-1turn);    transform: rotate(-1turn);  }}@keyframes ccc {  0% {    -webkit-transform: rotate(0deg);    transform: rotate(0deg);  }  to {    -webkit-transform: rotate(-1turn);    transform: rotate(-1turn);  }}/* è®¾ç½®é£è½¦é¢œè‰² */#content-inner.layout h1::before {  color: #ef50a8;  margin-left: -1.55rem;  font-size: 1.3rem;  margin-top: -0.23rem;}#content-inner.layout h2::before {  color: #fb7061;  margin-left: -1.35rem;  font-size: 1.1rem;  margin-top: -0.12rem;}#content-inner.layout h3::before {  color: #ffbf00;  margin-left: -1.22rem;  font-size: 0.95rem;  margin-top: -0.09rem;}#content-inner.layout h4::before {  color: #a9e000;  margin-left: -1.05rem;  font-size: 0.8rem;  margin-top: -0.09rem;}#content-inner.layout h5::before {  color: #57c850;  margin-left: -0.9rem;  font-size: 0.7rem;  margin-top: 0rem;}#content-inner.layout h6::before {  color: #5ec1e0;  margin-left: -0.9rem;  font-size: 0.66rem;  margin-top: 0rem;}/* sè®¾ç½®é£è½¦hoveråŠ¨æ•ˆ 6sé‚£é‡Œå¯ä»¥è‡ªå·±è°ƒèŠ‚å¿«æ…¢*/#content-inner.layout h1:hover,#content-inner.layout h2:hover,#content-inner.layout h3:hover,#content-inner.layout h4:hover,#content-inner.layout h5:hover,#content-inner.layout h6:hover {  color: var(--theme-color);}#content-inner.layout h1:hover::before,#content-inner.layout h2:hover::before,#content-inner.layout h3:hover::before,#content-inner.layout h4:hover::before,#content-inner.layout h5:hover::before,#content-inner.layout h6:hover::before {  color: var(--theme-color);  -webkit-animation: ccc 6s linear infinite;  animation: ccc 6s linear infinite;}/* ä¸€çº§èœå•å±…ä¸­ *//* #nav .menus_items {  position: absolute !important;  width: fit-content !important;  left: 50% !important;  transform: translateX(-50%) !important;} *//* å­èœå•æ¨ªå‘å±•ç¤º *//* #nav .menus_items .menus_item:hover .menus_item_child {  display: flex !important;} *//* è¿™é‡Œçš„2æ˜¯ä»£è¡¨å¯¼èˆªæ çš„ç¬¬2ä¸ªå…ƒç´ ï¼Œå³æœ‰å­èœå•çš„å…ƒç´ ï¼Œå¯ä»¥æŒ‰è‡ªå·±éœ€æ±‚ä¿®æ”¹ *//* .menus_items .menus_item:nth-child(2) .menus_item_child {  left: 0px;} *//* è¿”å›ä¸»é¡µæ•ˆæœ */.site-name::before{  opacity: 0;  background-color: var(--lyx-theme)!important;  border-radius: 8px;  -webkit-border-radius: 8px;  -moz-border-radius: 8px;  -ms-border-radius: 8px;  -o-border-radius: 8px;  transition: .3s;  -webkit-transition: .3s;  -moz-transition: .3s;  -ms-transition: .3s;  -o-transition: .3s;  position:absolute;  top:0!important;  right:0!important;  width:100%;  height:100%;  content: "\f015";  box-shadow: 0 0 5px var(--lyx-theme);  font-family: "Font Awesome 6 Free";  text-align: center;  color:white;  line-height:34px;/*å¦‚æœæœ‰æº¢å‡ºæˆ–è€…å‚ç›´ä¸å±…ä¸­çš„ç°è±¡å¾®è°ƒä¸€ä¸‹è¿™ä¸ªå‚æ•°*/  font-size: 18px;/*æ ¹æ®ä¸ªäººå–œå¥½*/}.site-name:hover::before{  opacity: 1;  scale:1.03;}.site-name{  position: relative;  font-size: 24px; /*ä¸€å®šè¦æŠŠå­—ä½“è°ƒå¤§ç‚¹ï¼Œå¦åˆ™æ•ˆæœæƒ¨ä¸å¿ç¹ï¼*/}:root{  --lyx-theme:#49b1f5 /*æˆ‘çš„ä¸»é¢˜è‰²*/}/* é¡¶æ å¸¸é©» */.nav-fixed #nav{  transform: translateY(58px)!important;  -webkit-transform: translateY(58px)!important;  -moz-transform: translateY(58px)!important;  -ms-transform: translateY(58px)!important;  -o-transform: translateY(58px)!important;}#nav{  transition: none!important;  -webkit-transition: none!important;  -moz-transition: none!important;  -ms-transition: none!important;  -o-transition: none!important;}/* ä¸€çº§èœå•å±…ä¸­ */#nav .menus_items {  position: absolute !important;  width: fit-content !important;  left: 50% !important;  transform: translateX(-50%) !important;}/* å­èœå•æ¨ªå‘å±•ç¤º */#nav .menus_items .menus_item:hover .menus_item_child {  display: flex !important;}/* å­èœå•å®šä½ */.menus_items .menus_item .menus_item_child {  left: -100px;}/* æ—¥é—´æ¨¡å¼ä¸ç”Ÿæ•ˆ */[data-theme="light"] #site-name,[data-theme="light"] #site-title,[data-theme="light"] #site-subtitle,[data-theme="light"] #post-info {  animation: none;}/* å¤œé—´æ¨¡å¼ç”Ÿæ•ˆ */[data-theme="dark"] #site-name,[data-theme="dark"] #site-title {  animation: light_15px 10s linear infinite;}[data-theme="dark"] #site-subtitle {  animation: light_10px 10s linear infinite;}[data-theme="dark"] #post-info {  animation: light_5px 10s linear infinite;}/* å…³é”®å¸§æè¿° */@keyframes light_15px {  0% {    text-shadow: #5636ed 0 0 15px;  }  12.5% {    text-shadow: #11ee5e 0 0 15px;  }  25% {    text-shadow: #f14747 0 0 15px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 15px;  }  50% {    text-shadow: #b347f1 0 0 15px;  }  62.5% {    text-shadow: #002afa 0 0 15px;  }  75% {    text-shadow: #ed709b 0 0 15px;  }  87.5% {    text-shadow: #39c5bb 0 0 15px;  }  100% {    text-shadow: #5636ed 0 0 15px;  }}@keyframes light_10px {  0% {    text-shadow: #5636ed 0 0 10px;  }  12.5% {    text-shadow: #11ee5e 0 0 10px;  }  25% {    text-shadow: #f14747 0 0 10px;  }  37.5% {    text-shadow: #f1a247 0 0 10px;  }  50% {    text-shadow: #f1ee47 0 0 10px;  }  50% {    text-shadow: #b347f1 0 0 10px;  }  62.5% {    text-shadow: #002afa 0 0 10px;  }  75% {    text-shadow: #ed709b 0 0 10px;  }  87.5% {    text-shadow: #39c5bb 0 0 10px;  }  100% {    text-shadow: #5636ed 0 0 10px;  }}@keyframes light_5px {  0% {    text-shadow: #5636ed 0 0 5px;  }  12.5% {    text-shadow: #11ee5e 0 0 5px;  }  25% {    text-shadow: #f14747 0 0 5px;  }  37.5% {    text-shadow: #f1a247 0 0 15px;  }  50% {    text-shadow: #f1ee47 0 0 5px;  }  50% {    text-shadow: #b347f1 0 0 5px;  }  62.5% {    text-shadow: #002afa 0 0 5px;  }  75% {    text-shadow: #ed709b 0 0 5px;  }  87.5% {    text-shadow: #39c5bb 0 0 5px;  }  100% {    text-shadow: #5636ed 0 0 5px;  }}@import "//at.alicdn.com/t/c/font_3962437_6snoplzeg9u.css";/* åŠ¨æ€å›¾æ ‡ */svg.icon {  width: 4em;  height: 4em;  /* vertical-align: -0.15em; */  fill: currentColor;  overflow: hidden;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/bilibili.css"/>
      <url>/css/bilibili.css</url>
      
        <content type="html"><![CDATA[/*å“”å“©å“”å“©è§†é¢‘é€‚é…*/.aspect-ratio {    position: relative;    width: 100%;    height: auto;    padding-bottom: 75%;    margin: 3% auto;    text-align: center;  }  .aspect-ratio iframe {    position: absolute;    width: 100%;    height: 86%;    left: 0;    top: 0;  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/footer.css"/>
      <url>/css/footer.css</url>
      
        <content type="html"><![CDATA[#moe>a {    text-decoration: none;    color: black;}#moe img {    width:auto;    height:32px;    vertical-align:middle;}#moe a:hover {    color: pink;    text-decoration: none;}#miit a {    text-decoration: none;    color: black;}#miit a:hover {    color: yellow;    text-decoration: none;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/fps.css"/>
      <url>/css/fps.css</url>
      
        <content type="html"><![CDATA[/* å¸§ç‡æ£€æµ‹ */#fps {    position: fixed;    /* æŒ‡å®šä½ç½® */    left: 0;    bottom: 10px;    z-index: 1919810;  }  [data-theme="light"] #fps {    background-color: rgba(255, 255, 255, 0.85);    backdrop-filter: var(--backdrop-filter);    padding: 4px;    border-radius: 4px;  }  [data-theme="dark"] #fps {    background-color: rgba(0, 0, 0, 0.72);    backdrop-filter: var(--backdrop-filter);    padding: 4px;    border-radius: 4px;  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/loading-bar.css"/>
      <url>/css/loading-bar.css</url>
      
        <content type="html"><![CDATA[.pace {-webkit-pointer-events: none;pointer-events: none;-webkit-user-select: none;-moz-user-select: none;user-select: none;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;-ms-box-sizing: border-box;-o-box-sizing: border-box;box-sizing: border-box;-webkit-border-radius: 10px;-moz-border-radius: 10px;border-radius: 10px;-webkit-background-clip: padding-box;-moz-background-clip: padding;background-clip: padding-box;z-index: 2000;position: fixed;margin: auto;top: 12px;left: 0;right: 0;bottom: 0;width: 200px;height: 50px;overflow: hidden;}.pace .pace-progress {-webkit-box-sizing: border-box;-moz-box-sizing: border-box;-ms-box-sizing: border-box;-o-box-sizing: border-box;box-sizing: border-box;-webkit-border-radius: 2px;-moz-border-radius: 2px;border-radius: 2px;-webkit-background-clip: padding-box;-moz-background-clip: padding;background-clip: padding-box;-webkit-transform: translate3d(0, 0, 0);transform: translate3d(0, 0, 0);display: block;position: absolute;right: 100%;margin-right: -7px;width: 93%;top: 7px;height: 14px;font-size: 12px;background: #29d;color: #29d;line-height: 60px;font-weight: bold;font-family: Helvetica, Arial, "Lucida Grande", sans-serif;-webkit-box-shadow: 120px 0 #fff, 240px 0 #fff;-ms-box-shadow: 120px 0 #fff, 240px 0 #fff;box-shadow: 120px 0 #fff, 240px 0 #fff;}.pace .pace-progress:after {content: attr(data-progress-text);display: inline-block;position: fixed;width: 45px;text-align: right;right: 0;padding-right: 16px;top: 4px;}.pace .pace-progress[data-progress-text="0%"]:after { right: -200px }.pace .pace-progress[data-progress-text="1%"]:after { right: -198.14px }.pace .pace-progress[data-progress-text="2%"]:after { right: -196.28px }.pace .pace-progress[data-progress-text="3%"]:after { right: -194.42px }.pace .pace-progress[data-progress-text="4%"]:after { right: -192.56px }.pace .pace-progress[data-progress-text="5%"]:after { right: -190.7px }.pace .pace-progress[data-progress-text="6%"]:after { right: -188.84px }.pace .pace-progress[data-progress-text="7%"]:after { right: -186.98px }.pace .pace-progress[data-progress-text="8%"]:after { right: -185.12px }.pace .pace-progress[data-progress-text="9%"]:after { right: -183.26px }.pace .pace-progress[data-progress-text="10%"]:after { right: -181.4px }.pace .pace-progress[data-progress-text="11%"]:after { right: -179.54px }.pace .pace-progress[data-progress-text="12%"]:after { right: -177.68px }.pace .pace-progress[data-progress-text="13%"]:after { right: -175.82px }.pace .pace-progress[data-progress-text="14%"]:after { right: -173.96px }.pace .pace-progress[data-progress-text="15%"]:after { right: -172.1px }.pace .pace-progress[data-progress-text="16%"]:after { right: -170.24px }.pace .pace-progress[data-progress-text="17%"]:after { right: -168.38px }.pace .pace-progress[data-progress-text="18%"]:after { right: -166.52px }.pace .pace-progress[data-progress-text="19%"]:after { right: -164.66px }.pace .pace-progress[data-progress-text="20%"]:after { right: -162.8px }.pace .pace-progress[data-progress-text="21%"]:after { right: -160.94px }.pace .pace-progress[data-progress-text="22%"]:after { right: -159.08px }.pace .pace-progress[data-progress-text="23%"]:after { right: -157.22px }.pace .pace-progress[data-progress-text="24%"]:after { right: -155.36px }.pace .pace-progress[data-progress-text="25%"]:after { right: -153.5px }.pace .pace-progress[data-progress-text="26%"]:after { right: -151.64px }.pace .pace-progress[data-progress-text="27%"]:after { right: -149.78px }.pace .pace-progress[data-progress-text="28%"]:after { right: -147.92px }.pace .pace-progress[data-progress-text="29%"]:after { right: -146.06px }.pace .pace-progress[data-progress-text="30%"]:after { right: -144.2px }.pace .pace-progress[data-progress-text="31%"]:after { right: -142.34px }.pace .pace-progress[data-progress-text="32%"]:after { right: -140.48px }.pace .pace-progress[data-progress-text="33%"]:after { right: -138.62px }.pace .pace-progress[data-progress-text="34%"]:after { right: -136.76px }.pace .pace-progress[data-progress-text="35%"]:after { right: -134.9px }.pace .pace-progress[data-progress-text="36%"]:after { right: -133.04px }.pace .pace-progress[data-progress-text="37%"]:after { right: -131.18px }.pace .pace-progress[data-progress-text="38%"]:after { right: -129.32px }.pace .pace-progress[data-progress-text="39%"]:after { right: -127.46px }.pace .pace-progress[data-progress-text="40%"]:after { right: -125.6px }.pace .pace-progress[data-progress-text="41%"]:after { right: -123.74px }.pace .pace-progress[data-progress-text="42%"]:after { right: -121.88px }.pace .pace-progress[data-progress-text="43%"]:after { right: -120.02px }.pace .pace-progress[data-progress-text="44%"]:after { right: -118.16px }.pace .pace-progress[data-progress-text="45%"]:after { right: -116.3px }.pace .pace-progress[data-progress-text="46%"]:after { right: -114.44px }.pace .pace-progress[data-progress-text="47%"]:after { right: -112.58px }.pace .pace-progress[data-progress-text="48%"]:after { right: -110.72px }.pace .pace-progress[data-progress-text="49%"]:after { right: -108.86px }.pace .pace-progress[data-progress-text="50%"]:after { right: -107px }.pace .pace-progress[data-progress-text="51%"]:after { right: -105.14px }.pace .pace-progress[data-progress-text="52%"]:after { right: -103.28px }.pace .pace-progress[data-progress-text="53%"]:after { right: -101.42px }.pace .pace-progress[data-progress-text="54%"]:after { right: -99.56px }.pace .pace-progress[data-progress-text="55%"]:after { right: -97.7px }.pace .pace-progress[data-progress-text="56%"]:after { right: -95.84px }.pace .pace-progress[data-progress-text="57%"]:after { right: -93.98px }.pace .pace-progress[data-progress-text="58%"]:after { right: -92.12px }.pace .pace-progress[data-progress-text="59%"]:after { right: -90.26px }.pace .pace-progress[data-progress-text="60%"]:after { right: -88.4px }.pace .pace-progress[data-progress-text="61%"]:after { right: -86.53999999999999px }.pace .pace-progress[data-progress-text="62%"]:after { right: -84.68px }.pace .pace-progress[data-progress-text="63%"]:after { right: -82.82px }.pace .pace-progress[data-progress-text="64%"]:after { right: -80.96000000000001px }.pace .pace-progress[data-progress-text="65%"]:after { right: -79.1px }.pace .pace-progress[data-progress-text="66%"]:after { right: -77.24px }.pace .pace-progress[data-progress-text="67%"]:after { right: -75.38px }.pace .pace-progress[data-progress-text="68%"]:after { right: -73.52px }.pace .pace-progress[data-progress-text="69%"]:after { right: -71.66px }.pace .pace-progress[data-progress-text="70%"]:after { right: -69.8px }.pace .pace-progress[data-progress-text="71%"]:after { right: -67.94px }.pace .pace-progress[data-progress-text="72%"]:after { right: -66.08px }.pace .pace-progress[data-progress-text="73%"]:after { right: -64.22px }.pace .pace-progress[data-progress-text="74%"]:after { right: -62.36px }.pace .pace-progress[data-progress-text="75%"]:after { right: -60.5px }.pace .pace-progress[data-progress-text="76%"]:after { right: -58.64px }.pace .pace-progress[data-progress-text="77%"]:after { right: -56.78px }.pace .pace-progress[data-progress-text="78%"]:after { right: -54.92px }.pace .pace-progress[data-progress-text="79%"]:after { right: -53.06px }.pace .pace-progress[data-progress-text="80%"]:after { right: -51.2px }.pace .pace-progress[data-progress-text="81%"]:after { right: -49.34px }.pace .pace-progress[data-progress-text="82%"]:after { right: -47.480000000000004px }.pace .pace-progress[data-progress-text="83%"]:after { right: -45.62px }.pace .pace-progress[data-progress-text="84%"]:after { right: -43.76px }.pace .pace-progress[data-progress-text="85%"]:after { right: -41.9px }.pace .pace-progress[data-progress-text="86%"]:after { right: -40.04px }.pace .pace-progress[data-progress-text="87%"]:after { right: -38.18px }.pace .pace-progress[data-progress-text="88%"]:after { right: -36.32px }.pace .pace-progress[data-progress-text="89%"]:after { right: -34.46px }.pace .pace-progress[data-progress-text="90%"]:after { right: -32.6px }.pace .pace-progress[data-progress-text="91%"]:after { right: -30.740000000000002px }.pace .pace-progress[data-progress-text="92%"]:after { right: -28.880000000000003px }.pace .pace-progress[data-progress-text="93%"]:after { right: -27.02px }.pace .pace-progress[data-progress-text="94%"]:after { right: -25.16px }.pace .pace-progress[data-progress-text="95%"]:after { right: -23.3px }.pace .pace-progress[data-progress-text="96%"]:after { right: -21.439999999999998px }.pace .pace-progress[data-progress-text="97%"]:after { right: -19.58px }.pace .pace-progress[data-progress-text="98%"]:after { right: -17.72px }.pace .pace-progress[data-progress-text="99%"]:after { right: -15.86px }.pace .pace-progress[data-progress-text="100%"]:after { right: -14px }.pace .pace-activity {position: absolute;width: 100%;height: 28px;z-index: 2001;box-shadow: inset 0 0 0 2px #29d, inset 0 0 0 7px #FFF;border-radius: 10px;}.pace.pace-inactive {display: none;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/pic_border.css"/>
      <url>/css/pic_border.css</url>
      
        <content type="html"><![CDATA[#post img {  display: block;  border: 5px solid #ddd;  padding: 5px;  background: #fff;  border-radius: 10px;}#post figcaption {  font-size: small;  color: var(rgba(0, 0, 0));}/* æ»šåŠ¨æ¡æ ·å¼ */::-webkit-scrollbar {  width: 8px;  height: 8px;}::-webkit-scrollbar-track {  background-color: rgba(73, 177, 245, 0.2);  border-radius: 2em;}::-webkit-scrollbar-thumb {  background-color: var(rgb(14, 151, 243));  background-image: -webkit-linear-gradient(    45deg,    rgba(255, 255, 255, 0.4) 25%,    transparent 25%,    transparent 50%,    rgba(255, 255, 255, 0.4) 50%,    rgba(255, 255, 255, 0.4) 75%,    transparent 75%,    transparent  );  border-radius: 2em;}::-webkit-scrollbar-corner {  background-color: transparent;}::-moz-selection {  color: #fff;  background-color: var(rgb(14, 151, 243));}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/right.css"/>
      <url>/css/right.css</url>
      
        <content type="html"><![CDATA[/* å³é”®èœå• */#rightMenu {    display: none;    position: fixed;    width: 160px;    height: fit-content;    top: 10%;    left: 10%;      /* èœå•é¢æ¿èƒŒæ™¯è‰² */    background-color: var(--card-bg);      /* èœå•é¢æ¿æ–‡å­—é¢œè‰² */    border: 1px solid var(--font-color);    border-radius: 8px;    z-index: 100;  }  #rightMenu .rightMenu-group {    padding: 7px 6px;  }  #rightMenu .rightMenu-group:not(:nth-last-child(1)) {    border-bottom: 1px solid var(--font-color);  }  #rightMenu .rightMenu-group.rightMenu-small {    display: flex;    justify-content: space-between;  }  #rightMenu .rightMenu-group .rightMenu-item {    height: 30px;    line-height: 30px;    border-radius: 8px;    transition: 0.3s;    color: var(--font-color);  }  #rightMenu .rightMenu-group.rightMenu-line .rightMenu-item {    display: flex;    height: 40px;    line-height: 40px;    padding: 0 4px;  }  #rightMenu .rightMenu-group .rightMenu-item:hover {      /* é¼ æ ‡æ‚¬æµ®é€‰é¡¹é¢œè‰² */    background-color: var(--text-bg-hover);  }  #rightMenu .rightMenu-group .rightMenu-item i {    display: inline-block;    text-align: center;    line-height: 30px;    width: 30px;    height: 30px;    padding: 0 5px;  }  #rightMenu .rightMenu-group .rightMenu-item span {    line-height: 30px;  }    #rightMenu .rightMenu-group.rightMenu-line .rightMenu-item * {    height: 40px;    line-height: 40px;  }  .rightMenu-group.hide {    display: none;  }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/runtime.css"/>
      <url>/css/runtime.css</url>
      
        <content type="html"><![CDATA[/*ç”µå­é’Ÿå­—ä½“*/@font-face {  font-family: 'UnidreamLED';  src: url("/font/UnidreamLED.ttf");  font-display: swap;}div#runtime {  width: 180px;  margin: auto;  color: #fff;  padding-inline: 5px;  border-radius: 10px;  background-color: rgba(0,0,0,0.7);  font-family: 'UnidreamLED';}[data-theme="dark"] div#runtime {  color: #28b4c8;  box-shadow: 0 0 5px rgba(28,69,218,0.71);  animation: flashlight 1s linear infinite alternate;}/*æ‚¬åœæ˜¾ç¤ºå¾½æ ‡æç¤ºè¯­*/a.github-badge:hover:before {  position: fixed;  width: fit-content;  margin: auto;  left: 0;  right: 0;  top: 10%;  border-radius: 10px;  text-align: center;  z-index: 100;  content: attr(data-title);  font-size: 20px;  color: #fff;  padding: 10px;  background-color: var(--text-bg-hover);}[data-theme=dark] a.github-badge:hover:before {  background-color: rgba(18,18,18,0.8);}@-moz-keyframes flashlight {  from {    box-shadow: 0 0 5px #1478d2;  }  to {    box-shadow: 0 0 2px #1478d2;  }}@-webkit-keyframes flashlight {  from {    box-shadow: 0 0 5px #1478d2;  }  to {    box-shadow: 0 0 2px #1478d2;  }}@-o-keyframes flashlight {  from {    box-shadow: 0 0 5px #1478d2;  }  to {    box-shadow: 0 0 2px #1478d2;  }}@keyframes flashlight {  from {    box-shadow: 0 0 5px #1478d2;  }  to {    box-shadow: 0 0 2px #1478d2;  }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/set_font.css"/>
      <url>/css/set_font.css</url>
      
        <content type="html"><![CDATA[@font-face {  /* ä¸ºè½½å…¥çš„å­—ä½“å–åå­—(éšæ„) */  font-family: "WenKai-R";  /* å­—ä½“æ–‡ä»¶åœ°å€(ç›¸å¯¹æˆ–è€…ç»å¯¹è·¯å¾„éƒ½å¯ä»¥) */  src: url(/font/LXGWWenKaiGBScreen.woff);  /* å®šä¹‰åŠ ç²—æ ·å¼(åŠ ç²—å¤šå°‘) */  font-weight: normal;  /* å®šä¹‰å­—ä½“æ ·å¼(æ–œä½“/éæ–œä½“) */  font-style: normal;  /* å®šä¹‰æ˜¾ç¤ºæ ·å¼ */  font-display: block;}@font-face {  /* ä¸ºè½½å…¥çš„å­—ä½“å–åå­—(éšæ„) */  font-family: "JetBrains Mono-R";  /* å­—ä½“æ–‡ä»¶åœ°å€(ç›¸å¯¹æˆ–è€…ç»å¯¹è·¯å¾„éƒ½å¯ä»¥) */  src: url(/font/JetBrainsMonoNL-Regular.woff);  /* å®šä¹‰åŠ ç²—æ ·å¼(åŠ ç²—å¤šå°‘) */  font-weight: normal;  /* å®šä¹‰å­—ä½“æ ·å¼(æ–œä½“/éæ–œä½“) */  font-style: normal;  /* å®šä¹‰æ˜¾ç¤ºæ ·å¼ */  font-display: block;}body {  font-family: "JetBrains Mono-R", "WenKai-R";  font-size: 16px;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/kuanping.css"/>
      <url>/css/kuanping.css</url>
      
        <content type="html"><![CDATA[/* å…¨å±€å®½åº¦ */.layout {    max-width: 1300px;  }    /* ä¾§è¾¹å¡ç‰‡æ å®½åº¦ */  .aside-content {    max-width: 340px;    min-width: 300px;  }    /* å¹³æ¿å°ºå¯¸è‡ªé€‚åº”(ä¸å¯ç”¨ä¾§è¾¹æ å®½åº¦é™åˆ¶) */  @media screen and (max-width: 900px) {    .aside-content {      max-width: none !important;      padding: 0 5px 0 5px;    }  }/* å‹é“¾ä¸€è¡Œæ˜¾ç¤ºæ›´å¤š */.site-card {  width: calc(100% / 5 - 16px) !important;  border-radius: 18px !important;}.site-card .img {  height: 165px !important;  border-radius: 18px !important;}/* é€‚åº”å®½åº¦ä¸åŒçš„è®¾å¤‡ */@media screen and (max-width: 1200px) {  .site-card {    width: calc(100% / 4 - 16px) !important;  }}@media screen and (max-width: 900px) {  .site-card {    width: calc(100% / 3 - 16px) !important;  }}@media screen and (max-width: 600px) {  .site-card {    width: calc(100% / 2 - 16px) !important;  }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/swiperstyle.css"/>
      <url>/css/swiperstyle.css</url>
      
        <content type="html"><![CDATA[* {    -webkit-box-sizing:border-box;    -moz-box-sizing:border-box;    box-sizing:border-box}div#swiper_container {    background:rgba(255, 255, 255, 0)}.blog-slider {    width:100%;    position:relative;    border-radius:12px 8px 8px 12px;    margin:auto;    background:var(--global-bg);    padding:10px;    -webkit-transition:all .3s;    -moz-transition:all .3s;    -o-transition:all .3s;    -ms-transition:all .3s;    transition:all .3s}.blog-slider__item {    display:-webkit-box;    display:-moz-box;    display:-webkit-flex;    display:-ms-flexbox;    display:box;    display:flex;    -webkit-box-align:center;    -moz-box-align:center;    -o-box-align:center;    -ms-flex-align:center;    -webkit-align-items:center;    align-items:center}.blog-slider__item.swiper-slide-active .blog-slider__img img {    opacity:1;    -ms-filter:none;    filter:none;    -webkit-transition-delay:.3s;    -moz-transition-delay:.3s;    -o-transition-delay:.3s;    -ms-transition-delay:.3s;    transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>* {    opacity:1;    -ms-filter:none;    filter:none;    -webkit-transform:none;    -moz-transform:none;    -o-transform:none;    -ms-transform:none;    transform:none}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(1) {    -webkit-transition-delay:.3s;    -moz-transition-delay:.3s;    -o-transition-delay:.3s;    -ms-transition-delay:.3s;    transition-delay:.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(2) {    -webkit-transition-delay:.4s;    -moz-transition-delay:.4s;    -o-transition-delay:.4s;    -ms-transition-delay:.4s;    transition-delay:.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(3) {    -webkit-transition-delay:.5s;    -moz-transition-delay:.5s;    -o-transition-delay:.5s;    -ms-transition-delay:.5s;    transition-delay:.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(4) {    -webkit-transition-delay:.6s;    -moz-transition-delay:.6s;    -o-transition-delay:.6s;    -ms-transition-delay:.6s;    transition-delay:.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(5) {    -webkit-transition-delay:.7s;    -moz-transition-delay:.7s;    -o-transition-delay:.7s;    -ms-transition-delay:.7s;    transition-delay:.7s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(6) {    -webkit-transition-delay:.8s;    -moz-transition-delay:.8s;    -o-transition-delay:.8s;    -ms-transition-delay:.8s;    transition-delay:.8s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(7) {    -webkit-transition-delay:.9s;    -moz-transition-delay:.9s;    -o-transition-delay:.9s;    -ms-transition-delay:.9s;    transition-delay:.9s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(8) {    -webkit-transition-delay:1s;    -moz-transition-delay:1s;    -o-transition-delay:1s;    -ms-transition-delay:1s;    transition-delay:1s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(9) {    -webkit-transition-delay:1.1s;    -moz-transition-delay:1.1s;    -o-transition-delay:1.1s;    -ms-transition-delay:1.1s;    transition-delay:1.1s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(10) {    -webkit-transition-delay:1.2s;    -moz-transition-delay:1.2s;    -o-transition-delay:1.2s;    -ms-transition-delay:1.2s;    transition-delay:1.2s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(11) {    -webkit-transition-delay:1.3s;    -moz-transition-delay:1.3s;    -o-transition-delay:1.3s;    -ms-transition-delay:1.3s;    transition-delay:1.3s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(12) {    -webkit-transition-delay:1.4s;    -moz-transition-delay:1.4s;    -o-transition-delay:1.4s;    -ms-transition-delay:1.4s;    transition-delay:1.4s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(13) {    -webkit-transition-delay:1.5s;    -moz-transition-delay:1.5s;    -o-transition-delay:1.5s;    -ms-transition-delay:1.5s;    transition-delay:1.5s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(14) {    -webkit-transition-delay:1.6s;    -moz-transition-delay:1.6s;    -o-transition-delay:1.6s;    -ms-transition-delay:1.6s;    transition-delay:1.6s}.blog-slider__item.swiper-slide-active .blog-slider__content>:nth-child(15) {    -webkit-transition-delay:1.7s;    -moz-transition-delay:1.7s;    -o-transition-delay:1.7s;    -ms-transition-delay:1.7s;    transition-delay:1.7s}.blog-slider__img {    width:300px;    -webkit-flex-shrink:0;    flex-shrink:0;    height:200px;    padding:10px;    border-radius:5px;    -webkit-transform:translateX(0);    -moz-transform:translateX(0);    -o-transform:translateX(0);    -ms-transform:translateX(0);    transform:translateX(0);    overflow:hidden}.blog-slider__img:after {    content:'';    position:absolute;    top:0;    left:0;    width:100%;    height:100%;    border-radius:5px;    opacity:.8}.blog-slider__img img {    width:100%;    height:100%;    object-fit:cover;    display:block;    opacity:0;    border-radius:5px;    -webkit-transition:all .3s;    -moz-transition:all .3s;    -o-transition:all .3s;    -ms-transition:all .3s;    transition:all .3s}.blog-slider__content {    padding-right:50px;    padding-left:50px}.blog-slider__content>* {    opacity:0;    -webkit-transform:translateY(25px);    -moz-transform:translateY(25px);    -o-transform:translateY(25px);    -ms-transform:translateY(25px);    transform:translateY(25px);    -webkit-transition:all .4s;    -moz-transition:all .4s;    -o-transition:all .4s;    -ms-transition:all .4s;    transition:all .4s}.blog-slider__code {    color:var(--font-color);    margin-bottom:0;    display:block;    font-weight:500}.blog-slider__title {    font-size:18px;    font-weight:700;    color:var(--font-color);    margin-bottom:15px;    -webkit-line-clamp:1;    display:-webkit-box;    overflow:hidden;    -webkit-box-orient:vertical}.blog-slider__text {    color:var(--font-color);    -webkit-line-clamp:1;    display:-webkit-box;    overflow:hidden;    -webkit-box-orient:vertical;    margin-bottom:15px;    line-height:1.5em;    width:100%;    display:block;    word-break:break-all;    word-wrap:break-word}.blog-slider__button {    display:-webkit-inline-box;    display:-moz-inline-box;    display:-webkit-inline-flex;    display:-ms-inline-flexbox;    display:inline-box;    display:inline-flex;    background-color:var(--btn-bg);    padding:4px 14px;    border-radius:8px;    color:var(--btn-color);    text-decoration:none;    font-weight:500;    -webkit-box-pack:center;    -moz-box-pack:center;    -o-box-pack:center;    -ms-flex-pack:center;    -webkit-justify-content:center;    justify-content:center;    text-align:center;    letter-spacing:1px;    display:none}.blog-slider__button:hover {    background-color:var(--btn-hover-color);    color:var(--btn-color)}.blog-slider .swiper-container-horizontal>.swiper-pagination-bullets, .blog-slider .swiper-pagination-custom, .blog-slider .swiper-pagination-fraction {    bottom:10px;    left:0;    width:100%}.blog-slider__pagination {    position:absolute;    z-index:21;    right:20px;    width:11px!important;    text-align:center;    left:auto!important;    top:50%;    bottom:auto!important;    -webkit-transform:translateY(-50%);    -moz-transform:translateY(-50%);    -o-transform:translateY(-50%);    -ms-transform:translateY(-50%);    transform:translateY(-50%)}.blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet {    margin:8px 0}.blog-slider__pagination .swiper-pagination-bullet {    width:11px;    height:11px;    display:block;    border-radius:10px;    background:#858585;    opacity:.2;    -webkit-transition:all .3s;    -moz-transition:all .3s;    -o-transition:all .3s;    -ms-transition:all .3s;    transition:all .3s}.blog-slider__pagination .swiper-pagination-bullet-active {    opacity:1;    -ms-filter:none;    filter:none;    background:var(--btn-bg);    height:30px}@media screen and (max-width:600px) {    .blog-slider__pagination {        -webkit-transform:translateX(-50%);        -moz-transform:translateX(-50%);        -o-transform:translateX(-50%);        -ms-transform:translateX(-50%);        transform:translateX(-50%);        left:50%!important;        top:320px;        width:100%!important;        display:-webkit-box;        display:-moz-box;        display:-webkit-flex;        display:-ms-flexbox;        display:box;        display:flex;        -webkit-box-pack:center;        -moz-box-pack:center;        -o-box-pack:center;        -ms-flex-pack:center;        -webkit-justify-content:center;        justify-content:center;        -webkit-box-align:center;        -moz-box-align:center;        -o-box-align:center;        -ms-flex-align:center;        -webkit-align-items:center;        align-items:center    }    .blog-slider__pagination.swiper-pagination-bullets .swiper-pagination-bullet {        margin:0 5px    }    .blog-slider__pagination .swiper-pagination-bullet-active {        height:11px;        width:30px    }    .blog-slider__button {        display:-webkit-inline-box;        display:-moz-inline-box;        display:-webkit-inline-flex;        display:-ms-inline-flexbox;        display:inline-box;        display:inline-flex;        width:100%    }    .blog-slider__text {        margin-bottom:40px    }    .blog-slider {        min-height:350px;        height:auto;        margin-top:110px;        margin-bottom:10px    }    .blog-slider__content {        margin-top:-80px;        text-align:center;        padding:0 30px    }    .blog-slider__item {        -webkit-box-orient:vertical;        -moz-box-orient:vertical;        -o-box-orient:vertical;        -webkit-flex-direction:column;        -ms-flex-direction:column;        flex-direction:column    }    .blog-slider__img {        -webkit-transform:translateY(-50%);        -moz-transform:translateY(-50%);        -o-transform:translateY(-50%);        -ms-transform:translateY(-50%);        transform:translateY(-50%);        width:90%    }    .blog-slider__content {        padding-left:10px;        padding-right:10px    }    .blog-slider__pagination.swiper-pagination-clickable.swiper-pagination-bullets {        top:110px    }}@media screen and (min-width:600px) {    .blog-slider {        height:200px    }    .blog-slider__img {        height:200px    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/icon.css"/>
      <url>/css/icon.css</url>
      
        <content type="html"><![CDATA[@font-face {  font-family: "iconfont"; /* Project id 3962437 */  /* Color fonts */  src:        url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAABD0AAwAAAAAIfQAABCgAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIoMeI4FSBmAAgSQKs3ilfgE2AiQDgmQLgToABCAFgXwHIBtrGaOQjpJWOGR/kWDbAMse2CueVAtuPW+qI37Ofp4E8pKQvIhheXgEiSCeEFQT2sJv0yBeASqa1LmDOrSFtv8qp1Bzria0OZWKpT3nTDcA7s35NhNYkFq2XQI63Nd28j83XGRfpKt0NQR2OeESgOFtAJYT9dRcabN/9wXMFYAUkGVjWai63eMN3PHMJSlRnngfIV8iSeQAVfKESQHAAfoKVVtVX/YzeeHGLho1tYijiuPm+Lw7BAAJAB9gbR4O4EsokuTgLF5K+tCYr3AqsKX06FQQzlER3FCSF+njF43zY0EK4gk6KSaFqbgoHRax2SLJskhzSBlfzlIIUGL/AAfonIH6IE7wTjBDgm8INx8qDNOG0xExkQUyKlat0ABoZZ0+GkJMUKWgjxOg1zaojDyTOF7LCZJE0k6KS6ZSBKkAaa8uPSojJDPYHGEhsnRWMhvPUeZieRrnQy7ACkEWaYp9SvDqSwPLROVhFexKvyp5tawm0hZgB6jlTpFOVdrTouvCAQyYst+cJgFaRf8sAdR2HdDOWgwJjRra06dCd/cx6PER6rZ9Qr9nJAq93aJGpzwatLJCi97vikbXXo9BeiRDzcMmhDDFnZh09PlO+te1WVOvyUWPNhUN+1ApvhDkdlai/25MQX/dmob+/m0AoQ/3o8DA0+japTfRD++fR1/dvo7Cgm4itONdVLH2YyTN/hQxzAP029fP0Tdff4USdvyMTNtoqelFhNiXEAIPQvVPEZjm6C6AJHnYJmABiY/gzQBQKpeCNYMJMwHtjdGZt1NWXpYLl4B5dpJwIzcA4QY3AGAAADjgbwEAA0oCIB5plqgZLwESNokMkPKMXsJLeflekVfhjfBavdXe6d4+71nvv88anp1EqHYg28s1Zc237inRQyVS/q38S/m78ielV3lHOa48qnxBOVUpUxxVOA6mbIatp/rPAMALAL6dAJwQ5eVNdwcWANyJ6lhFHocS3oFnVRfyKCJKWKW9cyH/yj4Tq70sHAggcPNKKIok2aSYxyNJDof0D8kIEIl8lGyxxETzBXypRBIgIZXI49GJTy2BOzmcjubz9SyS9BE4mbJ2DM0xQoJP0HpaqZLFo7X8WWihkEer1QKfhAzm4SkVbD5vycLKvbZ41NfFATeX249hfOxX7gIuxudfaFF/QC1tG+Yu4QcLl/S/ByTNWvHBSlHKnn2i8ssLtHhEZQDMJyK0JMQYGScwzuk0oJhBAoZETogARsenr6wUGxsvGbZWRb6n1IuCZYVHwKbaWirlEqEMljy14AB89cTuMNiVsTbEmP2I3xG5dXfm78ucjkpenmsDsmkxtuqZ2aBUDv9SdnxJ/zU7HnqeIt6U1ore9D+3399YX2qQVHexS1D0tRaND8fcmlWZGnsH5buLx4nFzcsz4u6U2oOSVn84FcrTLm26taY3Hf9c3s0oheFUrqnpNJP3gm2Jk1GURr8Rhim3qdh16C5PtStqEJy/6W9MPoh2WK0HS5yG6jhKrQJ2Wbnrb83IyNDIQ5oInwYWiAdRHuVm3ydjxpujiI4tYHtU20MAh1L5BPH4sSuiRwcbSDIIOqQSYXhSenUBYTdtNiWneFzb7QrFZuoup7RxnDvUT82m1D1Xc+vKQyJ2H/LFymonyO3TmlEZ9G4b+0Pc3m1HFpCgARQmIE1S+BKZSJFCwJTqFKg/OfoT/flggibPcm0nYzR+FggQJACm0/FYvWHaiKI5D9EkGaZx0i8EEgv7mA2vwZ3YtkJsIpraABFd5D1K5aXd2D/otc6w19pzL/2pLnUM1cUPUzjLnnXAU7Lyxs5MYBcm6f0q4s3X3fgV/Lm96bXw1qpOsKK24vb7zyH+u+f6Bq9xb1tkls8+AqYczp8LnyOf4agP7jTw2uDQ2U7KHvIuIdG/K9oQ2yunpL3p1cVNxbCnVQbljJqWchfWp5ZV0zl8LQId2rHYHrnffJN+C6x4MR+LshI4BhPRKux0mN0vltGDQPGoBCACkZ9PuWLhVz9M9YnT/WBzBDmbUb60qPFgRnSRxPsh2VVzxlMfkAXmtyCI0qZzRmQP+Un1KSEX+n6qOb26ZMqF1r4X7fBuWZyMEYDsbq2CtrlRCiQuvgJ8o1T++Dmo78RvUWnm/GKIdsFV8E+UbCzPJvdnivTPXMt7zlYduuZgwrrjORzvjybcJcFifRWSd43tMjTjW0WX7K23p/YxQPYxiqEop5S6GLuQK+SLB2t8elcsbbNlHWldwbhaQ8ZcvP+Y9EDs2DEbH4MxkkH/era3BAHEXvYUYTh7ULSvLzf24aiadcx5M12wuKChY5AvaS3KNKCfLawvzjYxg4m/iRV0rrWI6gtaWNefLdwr8iWWtzWHGimVPiaBg+n3ce5O4C812n64/DPSzKMg2pN+EoW7H4f+TiMnObL/v83dMFrRmHXeOzba/NAPdhHKia44eq/3q2nuqZfVSnol5+UMr/osoPcprmDn09pwRk7JeT1M8sXNhXvtNiTYImc0l9hbhVuTSFfLAtdRQ0fNONlkJmHyFyoA7DoHLgRGMP/Z+awL4ewQN0rdDpHvedKvlAa/zx5FffebnQ7o/X9MKR38v6TynnTDpm1ucoNLfxVBmliV8NgIeVtd4XMhSMevJTdQYCHcFhIgcd/XH3wAadVMQrWl6EgaTrvqn0wkQOrx8ISG8uWOjGpI3Y8pzKvKzNkbt//sNv/S+BMlXY2KDUuCzAZ3+jWAdKIumTgBmVdXZzSS8DQCq+BwIihORSpUcKgIDqcCnqgNyYZUzgqmdy2S7uhOXvi/OqWQ5PD/9lceGLP56h2aTl6neli9PWrGr1FRv5YvAcXP/LisrDjEgOH9ZNqwqXEyNPnvZOAPUcCzPcv0wOtIdUJ5jqXKAlFfXb5sCj8XnDasUo0XiAL3uHyWw2nB58LDrlw+c+auWHwXJgp1uvHxaN1C7jPNDnUre9QX2M+pHezfKfAdZbdodmiecYF/fH58StTE2Zpb7funlo+qhCCkbxvfmJ1P7w/A2ezH84f6XVBQJXoHz437KRebTr+hgkh+AkmUdITsGegJfxPhkt9FIAo1M8zcTQvWnxGJGvyHh4bdG0Ss7d/6LwsOtgdD3SXDvqbUiuiJ7C1b9rB4lcSrPS6A4826iti/updruz8NqMSG1kAOM6+jOKkjHHDfPNOG1vz44/kJG9rzEqZlnVzDr90ScqwyaTj8N5zfGz6r6t4rkHYkpLVY2KrqLE7tBKNovX9igKP6RM8fLcLuyw5h96MKyNV+try/v/xsezsu1N9/trzdNd6ZDNx7nC1xMSUlMXHzuHe5znijzWaMd/4x5gWh8qgmud9zJ6WbH8d9lLtzLCrwq7swf+GC/KIiBbFXYZGtDZbsYo9T8dQ4m0qyfkqwm2uEthybJmy0PdsOw3tK/dS5OSSUvoxdpyrL7KomG5bnMme68rCmGtq+LI8BJC1emex0Jq8sLobP6VwrFbtqRaPWXkNtraHXaiVfbS0pWak5SMXdDiayij6VUNRvcQSaDx70TV0Tlk2FM4wjhKwKqo3m2K7q6q5Ys1lBgVbJ7GrBRQR7AMwqZo9nKpd7jxteoqPQfcbs7ZqxTAbxwFgYNvhgzwM3WBx7HO4ZyHHJ4broeOC4f38v/C5z+lHB+PB38O4mQvDEMKOkqooT6ksfnr53JEbyg0T6vaSEGzUvfFH49qWXHEvP3DzdDwwxveFA0cqVRQcaGggKtEoNLuEMaT9bNjBQdmMhQ4FWqd09GHDfA078HtBQGbUxJ1LL3YxnJxSUB2+9q+mgNifE7HnCsvalT7wC+0n/FAx6jUFW0YMYG/5zcnB+Eq8/zDm7cmBKneJ/0nnwLH0kw9d3M1ebE7kxSj6vsqIAOaAKTnVYDd322h59lpVT22v13VarHj2sWdqGbvi7cYyQ50fzzk9ED8Wj/VjTi/z6cvPuWPQEOZ6Xd7fbCXuVku7uu1YeJwmLvthUHzD+tkHznDnmrTabeVDWDJptbmDQ1hMMsxYmLHfMWJ5YUMBQoPUXFri6HcsTCvLc8dg4QVr0d4aHMiAZLDZXe6Bqg3jsEnQM1XzdAWo6hggfHTjoapjiILi0dohclLhNUih6kcPVcfilc3RcMNPqTz9FcYIdQ4bdglxNjta+Sr5TXiYrbe/dlFmBV+L9hY6lwjKRTVadg0+QkFstqRTsy93c010aenW6OA4r2ahfXK+zTgt3WWFGybHC7Ofb0/aydhqz4s+e/V4m/R6vClrkxkl5ZLpFPYJbI0rkalXo+E+fbJuO9T0XgfHYmFYHOi3o4o06yKiypjFrVcQ1OmbOhTBh2BivBeNRT4d/rwob0FLaRSIh0yJ7oY2ywhQ/08seP6YF1Bi1CZaoX5/2GrwhrVQX0D8/7lISdGHhVN4fJeTrwGT7ssfZKhaAGpP0Y1Q/+xyV5spp1Cj1mXUB1dnQnTrXY5RSmt1VDfR58Yvq6heZ8nJ5Q329aZFwJs1j40cEs+HF+889kiEDLADDII6D4K3nD94Ugchz8eJ4ojd5bv+c6Eu3tm27eRnsmknDpFAvBAOMXjKkbQrONL2Vl9Pbm5NHC4TNifOr3tv68rUWSHTxCu09rqziFvPsuOrquNnmEXPkq67O6De3FLuy7D28wrY3U3Iqo2JbkuuTkuqTR5IBf7WTW+Iqo1Jyx64bpXelIdeS7KfZkzUPm9/qhky8rIaXNTTJrBUNw/DPyuL0OmqgQwlFaYoLR6EuvTiXqoMaqCtJgxqoehhITZVu6fCfw9hGD6X07wD9u6eVJcV1JUpFSV1xCRhdKYn19YkpKXx0Yn3K+iXDzaQ7nu/LJWWib74Qlssq7nk835XJyul7C6QtCyQLprTJ2wP77nj6gloVrX1TIrk9qM/jKXXPD5nWVktTVib8/tFg70vsVU7DR7u7Oic+btB/vL5rq2yQ6nEaPt7V1VVYveHjga5B2RDVTWxVBcsHu3bdyPgmuiTHx05DD3tIvjVF2te5u9KtR2RQPqgRpI9udfkZ6gE0hT1z/dJfNPT7yszM+RuWPkmhpGUTWfe09W0h+q8N+rMM//dpzS/rl84vy1RSc3Nr3m/T1LfBL3SsxRIbw0hwDL421tYLbvq79tuv7f648S/+uqrIyMTorNRiv1Wzvj547vP5iwUn0iwx8TNXZ6xmqsVDdYvWVO2npw3KNUmaJwv4pRWre+usgtZgdcrxo5DR9JVm4EZ9DzU37dnXOX9tpOilof7yQsd9yiF2ppXvfXnWaub1rWpNouYJGA7TtdGBV3fPEKT/yibIsmMeXpevkhzITbYTawG+Kjk62L/53TLpAUCIPPCNLcrOkQwWS9Vkm+VTi2DbXg6yHqT3t5EY0HnJaosHRrA/gAXLwD/m+RZ3wzb64ZKwFbuRAC7vytKGCbjcXYaIELYR9Zsfm4lKlYcRxpjulMWPM2Te0x3clZ8cJp6sAo3gNL/idPi1PlambBgTP3aJWMvp0BimDWEf6f2AzqJ6AYBwK08Oj3+Cd+TUp/TAbdJD+LWCmUAL97G3wQIyyLzgifUwB3xuY7GmPR8oAwIwkgIMaAAr4MCf2jGRgEQInkgCAzUTWeAPva35AAMboA0aYDbMgua49V6ogiZogXnQCTOhGwzf9K2BnAZlUM44Ny3WXylmWmzdwhhsd2K7oQfaUJnZQZkGDRJgVoWOgwkAAAA=') format('woff2'),       url('//at.alicdn.com/t/c/font_3962437_6snoplzeg9u.woff?t=1704945411802') format('woff'),       url('//at.alicdn.com/t/c/font_3962437_6snoplzeg9u.ttf?t=1704945411802') format('truetype');}.iconfont {  font-family: "iconfont" !important;  font-size: 30px;  font-style: normal;  -webkit-font-smoothing: antialiased;  -moz-osx-font-smoothing: grayscale;}.icon-caozuojiemiantubiao---_jingxiang:before {  content: "\e65e";}.icon-auth:before {  content: "\e612";}.icon-gitee:before {  content: "\e60c";}.icon-huoche:before {  content: "\e603";}.icon-yuedu:before {  content: "\e763";}.icon-Search:before {  content: "\e642";}.icon-shujutongji:before {  content: "\e60e";}.icon-lishi:before {  content: "\e625";}.icon-home:before {  content: "\e641";}.icon-biaoqian:before {  content: "\e687";}.icon-iconzhengli-:before {  content: "\e60d";}.icon-lianjie:before {  content: "\e6fd";}.icon-icon-shishi:before {  content: "\e688";}.icon-shouye:before {  content: "\e608";}.icon-guidang:before {  content: "\e6b9";}.icon-wenzhangliebiao:before {  content: "\e653";}.icon-gmail:before {  content: "\e60b";}.icon-RSS:before {  content: "\e7b5";}.icon-bilibili:before {  content: "\e609";}.icon-github:before {  content: "\e618";}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/yemian.css"/>
      <url>/css/yemian.css</url>
      
        <content type="html"><![CDATA[/* æ–‡ç« å›¾ç‰‡å¢åŠ è¾¹æ¡† */#post img[class^="entered"][class$="loaded"] {  display: block;  border: 1px solid #ddd;  padding: 1px;  background: #fff;}:root {  --trans-light: rgba(255, 255, 255, 0.88);  --trans-dark: rgba(25, 25, 25, 0.88);  --border-style: 1px solid rgb(197, 231, 246);  --backdrop-filter: blur(5px) saturate(150%);}/* é¦–é¡µæ–‡ç« å¡ç‰‡ */#recent-posts > .recent-post-item {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 10px;  border: var(--border-style);}/* é¦–é¡µä¾§æ å¡ç‰‡ */#aside-content .card-widget {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border-radius: 18px;  border: var(--border-style);}/* æ–‡ç« é¡µã€å½’æ¡£é¡µã€æ™®é€šé¡µé¢ */div#post,div#page,div#archive {  background: var(--trans-light);  backdrop-filter: var(--backdrop-filter);  border: var(--border-style);  border-radius: 15px;}/* å¯¼èˆªæ  */#page-header.nav-fixed #nav {  background: rgba(255, 255, 255, 0.75);  backdrop-filter: var(--backdrop-filter);}[data-theme="dark"] #page-header.nav-fixed #nav {  background: rgba(0, 0, 0, 0.7) !important;}/* å¤œé—´æ¨¡å¼é®ç½© */[data-theme="dark"] #recent-posts > .recent-post-item,[data-theme="dark"] #aside-content .card-widget,[data-theme="dark"] div#post,[data-theme="dark"] div#archive,[data-theme="dark"] div#page {  background: var(--trans-dark);}/* å¤œé—´æ¨¡å¼é¡µè„šé¡µå¤´é®ç½©é€æ˜ */[data-theme="dark"] #footer::before {  background: transparent !important;}[data-theme="dark"] #page-header::before {  background: transparent !important;}/* é˜…è¯»æ¨¡å¼ */.read-mode #aside-content .card-widget {  background: rgba(158, 204, 171, 0.5) !important;}.read-mode div#post {  background: rgba(158, 204, 171, 0.5) !important;}/* å¤œé—´æ¨¡å¼ä¸‹çš„é˜…è¯»æ¨¡å¼ */[data-theme="dark"] .read-mode #aside-content .card-widget {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}[data-theme="dark"] .read-mode div#post {  background: rgba(25, 25, 25, 0.9) !important;  color: #ffffff;}/* æ³¢æµªcss */.main-hero-waves-area {  width: 100%;  position: absolute;  left: 0;  bottom: -11px;  z-index: 5;}.waves-area .waves-svg {  width: 100%;  height: 5rem;}/* Animation */.parallax > use {  animation: move-forever 25s cubic-bezier(0.55, 0.5, 0.45, 0.5) infinite;}.parallax > use:nth-child(1) {  animation-delay: -2s;  animation-duration: 7s;  fill: #f7f9febd;}.parallax > use:nth-child(2) {  animation-delay: -3s;  animation-duration: 10s;  fill: #f7f9fe82;}.parallax > use:nth-child(3) {  animation-delay: -4s;  animation-duration: 13s;  fill: #f7f9fe36;}.parallax > use:nth-child(4) {  animation-delay: -5s;  animation-duration: 20s;  fill: #f7f9fe;}/* é»‘è‰²æ¨¡å¼èƒŒæ™¯ */[data-theme="dark"] .parallax > use:nth-child(1) {  animation-delay: -2s;  animation-duration: 7s;  fill: #18171dc8;}[data-theme="dark"] .parallax > use:nth-child(2) {  animation-delay: -3s;  animation-duration: 10s;  fill: #18171d80;}[data-theme="dark"] .parallax > use:nth-child(3) {  animation-delay: -4s;  animation-duration: 13s;  fill: #18171d3e;}[data-theme="dark"] .parallax > use:nth-child(4) {  animation-delay: -5s;  animation-duration: 20s;  fill: #18171d;}@keyframes move-forever {  0% {    transform: translate3d(-90px, 0, 0);  }  100% {    transform: translate3d(85px, 0, 0);  }}/*Shrinking for mobile*/@media (max-width: 768px) {  .waves-area .waves-svg {    height: 40px;    min-height: 40px;  }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/random_post.js"/>
      <url>/js/random_post.js</url>
      
        <content type="html"><![CDATA[// å‘ç°æœ‰æ—¶ä¼šå’Œå½“å‰é¡µé¢é‡å¤ï¼ŒåŠ ä¸€ä¸ªåˆ¤æ–­function randomPost() {fetch("/baidusitemap.xml").then((res) => res.text()).then((str) => new window.DOMParser().parseFromString(str, "text/xml")).then((data) => {let ls = data.querySelectorAll("url loc");// å°†lsä¸­æ‰€æœ‰çš„é“¾æ¥çš„å¼€å¤´æ¢ä¸ºhttps://hexo.gcnanmu3125.xyz/const newUrl = "https://hexo.gcnanmu3125.xyz/";for (let i = 0; i < ls.length; i++) {let str = ls[i].innerHTML;const urlSplit = str.split("/");// console.log(urlSplit); // [ 'https:', '', 'ldm0715.github.io', 'post', 'javascript-mo-kuai-hua-kuai-su;// console.log(urlSplit.slice(3, -1)); // [ 'https:', '', 'ldm0715.github.io', 'post', 'javascript-mo-kuai-hua-kuai-su-rulet url = newUrl + urlSplit.slice(3, -1).join("/");// console.log(url); // https://hexo.gcnanmu3125.xyz/ldm0715.github.io/post/javascript-mo-kuai-hua-kuai-suls[i].innerHTML = url;}while (true) {let url = ls[Math.floor(Math.random() * ls.length)].innerHTML;if (location.href == url) continue;location.href = url;return;}});}// é˜…è¯»æ–‡ç« æ—¶çœ‹äº†ä¸€éå†™çš„ä»£ç ï¼Œå‘ç°åŠ ä¸ªæ•°ç»„å’Œä¸€ä¸ªéå†å®Œå…¨æ²¡å¿…è¦ï¼Œæ”¹æˆä¸‹é¢è¿™ä¸ªå³å¯ã€‚// function randomPost() {//     fetch('/baidusitemap.xml').then(res => res.text()).then(str => (new window.DOMParser()).parseFromString(str, "text/xml")).then(data => {//         let ls = data.querySelectorAll('url loc');//         location.href = ls[Math.floor(Math.random() * ls.length)].innerHTML//     })// }// æ—§ä»£ç // function randomPost() {// fetch('/baidusitemap.xml').then(res => res.text()).then(str => (new window.DOMParser()).parseFromString(str, "text/xml")).then(data => {//     let ls = data.querySelectorAll('url loc');//     let list = [];//     ls.forEach(i => list.push(i.innerHTML))//     location.href = list[Math.floor(Math.random() * ls.length)]// })// }]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/runtime.js"/>
      <url>/js/runtime.js</url>
      
        <content type="html"><![CDATA[setInterval(() => {  let create_time = Math.round(new Date('2023-02-21 00:00:00').getTime() / 1000); //åœ¨æ­¤è¡Œä¿®æ”¹å»ºç«™æ—¶é—´  let timestamp = Math.round((new Date().getTime()) / 1000);  let second = timestamp - create_time;  let time = new Array(0, 0, 0, 0, 0);  var nol = function(h){    return h>9?h:'0'+h;  }  if (second >= 365 * 24 * 3600) {    time[0] = parseInt(second / (365 * 24 * 3600));    second %= 365 * 24 * 3600;  }  if (second >= 24 * 3600) {    time[1] = parseInt(second / (24 * 3600));    second %= 24 * 3600;  }  if (second >= 3600) {    time[2] = nol(parseInt(second / 3600));    second %= 3600;  }  if (second >= 60) {    time[3] = nol(parseInt(second / 60));    second %= 60;  }  if (second > 0) {    time[4] = nol(second);  }  if ((Number(time[2])<22) && (Number(time[2])>7)){    currentTimeHtml ="<img class='boardsign' src='https://img.shields.io/badge/å°ç«™-è¥ä¸šä¸­-6adea8?style=social&logo=cakephp' title='è·ç¦»ç™¾å¹´è€åº—ä¹Ÿå°±å·®ä¸åˆ°ä¸€ç™¾å¹´~'><div id='runtime'>" + time[0] + ' YEAR ' + time[1] + ' DAYS ' + time[2] + ' : ' + time[3] + ' : ' + time[4] + '</div>';  }  else{    currentTimeHtml ="<img class='boardsign' src='https://img.shields.io/badge/å°ç«™-ä¼‘æ¯äº†-6adea8?style=social&logo=coffeescript' title='è¿™ä¸ªç‚¹äº†åº”è¯¥å»ç¡è§‰å•¦ï¼Œç†¬å¤œå¯¹èº«ä½“ä¸å¥½å“¦'><div id='runtime'>" + time[0] + ' YEAR ' + time[1] + ' DAYS ' + time[2] + ' : ' + time[3] + ' : ' + time[4] + '</div>';  }  document.getElementById("workboard").innerHTML = currentTimeHtml;}, 1000);]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/css/weather.css"/>
      <url>/css/weather.css</url>
      
        <content type="html"><![CDATA[#tp-weather-widget {    margin-bottom: 10px;    margin-right: 20px;}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/fps.js"/>
      <url>/js/fps.js</url>
      
        <content type="html"><![CDATA[if (  window.localStorage.getItem("fpson") == undefined ||  window.localStorage.getItem("fpson") == "1") {  var rAF = (function () {    return (      window.requestAnimationFrame ||      window.webkitRequestAnimationFrame ||      function (callback) {        window.setTimeout(callback, 1000 / 60);      }    );  })();  var frame = 0;  var allFrameCount = 0;  var lastTime = Date.now();  var lastFameTime = Date.now();  var loop = function () {    var now = Date.now();    var fs = now - lastFameTime;    var fps = Math.round(1000 / fs);    lastFameTime = now;    // ä¸ç½® 0ï¼Œåœ¨åŠ¨ç”»çš„å¼€å¤´åŠç»“å°¾è®°å½•æ­¤å€¼çš„å·®å€¼ç®—å‡º FPS    allFrameCount++;    frame++;    if (now > 1000 + lastTime) {      var fps = Math.round((frame * 1000) / (now - lastTime));      if (fps <= 5) {        var kd = `<span style="color:#bd0000">å¡æˆpptğŸ¤¢</span>`;      } else if (fps <= 15) {        var kd = `<span style="color:red">ç”µç«çº§å¸§ç‡ğŸ˜–</span>`;      } else if (fps <= 25) {        var kd = `<span style="color:orange">æœ‰ç‚¹éš¾å—ğŸ˜¨</span>`;      } else if (fps < 35) {        var kd = `<span style="color:#9338e6">ä¸å¤ªæµç•…ğŸ™„</span>`;      } else if (fps <= 45) {        var kd = `<span style="color:#08b7e4">è¿˜ä¸é”™å“¦ğŸ˜</span>`;      } else {        var kd = `<span style="color:#39c5bb">ååˆ†æµç•…ğŸ¤£</span>`;      }      // document.getElementById("fps").innerHTML = `FPS:${fps} ${kd}`;      document.getElementById("fps").innerHTML = `FPS:${fps}`;      frame = 0;      lastTime = now;    }    rAF(loop);  };  loop();} else {  document.getElementById("fps").style = "display:none!important";}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/vue.js"/>
      <url>/js/vue.js</url>
      
        <content type="html"><![CDATA[// é˜²æŠ–å…¨å±€è®¡æ—¶å™¨let TT = null;    //timeç”¨æ¥æ§åˆ¶äº‹ä»¶çš„è§¦å‘// é˜²æŠ–å‡½æ•°:fn->é€»è¾‘ time->é˜²æŠ–æ—¶é—´function debounce(fn, time) {    if (TT !== null) clearTimeout(TT);    TT = setTimeout(fn, time);}// å¤åˆ¶æé†’document.addEventListener("copy", function () {    debounce(function () {        new Vue({            data: function () {                this.$notify({                    title: "å“å˜¿ï¼å¤åˆ¶æˆåŠŸğŸ¬",                    message: "è‹¥è¦è½¬è½½æœ€å¥½ä¿ç•™åŸæ–‡é“¾æ¥å“¦ï¼Œç»™ä½ ä¸€ä¸ªå¤§å¤§çš„èµï¼",                    position: 'top-left',                    offset: 50,                    showClose: true,                    type: "success",                    duration: 5000                });            }        })    }, 300);})//F12æé†’document.addEventListener("keydown", function () {    if (event.key === "F12" || event.keyCode === 123) {        debounce(function () {            new Vue({                data: function () {                    this.$notify({                        title: "ä½ å·²è¢«å‘ç°ğŸ˜œ",                        message: "å°ä¼™å­ï¼Œæ‰’æºè®°ä½è¦éµå¾ªGPLåè®®ï¼",                        position: 'top-left',                        offset: 50,                        showClose: true,                        type: "warning",                        duration: 5000                    });                }            })        }, 300);      }})]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/welcome.js"/>
      <url>/js/welcome.js</url>
      
        <content type="html"><![CDATA[document.addEventListener('pjax:complete', todis);document.addEventListener('DOMContentLoaded', todis);function todis(){$.ajax({    type: 'get',    url: 'https://apis.map.qq.com/ws/location/v1/ip',    data: {        key: 'T3EBZ-TJ7LI-YRBG2-5ZLUR-KD3OS-U6BJO',        output: 'jsonp',    },    dataType: 'jsonp',    success: function (res) {        ipLoacation = res;        function getDistance(e1, n1, e2, n2) {            const R = 6371            const { sin, cos, asin, PI, hypot } = Math                    let getPoint = (e, n) => {                e *= PI / 180                n *= PI / 180                return { x: cos(n) * cos(e), y: cos(n) * sin(e), z: sin(n) }            }                    let a = getPoint(e1, n1)            let b = getPoint(e2, n2)            let c = hypot(a.x - b.x, a.y - b.y, a.z - b.z)            let r = asin(c / 2) * 2 * R            return Math.round(r);        }                function showWelcome() {                    let dist = getDistance(120.351896, 30.314085, ipLoacation.result.location.lng, ipLoacation.result.location.lat);                    let pos = ipLoacation.result.ad_info.nation;            let posdesc;            switch (ipLoacation.result.ad_info.nation) {                case "æ—¥æœ¬":                    posdesc = "ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—";                    break;                case "ç¾å›½":                    posdesc = "Make America Great Again!";                    break;                case "è‹±å›½":                    posdesc = "æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼";                    break;                case "ä¿„ç½—æ–¯":                    posdesc = "å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼";                    break;                case "æ³•å›½":                    posdesc = "C'est La Vie";                    break;                case "å¾·å›½":                    posdesc = "Die Zeit verging im Fluge.";                    break;                case "æ¾³å¤§åˆ©äºš":                    posdesc = "ä¸€èµ·å»å¤§å ¡ç¤å§ï¼";                    break;                case "åŠ æ‹¿å¤§":                    posdesc = "æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ";                    break;                case "ä¸­å›½":                    pos = ipLoacation.result.ad_info.province + " " + ipLoacation.result.ad_info.city;                    switch (ipLoacation.result.ad_info.province) {                        case "åŒ—äº¬å¸‚":                            posdesc = "åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~";                            break;                        case "å¤©æ´¥å¸‚":                            posdesc = "è®²æ®µç›¸å£°å§ã€‚";                            break;                        case "é‡åº†å¸‚":                            posdesc = "è€ä¹¡ï¼ï¼ï¼"                            break;                        case "æ²³åŒ—çœ":                            posdesc = "å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±ã€‚";                            break;                        case "å±±è¥¿çœ":                            posdesc = "å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚";                            break;                        case "å†…è’™å¤è‡ªæ²»åŒº":                            posdesc = "å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚";                            break;                        case "è¾½å®çœ":                            posdesc = "æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼";                            break;                        case "å‰æ—çœ":                            posdesc = "çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚";                            break;                        case "é»‘é¾™æ±Ÿçœ":                            posdesc = "å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚";                            break;                        case "ä¸Šæµ·å¸‚":                            posdesc = "ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚";                            break;                        case "æ±Ÿè‹çœ":                            switch (ipLoacation.result.ad_info.city) {                                case "å—äº¬å¸‚":                                    posdesc = "æ¬¢è¿æ¥è‡ªå®‰å¾½çœå—äº¬å¸‚çš„å°ä¼™ä¼´ã€‚";                                    break;                                case "è‹å·å¸‚":                                    posdesc = "ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚";                                    break;                                default:                                    posdesc = "æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚";                                    break;                            }                            break;                        case "æµ™æ±Ÿçœ":                            posdesc = "ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚";                            break;                        case "å®‰å¾½çœ":                            posdesc = "èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚";                            break;                        case "ç¦å»ºçœ":                            posdesc = "äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚";                            break;                        case "æ±Ÿè¥¿çœ":                            posdesc = "è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚";                            break;                        case "å±±ä¸œçœ":                            posdesc = "é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚";                            break;                        case "æ¹–åŒ—çœ":                            posdesc = "æ¥ç¢—çƒ­å¹²é¢ï¼";                            break;                        case "æ¹–å—çœ":                            posdesc = "74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚";                            break;                        case "å¹¿ä¸œçœ":                            posdesc = "è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚";                            break;                        case "å¹¿è¥¿å£®æ—è‡ªæ²»åŒº":                            posdesc = "æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚";                            break;                        case "æµ·å—çœ":                            posdesc = "æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚";                            break;                        case "å››å·çœ":                            posdesc = "åº·åº·å·å¦¹å­ã€‚";                            break;                        case "è´µå·çœ":                            posdesc = "èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚";                            break;                        case "äº‘å—çœ":                            posdesc = "ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚";                            break;                        case "è¥¿è—è‡ªæ²»åŒº":                            posdesc = "èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚";                            break;                        case "é™•è¥¿çœ":                            posdesc = "æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚";                            break;                        case "ç”˜è‚ƒçœ":                            posdesc = "ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚";                            break;                        case "é’æµ·çœ":                            posdesc = "ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚";                            break;                        case "å®å¤å›æ—è‡ªæ²»åŒº":                            posdesc = "å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚";                            break;                        case "æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº":                            posdesc = "é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚";                            break;                        case "å°æ¹¾çœ":                            posdesc = "æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚";                            break;                        case "é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº":                            posdesc = "æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚";                            break;                        case "æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº":                            posdesc = "æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚";                            break;                        default:                            posdesc = "ç¤¾ä¼šä¸»ä¹‰å¤§æ³•å¥½ã€‚";                            break;                    }                    break;                default:                    posdesc = "å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚";                    break;            }                    //åˆ¤æ–­æ—¶é—´            let timeChange;            let date = new Date();            if (date.getHours()>= 5 && date.getHours() < 11) timeChange = "<span>ä¸Šåˆå¥½</span>ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨";            else if (date.getHours()>= 1 && date.getHours() < 13) timeChange = "<span>ä¸­åˆå¥½</span>ï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†";            else if (date.getHours() >= 13 && date.getHours() < 15) timeChange = "<span>ä¸‹åˆå¥½</span>ï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§ï¼";            else if (date.getHours() >= 15 && date.getHours() < 16) timeChange = "<span>ä¸‰ç‚¹å‡ å•¦</span>ï¼Œé¥®èŒ¶å…ˆå•¦ï¼";            else if (date.getHours() >= 16 && date.getHours() < 19) timeChange = "<span>å¤•é˜³æ— é™å¥½ï¼</span>";            else if (date.getHours() >= 19 && date.getHours() < 24) timeChange = "<span>æ™šä¸Šå¥½</span>ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼";            else timeChange = "å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œ";                    document.getElementsByClassName("announcement_content")[0].innerHTML =                `æ¬¢è¿æ¥è‡ª<span>${pos}</span>çš„å°ä¼™ä¼´ï¼Œ${timeChange}<br>        ä½ è·ç¦»gcnanmuçº¦æœ‰<span>${dist}</span>å…¬é‡Œï¼Œ${posdesc}        <br>        `;        }        showWelcome()    }})    function switchPostChart () {    let color = document.documentElement.getAttribute('data-theme') === 'light' ? '#4C4948' : 'rgba(255,255,255,0.7)'    if (document.getElementById('posts-chart') && postsOption) {      try {        let postsOptionNew = postsOption        postsOptionNew.title.textStyle.color = color        postsOptionNew.xAxis.nameTextStyle.color = color        postsOptionNew.yAxis.nameTextStyle.color = color        postsOptionNew.xAxis.axisLabel.color = color        postsOptionNew.yAxis.axisLabel.color = color        postsOptionNew.xAxis.axisLine.lineStyle.color = color        postsOptionNew.yAxis.axisLine.lineStyle.color = color        postsOptionNew.series[0].markLine.data[0].label.color = color        postsChart.setOption(postsOptionNew)      } catch (error) {        console.log(error)      }    }    if (document.getElementById('tags-chart') && tagsOption) {      try {        let tagsOptionNew = tagsOption        tagsOptionNew.title.textStyle.color = color        tagsOptionNew.xAxis.nameTextStyle.color = color        tagsOptionNew.yAxis.nameTextStyle.color = color        tagsOptionNew.xAxis.axisLabel.color = color        tagsOptionNew.yAxis.axisLabel.color = color        tagsOptionNew.xAxis.axisLine.lineStyle.color = color        tagsOptionNew.yAxis.axisLine.lineStyle.color = color        tagsOptionNew.series[0].markLine.data[0].label.color = color        tagsChart.setOption(tagsOptionNew)      } catch (error) {        console.log(error)      }    }    if (document.getElementById('categories-chart') && categoriesOption) {      try {        let categoriesOptionNew = categoriesOption        categoriesOptionNew.title.textStyle.color = color        categoriesOptionNew.legend.textStyle.color = color        if (!categoryParentFlag) { categoriesOptionNew.series[0].label.color = color }        categoriesChart.setOption(categoriesOptionNew)      } catch (error) {        console.log(error)      }    }    }    document.querySelector(".rightMenu-item:has(.fa-moon)").addEventListener("click", function () { setTimeout(switchPostChart, 100) })    document.getElementById("con-mode").addEventListener("click", function () { setTimeout(switchPostChart, 100) })}    //]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/nav.js"/>
      <url>/js/nav.js</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/share.js"/>
      <url>/js/share.js</url>
      
        <content type="html"><![CDATA[// åˆ†äº«æœ¬é¡µfunction share_() {    let url = window.location.origin + window.location.pathname    try {        // æˆªå–æ ‡é¢˜        var title = document.title;        var subTitle = title.endsWith("| FomalhautğŸ¥") ? title.substring(0, title.length - 14) : title;        navigator.clipboard.writeText('gcnanmuã®åšå®¢ç«™å†…åˆ†äº«\næ ‡é¢˜ï¼š' + subTitle + '\né“¾æ¥ï¼š' + url + '\næ¬¢è¿æ¥è®¿ï¼');        new Vue({            data: function () {                this.$notify({                    title: "æˆåŠŸå¤åˆ¶åˆ†äº«ä¿¡æ¯ğŸ‰",                    message: "æ‚¨ç°åœ¨å¯ä»¥é€šè¿‡ç²˜è´´ç›´æ¥è·Ÿå°ä¼™ä¼´åˆ†äº«äº†ï¼",                    position: 'top-left',                    offset: 50,                    showClose: true,                    type: "success",                     duration: 5000                });                // return { visible: false }            }        })    } catch (err) {        console.error('å¤åˆ¶å¤±è´¥ï¼', err);    }    // new ClipboardJS(".share", { text: function () { return 'æ ‡é¢˜ï¼š' + document.title + '\né“¾æ¥ï¼š' + url } });    // btf.snackbarShow("æœ¬é¡µé“¾æ¥å·²å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œå¿«å»åˆ†äº«å§~")}// é˜²æŠ–function share() {    debounce(share_, 300);}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/weather.js"/>
      <url>/js/weather.js</url>
      
        <content type="html"><![CDATA[(function (a, h, g, f, e, d, c, b) {    b = function () {        d = h.createElement(g);        c = h.getElementsByTagName(g)[0];        d.src = e;        d.charset = "utf-8";        d.async = 1;        c.parentNode.insertBefore(d, c);    };    a["SeniverseWeatherWidgetObject"] = f;    a[f] ||        (a[f] = function () {            (a[f].q = a[f].q || []).push(arguments);        });    a[f].l = +new Date();    if (a.attachEvent) {        a.attachEvent("onload", b);    } else {        a.addEventListener("load", b, false);    }})(    window,    document,    "script",    "SeniverseWeatherWidget",    "//cdn.sencdn.com/widget2/static/js/bundle.js?t=" +        parseInt((new Date().getTime() / 100000000).toString(), 10));window.SeniverseWeatherWidget("show", {    flavor: "slim",    location: "WTMKQ069CCJ7",    geolocation: true,    language: "zh-Hans",    unit: "c",    theme: "light",    token: "10608fcb-08ba-4cef-8ba7-2ba2713c2f2f",    hover: "disabled",    container: "tp-weather-widget",});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>é“¾æ¥</title>
      <link href="/link/index.html"/>
      <url>/link/index.html</url>
      
        <content type="html"><![CDATA[<div class="flink"><div class="flink-name">å‹é“¾</div><div class="flink-desc">ä¸€äº›ä¼˜ç§€çš„äºº</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://hexo.gcnanmu3125.xyz" title="gcnanmuã®åšå®¢" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://docimg10.docs.qq.com/image/AgAAC6u-TVPtJ_LI7f5GYqFzs7WIvgcg.webp" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="gcnanmuã®åšå®¢" />              </div>              <div class="flink-item-name">gcnanmuã®åšå®¢</div>               <div class="flink-item-desc" title="Hexoåšå®¢">Hexoåšå®¢</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://zfe.space/" title="å°å†°åšå®¢" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://zfe.space/images/headimage.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å°å†°åšå®¢" />              </div>              <div class="flink-item-name">å°å†°åšå®¢</div>               <div class="flink-item-desc" title="åšä¸ªæœ‰æ¢¦æƒ³çš„äººï¼">åšä¸ªæœ‰æ¢¦æƒ³çš„äººï¼</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://noionion.top/" title="è´°çŒ¹ã®å°çª" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="è´°çŒ¹ã®å°çª" />              </div>              <div class="flink-item-name">è´°çŒ¹ã®å°çª</div>               <div class="flink-item-desc" title="ç”¨è¿™ç”Ÿå‘½çš„æ¯ä¸€ç§’ï¼Œç»™è‡ªå·±ä¸€ä¸ªä¸åæ‚”çš„æœªæ¥">ç”¨è¿™ç”Ÿå‘½çš„æ¯ä¸€ç§’ï¼Œç»™è‡ªå·±ä¸€ä¸ªä¸åæ‚”çš„æœªæ¥</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://forever97.top/" title="æœªå¤®çš„ç«¥è¯é•‡" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="æœªå¤®çš„ç«¥è¯é•‡" />              </div>              <div class="flink-item-name">æœªå¤®çš„ç«¥è¯é•‡</div>               <div class="flink-item-desc" title="åœ¨äººæµ·é‡Œæ¢¦æ¸¸">åœ¨äººæµ·é‡Œæ¢¦æ¸¸</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://www.fomal.cn/" title="FomalhautğŸ¥" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="FomalhautğŸ¥" />              </div>              <div class="flink-item-name">FomalhautğŸ¥</div>               <div class="flink-item-desc" title="ä¼˜ç§€é­”æ”¹åšä¸»">ä¼˜ç§€é­”æ”¹åšä¸»</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://anzhiyu-c-github-io.vercel.app/page/2/" title="å®‰çŸ¥é±¼" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å®‰çŸ¥é±¼" />              </div>              <div class="flink-item-name">å®‰çŸ¥é±¼</div>               <div class="flink-item-desc" title="ç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±ã€‚">ç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±ã€‚</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://tzy1997.com/" title="å”å¿—è¿œã®åšå®¢" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="å”å¿—è¿œã®åšå®¢" />              </div>              <div class="flink-item-name">å”å¿—è¿œã®åšå®¢</div>               <div class="flink-item-desc" title="2023å¹´çš„ç†æƒ³å¼€å§‹å®ç°äº†å—ï¼Ÿ">2023å¹´çš„ç†æƒ³å¼€å§‹å®ç°äº†å—ï¼Ÿ</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://guole.fun/" title="Guo Le" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="undefined" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Guo Le" />              </div>              <div class="flink-item-name">Guo Le</div>               <div class="flink-item-desc" title="null">null</div>            </a>          </div></div><div class="flink-name">ç½‘ç«™</div><div class="flink-desc">å€¼å¾—æ¨èçš„ç½‘ç«™</div> <div class="flink-list">          <div class="flink-list-item">            <a href="https://www.youtube.com/" title="Youtube" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Youtube" />              </div>              <div class="flink-item-name">Youtube</div>               <div class="flink-item-desc" title="è§†é¢‘ç½‘ç«™">è§†é¢‘ç½‘ç«™</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://butterfly.js.org/" title="Butterflyå®˜æ–¹" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="https://butterfly.js.org/img/avatar.png" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Butterflyå®˜æ–¹" />              </div>              <div class="flink-item-name">Butterflyå®˜æ–¹</div>               <div class="flink-item-desc" title="Butterflyä¸»é¢˜å®˜æ–¹åšå®¢">Butterflyä¸»é¢˜å®˜æ–¹åšå®¢</div>            </a>          </div>          <div class="flink-list-item">            <a href="https://shields.io/" title="Githubå°å¡ç‰‡" target="_blank">              <div class="flink-item-icon">                <img class="no-lightbox" src="http://www.w3.org/2000/svg" onerror='this.onerror=null;this.src="/img/friend_404.gif"' alt="Githubå°å¡ç‰‡" />              </div>              <div class="flink-item-name">Githubå°å¡ç‰‡</div>               <div class="flink-item-desc" title="ç”Ÿæˆæœ‰è¶£çš„å¡ç‰‡">ç”Ÿæˆæœ‰è¶£çš„å¡ç‰‡</div>            </a>          </div></div></div>]]></content>
      
    </entry>
    
    
  
</search>
